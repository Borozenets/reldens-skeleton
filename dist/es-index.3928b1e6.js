!function(e,t,i,n,r){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof s[n]&&s[n],o=a.cache||{},h="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,i){if(!o[t]){if(!e[t]){var r="function"==typeof s[n]&&s[n];if(!i&&r)return r(t,!0);if(a)return a(t,!0);if(h&&"string"==typeof t)return h(t);var l=Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}d.resolve=function(i){var n=e[t][1][i];return null!=n?n:i},d.cache={};var u=o[t]=new c.Module(t);e[t][0].call(u.exports,d,u,u.exports,this)}return o[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=o,c.parent=a,c.register=function(t,i){e[t]=[function(e,t){t.exports=i},{}]},Object.defineProperty(c,"root",{get:function(){return s[n]}}),s[n]=c;for(var l=0;l<t.length;l++)c(t[l]);if(i){var u=c(i);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define(function(){return u})}}({bHWOE:[function(e,t,i){window.RELDENS_LOG_LEVEL=7,window.RELDENS_ENABLE_TRACE_FOR="emergency,alert,critical";let{GameManager:n}=e("f6a573e6a894b077"),{ClientPlugin:r}=e("22d25a4cea3c3bc"),s=new n;s.setupCustomClientPlugin("customPluginKey",r),window.addEventListener("DOMContentLoaded",()=>{s.clientStart()}),s.events.on("reldens.afterInitEngineAndStartGame",()=>{s.gameDom.getElement("#current-version").innerHTML=s.config.client.gameEngine.version+" -"}),s.events.on("reldens.startGameAfter",()=>{s.gameDom.getElement(".row-disclaimer")?.remove()}),s.events.on("reldens.activateRoom",e=>{e.onMessage("*",e=>{if("rski.Bc"!==e.act)return;let t=(e.data?.skillKey||"").toString(),i=Number(e.data?.extraData?.sd||0);if(""!==t&&0<i){let e=s.gameDom.getElement(".skill-icon-"+t);if(!e)return;let n=Date.now()+i;e.classList.add("cooldown"),e.style.setProperty("--angle","0deg"),function t(){let r=n-Date.now();if(0>=r){e.style.setProperty("--angle","360deg"),e.classList.remove("cooldown");return}e.style.setProperty("--angle",`${(i-r)/i*360}deg`),requestAnimationFrame(t)}()}})}),window.reldens=s},{f6a573e6a894b077:"blTPb","22d25a4cea3c3bc":"7ASKi"}],blTPb:[function(e,t,i){e("684699bf663c3eb9"),e("8524ab6b767fe50d");let{GameManager:n}=e("163628b93f1bf46b");t.exports.GameManager=n},{"684699bf663c3eb9":"6H8Vf","8524ab6b767fe50d":"ikKUq","163628b93f1bf46b":"eDoZE"}],"6H8Vf":[function(e,t,i){e("1784995cff40f4ee"),e("3db84f65815009e9"),e("eaee9f5716583d73"),e("375d8cdc37856052"),e("b97ac47c987ae87a"),e("a021542673f3dca5"),e("4917cb57871d338e"),e("32b253e39e74d8bb"),e("389e51d5714f687f"),e("f5e993e561fd02cd"),e("bb2bc4d4414bdde6"),e("efe695102c445413"),e("ccd56f09b115e545"),e("fcaf4e6617f043bc"),e("653d106c82dca6c3"),e("e3cead5be66b9f0d"),e("f0a4c78fa0016f60"),e("1d68ebee0b3f96f0"),e("af40359e9eb052ec"),e("b57c55c586369faa"),e("6e929cb8fa33300f"),e("a021c9c924d06b99"),e("c3a2ae3c387d24da"),e("4b806e1bc40e42a5"),e("4e1bbb4edd22e0ae"),e("716f90fa84e1f77c"),e("a4c895062bc52ef"),e("ab8b1e642f069677"),e("1c9c9c4583180611"),e("f74bd522ba638140"),e("161807fa85856503"),e("f48a3c099ac8e2b5"),e("8cf2e5f73ade81b4"),e("a9422cf3f5275913"),e("cc95b5c4842b3cba"),e("d5f0f9adde262121"),e("c2de5cf351f42e3e"),e("9b044f9dbdd9a543"),e("2c6c7828d3cbd4f7"),e("e4df5de4d418cbbb"),e("914cd91ef0bfb6f9"),e("6f128d6969e825b2"),e("f4ead5d4eb2af5d5"),e("b35e2d13cb589276"),e("c410e1b69fdd7adf"),e("312dd5f9138d6e43"),e("38530968f16263a0"),e("14af908df009beac"),e("dcd91f07678eb4c9"),e("c69d702ec59c2500"),e("4725bcb6f24869b3"),e("3cf52eabf83551bf"),e("c9cbfc3b3c78d70d"),e("6b0227180c3df38c"),e("e0fd70d02f07a4a0"),e("31a608e674c817eb"),e("b880a9dbebb02a2e"),e("46b1ee4ddc311f0"),e("8cf2fe9261c818db"),e("52fba706500b4b2d"),e("ffbe65a8f5be01e6"),e("e1e627d3acaf8d18"),e("f4d9392585892a5b"),e("b04a1a032c30e8d5"),e("c1de8697c29b0da"),e("16d0f8a09ff973a0"),e("a48b7fc982febaf8"),e("b40fbc8703ed802d"),e("71533dcee95bced0"),e("38d8d405ad51cb0c"),e("c8503c219bf01ed1"),e("bc082cafa79546ad"),e("204a0882af55ce2b"),e("a3152d34d8dd7b45"),e("873b1b5c61bcd33"),e("16d6ef4f50e3e6e9"),e("e872f08087c6cb33"),e("657cbbcd48650779"),e("4252d65d3677af5a"),e("281c6fd1d9df7324"),e("c31154b4d54b87f"),e("610034140e218c33"),e("1bc59f7bc4d02b94"),e("1ac49ff73550904e"),e("8fd22c15c1dc3fdb"),e("722244e22d484cd4"),e("d7ec35bad14a1f3f"),e("9bb45158b3bb60e5"),e("dbfda47097dcdc05"),e("62df99a6374ea8e7"),e("30f5c44d5b0c5882"),e("fa34aad1a54cb74f"),e("6e7dfd5f426811ae"),e("f6587d23159bb2e"),e("bb688511262fa331"),e("4ba8f97c77fe72fb"),e("d400d9af20e5e158"),e("89eb5ddf4e423e14"),e("cfeb658fb1129c7d"),e("cf52518d7e23221c"),e("593d4e7884fc0918"),e("30b35f30b6dba51d"),e("24519596b23105e8"),e("69b53c2db51c07c6"),e("cd51cbb6a384e947"),e("b2bec95e117c35ff"),e("e02033538de8d8c6"),e("bb0f24f71db75179"),e("7334e4338273fd72"),e("a00519108abb0534"),e("2835a3239b6a1bc4"),e("f5faf41ae9cf1c5"),e("5e6fa649046f5df2"),e("84775698f8fef6c0"),e("8c2455e35e11d959"),e("1cee7874e0ff2b2b"),e("6d098447a1b2abdc"),e("7d7d81ff5b818a49"),e("c33461c993e8e491"),e("64a89b8cfcf7ab12"),e("300ca7e5c4ba71de"),e("5ea06ea856112f5d"),e("2f95ea182a42efc3"),e("7e00e0c0121e6a90"),e("43c70c31a61cc402"),e("7f64762e2c0d0f2e"),e("7a6c9bba2845dabe"),e("73d9d26ef5a08f08"),e("f671014547fe0e5e"),e("b36c3c3b6e78e925"),e("a7f5dbf9fb623d0a"),e("465fceaf1bde589b"),e("7766539bc795a94"),e("4faee6716fa8629d"),e("7737fbcafb7ce523"),e("e90b0a3a493c0ede"),e("26317a793dea7e9a"),e("9f5e020a3549a118"),e("9d0bfe01231db1a7"),e("b1221eae0bc5f9b"),e("c5352c47687ac7c"),e("34fe45ae8ed17da0"),e("781c619e0cad12e2"),e("7c6b58bad8dc3b81"),e("736ca46bafb50f8f"),e("4a8b2b3ca7e4d0f0"),e("3fd33a4a9e23fb29"),e("88ad2704384a1a6e"),e("1c6c6da898bf18bb"),e("d239d0cd4a8ca65b"),e("11eae3d8cd132ecd"),e("31d0c33ce951164f"),e("55fc79bd0e9015ff"),e("4c7f59100f9f15df"),e("45eab59e8e26538d"),e("46220f971d58285"),e("37e3f8df977640b7"),e("4449d13eae7996a8"),e("197d7cc5dd2340b0"),e("1ec03223143b45c0"),e("b3160300f21af751"),e("efbae5e5ed53d7a4"),e("78d707d60e5ff2ef"),e("6aa1c963ba0fa26a"),e("29093847653ffb17"),e("b0554b151edd2f4"),e("c5299b37711c29ed"),e("334e6eea450261d0"),e("12c4df9fff4b4031"),e("9121fee042bcac7e"),e("5d62685ef5ad6e57"),e("3e4b4c735ca60ab9"),e("bb7017f5a1be1e59"),e("e8e708482f11c7ff"),e("74095422c65e093c"),e("6d6ea5c3920f0ba9"),e("3447041b04906440"),e("90c4a005313bad84"),e("4769b7aec07e6de3"),e("925b64021990cd94"),e("6b93322692746037"),e("faa76facff418618"),e("c9933e8bbe42bd93"),e("8689abb82cc2e305"),e("2b087e045ed8c999"),e("5345958572918685"),e("3be5275c466b41f8"),e("8aac76b9f2cbbdb5"),e("be9c14095a58943"),e("43202def26bf6f4d"),e("2d80f533903ef8af"),e("218de58a047e4122"),e("e9c3dc5d87196314"),e("e941f90445a42817"),e("5ec6c25f739e2e3"),e("dcf33a0bfc9dbd80"),e("11e994014f9ea4ef"),e("d3d2c1ecea6b651e"),e("2942bfa075e0734"),e("d33b293dd98ee251"),e("4d67970b1d16e278"),e("ea23a5ff87e419a"),e("a4ec7d06d49f6770"),e("68de4d9a4e90a51d"),e("91a33ef14a8f152c"),e("55178304aaa34b5d"),e("100585ac292d4d0a"),e("11bb9bd5ef85c385"),e("6985fc4c13b8c019"),e("9632a736fdb17734"),e("645f58b86974fd27"),e("679ce5136028bc60"),e("16129f94bb5d1db1"),e("4a20575877b9aa9"),e("f493cf27dec8fda2"),e("9455107212c82097"),e("7abb352823d027e3"),e("23cd38aa92bb5713"),e("7fa171f672c06c5"),e("d6c3f6742b067ddd"),e("687e66ea18227d4f"),e("4be9f7f33ab31972"),e("4b97ceec572fb5ac"),e("6962fb765acff151"),e("1a45d71179cc6824"),e("546ab40a97e46161"),e("b9d67d5f8399a961"),e("4d6a7c1e95ef8439"),e("61fca23ef75aa33f"),e("1c1cdf9b06016701"),e("397bfa6741ea05a1"),e("ec6da7c8737ed287"),e("9a3b23b9904e7580"),e("42c1ca9f44d09740"),e("6c230af164d5e531"),e("a1fd07c504fbd6e2"),e("c5418e31406f900c"),e("6bd1db6cc401cbae"),e("5cc85e0e2e9dc320"),e("e50d5b519a148fce"),e("57eafc4eec0ed5ad"),e("9f4e766b833041e1"),e("51d5ec10d288761f"),e("3df881631b0076c1"),e("6446691a409777d1"),e("65a0e8ac0e64097a"),e("ad09ac1fd0978c3"),e("c80f8d7a3d38c630"),e("c0e2fa2805edb141"),e("52fea7a5cc5e8460"),e("676052465cde8b83"),e("46e3f0ef3febe378"),e("901f94f4ed6ef4d5"),e("2f2afc7fe70ef5f"),e("fa4d7e950018d69e"),e("d0d844c58571e80e"),e("570e34e061eaecd7"),e("557af6dc34fe070e"),e("5dd137372fb5b1ae"),e("812633ee0adaf5e"),e("5be5bf591a25d61c"),e("c98746bc7e199094"),e("52278c0a5be7b19f"),e("fde31c759e8e1c42"),e("5254289c25b91dcf"),e("48ca9e9993ba0327"),e("72aac35e49a6d4bd"),e("37312397abe6d28c"),e("12be35b2aeed3ca4"),e("647a7c082cca257b"),e("a0e00f30db9559ea"),e("6c3ebd0eef294356"),e("a66668b79822160a"),e("72aa7e00c8a7b68f"),e("b1d489d5f98dd626"),e("687c365e52ca4b5b"),e("eedef7a537267c12"),e("f888c4da93185eae"),e("69fc7ceed4f23a4b"),e("a70b9f7f981f56ed"),e("698834137971c6a0"),e("6cbcff253173613e"),e("2d4e83632877e8a1"),e("1f6030e01de03bb8"),e("9e73dc5e3d85a023"),e("d24e5da7655d31c6"),e("e2c547d0925efa21"),e("9cb64708d269ee4d"),e("bad110743800027a"),t.exports=e("b02006442da3179e")},{"1784995cff40f4ee":"emAqF","3db84f65815009e9":"h8vRJ",eaee9f5716583d73:"1JQKT","375d8cdc37856052":"58q3y",b97ac47c987ae87a:"5NvUG",a021542673f3dca5:"lG7CT","4917cb57871d338e":"507Fo","32b253e39e74d8bb":"8PIx1","389e51d5714f687f":"a2cUC",f5e993e561fd02cd:"1yLDd",bb2bc4d4414bdde6:"9Ujdq",efe695102c445413:"45PgI",ccd56f09b115e545:"bJ9qS",fcaf4e6617f043bc:"3tmT4","653d106c82dca6c3":"lbpGg",e3cead5be66b9f0d:"hHHDm",f0a4c78fa0016f60:"aSTrG","1d68ebee0b3f96f0":"8nyV3",af40359e9eb052ec:"j1ABh",b57c55c586369faa:"3LJSA","6e929cb8fa33300f":"jYNHr",a021c9c924d06b99:"9D9sM",c3a2ae3c387d24da:"c1k6c","4b806e1bc40e42a5":"lbPxO","4e1bbb4edd22e0ae":"jKklH","716f90fa84e1f77c":"lMNyP",a4c895062bc52ef:"hPNfA",ab8b1e642f069677:"fURyF","1c9c9c4583180611":"6XyUS",f74bd522ba638140:"d83iu","161807fa85856503":"lc4NN",f48a3c099ac8e2b5:"gjqcj","8cf2e5f73ade81b4":"j3v3L",a9422cf3f5275913:"3rrfH",cc95b5c4842b3cba:"b10MD",d5f0f9adde262121:"2JgXG",c2de5cf351f42e3e:"3prNk","9b044f9dbdd9a543":"le1uL","2c6c7828d3cbd4f7":"eli4M",e4df5de4d418cbbb:"zkrYn","914cd91ef0bfb6f9":"6cM5k","6f128d6969e825b2":"j9q44",f4ead5d4eb2af5d5:"k2yB7",b35e2d13cb589276:"YvN4R",c410e1b69fdd7adf:"eqr1I","312dd5f9138d6e43":"gW4UQ","38530968f16263a0":"joaAA","14af908df009beac":"g2wAi",dcd91f07678eb4c9:"iJYnd",c69d702ec59c2500:"dnmIv","4725bcb6f24869b3":"i9xty","3cf52eabf83551bf":"iGG3n",c9cbfc3b3c78d70d:"iJJcs","6b0227180c3df38c":"afcZD",e0fd70d02f07a4a0:"dpjAZ","31a608e674c817eb":"dI1Cn",b880a9dbebb02a2e:"4XBJJ","46b1ee4ddc311f0":"4u8Zq","8cf2fe9261c818db":"9DwR1","52fba706500b4b2d":"hihCW",ffbe65a8f5be01e6:"cl0wd",e1e627d3acaf8d18:"kDbyn",f4d9392585892a5b:"v0oet",b04a1a032c30e8d5:"ilodQ",c1de8697c29b0da:"3sjfy","16d0f8a09ff973a0":"aJQbh",a48b7fc982febaf8:"cl2UC",b40fbc8703ed802d:"l89H5","71533dcee95bced0":"cHGz3","38d8d405ad51cb0c":"6OeqH",c8503c219bf01ed1:"j16TA",bc082cafa79546ad:"ltluo","204a0882af55ce2b":"l0eoZ",a3152d34d8dd7b45:"40OpE","873b1b5c61bcd33":"bC9Ow","16d6ef4f50e3e6e9":"dHKDg",e872f08087c6cb33:"giNSP","657cbbcd48650779":"1HJ0t","4252d65d3677af5a":"gfJCq","281c6fd1d9df7324":"2vgpU",c31154b4d54b87f:"aan7W","610034140e218c33":"h9LbS","1bc59f7bc4d02b94":"ldCGF","1ac49ff73550904e":"6gXbc","8fd22c15c1dc3fdb":"7deV1","722244e22d484cd4":"inQWU",d7ec35bad14a1f3f:"2qLeT","9bb45158b3bb60e5":"c3ILr",dbfda47097dcdc05:"223lQ","62df99a6374ea8e7":"f8Q6z","30f5c44d5b0c5882":"fKGrW",fa34aad1a54cb74f:"7o3jD","6e7dfd5f426811ae":"hXIP7",f6587d23159bb2e:"1aJqY",bb688511262fa331:"DQpS3","4ba8f97c77fe72fb":"9m0ga",d400d9af20e5e158:"6OW8r","89eb5ddf4e423e14":"8Ipne",cfeb658fb1129c7d:"bbe5P",cf52518d7e23221c:"giuXg","593d4e7884fc0918":"4Dfiq","30b35f30b6dba51d":"cIxH8","24519596b23105e8":"khz6l","69b53c2db51c07c6":"flBRC",cd51cbb6a384e947:"OdIjN",b2bec95e117c35ff:"5N41O",e02033538de8d8c6:"gqwBy",bb0f24f71db75179:"cjDQT","7334e4338273fd72":"hjxfV",a00519108abb0534:"lGEJr","2835a3239b6a1bc4":"8Egu9",f5faf41ae9cf1c5:"jWST5","5e6fa649046f5df2":"hrnKP","84775698f8fef6c0":"aXsIP","8c2455e35e11d959":"lsaNY","1cee7874e0ff2b2b":"8eW4I","6d098447a1b2abdc":"h5WTU","7d7d81ff5b818a49":"glrUF",c33461c993e8e491:"91CVe","64a89b8cfcf7ab12":"5JCvB","300ca7e5c4ba71de":"1UYJO","5ea06ea856112f5d":"966g1","2f95ea182a42efc3":"2u6nF","7e00e0c0121e6a90":"3Zya8","43c70c31a61cc402":"kEs9R","7f64762e2c0d0f2e":"czjHQ","7a6c9bba2845dabe":"9DWg9","73d9d26ef5a08f08":"8uazT",f671014547fe0e5e:"dLOib",b36c3c3b6e78e925:"bVBB2",a7f5dbf9fb623d0a:"9laFo","465fceaf1bde589b":"1E3wB","7766539bc795a94":"cCotT","4faee6716fa8629d":"htZZS","7737fbcafb7ce523":"b3JIq",e90b0a3a493c0ede:"kPfIJ","26317a793dea7e9a":"9ERxS","9f5e020a3549a118":"6T09z","9d0bfe01231db1a7":"nZQfS",b1221eae0bc5f9b:"6GBQI",c5352c47687ac7c:"g4f9X","34fe45ae8ed17da0":"eNC2R","781c619e0cad12e2":"czmee","7c6b58bad8dc3b81":"96RAZ","736ca46bafb50f8f":"3SReg","4a8b2b3ca7e4d0f0":"dOXap","3fd33a4a9e23fb29":"evHBo","88ad2704384a1a6e":"liWu9","1c6c6da898bf18bb":"a2AOJ",d239d0cd4a8ca65b:"yqtQx","11eae3d8cd132ecd":"4M7RG","31d0c33ce951164f":"7ybM1","55fc79bd0e9015ff":"csFkS","4c7f59100f9f15df":"6V0HA","45eab59e8e26538d":"26fdt","46220f971d58285":"8nI8r","37e3f8df977640b7":"dPzjA","4449d13eae7996a8":"50y6Q","197d7cc5dd2340b0":"cv1IN","1ec03223143b45c0":"g4HyM",b3160300f21af751:"fDjj9",efbae5e5ed53d7a4:"dejPc","78d707d60e5ff2ef":"kL7gw","6aa1c963ba0fa26a":"lQsQz","29093847653ffb17":"jy0xe",b0554b151edd2f4:"N0A9g",c5299b37711c29ed:"bnSd3","334e6eea450261d0":"hCLFJ","12c4df9fff4b4031":"jFiZs","9121fee042bcac7e":"1BYUa","5d62685ef5ad6e57":"3gYE0","3e4b4c735ca60ab9":"8Ariw",bb7017f5a1be1e59:"fpMBl",e8e708482f11c7ff:"5tIGd","74095422c65e093c":"14MkC","6d6ea5c3920f0ba9":"2JQK3","3447041b04906440":"9radj","90c4a005313bad84":"4cips","4769b7aec07e6de3":"eNQOe","925b64021990cd94":"5K8rr","6b93322692746037":"kdtyD",faa76facff418618:"aGaAQ",c9933e8bbe42bd93:"4l0Mz","8689abb82cc2e305":"1W6O8","2b087e045ed8c999":"iIMfF","5345958572918685":"ebh58","3be5275c466b41f8":"5aq0U","8aac76b9f2cbbdb5":"8hV4V",be9c14095a58943:"aU3RB","43202def26bf6f4d":"9kNJt","2d80f533903ef8af":"if1fM","218de58a047e4122":"g0fSy",e9c3dc5d87196314:"eKkbH",e941f90445a42817:"dLJLG","5ec6c25f739e2e3":"cDQpr",dcf33a0bfc9dbd80:"kFTda","11e994014f9ea4ef":"i2qFG",d3d2c1ecea6b651e:"6dNpA","2942bfa075e0734":"5JfZw",d33b293dd98ee251:"fU7MD","4d67970b1d16e278":"iz82g",ea23a5ff87e419a:"5PH9s",a4ec7d06d49f6770:"f2AVd","68de4d9a4e90a51d":"j2dUp","91a33ef14a8f152c":"2HEOd","55178304aaa34b5d":"4kyL0","100585ac292d4d0a":"fx5cJ","11bb9bd5ef85c385":"9GM5b","6985fc4c13b8c019":"ilZVq","9632a736fdb17734":"hUcmJ","645f58b86974fd27":"l2p2s","679ce5136028bc60":"3o3Gk","16129f94bb5d1db1":"4Lt39","4a20575877b9aa9":"3qZNd",f493cf27dec8fda2:"20tl2","9455107212c82097":"ahutJ","7abb352823d027e3":"f2UI4","23cd38aa92bb5713":"4XIfF","7fa171f672c06c5":"l1rs2",d6c3f6742b067ddd:"adYvn","687e66ea18227d4f":"gidCX","4be9f7f33ab31972":"bv1yh","4b97ceec572fb5ac":"kO1Zg","6962fb765acff151":"bgZU7","1a45d71179cc6824":"jgQND","546ab40a97e46161":"hB11V",b9d67d5f8399a961:"31EdS","4d6a7c1e95ef8439":"5PjpG","61fca23ef75aa33f":"fxnuD","1c1cdf9b06016701":"6jDOT","397bfa6741ea05a1":"gG1e8",ec6da7c8737ed287:"17kvf","9a3b23b9904e7580":"9B0y9","42c1ca9f44d09740":"3kbwg","6c230af164d5e531":"5wzd5",a1fd07c504fbd6e2:"1dCBn",c5418e31406f900c:"2Mqsz","6bd1db6cc401cbae":"eZZyP","5cc85e0e2e9dc320":"go8ZW",e50d5b519a148fce:"iCErC","57eafc4eec0ed5ad":"e8hfX","9f4e766b833041e1":"2kMmr","51d5ec10d288761f":"212MV","3df881631b0076c1":"9AC43","6446691a409777d1":"aqoug","65a0e8ac0e64097a":"iuJoY",ad09ac1fd0978c3:"czX8g",c80f8d7a3d38c630:"9XxKn",c0e2fa2805edb141:"7aRDd","52fea7a5cc5e8460":"k5Rlo","676052465cde8b83":"f3FBF","46e3f0ef3febe378":"4ZhIs","901f94f4ed6ef4d5":"9uG4h","2f2afc7fe70ef5f":"ccgrY",fa4d7e950018d69e:"dESGS",d0d844c58571e80e:"7G7OX","570e34e061eaecd7":"lGF1i","557af6dc34fe070e":"6biAe","5dd137372fb5b1ae":"8qlqb","812633ee0adaf5e":"lGQwY","5be5bf591a25d61c":"5EgJz",c98746bc7e199094:"hUSBX","52278c0a5be7b19f":"bN7du",fde31c759e8e1c42:"accWj","5254289c25b91dcf":"8zMXu","48ca9e9993ba0327":"bwjPE","72aac35e49a6d4bd":"4AZtq","37312397abe6d28c":"8EnX5","12be35b2aeed3ca4":"4Puey","647a7c082cca257b":"jxrdF",a0e00f30db9559ea:"jwPXF","6c3ebd0eef294356":"khTY5",a66668b79822160a:"a2DYE","72aa7e00c8a7b68f":"6bhjG",b1d489d5f98dd626:"fJnNi","687c365e52ca4b5b":"4teOf",eedef7a537267c12:"lCP8o",f888c4da93185eae:"1mZsz","69fc7ceed4f23a4b":"f5KUv",a70b9f7f981f56ed:"kONpx","698834137971c6a0":"h5L1l","6cbcff253173613e":"4J9Kt","2d4e83632877e8a1":"6WXZj","1f6030e01de03bb8":"jUFLb","9e73dc5e3d85a023":"fisJQ",d24e5da7655d31c6:"drhch",e2c547d0925efa21:"k5k9P","9cb64708d269ee4d":"eZzIO",bad110743800027a:"RkUgQ",b02006442da3179e:"iwjHr"}],emAqF:[function(e,t,i){e("9907e25c4a0aca96"),e("6ca7b218a3c5142b"),e("733763f50161f4ff"),e("c7e8ec39e8a501c2"),e("c7f11a8d456724")},{"9907e25c4a0aca96":"jpVKZ","6ca7b218a3c5142b":"epSXE","733763f50161f4ff":"k89ua",c7e8ec39e8a501c2:"fKGrW",c7f11a8d456724:"dZVa2"}],jpVKZ:[function(e,t,i){var n=e("aa5b0a4df7071e1c"),r=e("8c408afdfdfd6dab"),s=e("ec29447784c0114a"),a=e("2ae82c68e0ae40f"),o=e("33b2452838c11281"),h=e("fe806d898b4ac536"),c=e("22d83c4d1a79086a"),l=e("4d2b1c3a38702ef3"),u=e("e759feb93fde3dec"),d=e("5787c74359c86565"),f=e("cb32a2177bbbabaa"),p=e("20c01e2a38c99bca"),g=e("db20fe52e48e74e7"),m=e("62c50d67351dd58a"),v=e("22cebb6457d12409"),y=e("31dc62cd3a5d2fda"),b=e("14509c82c4f3e2e9"),x=e("e62ee144604e88fa"),E=e("d7fe574b8ddea4e9"),w=e("fc2b88a87581c564"),T=e("7260979738a18766"),S=e("c58a10205146713c"),A=e("a86b1c2861165466"),C=e("dfca683f72250bcc"),_=e("55a26bb040d83918"),I=e("97712bd669b06ccf"),O=e("b2130786c0cb0f80"),P=e("aaac558287b5aa94"),M=e("c6ea7d7218c4c1f0"),R=e("f4a251fc6a0ec32a"),L=e("2d3c3a8ae405672f"),D=e("a99e55c559023f8b"),k=e("baa63ea979fa51ca"),N=e("ecef47c4fbdd606b"),F=e("f57a8c7fd7d84ffb"),B=e("37236ad9fe95a3e"),U=e("c50230ad6eef7275").forEach,V=P("hidden"),G="Symbol",j="prototype",W=B.set,Y=B.getterFor(G),H=Object[j],z=r.Symbol,X=z&&z[j],K=r.RangeError,q=r.TypeError,J=r.QObject,$=T.f,Q=S.f,Z=E.f,ee=C.f,et=a([].push),ei=O("symbols"),en=O("op-symbols"),er=O("wks"),es=!J||!J[j]||!J[j].findChild,ea=function(e,t,i){var n=$(H,t);n&&delete H[t],Q(e,t,i),n&&e!==H&&Q(H,t,n)},eo=h&&l(function(){return 7!==y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?ea:Q,eh=function(e,t){var i=ei[e]=y(X);return W(i,{type:G,tag:e,description:t}),h||(i.description=t),i},ec=function(e,t,i){e===H&&ec(en,t,i),f(e);var n=g(t);return(f(i),u(ei,n))?(i.enumerable?(u(e,V)&&e[V][n]&&(e[V][n]=!1),i=y(i,{enumerable:v(0,!1)})):(u(e,V)||Q(e,V,v(1,y(null))),e[V][n]=!0),eo(e,n,i)):Q(e,n,i)},el=function(e,t){f(e);var i=p(t);return U(b(i).concat(ep(i)),function(t){(!h||s(eu,i,t))&&ec(e,t,i[t])}),e},eu=function(e){var t=g(e),i=s(ee,this,t);return(!(this===H&&u(ei,t))||!!u(en,t))&&(!(i||!u(this,t)||!u(ei,t)||u(this,V)&&this[V][t])||i)},ed=function(e,t){var i=p(e),n=g(t);if(!(i===H&&u(ei,n))||u(en,n)){var r=$(i,n);return r&&u(ei,n)&&!(u(i,V)&&i[V][n])&&(r.enumerable=!0),r}},ef=function(e){var t=Z(p(e)),i=[];return U(t,function(e){u(ei,e)||u(M,e)||et(i,e)}),i},ep=function(e){var t=e===H,i=Z(t?en:p(e)),n=[];return U(i,function(e){u(ei,e)&&(!t||u(H,e))&&et(n,ei[e])}),n};c||(_(X=(z=function(){if(d(X,this))throw new q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=R(e),i=function(e){var n=void 0===this?r:this;n===H&&s(i,en,e),u(n,V)&&u(n[V],t)&&(n[V][t]=!1);var a=v(1,e);try{eo(n,t,a)}catch(e){if(!(e instanceof K))throw e;ea(n,t,a)}};return h&&es&&eo(H,t,{configurable:!0,set:i}),eh(t,e)})[j],"toString",function(){return Y(this).tag}),_(z,"withoutSetter",function(e){return eh(R(e),e)}),C.f=eu,S.f=ec,A.f=el,T.f=ed,x.f=E.f=ef,w.f=ep,D.f=function(e){return eh(L(e),e)},h&&(I(X,"description",{configurable:!0,get:function(){return Y(this).description}}),o||_(H,"propertyIsEnumerable",eu,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),U(b(er),function(e){k(e)}),n({target:G,stat:!0,forced:!c},{useSetter:function(){es=!0},useSimple:function(){es=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!h},{create:function(e,t){return void 0===t?y(e):el(y(e),t)},defineProperty:ec,defineProperties:el,getOwnPropertyDescriptor:ed}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ef}),N(),F(z,G),M[V]=!0},{aa5b0a4df7071e1c:"gJg5v","8c408afdfdfd6dab":"7Z171",ec29447784c0114a:"bOssl","2ae82c68e0ae40f":"2iJ57","33b2452838c11281":"jHRGA",fe806d898b4ac536:"6mXK1","22d83c4d1a79086a":"kkRwC","4d2b1c3a38702ef3":"cXVrS",e759feb93fde3dec:"9JWVX","5787c74359c86565":"d5bNd",cb32a2177bbbabaa:"dPzbI","20c01e2a38c99bca":"h9ut0",db20fe52e48e74e7:"gvuJs","62c50d67351dd58a":"4x6uB","22cebb6457d12409":"5toj2","31dc62cd3a5d2fda":"7isQ3","14509c82c4f3e2e9":"kQgZQ",e62ee144604e88fa:"dDV3S",d7fe574b8ddea4e9:"bBGHM",fc2b88a87581c564:"f3eHQ","7260979738a18766":"aRu9T",c58a10205146713c:"hvqCQ",a86b1c2861165466:"ePigI",dfca683f72250bcc:"7Av2Z","55a26bb040d83918":"4CPdc","97712bd669b06ccf":"3NI4M",b2130786c0cb0f80:"i30ST",aaac558287b5aa94:"k5X1l",c6ea7d7218c4c1f0:"4qgYA",f4a251fc6a0ec32a:"55cC0","2d3c3a8ae405672f":"5CuF7",a99e55c559023f8b:"cwsJo",baa63ea979fa51ca:"jiIFu",ecef47c4fbdd606b:"3ujL7",f57a8c7fd7d84ffb:"dkhk9","37236ad9fe95a3e":"ixHS2",c50230ad6eef7275:"daQdc"}],gJg5v:[function(e,t,i){var n=e("23dea28abc8414d1"),r=e("2ec751f39e500b85").f,s=e("b4567636b28a3b3a"),a=e("50460aa43dd4048a"),o=e("581238c99f8c2c30"),h=e("566a383894c688bc"),c=e("f0e2e697f04e8ad9");t.exports=function(e,t){var i,l,u,d,f,p=e.target,g=e.global,m=e.stat;if(i=g?n:m?n[p]||o(p,{}):n[p]&&n[p].prototype)for(l in t){if(d=t[l],u=e.dontCallGetSet?(f=r(i,l))&&f.value:i[l],!c(g?l:p+(m?".":"#")+l,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;h(d,u)}(e.sham||u&&u.sham)&&s(d,"sham",!0),a(i,l,d,e)}}},{"23dea28abc8414d1":"7Z171","2ec751f39e500b85":"aRu9T",b4567636b28a3b3a:"gKM90","50460aa43dd4048a":"4CPdc","581238c99f8c2c30":"huhcf","566a383894c688bc":"d9xyM",f0e2e697f04e8ad9:"gE5NQ"}],"7Z171":[function(e,t,i){var n=arguments[3],r=function(e){return e&&e.Math===Math&&e};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},{}],aRu9T:[function(e,t,i){var n=e("c04e6fb248689dba"),r=e("553ec943aa2a4554"),s=e("bbc5e69071aa2fbd"),a=e("1d2ffbfd99e01f41"),o=e("c4ea69a78a643d87"),h=e("8ab18ff766aa2ab9"),c=e("3761c5d34b7aa48f"),l=e("c4dfcc26308f1b4a"),u=Object.getOwnPropertyDescriptor;i.f=n?u:function(e,t){if(e=o(e),t=h(t),l)try{return u(e,t)}catch(e){}if(c(e,t))return a(!r(s.f,e,t),e[t])}},{c04e6fb248689dba:"6mXK1","553ec943aa2a4554":"bOssl",bbc5e69071aa2fbd:"7Av2Z","1d2ffbfd99e01f41":"5toj2",c4ea69a78a643d87:"h9ut0","8ab18ff766aa2ab9":"gvuJs","3761c5d34b7aa48f":"9JWVX",c4dfcc26308f1b4a:"lahqe"}],"6mXK1":[function(e,t,i){var n=e("735b783268fd06c0");t.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"735b783268fd06c0":"cXVrS"}],cXVrS:[function(e,t,i){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],bOssl:[function(e,t,i){var n=e("44e025d030d66023"),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},{"44e025d030d66023":"3p5v0"}],"3p5v0":[function(e,t,i){var n=e("2642aa7619056f20");t.exports=!n(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},{"2642aa7619056f20":"cXVrS"}],"7Av2Z":[function(e,t,i){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);i.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},{}],"5toj2":[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],h9ut0:[function(e,t,i){var n=e("9d8f8f50ac9468eb"),r=e("f7224aed72953ac4");t.exports=function(e){return n(r(e))}},{"9d8f8f50ac9468eb":"kuAas",f7224aed72953ac4:"cHxZN"}],kuAas:[function(e,t,i){var n=e("7ba7e65983d7b662"),r=e("df551e12a7c872dd"),s=e("1d34ea813cebff9c"),a=Object,o=n("".split);t.exports=r(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===s(e)?o(e,""):a(e)}:a},{"7ba7e65983d7b662":"2iJ57",df551e12a7c872dd:"cXVrS","1d34ea813cebff9c":"161sQ"}],"2iJ57":[function(e,t,i){var n=e("829dd7a4e960cf9e"),r=Function.prototype,s=r.call,a=n&&r.bind.bind(s,s);t.exports=n?a:function(e){return function(){return s.apply(e,arguments)}}},{"829dd7a4e960cf9e":"3p5v0"}],"161sQ":[function(e,t,i){var n=e("1c71c3f6daac476c"),r=n({}.toString),s=n("".slice);t.exports=function(e){return s(r(e),8,-1)}},{"1c71c3f6daac476c":"2iJ57"}],cHxZN:[function(e,t,i){var n=e("74607922ed30019f"),r=TypeError;t.exports=function(e){if(n(e))throw new r("Can't call method on "+e);return e}},{"74607922ed30019f":"8AxCV"}],"8AxCV":[function(e,t,i){t.exports=function(e){return null==e}},{}],gvuJs:[function(e,t,i){var n=e("53a3a67ac381c4e8"),r=e("b992ca9cdcf7937b");t.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},{"53a3a67ac381c4e8":"cCley",b992ca9cdcf7937b:"2ZU2p"}],cCley:[function(e,t,i){var n=e("70235907dc93b4b0"),r=e("46fb53dace408c8e"),s=e("677bdc4d74d2f983"),a=e("80395bcde336a28b"),o=e("49552a7324952190"),h=e("aea01c71276624bf"),c=TypeError,l=h("toPrimitive");t.exports=function(e,t){if(!r(e)||s(e))return e;var i,h=a(e,l);if(h){if(void 0===t&&(t="default"),!r(i=n(h,e,t))||s(i))return i;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},{"70235907dc93b4b0":"bOssl","46fb53dace408c8e":"8mxCV","677bdc4d74d2f983":"2ZU2p","80395bcde336a28b":"2qR8N","49552a7324952190":"6aMZM",aea01c71276624bf:"5CuF7"}],"8mxCV":[function(e,t,i){var n=e("f87cee1cb79cbcca");t.exports=function(e){return"object"==typeof e?null!==e:n(e)}},{f87cee1cb79cbcca:"h1Wnr"}],h1Wnr:[function(e,t,i){var n="object"==typeof document&&document.all;t.exports=void 0===n&&void 0!==n?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},{}],"2ZU2p":[function(e,t,i){var n=e("6b6c481cdfb7df35"),r=e("2af44fcbdbf14c83"),s=e("76e903e830c40e7c"),a=e("7e2fe930b3598e22"),o=Object;t.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&s(t.prototype,o(e))}},{"6b6c481cdfb7df35":"e5ie6","2af44fcbdbf14c83":"h1Wnr","76e903e830c40e7c":"d5bNd","7e2fe930b3598e22":"6doR5"}],e5ie6:[function(e,t,i){var n=e("e057fc33d60763c1"),r=e("f1d62079325906cb");t.exports=function(e,t){var i;return arguments.length<2?r(i=n[e])?i:void 0:n[e]&&n[e][t]}},{e057fc33d60763c1:"7Z171",f1d62079325906cb:"h1Wnr"}],d5bNd:[function(e,t,i){var n=e("83f14842ef67e16a");t.exports=n({}.isPrototypeOf)},{"83f14842ef67e16a":"2iJ57"}],"6doR5":[function(e,t,i){var n=e("da4a972af0214ea0");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{da4a972af0214ea0:"kkRwC"}],kkRwC:[function(e,t,i){var n=e("53b951dfb9de4d22"),r=e("b37df495bcdc1d99"),s=e("e5929e9affd2affc").String;t.exports=!!Object.getOwnPropertySymbols&&!r(function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&n&&n<41})},{"53b951dfb9de4d22":"co76c",b37df495bcdc1d99:"cXVrS",e5929e9affd2affc:"7Z171"}],co76c:[function(e,t,i){var n,r,s=e("d049c1c2aa0eee5b"),a=e("4eb5796bbafe334d"),o=s.process,h=s.Deno,c=o&&o.versions||h&&h.version,l=c&&c.v8;l&&(r=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(r=+n[1]),t.exports=r},{d049c1c2aa0eee5b:"7Z171","4eb5796bbafe334d":"5hj4U"}],"5hj4U":[function(e,t,i){var n=e("888bcb4c75dc4ad").navigator,r=n&&n.userAgent;t.exports=r?String(r):""},{"888bcb4c75dc4ad":"7Z171"}],"2qR8N":[function(e,t,i){var n=e("bbfed17b24e215f4"),r=e("492a86e2970f6a26");t.exports=function(e,t){var i=e[t];return r(i)?void 0:n(i)}},{bbfed17b24e215f4:"alrlv","492a86e2970f6a26":"8AxCV"}],alrlv:[function(e,t,i){var n=e("4094667126ecac05"),r=e("fce2a7573db493fa"),s=TypeError;t.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not a function")}},{"4094667126ecac05":"h1Wnr",fce2a7573db493fa:"3zerS"}],"3zerS":[function(e,t,i){var n=String;t.exports=function(e){try{return n(e)}catch(e){return"Object"}}},{}],"6aMZM":[function(e,t,i){var n=e("abe9ca006f56626e"),r=e("c96b3a89fec6248a"),s=e("551615fda0214f1b"),a=TypeError;t.exports=function(e,t){var i,o;if("string"===t&&r(i=e.toString)&&!s(o=n(i,e))||r(i=e.valueOf)&&!s(o=n(i,e))||"string"!==t&&r(i=e.toString)&&!s(o=n(i,e)))return o;throw new a("Can't convert object to primitive value")}},{abe9ca006f56626e:"bOssl",c96b3a89fec6248a:"h1Wnr","551615fda0214f1b":"8mxCV"}],"5CuF7":[function(e,t,i){var n=e("ad5ef4474219c101"),r=e("6a2cda01df6b4c79"),s=e("dccc28ffa5beeb54"),a=e("48d6af1225853d44"),o=e("9f762329148684"),h=e("1ce268781e409df2"),c=n.Symbol,l=r("wks"),u=h?c.for||c:c&&c.withoutSetter||a;t.exports=function(e){return s(l,e)||(l[e]=o&&s(c,e)?c[e]:u("Symbol."+e)),l[e]}},{ad5ef4474219c101:"7Z171","6a2cda01df6b4c79":"i30ST",dccc28ffa5beeb54:"9JWVX","48d6af1225853d44":"55cC0","9f762329148684":"kkRwC","1ce268781e409df2":"6doR5"}],i30ST:[function(e,t,i){var n=e("84eeed9891aafe14");t.exports=function(e,t){return n[e]||(n[e]=t||{})}},{"84eeed9891aafe14":"jKWHg"}],jKWHg:[function(e,t,i){var n=e("7b43004672b1879f"),r=e("bc8329e77dc2c1cc"),s=e("dfb72a1d809f7b02"),a="__core-js_shared__",o=t.exports=r[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"7b43004672b1879f":"jHRGA",bc8329e77dc2c1cc:"7Z171",dfb72a1d809f7b02:"huhcf"}],jHRGA:[function(e,t,i){t.exports=!1},{}],huhcf:[function(e,t,i){var n=e("2d1c29655635b9ea"),r=Object.defineProperty;t.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},{"2d1c29655635b9ea":"7Z171"}],"9JWVX":[function(e,t,i){var n=e("f5dcaa60a713971f"),r=e("ab17c4f45fcf0841"),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},{f5dcaa60a713971f:"2iJ57",ab17c4f45fcf0841:"6oQEu"}],"6oQEu":[function(e,t,i){var n=e("f45a7b5dcdc4a410"),r=Object;t.exports=function(e){return r(n(e))}},{f45a7b5dcdc4a410:"cHxZN"}],"55cC0":[function(e,t,i){var n=e("5da0fe4507da20a3"),r=0,s=Math.random(),a=n(1..toString);t.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+s,36)}},{"5da0fe4507da20a3":"2iJ57"}],lahqe:[function(e,t,i){var n=e("9b4278b13c076bf"),r=e("8aee5d88a5f9b6b5"),s=e("1db4d60148afcf21");t.exports=!n&&!r(function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},{"9b4278b13c076bf":"6mXK1","8aee5d88a5f9b6b5":"cXVrS","1db4d60148afcf21":"SppDD"}],SppDD:[function(e,t,i){var n=e("845bcece0e6d354"),r=e("824df78b2e007250"),s=n.document,a=r(s)&&r(s.createElement);t.exports=function(e){return a?s.createElement(e):{}}},{"845bcece0e6d354":"7Z171","824df78b2e007250":"8mxCV"}],gKM90:[function(e,t,i){var n=e("a8753383ef98ee18"),r=e("189ab650b8f71085"),s=e("1168c8162aa30435");t.exports=n?function(e,t,i){return r.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},{a8753383ef98ee18:"6mXK1","189ab650b8f71085":"hvqCQ","1168c8162aa30435":"5toj2"}],hvqCQ:[function(e,t,i){var n=e("ca50eb9163928400"),r=e("d482f9e5478795e8"),s=e("b6ad7537efb06f4b"),a=e("16365a73399e7fe7"),o=e("fab1d366c47796d9"),h=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",f="writable";i.f=n?s?function(e,t,i){if(a(e),t=o(t),a(i),"function"==typeof e&&"prototype"===t&&"value"in i&&f in i&&!i[f]){var n=l(e,t);n&&n[f]&&(e[t]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:u in i?i[u]:n[u],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(a(e),t=o(t),a(i),r)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new h("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},{ca50eb9163928400:"6mXK1",d482f9e5478795e8:"lahqe",b6ad7537efb06f4b:"e457x","16365a73399e7fe7":"dPzbI",fab1d366c47796d9:"gvuJs"}],e457x:[function(e,t,i){var n=e("b22a5a2de93e3ad2"),r=e("249a5b857c2dfccd");t.exports=n&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{b22a5a2de93e3ad2:"6mXK1","249a5b857c2dfccd":"cXVrS"}],dPzbI:[function(e,t,i){var n=e("2b6c6258a0a6082f"),r=String,s=TypeError;t.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not an object")}},{"2b6c6258a0a6082f":"8mxCV"}],"4CPdc":[function(e,t,i){var n=e("99ee13632b3fa68"),r=e("9ebb3e3004fccc0a"),s=e("f10cc812a3094053"),a=e("d354802d852d9c2b");t.exports=function(e,t,i,o){o||(o={});var h=o.enumerable,c=void 0!==o.name?o.name:t;if(n(i)&&s(i,c,o),o.global)h?e[t]=i:a(t,i);else{try{o.unsafe?e[t]&&(h=!0):delete e[t]}catch(e){}h?e[t]=i:r.f(e,t,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},{"99ee13632b3fa68":"h1Wnr","9ebb3e3004fccc0a":"hvqCQ",f10cc812a3094053:"1fkJp",d354802d852d9c2b:"huhcf"}],"1fkJp":[function(e,t,i){var n=e("ca84677f1ebd1804"),r=e("13360f2842eba261"),s=e("103e488c0928755a"),a=e("cbf9b0e0779cc368"),o=e("3f2eb7efeae2f72b"),h=e("548b10f284264c72").CONFIGURABLE,c=e("358f00f3103bd55b"),l=e("9b2ce14119fd2412"),u=l.enforce,d=l.get,f=String,p=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),y=o&&!r(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),x=t.exports=function(e,t,i){"Symbol("===g(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!a(e,"name")||h&&e.name!==t)&&(o?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&i&&a(i,"arity")&&e.length!==i.arity&&p(e,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?o&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return a(n,"source")||(n.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=x(function(){return s(this)&&d(this).source||c(this)},"toString")},{ca84677f1ebd1804:"2iJ57","13360f2842eba261":"cXVrS","103e488c0928755a":"h1Wnr",cbf9b0e0779cc368:"9JWVX","3f2eb7efeae2f72b":"6mXK1","548b10f284264c72":"jmu0n","358f00f3103bd55b":"3JJEO","9b2ce14119fd2412":"ixHS2"}],jmu0n:[function(e,t,i){var n=e("8ad2bacb0e20b95c"),r=e("4eabfd8f83afc9d5"),s=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,o=r(s,"name"),h=o&&(!n||n&&a(s,"name").configurable);t.exports={EXISTS:o,PROPER:o&&"something"===(function(){}).name,CONFIGURABLE:h}},{"8ad2bacb0e20b95c":"6mXK1","4eabfd8f83afc9d5":"9JWVX"}],"3JJEO":[function(e,t,i){var n=e("26e26db98367212e"),r=e("40ed9a4f6ae66648"),s=e("485d48d6f4c6739e"),a=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),t.exports=s.inspectSource},{"26e26db98367212e":"2iJ57","40ed9a4f6ae66648":"h1Wnr","485d48d6f4c6739e":"jKWHg"}],ixHS2:[function(e,t,i){var n,r,s,a=e("d3f0c9f3327b2fd6"),o=e("28c3574d0c39fe7e"),h=e("f82e6cc0ac249fa5"),c=e("c0ae163eea4ef97"),l=e("6dea7358344877bb"),u=e("3e035a1241da2f0"),d=e("88d6ccc27e779e5a"),f=e("d40b9b3abdbb956e"),p="Object already initialized",g=o.TypeError,m=o.WeakMap;if(a||u.state){var v=u.state||(u.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new g(p);return t.facade=e,v.set(e,t),t},r=function(e){return v.get(e)||{}},s=function(e){return v.has(e)}}else{var y=d("state");f[y]=!0,n=function(e,t){if(l(e,y))throw new g(p);return t.facade=e,c(e,y,t),t},r=function(e){return l(e,y)?e[y]:{}},s=function(e){return l(e,y)}}t.exports={set:n,get:r,has:s,enforce:function(e){return s(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!h(t)||(i=r(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return i}}}},{d3f0c9f3327b2fd6:"lIC7p","28c3574d0c39fe7e":"7Z171",f82e6cc0ac249fa5:"8mxCV",c0ae163eea4ef97:"gKM90","6dea7358344877bb":"9JWVX","3e035a1241da2f0":"jKWHg","88d6ccc27e779e5a":"k5X1l",d40b9b3abdbb956e:"4qgYA"}],lIC7p:[function(e,t,i){var n=e("8b1a8c1dbfd18eb5"),r=e("aa77fff8d5ef0565"),s=n.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},{"8b1a8c1dbfd18eb5":"7Z171",aa77fff8d5ef0565:"h1Wnr"}],k5X1l:[function(e,t,i){var n=e("dbc8182adeb8c92f"),r=e("90b4ffb58508a6e5"),s=n("keys");t.exports=function(e){return s[e]||(s[e]=r(e))}},{dbc8182adeb8c92f:"i30ST","90b4ffb58508a6e5":"55cC0"}],"4qgYA":[function(e,t,i){t.exports={}},{}],d9xyM:[function(e,t,i){var n=e("d91d786cc71453ce"),r=e("88cb809f98beddc6"),s=e("10ea642aad5f7c21"),a=e("39ff598ce822187e");t.exports=function(e,t,i){for(var o=r(t),h=a.f,c=s.f,l=0;l<o.length;l++){var u=o[l];n(e,u)||i&&n(i,u)||h(e,u,c(t,u))}}},{d91d786cc71453ce:"9JWVX","88cb809f98beddc6":"k5rhT","10ea642aad5f7c21":"aRu9T","39ff598ce822187e":"hvqCQ"}],k5rhT:[function(e,t,i){var n=e("3cc1e4329d869e34"),r=e("2b8e77cbdbe3db7a"),s=e("d703bcb62fcda216"),a=e("157674bad2772c6d"),o=e("a09e060b9cae3c6c"),h=r([].concat);t.exports=n("Reflect","ownKeys")||function(e){var t=s.f(o(e)),i=a.f;return i?h(t,i(e)):t}},{"3cc1e4329d869e34":"e5ie6","2b8e77cbdbe3db7a":"2iJ57",d703bcb62fcda216:"dDV3S","157674bad2772c6d":"f3eHQ",a09e060b9cae3c6c:"dPzbI"}],dDV3S:[function(e,t,i){var n=e("6d8591e17a49376c"),r=e("2c933f93dd98f385").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},{"6d8591e17a49376c":"4o1p7","2c933f93dd98f385":"7POW9"}],"4o1p7":[function(e,t,i){var n=e("363ee0e6bb4f46a7"),r=e("3183fe0b0bf6f6ac"),s=e("28192ac12e934672"),a=e("a5f9c5d8e993ccd6").indexOf,o=e("57775908f1581bc6"),h=n([].push);t.exports=function(e,t){var i,n=s(e),c=0,l=[];for(i in n)!r(o,i)&&r(n,i)&&h(l,i);for(;t.length>c;)r(n,i=t[c++])&&(~a(l,i)||h(l,i));return l}},{"363ee0e6bb4f46a7":"2iJ57","3183fe0b0bf6f6ac":"9JWVX","28192ac12e934672":"h9ut0",a5f9c5d8e993ccd6:"7HT32","57775908f1581bc6":"4qgYA"}],"7HT32":[function(e,t,i){var n=e("d5dcbcd68ac5acd0"),r=e("212b13aecfa48226"),s=e("e5a8b3e1da4c5637"),a=function(e){return function(t,i,a){var o,h=n(t),c=s(h);if(0===c)return!e&&-1;var l=r(a,c);if(e&&i!=i){for(;c>l;)if((o=h[l++])!=o)return!0}else for(;c>l;l++)if((e||l in h)&&h[l]===i)return e||l||0;return!e&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},{d5dcbcd68ac5acd0:"h9ut0","212b13aecfa48226":"47gaI",e5a8b3e1da4c5637:"kHSes"}],"47gaI":[function(e,t,i){var n=e("72fe0a53ad43912c"),r=Math.max,s=Math.min;t.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):s(i,t)}},{"72fe0a53ad43912c":"gAgUH"}],gAgUH:[function(e,t,i){var n=e("3403cba02b5f61d8");t.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},{"3403cba02b5f61d8":"8w9Yn"}],"8w9Yn":[function(e,t,i){var n=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},{}],kHSes:[function(e,t,i){var n=e("23d9716c54a2ab90");t.exports=function(e){return n(e.length)}},{"23d9716c54a2ab90":"lQsU7"}],lQsU7:[function(e,t,i){var n=e("c48d3a8b8ac52b0b"),r=Math.min;t.exports=function(e){var t=n(e);return t>0?r(t,9007199254740991):0}},{c48d3a8b8ac52b0b:"gAgUH"}],"7POW9":[function(e,t,i){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],f3eHQ:[function(e,t,i){i.f=Object.getOwnPropertySymbols},{}],gE5NQ:[function(e,t,i){var n=e("10299561ea0c7870"),r=e("8b1ecdaf59f07210"),s=/#|\.prototype\./,a=function(e,t){var i=h[o(e)];return i===l||i!==c&&(r(t)?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},h=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},{"10299561ea0c7870":"cXVrS","8b1ecdaf59f07210":"h1Wnr"}],"4x6uB":[function(e,t,i){var n=e("3e4265f3f6994add"),r=String;t.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},{"3e4265f3f6994add":"cRCRk"}],cRCRk:[function(e,t,i){var n=e("397e535b3976d304"),r=e("eebd8012c2d2c3ae"),s=e("8da113eeaf06c4ba"),a=e("df252844008f634")("toStringTag"),o=Object,h="Arguments"===s(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(e){}};t.exports=n?s:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=c(t=o(e),a))?i:h?s(t):"Object"===(n=s(t))&&r(t.callee)?"Arguments":n}},{"397e535b3976d304":"9axlf",eebd8012c2d2c3ae:"h1Wnr","8da113eeaf06c4ba":"161sQ",df252844008f634:"5CuF7"}],"9axlf":[function(e,t,i){var n=e("6306cd4835715127")("toStringTag"),r={};r[n]="z",t.exports="[object z]"===String(r)},{"6306cd4835715127":"5CuF7"}],"7isQ3":[function(e,t,i){var n,r=e("3bbe31d8f504111f"),s=e("a9712f03fc468b49"),a=e("d9e0c389f84efa79"),o=e("8a43b6a211717cde"),h=e("78d31e3a50d79c6e"),c=e("e29f7e32a0583f3"),l=e("a6edaba97f293fc9"),u="prototype",d="script",f=l("IE_PROTO"),p=function(){},g=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){var e,t=c("iframe");return t.style.display="none",h.appendChild(t),t.src=String("java"+d+":"),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}y="undefined"!=typeof document?document.domain&&n?m(n):v():m(n);for(var e=a.length;e--;)delete y[u][a[e]];return y()};o[f]=!0,t.exports=Object.create||function(e,t){var i;return null!==e?(p[u]=r(e),i=new p,p[u]=null,i[f]=e):i=y(),void 0===t?i:s.f(i,t)}},{"3bbe31d8f504111f":"dPzbI",a9712f03fc468b49:"ePigI",d9e0c389f84efa79:"7POW9","8a43b6a211717cde":"4qgYA","78d31e3a50d79c6e":"23b1K",e29f7e32a0583f3:"SppDD",a6edaba97f293fc9:"k5X1l"}],ePigI:[function(e,t,i){var n=e("aa39c539d0a1ec3f"),r=e("2e9118dcee7eb93e"),s=e("d88f5f00164c2da2"),a=e("12ac356c5e06e57d"),o=e("3cbdc44082c2f8b8"),h=e("634da70e74fce29b");i.f=n&&!r?Object.defineProperties:function(e,t){a(e);for(var i,n=o(t),r=h(t),c=r.length,l=0;c>l;)s.f(e,i=r[l++],n[i]);return e}},{aa39c539d0a1ec3f:"6mXK1","2e9118dcee7eb93e":"e457x",d88f5f00164c2da2:"hvqCQ","12ac356c5e06e57d":"dPzbI","3cbdc44082c2f8b8":"h9ut0","634da70e74fce29b":"kQgZQ"}],kQgZQ:[function(e,t,i){var n=e("fb982c683f43ec98"),r=e("7cabc30df1982d48");t.exports=Object.keys||function(e){return n(e,r)}},{fb982c683f43ec98:"4o1p7","7cabc30df1982d48":"7POW9"}],"23b1K":[function(e,t,i){var n=e("14cb391fa4a0dda8");t.exports=n("document","documentElement")},{"14cb391fa4a0dda8":"e5ie6"}],bBGHM:[function(e,t,i){var n=e("279dbc8649868a7a"),r=e("430d7ab8977dd85e"),s=e("a5a6278a4291e239").f,a=e("a0e199be640bf61f"),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(e){try{return s(e)}catch(e){return a(o)}};t.exports.f=function(e){return o&&"Window"===n(e)?h(e):s(r(e))}},{"279dbc8649868a7a":"161sQ","430d7ab8977dd85e":"h9ut0",a5a6278a4291e239:"dDV3S",a0e199be640bf61f:"eO8Ta"}],eO8Ta:[function(e,t,i){var n=e("5250b5c9324ccbe");t.exports=n([].slice)},{"5250b5c9324ccbe":"2iJ57"}],"3NI4M":[function(e,t,i){var n=e("5bd1cd8472955124"),r=e("1413185c6323bbbc");t.exports=function(e,t,i){return i.get&&n(i.get,t,{getter:!0}),i.set&&n(i.set,t,{setter:!0}),r.f(e,t,i)}},{"5bd1cd8472955124":"1fkJp","1413185c6323bbbc":"hvqCQ"}],cwsJo:[function(e,t,i){var n=e("2e34ececd06658d9");i.f=n},{"2e34ececd06658d9":"5CuF7"}],jiIFu:[function(e,t,i){var n=e("8d5159b7d317832f"),r=e("42a3ea18819bfbb"),s=e("7ec639749e279eeb"),a=e("cbbe4becefd5c21c").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||a(t,e,{value:s.f(e)})}},{"8d5159b7d317832f":"iwjHr","42a3ea18819bfbb":"9JWVX","7ec639749e279eeb":"cwsJo",cbbe4becefd5c21c:"hvqCQ"}],iwjHr:[function(e,t,i){var n=e("34c09090b9638032");t.exports=n},{"34c09090b9638032":"7Z171"}],"3ujL7":[function(e,t,i){var n=e("b56ca5a55bb4c0e1"),r=e("f5359b167e9be384"),s=e("e7eef3415c62682d"),a=e("8cc59229c8e85f40");t.exports=function(){var e=r("Symbol"),t=e&&e.prototype,i=t&&t.valueOf,o=s("toPrimitive");t&&!t[o]&&a(t,o,function(e){return n(i,this)},{arity:1})}},{b56ca5a55bb4c0e1:"bOssl",f5359b167e9be384:"e5ie6",e7eef3415c62682d:"5CuF7","8cc59229c8e85f40":"4CPdc"}],dkhk9:[function(e,t,i){var n=e("93a3d85da48077c").f,r=e("2ebf7179e87d878f"),s=e("5b1eb5d1639e9eb7")("toStringTag");t.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!r(e,s)&&n(e,s,{configurable:!0,value:t})}},{"93a3d85da48077c":"hvqCQ","2ebf7179e87d878f":"9JWVX","5b1eb5d1639e9eb7":"5CuF7"}],daQdc:[function(e,t,i){var n=e("13e0747865316a42"),r=e("99224cc18a4a792e"),s=e("57aaeabd9d30911"),a=e("3acffc809f3b03fb"),o=e("1fc4c4e55871562c"),h=e("76c922b575fbf7bd"),c=r([].push),l=function(e){var t=1===e,i=2===e,r=3===e,l=4===e,u=6===e,d=7===e,f=5===e||u;return function(p,g,m,v){for(var y,b,x=a(p),E=s(x),w=o(E),T=n(g,m),S=0,A=v||h,C=t?A(p,w):i||d?A(p,0):void 0;w>S;S++)if((f||S in E)&&(b=T(y=E[S],S,x),e)){if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c(C,y)}else switch(e){case 4:return!1;case 7:c(C,y)}}return u?-1:r||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},{"13e0747865316a42":"f1CxE","99224cc18a4a792e":"2iJ57","57aaeabd9d30911":"kuAas","3acffc809f3b03fb":"6oQEu","1fc4c4e55871562c":"kHSes","76c922b575fbf7bd":"kfoQr"}],f1CxE:[function(e,t,i){var n=e("92f6f475baa85665"),r=e("547ee4f9dab0cc76"),s=e("5acd31cba656d393"),a=n(n.bind);t.exports=function(e,t){return r(e),void 0===t?e:s?a(e,t):function(){return e.apply(t,arguments)}}},{"92f6f475baa85665":"c4z5p","547ee4f9dab0cc76":"alrlv","5acd31cba656d393":"3p5v0"}],c4z5p:[function(e,t,i){var n=e("8e77093015e1e67f"),r=e("9daa4dbbca634c9e");t.exports=function(e){if("Function"===n(e))return r(e)}},{"8e77093015e1e67f":"161sQ","9daa4dbbca634c9e":"2iJ57"}],kfoQr:[function(e,t,i){var n=e("4580767bbbe40f0b");t.exports=function(e,t){return new(n(e))(0===t?0:t)}},{"4580767bbbe40f0b":"3SXid"}],"3SXid":[function(e,t,i){var n=e("a9e5b9af57e551f6"),r=e("2b4d84c184e08f4f"),s=e("f4bec83e8d6008c9"),a=e("4a13cf47b259a825")("species"),o=Array;t.exports=function(e){var t;return n(e)&&(r(t=e.constructor)&&(t===o||n(t.prototype))?t=void 0:s(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?o:t}},{a9e5b9af57e551f6:"7GYYD","2b4d84c184e08f4f":"eytEI",f4bec83e8d6008c9:"8mxCV","4a13cf47b259a825":"5CuF7"}],"7GYYD":[function(e,t,i){var n=e("ccb261b2d73a4fca");t.exports=Array.isArray||function(e){return"Array"===n(e)}},{ccb261b2d73a4fca:"161sQ"}],eytEI:[function(e,t,i){var n=e("3b3e7fa8cfe4b3ac"),r=e("84df2127d2d40501"),s=e("ae35eceee587c4bc"),a=e("7bd40df22601ee7e"),o=e("271ff92378cbc486"),h=e("74840ba4357c1c30"),c=function(){},l=o("Reflect","construct"),u=/^\s*(?:class|function)\b/,d=n(u.exec),f=!u.test(c),p=function(e){if(!s(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},g=function(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(u,h(e))}catch(e){return!0}};g.sham=!0,t.exports=!l||r(function(){var e;return p(p.call)||!p(Object)||!p(function(){e=!0})||e})?g:p},{"3b3e7fa8cfe4b3ac":"2iJ57","84df2127d2d40501":"cXVrS",ae35eceee587c4bc:"h1Wnr","7bd40df22601ee7e":"cRCRk","271ff92378cbc486":"e5ie6","74840ba4357c1c30":"3JJEO"}],epSXE:[function(e,t,i){var n=e("5bb0291a1de27cc2"),r=e("8e0d0366f8700097"),s=e("1d19a51e347c2d9e"),a=e("eab6cb58642f38b1"),o=e("41937bc543544e22"),h=e("8877198f0deded1d"),c=o("string-to-symbol-registry"),l=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!h},{for:function(e){var t=a(e);if(s(c,t))return c[t];var i=r("Symbol")(t);return c[t]=i,l[i]=t,i}})},{"5bb0291a1de27cc2":"gJg5v","8e0d0366f8700097":"e5ie6","1d19a51e347c2d9e":"9JWVX",eab6cb58642f38b1:"4x6uB","41937bc543544e22":"i30ST","8877198f0deded1d":"lqpzY"}],lqpzY:[function(e,t,i){var n=e("a735884940a2eb73");t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},{a735884940a2eb73:"kkRwC"}],k89ua:[function(e,t,i){var n=e("8dbad7485118eaf8"),r=e("9fce8a9af4b186a4"),s=e("4e16fd56c67f82fb"),a=e("59b7b3dea7d1b71d"),o=e("77b2ea800463b7d6"),h=e("ca42326fb3cb6e68"),c=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!h},{keyFor:function(e){if(!s(e))throw TypeError(a(e)+" is not a symbol");if(r(c,e))return c[e]}})},{"8dbad7485118eaf8":"gJg5v","9fce8a9af4b186a4":"9JWVX","4e16fd56c67f82fb":"2ZU2p","59b7b3dea7d1b71d":"3zerS","77b2ea800463b7d6":"i30ST",ca42326fb3cb6e68:"lqpzY"}],fKGrW:[function(e,t,i){var n=e("c758539029f56af9"),r=e("cd08b356bcae0b47"),s=e("2f13fa715711850"),a=e("4cfb95fb9a0e28fc"),o=e("50b40a77c21daf7f"),h=e("56cf5d4bc1afd666"),c=e("42bed86e3e73f3d2"),l=e("bca8b9ce5f71243b"),u=e("1bb05f05134df4c2"),d=e("1136e300bbee8f1e"),f=e("d8156a48adf3010b"),p=String,g=r("JSON","stringify"),m=o(/./.exec),v=o("".charAt),y=o("".charCodeAt),b=o("".replace),x=o(1..toString),E=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,T=/^[\uDC00-\uDFFF]$/,S=!f||h(function(){var e=r("Symbol")("stringify detection");return"[null]"!==g([e])||"{}"!==g({a:e})||"{}"!==g(Object(e))}),A=h(function(){return'"\udf06\ud834"'!==g("\uDF06\uD834")||'"\udead"'!==g("\uDEAD")}),C=function(e,t){var i=u(arguments),n=d(t);if(!(!c(n)&&(void 0===e||l(e))))return i[1]=function(e,t){if(c(n)&&(t=a(n,this,p(e),t)),!l(t))return t},s(g,null,i)},_=function(e,t,i){var n=v(i,t-1),r=v(i,t+1);return m(w,e)&&!m(T,r)||m(T,e)&&!m(w,n)?"\\u"+x(y(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:S||A},{stringify:function(e,t,i){var n=u(arguments),r=s(S?C:g,null,n);return A&&"string"==typeof r?b(r,E,_):r}})},{c758539029f56af9:"gJg5v",cd08b356bcae0b47:"e5ie6","2f13fa715711850":"2fjXG","4cfb95fb9a0e28fc":"bOssl","50b40a77c21daf7f":"2iJ57","56cf5d4bc1afd666":"cXVrS","42bed86e3e73f3d2":"h1Wnr",bca8b9ce5f71243b:"2ZU2p","1bb05f05134df4c2":"eO8Ta","1136e300bbee8f1e":"gQett",d8156a48adf3010b:"kkRwC"}],"2fjXG":[function(e,t,i){var n=e("d07466971ded2aca"),r=Function.prototype,s=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(s):function(){return a.apply(s,arguments)})},{d07466971ded2aca:"3p5v0"}],gQett:[function(e,t,i){var n=e("d58a1810bb01cb9f"),r=e("fc692ad896e8fbbf"),s=e("78f870626b97cbe9"),a=e("1da5109b0acae5a0"),o=e("71deb4f6b3f33cf0"),h=n([].push);t.exports=function(e){if(s(e))return e;if(r(e)){for(var t=e.length,i=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?h(i,c):("number"==typeof c||"Number"===a(c)||"String"===a(c))&&h(i,o(c))}var l=i.length,u=!0;return function(e,t){if(u)return u=!1,t;if(r(this))return t;for(var n=0;n<l;n++)if(i[n]===e)return t}}}},{d58a1810bb01cb9f:"2iJ57",fc692ad896e8fbbf:"7GYYD","78f870626b97cbe9":"h1Wnr","1da5109b0acae5a0":"161sQ","71deb4f6b3f33cf0":"4x6uB"}],dZVa2:[function(e,t,i){var n=e("840946d70e8a2143"),r=e("ab5e4f7a7726b049"),s=e("dbf1e55f293c4447"),a=e("52dfb60ffa243118"),o=e("7dd92ded8a0ad49a");n({target:"Object",stat:!0,forced:!r||s(function(){a.f(1)})},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(o(e)):[]}})},{"840946d70e8a2143":"gJg5v",ab5e4f7a7726b049:"kkRwC",dbf1e55f293c4447:"cXVrS","52dfb60ffa243118":"f3eHQ","7dd92ded8a0ad49a":"6oQEu"}],h8vRJ:[function(e,t,i){var n=e("97b172d75b2d24d2"),r=e("f4d7d8fd842c0756"),s=e("5eee5f2c9436b192"),a=e("3168cbf7cd0b9882"),o=e("a16d92d5b8266639"),h=e("c20ab10c7fc8df3c"),c=e("f1577de30367373a"),l=e("a801f47d1f3aec6"),u=e("4040e115390d9ece"),d=e("76bfc13417714c00"),f=s.Symbol,p=f&&f.prototype;if(r&&h(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};d(m,f),m.prototype=p,p.constructor=m;var v="Symbol(description detection)"===String(f("description detection")),y=a(p.valueOf),b=a(p.toString),x=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),w=a("".slice);u(p,"description",{configurable:!0,get:function(){var e=y(this);if(o(g,e))return"";var t=b(e),i=v?w(t,7,-1):E(t,x,"$1");return""===i?void 0:i}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},{"97b172d75b2d24d2":"gJg5v",f4d7d8fd842c0756:"6mXK1","5eee5f2c9436b192":"7Z171","3168cbf7cd0b9882":"2iJ57",a16d92d5b8266639:"9JWVX",c20ab10c7fc8df3c:"h1Wnr",f1577de30367373a:"d5bNd",a801f47d1f3aec6:"4x6uB","4040e115390d9ece":"3NI4M","76bfc13417714c00":"d9xyM"}],"1JQKT":[function(e,t,i){e("2d360c40368e9a3")("asyncIterator")},{"2d360c40368e9a3":"jiIFu"}],"58q3y":[function(e,t,i){e("81bebfae66866813")("hasInstance")},{"81bebfae66866813":"jiIFu"}],"5NvUG":[function(e,t,i){e("ccf6a8a73e56cd3a")("isConcatSpreadable")},{ccf6a8a73e56cd3a:"jiIFu"}],lG7CT:[function(e,t,i){e("1c415af53b28a6ea")("iterator")},{"1c415af53b28a6ea":"jiIFu"}],"507Fo":[function(e,t,i){e("d4aa350c591898c3")("match")},{d4aa350c591898c3:"jiIFu"}],"8PIx1":[function(e,t,i){e("8f030c55b2f81e57")("matchAll")},{"8f030c55b2f81e57":"jiIFu"}],a2cUC:[function(e,t,i){e("120ed8f933c050ae")("replace")},{"120ed8f933c050ae":"jiIFu"}],"1yLDd":[function(e,t,i){e("e61fe26d945e7ea9")("search")},{e61fe26d945e7ea9:"jiIFu"}],"9Ujdq":[function(e,t,i){e("9202fdf8a23f6674")("species")},{"9202fdf8a23f6674":"jiIFu"}],"45PgI":[function(e,t,i){e("75b48d0f3b5ea4e1")("split")},{"75b48d0f3b5ea4e1":"jiIFu"}],bJ9qS:[function(e,t,i){var n=e("66e19094d20833e6"),r=e("24c2fb6481a71c59");n("toPrimitive"),r()},{"66e19094d20833e6":"jiIFu","24c2fb6481a71c59":"3ujL7"}],"3tmT4":[function(e,t,i){var n=e("79fc56cab59273aa"),r=e("f48b67430238cd9f"),s=e("94b18c3989610f3b");r("toStringTag"),s(n("Symbol"),"Symbol")},{"79fc56cab59273aa":"e5ie6",f48b67430238cd9f:"jiIFu","94b18c3989610f3b":"dkhk9"}],lbpGg:[function(e,t,i){e("37a7f6188e0dd54c")("unscopables")},{"37a7f6188e0dd54c":"jiIFu"}],hHHDm:[function(e,t,i){var n=e("c0a4dac4d644e47f"),r=e("b489e7fad8c9deb0"),s=e("3d203ffd073cb1e2"),a=e("1e58971abde3215a"),o="WebAssembly",h=r[o],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var i={};i[e]=a(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},i)},u=function(e,t){if(h&&h[e]){var i={};i[e]=a(o+"."+e,t,c),n({target:o,stat:!0,constructor:!0,arity:1,forced:c},i)}};l("Error",function(e){return function(t){return s(e,this,arguments)}}),l("EvalError",function(e){return function(t){return s(e,this,arguments)}}),l("RangeError",function(e){return function(t){return s(e,this,arguments)}}),l("ReferenceError",function(e){return function(t){return s(e,this,arguments)}}),l("SyntaxError",function(e){return function(t){return s(e,this,arguments)}}),l("TypeError",function(e){return function(t){return s(e,this,arguments)}}),l("URIError",function(e){return function(t){return s(e,this,arguments)}}),u("CompileError",function(e){return function(t){return s(e,this,arguments)}}),u("LinkError",function(e){return function(t){return s(e,this,arguments)}}),u("RuntimeError",function(e){return function(t){return s(e,this,arguments)}})},{c0a4dac4d644e47f:"gJg5v",b489e7fad8c9deb0:"7Z171","3d203ffd073cb1e2":"2fjXG","1e58971abde3215a":"ja1ZQ"}],ja1ZQ:[function(e,t,i){var n=e("a06eacb797618572"),r=e("665a8da8d6942429"),s=e("1eafe025967456f7"),a=e("56a7065490020014"),o=e("4950e85505e95dbc"),h=e("6c7bc1a190dc31c1"),c=e("84e57d08170f4fac"),l=e("a85bdac1120897b"),u=e("efb60f912a162fda"),d=e("30c8c4978beb6a3c"),f=e("f4c1a33f96dc17e0"),p=e("9afe587c962877da"),g=e("74e210db508a9809");t.exports=function(e,t,i,m){var v="stackTraceLimit",y=m?2:1,b=e.split("."),x=b[b.length-1],E=n.apply(null,b);if(E){var w=E.prototype;if(!g&&r(w,"cause")&&delete w.cause,!i)return E;var T=n("Error"),S=t(function(e,t){var i=u(m?t:e,void 0),n=m?new E(e):new E;return void 0!==i&&s(n,"message",i),f(n,S,n.stack,2),this&&a(w,this)&&l(n,this,S),arguments.length>y&&d(n,arguments[y]),n});if(S.prototype=w,"Error"!==x?o?o(S,T):h(S,T,{name:!0}):p&&v in E&&(c(S,E,v),c(S,E,"prepareStackTrace")),h(S,E),!g)try{w.name!==x&&s(w,"name",x),w.constructor=S}catch(e){}return S}}},{a06eacb797618572:"e5ie6","665a8da8d6942429":"9JWVX","1eafe025967456f7":"gKM90","56a7065490020014":"d5bNd","4950e85505e95dbc":"arrdQ","6c7bc1a190dc31c1":"d9xyM","84e57d08170f4fac":"7fWkz",a85bdac1120897b:"30not",efb60f912a162fda:"dwhvK","30c8c4978beb6a3c":"5QVLO",f4c1a33f96dc17e0:"1H0Ar","9afe587c962877da":"6mXK1","74e210db508a9809":"jHRGA"}],arrdQ:[function(e,t,i){var n=e("995a94425a563d6"),r=e("caa27fe2635f1f44"),s=e("a751660a0fcdf70"),a=e("6e2c833ee2a62cf6");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.prototype,"__proto__","set"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return s(i),a(n),r(i)&&(t?e(i,n):i.__proto__=n),i}}():void 0)},{"995a94425a563d6":"j4YhT",caa27fe2635f1f44:"8mxCV",a751660a0fcdf70:"cHxZN","6e2c833ee2a62cf6":"hEWXk"}],j4YhT:[function(e,t,i){var n=e("27a2d181325e1926"),r=e("36b26076b1e2fac1");t.exports=function(e,t,i){try{return n(r(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}}},{"27a2d181325e1926":"2iJ57","36b26076b1e2fac1":"alrlv"}],hEWXk:[function(e,t,i){var n=e("fcc5bbb526d602c6"),r=String,s=TypeError;t.exports=function(e){if(n(e))return e;throw new s("Can't set "+r(e)+" as a prototype")}},{fcc5bbb526d602c6:"6XW5L"}],"6XW5L":[function(e,t,i){var n=e("a504c97d35bacd6c");t.exports=function(e){return n(e)||null===e}},{a504c97d35bacd6c:"8mxCV"}],"7fWkz":[function(e,t,i){var n=e("e52fa9ee07db5896").f;t.exports=function(e,t,i){i in e||n(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},{e52fa9ee07db5896:"hvqCQ"}],"30not":[function(e,t,i){var n=e("9f474ed504af79a9"),r=e("bd2a6951ff768696"),s=e("972057e738a2788f");t.exports=function(e,t,i){var a,o;return s&&n(a=t.constructor)&&a!==i&&r(o=a.prototype)&&o!==i.prototype&&s(e,o),e}},{"9f474ed504af79a9":"h1Wnr",bd2a6951ff768696:"8mxCV","972057e738a2788f":"arrdQ"}],dwhvK:[function(e,t,i){var n=e("c9fe0c0d0cc00953");t.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},{c9fe0c0d0cc00953:"4x6uB"}],"5QVLO":[function(e,t,i){var n=e("b476c95c984a6a8d"),r=e("3c6bf72ab0382560");t.exports=function(e,t){n(t)&&"cause"in t&&r(e,"cause",t.cause)}},{b476c95c984a6a8d:"8mxCV","3c6bf72ab0382560":"gKM90"}],"1H0Ar":[function(e,t,i){var n=e("6a8c56dba61494ec"),r=e("a58d6d3fbc24091c"),s=e("13a68d58956ea123"),a=Error.captureStackTrace;t.exports=function(e,t,i,o){s&&(a?a(e,t):n(e,"stack",r(i,o)))}},{"6a8c56dba61494ec":"gKM90",a58d6d3fbc24091c:"7dart","13a68d58956ea123":"3Scc5"}],"7dart":[function(e,t,i){var n=e("eabcb03034bf2114"),r=Error,s=n("".replace),a=String(new r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,h=o.test(a);t.exports=function(e,t){if(h&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=s(e,o,"");return e}},{eabcb03034bf2114:"2iJ57"}],"3Scc5":[function(e,t,i){var n=e("89db331f671f42e0"),r=e("df11a3c4166c3491");t.exports=!n(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)})},{"89db331f671f42e0":"cXVrS",df11a3c4166c3491:"5toj2"}],aSTrG:[function(e,t,i){var n=e("f781bd5f2d18cfa7"),r=e("3eb4aef2f58a6fea"),s=Error.prototype;s.toString!==r&&n(s,"toString",r)},{f781bd5f2d18cfa7:"4CPdc","3eb4aef2f58a6fea":"9hDDf"}],"9hDDf":[function(e,t,i){var n=e("ea2a4236860a8cd8"),r=e("e3d0938fe2af7a6b"),s=e("10baca5ba543cdd8"),a=e("b4dc1328db6268c"),o=Error.prototype.toString,h=r(function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==o.call(e))return!0}return"2: 1"!==o.call({message:1,name:2})||"Error"!==o.call({})});t.exports=h?function(){var e=s(this),t=a(e.name,"Error"),i=a(e.message);return t?i?t+": "+i:t:i}:o},{ea2a4236860a8cd8:"6mXK1",e3d0938fe2af7a6b:"cXVrS","10baca5ba543cdd8":"dPzbI",b4dc1328db6268c:"dwhvK"}],"8nyV3":[function(e,t,i){e("84cae8994b2a2f5")},{"84cae8994b2a2f5":"esMFt"}],esMFt:[function(e,t,i){var n=e("c0cc68e328095af5"),r=e("faa2bddf0ac478ea"),s=e("4413a40f7d436a10"),a=e("6bef4cb0d407baac"),o=e("16d669a6cb07e14c"),h=e("44313d9c6ae01d88"),c=e("fa987207071f401e"),l=e("e46f2df37a9caee7"),u=e("6f34595d479a3d16"),d=e("971d0ec70b5cd696"),f=e("8cb104a68ce09b9a"),p=e("57c5336285df243"),g=e("2e2daca8a25d7233")("toStringTag"),m=Error,v=[].push,y=function(e,t){var i,n=r(b,this);a?i=a(new m,n?s(this):b):c(i=n?this:h(b),g,"Error"),void 0!==t&&c(i,"message",p(t)),d(i,y,i.stack,1),arguments.length>2&&u(i,arguments[2]);var o=[];return f(e,v,{that:o}),c(i,"errors",o),i};a?a(y,m):o(y,m,{name:!0});var b=y.prototype=h(m.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},{c0cc68e328095af5:"gJg5v",faa2bddf0ac478ea:"d5bNd","4413a40f7d436a10":"e8mfS","6bef4cb0d407baac":"arrdQ","16d669a6cb07e14c":"d9xyM","44313d9c6ae01d88":"7isQ3",fa987207071f401e:"gKM90",e46f2df37a9caee7:"5toj2","6f34595d479a3d16":"5QVLO","971d0ec70b5cd696":"1H0Ar","8cb104a68ce09b9a":"dCEHX","57c5336285df243":"dwhvK","2e2daca8a25d7233":"5CuF7"}],e8mfS:[function(e,t,i){var n=e("da54a59ea207dd"),r=e("71ab2a7bcc8c8fc8"),s=e("7a3afd2bb40b0292"),a=e("296d7a2db8e23969"),o=e("58de29d5e883862f"),h=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=o?c.getPrototypeOf:function(e){var t=s(e);if(n(t,h))return t[h];var i=t.constructor;return r(i)&&t instanceof i?i.prototype:t instanceof c?l:null}},{da54a59ea207dd:"9JWVX","71ab2a7bcc8c8fc8":"h1Wnr","7a3afd2bb40b0292":"6oQEu","296d7a2db8e23969":"k5X1l","58de29d5e883862f":"2SHZm"}],"2SHZm":[function(e,t,i){var n=e("85ffc28af2e8afc1");t.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"85ffc28af2e8afc1":"cXVrS"}],dCEHX:[function(e,t,i){var n=e("2f267ed50e670495"),r=e("c0af58bb1ef1cc62"),s=e("7fa6542c03ca9239"),a=e("fa596d1a4c07b72a"),o=e("fd753cc641a6f10a"),h=e("2a15dee148d3db96"),c=e("417f9a13deeb58a6"),l=e("43af53be1b24dae5"),u=e("bf7ad32b21aed0b4"),d=e("5241389e1d6eeb73"),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;t.exports=function(e,t,i){var m,v,y,b,x,E,w,T=i&&i.that,S=!!(i&&i.AS_ENTRIES),A=!!(i&&i.IS_RECORD),C=!!(i&&i.IS_ITERATOR),_=!!(i&&i.INTERRUPTED),I=n(t,T),O=function(e){return m&&d(m,"normal",e),new p(!0,e)},P=function(e){return S?(s(e),_?I(e[0],e[1],O):I(e[0],e[1])):_?I(e,O):I(e)};if(A)m=e.iterator;else if(C)m=e;else{if(!(v=u(e)))throw new f(a(e)+" is not iterable");if(o(v)){for(y=0,b=h(e);b>y;y++)if((x=P(e[y]))&&c(g,x))return x;return new p(!1)}m=l(e,v)}for(E=A?e.next:m.next;!(w=r(E,m)).done;){try{x=P(w.value)}catch(e){d(m,"throw",e)}if("object"==typeof x&&x&&c(g,x))return x}return new p(!1)}},{"2f267ed50e670495":"f1CxE",c0af58bb1ef1cc62:"bOssl","7fa6542c03ca9239":"dPzbI",fa596d1a4c07b72a:"3zerS",fd753cc641a6f10a:"88nHe","2a15dee148d3db96":"kHSes","417f9a13deeb58a6":"d5bNd","43af53be1b24dae5":"kBMjp",bf7ad32b21aed0b4:"3624P","5241389e1d6eeb73":"58eij"}],"88nHe":[function(e,t,i){var n=e("85b004b6ab4bc5da"),r=e("6de391ad2976ca02"),s=n("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||a[s]===e)}},{"85b004b6ab4bc5da":"5CuF7","6de391ad2976ca02":"bABtS"}],bABtS:[function(e,t,i){t.exports={}},{}],kBMjp:[function(e,t,i){var n=e("132ebf774107ae29"),r=e("e248489b4825ceb7"),s=e("18a343d2ef625577"),a=e("7e576a1564cef99e"),o=e("4a7b0311be0471b2"),h=TypeError;t.exports=function(e,t){var i=arguments.length<2?o(e):t;if(r(i))return s(n(i,e));throw new h(a(e)+" is not iterable")}},{"132ebf774107ae29":"bOssl",e248489b4825ceb7:"alrlv","18a343d2ef625577":"dPzbI","7e576a1564cef99e":"3zerS","4a7b0311be0471b2":"3624P"}],"3624P":[function(e,t,i){var n=e("32d61dafd81dde78"),r=e("84e24a6ac7559d3a"),s=e("f0707282c0d93eeb"),a=e("1c181d5c49efd5d1"),o=e("d10d0e0ae49498c5")("iterator");t.exports=function(e){if(!s(e))return r(e,o)||r(e,"@@iterator")||a[n(e)]}},{"32d61dafd81dde78":"cRCRk","84e24a6ac7559d3a":"2qR8N",f0707282c0d93eeb:"8AxCV","1c181d5c49efd5d1":"bABtS",d10d0e0ae49498c5:"5CuF7"}],"58eij":[function(e,t,i){var n=e("a4a3a7d4a45c4219"),r=e("feb876e7da2df7bd"),s=e("2e660cdfabd9c61f");t.exports=function(e,t,i){var a,o;r(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw i;return i}a=n(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw i;if(o)throw a;return r(a),i}},{a4a3a7d4a45c4219:"bOssl",feb876e7da2df7bd:"dPzbI","2e660cdfabd9c61f":"2qR8N"}],j1ABh:[function(e,t,i){var n=e("1051ab5946792444"),r=e("901806552daaa9d1"),s=e("c2da5f9111ec0d0d"),a=e("bbf9283d8426dd54"),o=e("2df6383956d55950"),h="AggregateError",c=r(h),l=!a(function(){return 1!==c([1]).errors[0]})&&a(function(){return 7!==c([1],h,{cause:7}).cause});n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:o(h,function(e){return function(t,i){return s(e,this,arguments)}},l,!0)})},{"1051ab5946792444":"gJg5v","901806552daaa9d1":"e5ie6",c2da5f9111ec0d0d:"2fjXG",bbf9283d8426dd54:"cXVrS","2df6383956d55950":"ja1ZQ"}],"3LJSA":[function(e,t,i){var n=e("17b6274b31efea6a"),r=e("bd1f09a15df9c54b"),s=e("aeeef420262f9436"),a=e("d3a5a5518b6afdf1"),o=e("a3c99fc0a91390b5");n({target:"Array",proto:!0},{at:function(e){var t=r(this),i=s(t),n=a(e),o=n>=0?n:i+n;return o<0||o>=i?void 0:t[o]}}),o("at")},{"17b6274b31efea6a":"gJg5v",bd1f09a15df9c54b:"6oQEu",aeeef420262f9436:"kHSes",d3a5a5518b6afdf1:"gAgUH",a3c99fc0a91390b5:"4jzvR"}],"4jzvR":[function(e,t,i){var n=e("d4032cdcc50314e7"),r=e("3ca2a6909ac2dcef"),s=e("545ab457bf71d338").f,a=n("unscopables"),o=Array.prototype;void 0===o[a]&&s(o,a,{configurable:!0,value:r(null)}),t.exports=function(e){o[a][e]=!0}},{d4032cdcc50314e7:"5CuF7","3ca2a6909ac2dcef":"7isQ3","545ab457bf71d338":"hvqCQ"}],jYNHr:[function(e,t,i){var n=e("ae9bcc3c886d2e43"),r=e("320b7f8f99977d72"),s=e("c9c4d35908c64a9b"),a=e("e40ffb4fd8cdd6ef"),o=e("600c6b55241cb08d"),h=e("c35064fc908d412e"),c=e("d3e233a6dd5508d7"),l=e("4da7fb5e70719532"),u=e("706ee6e3130d3c44"),d=e("76c3a5d37e98bd2f"),f=e("210a9ec1468bd8f4"),p=e("64448af9c74a3ff5"),g=f("isConcatSpreadable"),m=p>=51||!r(function(){var e=[];return e[g]=!1,e.concat()[0]!==e}),v=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:s(e)};n({target:"Array",proto:!0,arity:1,forced:!m||!d("concat")},{concat:function(e){var t,i,n,r,s,a=o(this),d=u(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?a:arguments[t],v(s))for(c(f+(r=h(s))),i=0;i<r;i++,f++)i in s&&l(d,f,s[i]);else c(f+1),l(d,f++,s);return d.length=f,d}})},{ae9bcc3c886d2e43:"gJg5v","320b7f8f99977d72":"cXVrS",c9c4d35908c64a9b:"7GYYD",e40ffb4fd8cdd6ef:"8mxCV","600c6b55241cb08d":"6oQEu",c35064fc908d412e:"kHSes",d3e233a6dd5508d7:"6TggQ","4da7fb5e70719532":"SVTZV","706ee6e3130d3c44":"kfoQr","76c3a5d37e98bd2f":"ca1EV","210a9ec1468bd8f4":"5CuF7","64448af9c74a3ff5":"co76c"}],"6TggQ":[function(e,t,i){var n=TypeError;t.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},{}],SVTZV:[function(e,t,i){var n=e("667a2d5a858194a6"),r=e("2daa2f41b7310fd4"),s=e("7bb9efd811e3f83f");t.exports=function(e,t,i){n?r.f(e,t,s(0,i)):e[t]=i}},{"667a2d5a858194a6":"6mXK1","2daa2f41b7310fd4":"hvqCQ","7bb9efd811e3f83f":"5toj2"}],ca1EV:[function(e,t,i){var n=e("bbe4de7ca7a1c6be"),r=e("6cb3e4ca309911dc"),s=e("4d1dd9e6baf7a81f"),a=r("species");t.exports=function(e){return s>=51||!n(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{bbe4de7ca7a1c6be:"cXVrS","6cb3e4ca309911dc":"5CuF7","4d1dd9e6baf7a81f":"co76c"}],"9D9sM":[function(e,t,i){var n=e("4890937a7e7c636b"),r=e("7256897b95da01b3"),s=e("4c4cc4b0d9ea98ec");n({target:"Array",proto:!0},{copyWithin:r}),s("copyWithin")},{"4890937a7e7c636b":"gJg5v","7256897b95da01b3":"toMXb","4c4cc4b0d9ea98ec":"4jzvR"}],toMXb:[function(e,t,i){var n=e("67e19c72f7fbebd0"),r=e("5063d303bf924d87"),s=e("e3d01b6d6197aedd"),a=e("6ffaf2643c0abf62"),o=Math.min;t.exports=[].copyWithin||function(e,t){var i=n(this),h=s(i),c=r(e,h),l=r(t,h),u=arguments.length>2?arguments[2]:void 0,d=o((void 0===u?h:r(u,h))-l,h-c),f=1;for(l<c&&c<l+d&&(f=-1,l+=d-1,c+=d-1);d-- >0;)l in i?i[c]=i[l]:a(i,c),c+=f,l+=f;return i}},{"67e19c72f7fbebd0":"6oQEu","5063d303bf924d87":"47gaI",e3d01b6d6197aedd:"kHSes","6ffaf2643c0abf62":"hb7MO"}],hb7MO:[function(e,t,i){var n=e("49f65044bb4dad7f"),r=TypeError;t.exports=function(e,t){if(!delete e[t])throw new r("Cannot delete property "+n(t)+" of "+n(e))}},{"49f65044bb4dad7f":"3zerS"}],c1k6c:[function(e,t,i){var n=e("c1238b63d9c8719e"),r=e("f6644a21f0f5983").every;n({target:"Array",proto:!0,forced:!e("8bc22f42d8ee353c")("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{c1238b63d9c8719e:"gJg5v",f6644a21f0f5983:"daQdc","8bc22f42d8ee353c":"lz8BN"}],lz8BN:[function(e,t,i){var n=e("77f0d106558781f");t.exports=function(e,t){var i=[][e];return!!i&&n(function(){i.call(null,t||function(){return 1},1)})}},{"77f0d106558781f":"cXVrS"}],lbPxO:[function(e,t,i){var n=e("52cb142d804aabd3"),r=e("daf335b8230cfcc7"),s=e("3e31c661bed82a2d");n({target:"Array",proto:!0},{fill:r}),s("fill")},{"52cb142d804aabd3":"gJg5v",daf335b8230cfcc7:"9XPgi","3e31c661bed82a2d":"4jzvR"}],"9XPgi":[function(e,t,i){var n=e("45e35cf118865951"),r=e("ae17acf5d72570ed"),s=e("94aaef7256431b15");t.exports=function(e){for(var t=n(this),i=s(t),a=arguments.length,o=r(a>1?arguments[1]:void 0,i),h=a>2?arguments[2]:void 0,c=void 0===h?i:r(h,i);c>o;)t[o++]=e;return t}},{"45e35cf118865951":"6oQEu",ae17acf5d72570ed:"47gaI","94aaef7256431b15":"kHSes"}],jKklH:[function(e,t,i){var n=e("a465bc55e057d26f"),r=e("fa9926c68c33923f").filter;n({target:"Array",proto:!0,forced:!e("9232c94be2f9c639")("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{a465bc55e057d26f:"gJg5v",fa9926c68c33923f:"daQdc","9232c94be2f9c639":"ca1EV"}],lMNyP:[function(e,t,i){var n=e("a6cb3a492b52d21c"),r=e("ad97e1511b32e588").find,s=e("62fd950aac3d5249"),a="find",o=!0;a in[]&&[,][a](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},{a6cb3a492b52d21c:"gJg5v",ad97e1511b32e588:"daQdc","62fd950aac3d5249":"4jzvR"}],hPNfA:[function(e,t,i){var n=e("dcce3e96aeb32c26"),r=e("25f2fe0b92321096").findIndex,s=e("1c93cc746ac8ffb1"),a="findIndex",o=!0;a in[]&&[,][a](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},{dcce3e96aeb32c26:"gJg5v","25f2fe0b92321096":"daQdc","1c93cc746ac8ffb1":"4jzvR"}],fURyF:[function(e,t,i){var n=e("7c9570dd28371e00"),r=e("43d20d51fd072b05").findLast,s=e("8c5f13eb9efbfd84");n({target:"Array",proto:!0},{findLast:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("findLast")},{"7c9570dd28371e00":"gJg5v","43d20d51fd072b05":"cyWXz","8c5f13eb9efbfd84":"4jzvR"}],cyWXz:[function(e,t,i){var n=e("c1d87d2297f1acca"),r=e("e5df4a29c897e724"),s=e("42c314ae435e3665"),a=e("a64fff03b4e929f6"),o=function(e){var t=1===e;return function(i,o,h){for(var c,l=s(i),u=r(l),d=a(u),f=n(o,h);d-- >0;)if(f(c=u[d],d,l))switch(e){case 0:return c;case 1:return d}return t?-1:void 0}};t.exports={findLast:o(0),findLastIndex:o(1)}},{c1d87d2297f1acca:"f1CxE",e5df4a29c897e724:"kuAas","42c314ae435e3665":"6oQEu",a64fff03b4e929f6:"kHSes"}],"6XyUS":[function(e,t,i){var n=e("bba50227ea399df7"),r=e("c196d65aab15955b").findLastIndex,s=e("5f02d29251865622");n({target:"Array",proto:!0},{findLastIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("findLastIndex")},{bba50227ea399df7:"gJg5v",c196d65aab15955b:"cyWXz","5f02d29251865622":"4jzvR"}],d83iu:[function(e,t,i){var n=e("eea83811f9bf5b44"),r=e("d9157408980dcae4"),s=e("1603b1d7d71c6d78"),a=e("95d7017c9e9cedeb"),o=e("9b0770c8bd20c0f9"),h=e("4c36764bcb49234f");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),i=a(t),n=h(t,0);return n.length=r(n,t,t,i,0,void 0===e?1:o(e)),n}})},{eea83811f9bf5b44:"gJg5v",d9157408980dcae4:"2QW86","1603b1d7d71c6d78":"6oQEu","95d7017c9e9cedeb":"kHSes","9b0770c8bd20c0f9":"gAgUH","4c36764bcb49234f":"kfoQr"}],"2QW86":[function(e,t,i){var n=e("ebb82f00ac94e25c"),r=e("d2ce61b77ec49b3f"),s=e("d3f4210cd620e3d6"),a=e("a7c8b8651480c6c9"),o=function(e,t,i,h,c,l,u,d){for(var f,p,g=c,m=0,v=!!u&&a(u,d);m<h;)m in i&&(f=v?v(i[m],m,t):i[m],l>0&&n(f)?(p=r(f),g=o(e,t,f,p,g,l-1)-1):(s(g+1),e[g]=f),g++),m++;return g};t.exports=o},{ebb82f00ac94e25c:"7GYYD",d2ce61b77ec49b3f:"kHSes",d3f4210cd620e3d6:"6TggQ",a7c8b8651480c6c9:"f1CxE"}],lc4NN:[function(e,t,i){var n=e("e4ee3b9d2bc1ffb2"),r=e("378c1e23131cdaae"),s=e("74e7f70118e2a778"),a=e("1a2d0561d09775b8"),o=e("f7bbb0ab5ee7446c"),h=e("51d35c0066e59cdb");n({target:"Array",proto:!0},{flatMap:function(e){var t,i=a(this),n=o(i);return s(e),(t=h(i,0)).length=r(t,i,i,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},{e4ee3b9d2bc1ffb2:"gJg5v","378c1e23131cdaae":"2QW86","74e7f70118e2a778":"alrlv","1a2d0561d09775b8":"6oQEu",f7bbb0ab5ee7446c:"kHSes","51d35c0066e59cdb":"kfoQr"}],gjqcj:[function(e,t,i){var n=e("214b5a111591d046"),r=e("658aa5ae0eee38b0");n({target:"Array",proto:!0,forced:[].forEach!==r},{forEach:r})},{"214b5a111591d046":"gJg5v","658aa5ae0eee38b0":"4w3Nn"}],"4w3Nn":[function(e,t,i){var n=e("1a0535b754110eb5").forEach,r=e("df61bc1b7a92de0f")("forEach");t.exports=r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},{"1a0535b754110eb5":"daQdc",df61bc1b7a92de0f:"lz8BN"}],j3v3L:[function(e,t,i){var n=e("76f1b3b688a029fa"),r=e("55358907c05b685d");n({target:"Array",stat:!0,forced:!e("98fd99047e51c8be")(function(e){Array.from(e)})},{from:r})},{"76f1b3b688a029fa":"gJg5v","55358907c05b685d":"lrrJd","98fd99047e51c8be":"dR8Bu"}],lrrJd:[function(e,t,i){var n=e("c006aee3ec90867f"),r=e("bdaed06b86eeb767"),s=e("ca05db7523b31410"),a=e("47fe223c8f6c2dd5"),o=e("75eba7673a242ae6"),h=e("188dc0b37c140076"),c=e("32c4effc8b33b2c2"),l=e("a6ed280c439df9d0"),u=e("3faaa09a63a90825"),d=e("13cbec27e4dd055f"),f=Array;t.exports=function(e){var t,i,p,g,m,v,y=s(e),b=h(this),x=arguments.length,E=x>1?arguments[1]:void 0,w=void 0!==E;w&&(E=n(E,x>2?arguments[2]:void 0));var T=d(y),S=0;if(T&&!(this===f&&o(T)))for(i=b?new this:[],m=(g=u(y,T)).next;!(p=r(m,g)).done;S++)v=w?a(g,E,[p.value,S],!0):p.value,l(i,S,v);else for(t=c(y),i=b?new this(t):f(t);t>S;S++)v=w?E(y[S],S):y[S],l(i,S,v);return i.length=S,i}},{c006aee3ec90867f:"f1CxE",bdaed06b86eeb767:"bOssl",ca05db7523b31410:"6oQEu","47fe223c8f6c2dd5":"hyn7H","75eba7673a242ae6":"88nHe","188dc0b37c140076":"eytEI","32c4effc8b33b2c2":"kHSes",a6ed280c439df9d0:"SVTZV","3faaa09a63a90825":"kBMjp","13cbec27e4dd055f":"3624P"}],hyn7H:[function(e,t,i){var n=e("4afbb4be48dcf066"),r=e("d24fa1ffea48fa52");t.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){r(e,"throw",t)}}},{"4afbb4be48dcf066":"dPzbI",d24fa1ffea48fa52:"58eij"}],dR8Bu:[function(e,t,i){var n=e("a5154de5c7fcf21e")("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[n]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}t.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var i=!1;try{var s={};s[n]=function(){return{next:function(){return{done:i=!0}}}},e(s)}catch(e){}return i}},{a5154de5c7fcf21e:"5CuF7"}],"3rrfH":[function(e,t,i){var n=e("ffa5d46bdab873f9"),r=e("abe71b6f5a2c149").includes,s=e("119354898116a770"),a=e("9a828f869e1adf81");n({target:"Array",proto:!0,forced:s(function(){return![,].includes()})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{ffa5d46bdab873f9:"gJg5v",abe71b6f5a2c149:"7HT32","119354898116a770":"cXVrS","9a828f869e1adf81":"4jzvR"}],b10MD:[function(e,t,i){var n=e("9d4bf984c01e8ef7"),r=e("ff94ec157dbe45f"),s=e("84db9b100b66a9f4").indexOf,a=e("928c12f9f760e965"),o=r([].indexOf),h=!!o&&1/o([1],1,-0)<0;n({target:"Array",proto:!0,forced:h||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return h?o(this,e,t)||0:s(this,e,t)}})},{"9d4bf984c01e8ef7":"gJg5v",ff94ec157dbe45f:"c4z5p","84db9b100b66a9f4":"7HT32","928c12f9f760e965":"lz8BN"}],"2JgXG":[function(e,t,i){e("e1a67b4aafecad9a")({target:"Array",stat:!0},{isArray:e("1fa49986380c79ad")})},{e1a67b4aafecad9a:"gJg5v","1fa49986380c79ad":"7GYYD"}],"3prNk":[function(e,t,i){var n=e("c8e067881939a0cb"),r=e("275b8f0cb65b77aa"),s=e("21f4d3653c90f049"),a=e("85efa8d5848315f6"),o=e("94a17682acfdceb4").f,h=e("bb30bdef31147b17"),c=e("d8384af5151f994c"),l=e("fdcc207797f592fe"),u=e("11e42ff2bbda8d0a"),d="Array Iterator",f=a.set,p=a.getterFor(d);t.exports=h(Array,"Array",function(e,t){f(this,{type:d,target:n(e),index:0,kind:t})},function(){var e=p(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=null,c(void 0,!0);switch(e.kind){case"keys":return c(i,!1);case"values":return c(t[i],!1)}return c([i,t[i]],!1)},"values");var g=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!l&&u&&"values"!==g.name)try{o(g,"name",{value:"values"})}catch(e){}},{c8e067881939a0cb:"h9ut0","275b8f0cb65b77aa":"4jzvR","21f4d3653c90f049":"bABtS","85efa8d5848315f6":"ixHS2","94a17682acfdceb4":"hvqCQ",bb30bdef31147b17:"klSVb",d8384af5151f994c:"dwU83",fdcc207797f592fe:"jHRGA","11e42ff2bbda8d0a":"6mXK1"}],klSVb:[function(e,t,i){var n=e("923c1bf4a39ae90c"),r=e("46a3f73465955199"),s=e("c1577e63189cf935"),a=e("dc625e1bb584faf6"),o=e("d55d91c410baca17"),h=e("3e4ae607dbb6e78b"),c=e("48ca4ae1d4998232"),l=e("1263258b63630933"),u=e("9b61caf69f87dfde"),d=e("7f30a3ab1bf5e1c1"),f=e("c027b4da648348d3"),p=e("d4ad91965213ee1"),g=e("b616a206eb405268"),m=e("4f9ec7e9f5d20965"),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),w="keys",T="values",S="entries",A=function(){return this};t.exports=function(e,t,i,a,p,m,C){h(i,t,a);var _,I,O,P=function(e){if(e===p&&k)return k;if(!x&&e&&e in L)return L[e];switch(e){case w:case T:case S:return function(){return new i(this,e)}}return function(){return new i(this)}},M=t+" Iterator",R=!1,L=e.prototype,D=L[E]||L["@@iterator"]||p&&L[p],k=!x&&D||P(p),N="Array"===t&&L.entries||D;if(N&&(_=c(N.call(new e)))!==Object.prototype&&_.next&&(s||c(_)===b||(l?l(_,b):o(_[E])||f(_,E,A)),u(_,M,!0,!0),s&&(g[M]=A)),v&&p===T&&D&&D.name!==T&&(!s&&y?d(L,"name",T):(R=!0,k=function(){return r(D,this)})),p){if(I={values:P(T),keys:m?k:P(w),entries:P(S)},C)for(O in I)!x&&!R&&O in L||f(L,O,I[O]);else n({target:t,proto:!0,forced:x||R},I)}return(!s||C)&&L[E]!==k&&f(L,E,k,{name:p}),g[t]=k,I}},{"923c1bf4a39ae90c":"gJg5v","46a3f73465955199":"bOssl",c1577e63189cf935:"jHRGA",dc625e1bb584faf6:"jmu0n",d55d91c410baca17:"h1Wnr","3e4ae607dbb6e78b":"1Abii","48ca4ae1d4998232":"e8mfS","1263258b63630933":"arrdQ","9b61caf69f87dfde":"dkhk9","7f30a3ab1bf5e1c1":"gKM90",c027b4da648348d3:"4CPdc",d4ad91965213ee1:"5CuF7",b616a206eb405268:"bABtS","4f9ec7e9f5d20965":"6nE00"}],"1Abii":[function(e,t,i){var n=e("6d3197d79123a33d").IteratorPrototype,r=e("f19338a88747fb05"),s=e("cc176dfbf6ea0553"),a=e("bc433e6ab6880430"),o=e("2f833e0e1738e7e0"),h=function(){return this};t.exports=function(e,t,i,c){var l=t+" Iterator";return e.prototype=r(n,{next:s(+!c,i)}),a(e,l,!1,!0),o[l]=h,e}},{"6d3197d79123a33d":"6nE00",f19338a88747fb05:"7isQ3",cc176dfbf6ea0553:"5toj2",bc433e6ab6880430:"dkhk9","2f833e0e1738e7e0":"bABtS"}],"6nE00":[function(e,t,i){var n,r,s,a=e("cdb9dcd93b52b3fc"),o=e("db955145706fc55a"),h=e("83e5df3d56e8834f"),c=e("45d6f1a3c372cdf6"),l=e("a97459767d74fdc3"),u=e("3bdf78f362001d7c"),d=e("d3901e60df7842c9"),f=e("e736fd193ddc96e5"),p=d("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(r=l(l(s)))!==Object.prototype&&(n=r):g=!0),!h(n)||a(function(){var e={};return n[p].call(e)!==e})?n={}:f&&(n=c(n)),o(n[p])||u(n,p,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},{cdb9dcd93b52b3fc:"cXVrS",db955145706fc55a:"h1Wnr","83e5df3d56e8834f":"8mxCV","45d6f1a3c372cdf6":"7isQ3",a97459767d74fdc3:"e8mfS","3bdf78f362001d7c":"4CPdc",d3901e60df7842c9:"5CuF7",e736fd193ddc96e5:"jHRGA"}],dwU83:[function(e,t,i){t.exports=function(e,t){return{value:e,done:t}}},{}],le1uL:[function(e,t,i){var n=e("1fd3a81d59354079"),r=e("878a42cfd07db75d"),s=e("c417af28e9abb2b"),a=e("cdcc2dbc58a28c02"),o=e("733e226e143494d1"),h=r([].join);n({target:"Array",proto:!0,forced:s!==Object||!o("join",",")},{join:function(e){return h(a(this),void 0===e?",":e)}})},{"1fd3a81d59354079":"gJg5v","878a42cfd07db75d":"2iJ57",c417af28e9abb2b:"kuAas",cdcc2dbc58a28c02:"h9ut0","733e226e143494d1":"lz8BN"}],eli4M:[function(e,t,i){var n=e("962fe7a81cad1a6"),r=e("9a92cbcc02ff28cd");n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},{"962fe7a81cad1a6":"gJg5v","9a92cbcc02ff28cd":"cfsWk"}],cfsWk:[function(e,t,i){var n=e("4ca7787412cb919d"),r=e("883419ed27232d44"),s=e("ec6d0c7c9b243b67"),a=e("f185a9d11d03524a"),o=e("6d58dcee43d16a4d"),h=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,u=o("lastIndexOf");t.exports=l||!u?function(e){if(l)return n(c,this,arguments)||0;var t=r(this),i=a(t);if(0===i)return -1;var o=i-1;for(arguments.length>1&&(o=h(o,s(arguments[1]))),o<0&&(o=i+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return -1}:c},{"4ca7787412cb919d":"2fjXG","883419ed27232d44":"h9ut0",ec6d0c7c9b243b67:"gAgUH",f185a9d11d03524a:"kHSes","6d58dcee43d16a4d":"lz8BN"}],zkrYn:[function(e,t,i){var n=e("5fce1361821ac187"),r=e("a7a3b0905c6ea58c").map;n({target:"Array",proto:!0,forced:!e("869912db050ffcc6")("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"5fce1361821ac187":"gJg5v",a7a3b0905c6ea58c:"daQdc","869912db050ffcc6":"ca1EV"}],"6cM5k":[function(e,t,i){var n=e("c49bbaeadf669473"),r=e("2b7c23018838f50"),s=e("5ca03f92538fd001"),a=e("d87cf2a2bcbb5c2c"),o=Array;n({target:"Array",stat:!0,forced:r(function(){function e(){}return!(o.of.call(e) instanceof e)})},{of:function(){for(var e=0,t=arguments.length,i=new(s(this)?this:o)(t);t>e;)a(i,e,arguments[e++]);return i.length=t,i}})},{c49bbaeadf669473:"gJg5v","2b7c23018838f50":"cXVrS","5ca03f92538fd001":"eytEI",d87cf2a2bcbb5c2c:"SVTZV"}],j9q44:[function(e,t,i){var n=e("b6ccafca6520a091"),r=e("617fddde3018a247"),s=e("59103d39edb4650b"),a=e("92e23121d8e92745"),o=e("e72c330067644bc");n({target:"Array",proto:!0,arity:1,forced:e("a33adf7f040c3b17")(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=r(this),i=s(t),n=arguments.length;o(i+n);for(var h=0;h<n;h++)t[i]=arguments[h],i++;return a(t,i),i}})},{b6ccafca6520a091:"gJg5v","617fddde3018a247":"6oQEu","59103d39edb4650b":"kHSes","92e23121d8e92745":"9nIqG",e72c330067644bc:"6TggQ",a33adf7f040c3b17:"cXVrS"}],"9nIqG":[function(e,t,i){var n=e("dc66120e0129528"),r=e("60f73fd41619acc2"),s=TypeError,a=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();t.exports=o?function(e,t){if(r(e)&&!a(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},{dc66120e0129528:"6mXK1","60f73fd41619acc2":"7GYYD"}],k2yB7:[function(e,t,i){var n=e("aa6d80bc3b697f48"),r=e("1ee240c0462acdf8").left,s=e("161424d627b72094"),a=e("bc7f601de74ac73e");n({target:"Array",proto:!0,forced:!e("fbcc11805e216a7d")&&a>79&&a<83||!s("reduce")},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},{aa6d80bc3b697f48:"gJg5v","1ee240c0462acdf8":"dEdT1","161424d627b72094":"lz8BN",bc7f601de74ac73e:"co76c",fbcc11805e216a7d:"hdoIk"}],dEdT1:[function(e,t,i){var n=e("93e7a99f8d3bc817"),r=e("915d05570b61a3c9"),s=e("da310552be96f5db"),a=e("f4209260f2003c23"),o=TypeError,h="Reduce of empty array with no initial value",c=function(e){return function(t,i,c,l){var u=r(t),d=s(u),f=a(u);if(n(i),0===f&&c<2)throw new o(h);var p=e?f-1:0,g=e?-1:1;if(c<2)for(;;){if(p in d){l=d[p],p+=g;break}if(p+=g,e?p<0:f<=p)throw new o(h)}for(;e?p>=0:f>p;p+=g)p in d&&(l=i(l,d[p],p,u));return l}};t.exports={left:c(!1),right:c(!0)}},{"93e7a99f8d3bc817":"alrlv","915d05570b61a3c9":"6oQEu",da310552be96f5db:"kuAas",f4209260f2003c23:"kHSes"}],hdoIk:[function(e,t,i){var n=e("5fac34e3c4c0e043");t.exports="NODE"===n},{"5fac34e3c4c0e043":"ah0ZS"}],ah0ZS:[function(e,t,i){var n=e("7dc361f46ecde901"),r=e("9f6e24ecbba66a9e"),s=e("a008a59fdc341842"),a=function(e){return r.slice(0,e.length)===e};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},{"7dc361f46ecde901":"7Z171","9f6e24ecbba66a9e":"5hj4U",a008a59fdc341842:"161sQ"}],YvN4R:[function(e,t,i){var n=e("fce4aa67eb1fe4da"),r=e("9bb83011bb72081c").right,s=e("86ebd8f03f19e7b"),a=e("c87ecf8f0d069a25");n({target:"Array",proto:!0,forced:!e("ceeda59dcd941a57")&&a>79&&a<83||!s("reduceRight")},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},{fce4aa67eb1fe4da:"gJg5v","9bb83011bb72081c":"dEdT1","86ebd8f03f19e7b":"lz8BN",c87ecf8f0d069a25:"co76c",ceeda59dcd941a57:"hdoIk"}],eqr1I:[function(e,t,i){var n=e("96e1bf170d634a10"),r=e("ccf1d267c2b85a6"),s=e("683c722e26101e35"),a=r([].reverse),o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),a(this)}})},{"96e1bf170d634a10":"gJg5v",ccf1d267c2b85a6:"2iJ57","683c722e26101e35":"7GYYD"}],gW4UQ:[function(e,t,i){var n=e("f4626508f1e86a5e"),r=e("c55f884cac32042"),s=e("c7ab28f7c42930d4"),a=e("d62f4c68d4a29c88"),o=e("598be77178793bf1"),h=e("f9b9299dc750b2dd"),c=e("ff620c60ded20435"),l=e("49168568b59df51b"),u=e("f02f140688adf449"),d=e("eb9bbc0536d1f202"),f=e("88cb1064f5f88f9e"),p=d("slice"),g=u("species"),m=Array,v=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var i,n,u,d=c(this),p=h(d),y=o(e,p),b=o(void 0===t?p:t,p);if(r(d)&&(s(i=d.constructor)&&(i===m||r(i.prototype))?i=void 0:a(i)&&null===(i=i[g])&&(i=void 0),i===m||void 0===i))return f(d,y,b);for(u=0,n=new(void 0===i?m:i)(v(b-y,0));y<b;y++,u++)y in d&&l(n,u,d[y]);return n.length=u,n}})},{f4626508f1e86a5e:"gJg5v",c55f884cac32042:"7GYYD",c7ab28f7c42930d4:"eytEI",d62f4c68d4a29c88:"8mxCV","598be77178793bf1":"47gaI",f9b9299dc750b2dd:"kHSes",ff620c60ded20435:"h9ut0","49168568b59df51b":"SVTZV",f02f140688adf449:"5CuF7",eb9bbc0536d1f202:"ca1EV","88cb1064f5f88f9e":"eO8Ta"}],joaAA:[function(e,t,i){var n=e("7d2f6f3fe52919ae"),r=e("b1828f452e0c06d").some;n({target:"Array",proto:!0,forced:!e("2a793f2ccd9f7f4e")("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"7d2f6f3fe52919ae":"gJg5v",b1828f452e0c06d:"daQdc","2a793f2ccd9f7f4e":"lz8BN"}],g2wAi:[function(e,t,i){var n=e("bcbafe2730da3578"),r=e("45fd6781824a0ecc"),s=e("227e835045b72b76"),a=e("d460a9dbedc2e639"),o=e("eb5d266a4b580e05"),h=e("ab9af39e90a45cab"),c=e("2874e3c4ed670355"),l=e("b077ecec4e3b8790"),u=e("b1c0993c5b4a0232"),d=e("fc67c1f531962716"),f=e("5463fbeb0c308d9"),p=e("44ffda3b5c0f4b25"),g=e("f9fbdc3cf34ed30"),m=e("f4067f6b9a5e38cb"),v=[],y=r(v.sort),b=r(v.push),x=l(function(){v.sort(void 0)}),E=l(function(){v.sort(null)}),w=d("sort"),T=!l(function(){if(g)return g<70;if(!f||!(f>3)){if(p)return!0;if(m)return m<603;var e,t,i,n,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)v.push({k:t+n,v:i})}for(v.sort(function(e,t){return t.v-e.v}),n=0;n<v.length;n++)t=v[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}});n({target:"Array",proto:!0,forced:x||!E||!w||!T},{sort:function(e){void 0!==e&&s(e);var t,i,n=a(this);if(T)return void 0===e?y(n):y(n,e);var r=[],l=o(n);for(i=0;i<l;i++)i in n&&b(r,n[i]);for(u(r,function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:c(t)>c(i)?1:-1}),t=o(r),i=0;i<t;)n[i]=r[i++];for(;i<l;)h(n,i++);return n}})},{bcbafe2730da3578:"gJg5v","45fd6781824a0ecc":"2iJ57","227e835045b72b76":"alrlv",d460a9dbedc2e639:"6oQEu",eb5d266a4b580e05:"kHSes",ab9af39e90a45cab:"hb7MO","2874e3c4ed670355":"4x6uB",b077ecec4e3b8790:"cXVrS",b1c0993c5b4a0232:"5Mqp3",fc67c1f531962716:"lz8BN","5463fbeb0c308d9":"inWxb","44ffda3b5c0f4b25":"5I4FT",f9fbdc3cf34ed30:"co76c",f4067f6b9a5e38cb:"1CWLZ"}],"5Mqp3":[function(e,t,i){var n=e("477ba4a4642e124b"),r=Math.floor,s=function(e,t){var i=e.length;if(i<8)for(var a,o,h=1;h<i;){for(o=h,a=e[h];o&&t(e[o-1],a)>0;)e[o]=e[--o];o!==h++&&(e[o]=a)}else for(var c=r(i/2),l=s(n(e,0,c),t),u=s(n(e,c),t),d=l.length,f=u.length,p=0,g=0;p<d||g<f;)e[p+g]=p<d&&g<f?0>=t(l[p],u[g])?l[p++]:u[g++]:p<d?l[p++]:u[g++];return e};t.exports=s},{"477ba4a4642e124b":"eO8Ta"}],inWxb:[function(e,t,i){var n=e("a5aa79c2b523d5ed").match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},{a5aa79c2b523d5ed:"5hj4U"}],"5I4FT":[function(e,t,i){var n=e("e23e24a84dc58074");t.exports=/MSIE|Trident/.test(n)},{e23e24a84dc58074:"5hj4U"}],"1CWLZ":[function(e,t,i){var n=e("b4f554b2b39611d1").match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},{b4f554b2b39611d1:"5hj4U"}],iJYnd:[function(e,t,i){e("42da8ff88dc4c1c4")("Array")},{"42da8ff88dc4c1c4":"c7jXZ"}],c7jXZ:[function(e,t,i){var n=e("b05e11590de6536b"),r=e("5ccd92fa5628281e"),s=e("5145e81a7788c772"),a=e("19428004aa07279c"),o=s("species");t.exports=function(e){var t=n(e);a&&t&&!t[o]&&r(t,o,{configurable:!0,get:function(){return this}})}},{b05e11590de6536b:"e5ie6","5ccd92fa5628281e":"3NI4M","5145e81a7788c772":"5CuF7","19428004aa07279c":"6mXK1"}],dnmIv:[function(e,t,i){var n=e("fcdd299870ca460d"),r=e("5f536a62c5bdccdf"),s=e("ec98ec63afca6e23"),a=e("d308f711ad345c5e"),o=e("5b3d6eaf0671a489"),h=e("32601ab988fd40d3"),c=e("b495b3fcd17928be"),l=e("f92c3217c97e3529"),u=e("5390d505f7091be7"),d=e("3105e86fb8ab7be"),f=e("68735e235584e669")("splice"),p=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var i,n,f,m,v,y,b=r(this),x=o(b),E=s(e,x),w=arguments.length;for(0===w?i=n=0:1===w?(i=0,n=x-E):(i=w-2,n=g(p(a(t),0),x-E)),c(x+i-n),f=l(b,n),m=0;m<n;m++)(v=E+m)in b&&u(f,m,b[v]);if(f.length=n,i<n){for(m=E;m<x-n;m++)v=m+n,y=m+i,v in b?b[y]=b[v]:d(b,y);for(m=x;m>x-n+i;m--)d(b,m-1)}else if(i>n)for(m=x-n;m>E;m--)v=m+n-1,y=m+i-1,v in b?b[y]=b[v]:d(b,y);for(m=0;m<i;m++)b[m+E]=arguments[m+2];return h(b,x-n+i),f}})},{fcdd299870ca460d:"gJg5v","5f536a62c5bdccdf":"6oQEu",ec98ec63afca6e23:"47gaI",d308f711ad345c5e:"gAgUH","5b3d6eaf0671a489":"kHSes","32601ab988fd40d3":"9nIqG",b495b3fcd17928be:"6TggQ",f92c3217c97e3529:"kfoQr","5390d505f7091be7":"SVTZV","3105e86fb8ab7be":"hb7MO","68735e235584e669":"ca1EV"}],i9xty:[function(e,t,i){var n=e("dcb26709a7ce1aaf"),r=e("9188a72e8fb05720"),s=e("f7666d6cb036e5cf"),a=e("7f063c8e62d2c4bc"),o=Array;n({target:"Array",proto:!0},{toReversed:function(){return r(s(this),o)}}),a("toReversed")},{dcb26709a7ce1aaf:"gJg5v","9188a72e8fb05720":"2dsKr",f7666d6cb036e5cf:"h9ut0","7f063c8e62d2c4bc":"4jzvR"}],"2dsKr":[function(e,t,i){var n=e("da2f237fc4470694");t.exports=function(e,t){for(var i=n(e),r=new t(i),s=0;s<i;s++)r[s]=e[i-s-1];return r}},{da2f237fc4470694:"kHSes"}],iGG3n:[function(e,t,i){var n=e("52ce81dc0a9a443d"),r=e("b27df370ae680d78"),s=e("d484118a239a7fe4"),a=e("c5a21e340982153"),o=e("7c8fdece48b2bb2"),h=e("5901404f2d888ec5"),c=e("ad0abff5cc640cb1"),l=Array,u=r(h("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){return void 0!==e&&s(e),u(o(l,a(this)),e)}}),c("toSorted")},{"52ce81dc0a9a443d":"gJg5v",b27df370ae680d78:"2iJ57",d484118a239a7fe4:"alrlv",c5a21e340982153:"h9ut0","7c8fdece48b2bb2":"5QV4b","5901404f2d888ec5":"6NIFY",ad0abff5cc640cb1:"4jzvR"}],"5QV4b":[function(e,t,i){var n=e("2dee1f257e46a7db");t.exports=function(e,t,i){for(var r=0,s=arguments.length>2?i:n(t),a=new e(s);s>r;)a[r]=t[r++];return a}},{"2dee1f257e46a7db":"kHSes"}],"6NIFY":[function(e,t,i){var n=e("63ff55de103c0dc5");t.exports=function(e,t){var i=n[e],r=i&&i.prototype;return r&&r[t]}},{"63ff55de103c0dc5":"7Z171"}],iJJcs:[function(e,t,i){var n=e("c44d9276f6e49c66"),r=e("ccd8819e12261215"),s=e("95891e25a6f53375"),a=e("71fb5de0045d079d"),o=e("150c173e099ddbe3"),h=e("bc8453913d7979ca"),c=e("a4502cc79d58ffee"),l=Array,u=Math.max,d=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var i,n,r,f,p=h(this),g=a(p),m=o(e,g),v=arguments.length,y=0;for(0===v?i=n=0:1===v?(i=0,n=g-m):(i=v-2,n=d(u(c(t),0),g-m)),f=l(r=s(g+i-n));y<m;y++)f[y]=p[y];for(;y<m+i;y++)f[y]=arguments[y-m+2];for(;y<r;y++)f[y]=p[y+n-i];return f}}),r("toSpliced")},{c44d9276f6e49c66:"gJg5v",ccd8819e12261215:"4jzvR","95891e25a6f53375":"6TggQ","71fb5de0045d079d":"kHSes","150c173e099ddbe3":"47gaI",bc8453913d7979ca:"h9ut0",a4502cc79d58ffee:"gAgUH"}],afcZD:[function(e,t,i){e("38dfe1dec51aa5e")("flat")},{"38dfe1dec51aa5e":"4jzvR"}],dpjAZ:[function(e,t,i){e("a292f2e262c4e9cd")("flatMap")},{a292f2e262c4e9cd:"4jzvR"}],dI1Cn:[function(e,t,i){var n=e("b1f0614c13f2cf4c"),r=e("efdf90907e209c0d"),s=e("7a3a82e1e33fbf71"),a=e("4aef1328332da65a"),o=e("e6ae4b015c0c53de"),h=e("1890691961e2b2d7");n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=r(this),i=s(t),n=arguments.length;if(n){h(i+n);for(var c=i;c--;){var l=c+n;c in t?t[l]=t[c]:o(t,l)}for(var u=0;u<n;u++)t[u]=arguments[u]}return a(t,i+n)}})},{b1f0614c13f2cf4c:"gJg5v",efdf90907e209c0d:"6oQEu","7a3a82e1e33fbf71":"kHSes","4aef1328332da65a":"9nIqG",e6ae4b015c0c53de:"hb7MO","1890691961e2b2d7":"6TggQ"}],"4XBJJ":[function(e,t,i){var n=e("d86bc3b82a987bfe"),r=e("61402c55343416de"),s=e("bc0327accd7b18f0"),a=Array;n({target:"Array",proto:!0},{with:function(e,t){return r(s(this),a,e,t)}})},{d86bc3b82a987bfe:"gJg5v","61402c55343416de":"ebcI0",bc0327accd7b18f0:"h9ut0"}],ebcI0:[function(e,t,i){var n=e("304f31a5544e0a3a"),r=e("639b509ec45617c8"),s=RangeError;t.exports=function(e,t,i,a){var o=n(e),h=r(i),c=h<0?o+h:h;if(c>=o||c<0)throw new s("Incorrect index");for(var l=new t(o),u=0;u<o;u++)l[u]=u===c?a:e[u];return l}},{"304f31a5544e0a3a":"kHSes","639b509ec45617c8":"gAgUH"}],"4u8Zq":[function(e,t,i){var n=e("b5b7367238f03d69"),r=e("c579499e0a76aa10"),s=e("e47ed91aa3516c0b"),a=e("933de36f1a956134"),o="ArrayBuffer",h=s[o];n({global:!0,constructor:!0,forced:r[o]!==h},{ArrayBuffer:h}),a(o)},{b5b7367238f03d69:"gJg5v",c579499e0a76aa10:"7Z171",e47ed91aa3516c0b:"5y3LH","933de36f1a956134":"c7jXZ"}],"5y3LH":[function(e,t,i){var n=e("b2866645d252be10"),r=e("6f1278f8f2a16115"),s=e("82c590a9dd8cc3ac"),a=e("923679fae99d4d2f"),o=e("9840ef06cc46dddb"),h=e("78ca6eb037349755"),c=e("e693d9164e48343"),l=e("649a7a39c0607d74"),u=e("57aab94a1cd1d913"),d=e("7333f43e52f40b38"),f=e("1fd77d2940b4fd75"),p=e("8739fe5c743af579"),g=e("e3fc7a8bc754578a"),m=e("93dd6846d2a65063"),v=e("d85071d33c34155a"),y=e("eae7b83555f02284"),b=e("fd01028813b4814f"),x=e("8fdeb7296fb95696"),E=e("c0dac2bdd3636e95"),w=e("3606a69f7ceacab3"),T=e("5a0e685d057e2415"),S=e("dd3d1adef426fc5"),A=e("ea12fbd2f22b2f25"),C=o.PROPER,_=o.CONFIGURABLE,I="ArrayBuffer",O="DataView",P="prototype",M="Wrong index",R=A.getterFor(I),L=A.getterFor(O),D=A.set,k=n[I],N=k,F=N&&N[P],B=n[O],U=B&&B[P],V=Object.prototype,G=n.Array,j=n.RangeError,W=r(x),Y=r([].reverse),H=v.pack,z=v.unpack,X=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},J=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},$=function(e){return H(m(e),23,4)},Q=function(e){return H(e,52,8)},Z=function(e,t,i){c(e[P],t,{configurable:!0,get:function(){return i(this)[t]}})},ee=function(e,t,i,n){var r=L(e),s=g(i);if(s+t>r.byteLength)throw new j(M);var a=r.bytes,o=s+r.byteOffset,h=E(a,o,o+t);return n?h:Y(h)},et=function(e,t,i,n,r,s){var a=L(e),o=g(i),h=n(+r),c=!!s;if(o+t>a.byteLength)throw new j(M);for(var l=a.bytes,u=o+a.byteOffset,d=0;d<t;d++)l[u+d]=h[c?d:t-d-1]};if(a){var ei=C&&k.name!==I;!u(function(){k(1)})||!u(function(){new k(-1)})||u(function(){return new k,new k(1.5),new k(NaN),1!==k.length||ei&&!_})?((N=function(e){return d(this,F),w(new k(g(e)),this,N)})[P]=F,F.constructor=N,T(N,k)):ei&&_&&h(k,"name",I),b&&y(U)!==V&&b(U,V);var en=new B(new N(2)),er=r(U.setInt8);en.setInt8(0,2147483648),en.setInt8(1,2147483649),(en.getInt8(0)||!en.getInt8(1))&&l(U,{setInt8:function(e,t){er(this,e,t<<24>>24)},setUint8:function(e,t){er(this,e,t<<24>>24)}},{unsafe:!0})}else F=(N=function(e){d(this,F);var t=g(e);D(this,{type:I,bytes:W(G(t),0),byteLength:t}),s||(this.byteLength=t,this.detached=!1)})[P],U=(B=function(e,t,i){d(this,U),d(e,F);var n=R(e),r=n.byteLength,a=f(t);if(a<0||a>r)throw new j("Wrong offset");if(i=void 0===i?r-a:p(i),a+i>r)throw new j("Wrong length");D(this,{type:O,buffer:e,byteLength:i,byteOffset:a,bytes:n.bytes}),s||(this.buffer=e,this.byteLength=i,this.byteOffset=a)})[P],s&&(Z(N,"byteLength",R),Z(B,"buffer",L),Z(B,"byteLength",L),Z(B,"byteOffset",L)),l(U,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return J(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return J(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return z(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return z(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){et(this,1,e,X,t)},setUint8:function(e,t){et(this,1,e,X,t)},setInt16:function(e,t){et(this,2,e,K,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){et(this,2,e,K,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){et(this,4,e,q,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){et(this,4,e,q,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){et(this,4,e,$,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){et(this,8,e,Q,t,arguments.length>2&&arguments[2])}});S(N,I),S(B,O),t.exports={ArrayBuffer:N,DataView:B}},{b2866645d252be10:"7Z171","6f1278f8f2a16115":"2iJ57","82c590a9dd8cc3ac":"6mXK1","923679fae99d4d2f":"i5ikG","9840ef06cc46dddb":"jmu0n","78ca6eb037349755":"gKM90",e693d9164e48343:"3NI4M","649a7a39c0607d74":"43JWW","57aab94a1cd1d913":"cXVrS","7333f43e52f40b38":"95yA1","1fd77d2940b4fd75":"gAgUH","8739fe5c743af579":"lQsU7",e3fc7a8bc754578a:"g2ruQ","93dd6846d2a65063":"lyxmB",d85071d33c34155a:"7M4Fp",eae7b83555f02284:"e8mfS",fd01028813b4814f:"arrdQ","8fdeb7296fb95696":"9XPgi",c0dac2bdd3636e95:"eO8Ta","3606a69f7ceacab3":"30not","5a0e685d057e2415":"d9xyM",dd3d1adef426fc5:"dkhk9",ea12fbd2f22b2f25:"ixHS2"}],i5ikG:[function(e,t,i){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],"43JWW":[function(e,t,i){var n=e("e34e683e23dcb4bb");t.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},{e34e683e23dcb4bb:"4CPdc"}],"95yA1":[function(e,t,i){var n=e("55f8840091c5bf21"),r=TypeError;t.exports=function(e,t){if(n(t,e))return e;throw new r("Incorrect invocation")}},{"55f8840091c5bf21":"d5bNd"}],g2ruQ:[function(e,t,i){var n=e("10a259b760ce2864"),r=e("f24767d66362404d"),s=RangeError;t.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw new s("Wrong length or index");return i}},{"10a259b760ce2864":"gAgUH",f24767d66362404d:"lQsU7"}],lyxmB:[function(e,t,i){var n=e("8f9dfe0502a74d7");t.exports=Math.fround||function(e){return n(e,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)}},{"8f9dfe0502a74d7":"b6uSw"}],b6uSw:[function(e,t,i){var n=e("9113322676fa66ef"),r=Math.abs;t.exports=function(e,t,i,s){var a=+e,o=r(a),h=n(a);if(o<s)return h*(o/s/t+4503599627370496-4503599627370496)*s*t;var c=(1+t/2220446049250313e-31)*o,l=c-(c-o);return l>i||l!=l?1/0*h:h*l}},{"9113322676fa66ef":"9QHoq"}],"9QHoq":[function(e,t,i){t.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},{}],"7M4Fp":[function(e,t,i){var n=Array,r=Math.abs,s=Math.pow,a=Math.floor,o=Math.log,h=Math.LN2;t.exports={pack:function(e,t,i){var c,l,u,d=n(i),f=8*i-t-1,p=(1<<f)-1,g=p>>1,m=23===t?s(2,-24)-s(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(u=s(2,-(c=a(o(e)/h))),e*u<1&&(c--,u*=2),c+g>=1?e+=m/u:e+=m*s(2,1-g),e*u>=2&&(c++,u/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*u-1)*s(2,t),c+=g):(l=e*s(2,g-1)*s(2,t),c=0));t>=8;)d[y++]=255&l,l/=256,t-=8;for(c=c<<t|l,f+=t;f>0;)d[y++]=255&c,c/=256,f-=8;return d[y-1]|=128*v,d},unpack:function(e,t){var i,n=e.length,r=8*n-t-1,a=(1<<r)-1,o=a>>1,h=r-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;h>0;)u=256*u+e[c--],h-=8;for(i=u&(1<<-h)-1,u>>=-h,h+=t;h>0;)i=256*i+e[c--],h-=8;if(0===u)u=1-o;else{if(u===a)return i?NaN:l?-1/0:1/0;i+=s(2,t),u-=o}return(l?-1:1)*i*s(2,u-t)}}},{}],"9DwR1":[function(e,t,i){var n=e("46c87ab471833e50"),r=e("3efc956d746e3978");n({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},{"46c87ab471833e50":"gJg5v","3efc956d746e3978":"b6692"}],b6692:[function(e,t,i){var n,r,s,a=e("4142cc1b1f950662"),o=e("fa237bbf2050dd6d"),h=e("9603af1373955d3d"),c=e("1b44b7e19e6f660d"),l=e("af39713fe0cf7587"),u=e("dd5eec94b1519471"),d=e("b9eebb2d4c13b0d6"),f=e("36a2290066710aa0"),p=e("fdfbb82e20f81a19"),g=e("81ef6d90bc6acdce"),m=e("96421c541af03be5"),v=e("ab8263bb2af6274"),y=e("ba5da2480b30b79"),b=e("b6e4d282cbe3e34a"),x=e("3d5af0d43aa6e42b"),E=e("8007fa7370557b8e"),w=e("82848943f937d383"),T=w.enforce,S=w.get,A=h.Int8Array,C=A&&A.prototype,_=h.Uint8ClampedArray,I=_&&_.prototype,O=A&&y(A),P=C&&y(C),M=Object.prototype,R=h.TypeError,L=x("toStringTag"),D=E("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",N=a&&!!b&&"Opera"!==d(h.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},V=function(e){var t=y(e);if(l(t)){var i=S(t);return i&&u(i,k)?i[k]:V(t)}},G=function(e){if(!l(e))return!1;var t=d(e);return u(B,t)||u(U,t)};for(n in B)(s=(r=h[n])&&r.prototype)?T(s)[k]=r:N=!1;for(n in U)(s=(r=h[n])&&r.prototype)&&(T(s)[k]=r);if((!N||!c(O)||O===Function.prototype)&&(O=function(){throw new R("Incorrect invocation")},N))for(n in B)h[n]&&b(h[n],O);if((!N||!P||P===M)&&(P=O.prototype,N))for(n in B)h[n]&&b(h[n].prototype,P);if(N&&y(I)!==P&&b(I,P),o&&!u(P,L))for(n in F=!0,m(P,L,{configurable:!0,get:function(){return l(this)?this[D]:void 0}}),B)h[n]&&p(h[n],D,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:F&&D,aTypedArray:function(e){if(G(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(O,e)))return e;throw new R(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,n){if(o){if(i)for(var r in B){var s=h[r];if(s&&u(s.prototype,e))try{delete s.prototype[e]}catch(i){try{s.prototype[e]=t}catch(e){}}}(!P[e]||i)&&g(P,e,i?t:N&&C[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,i){var n,r;if(o){if(b){if(i){for(n in B)if((r=h[n])&&u(r,e))try{delete r[e]}catch(e){}}if(O[e]&&!i)return;try{return g(O,e,i?t:N&&O[e]||t)}catch(e){}}for(n in B)(r=h[n])&&(!r[e]||i)&&g(r,e,t)}},getTypedArrayConstructor:V,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||u(B,t)||u(U,t)},isTypedArray:G,TypedArray:O,TypedArrayPrototype:P}},{"4142cc1b1f950662":"i5ikG",fa237bbf2050dd6d:"6mXK1","9603af1373955d3d":"7Z171","1b44b7e19e6f660d":"h1Wnr",af39713fe0cf7587:"8mxCV",dd5eec94b1519471:"9JWVX",b9eebb2d4c13b0d6:"cRCRk","36a2290066710aa0":"3zerS",fdfbb82e20f81a19:"gKM90","81ef6d90bc6acdce":"4CPdc","96421c541af03be5":"3NI4M",ab8263bb2af6274:"d5bNd",ba5da2480b30b79:"e8mfS",b6e4d282cbe3e34a:"arrdQ","3d5af0d43aa6e42b":"5CuF7","8007fa7370557b8e":"55cC0","82848943f937d383":"ixHS2"}],hihCW:[function(e,t,i){var n=e("de35f4868f3fe074"),r=e("41f3b5783dddf1cc"),s=e("da813d2481635a75"),a=e("7ac9e92946b0cbd8"),o=e("d8dca2550bf1cdc9"),h=e("881de7865554c8ed"),c=e("9f7b0710000cb4e4"),l=a.ArrayBuffer,u=a.DataView,d=u.prototype,f=r(l.prototype.slice),p=r(d.getUint8),g=r(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s(function(){return!new l(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(f&&void 0===t)return f(o(this),e);for(var i=o(this).byteLength,n=h(e,i),r=h(void 0===t?i:t,i),s=new l(c(r-n)),a=new u(this),d=new u(s),m=0;n<r;)g(d,m++,p(a,n++));return s}})},{de35f4868f3fe074:"gJg5v","41f3b5783dddf1cc":"c4z5p",da813d2481635a75:"cXVrS","7ac9e92946b0cbd8":"5y3LH",d8dca2550bf1cdc9:"dPzbI","881de7865554c8ed":"47gaI","9f7b0710000cb4e4":"lQsU7"}],cl0wd:[function(e,t,i){e("74f4b981aa6411a3")},{"74f4b981aa6411a3":"ej5lI"}],ej5lI:[function(e,t,i){var n=e("664345bb7fe8c61e"),r=e("d2e56c5b87c54234");n({global:!0,constructor:!0,forced:!e("dcfbe8d3aa29ed0c")},{DataView:r.DataView})},{"664345bb7fe8c61e":"gJg5v",d2e56c5b87c54234:"5y3LH",dcfbe8d3aa29ed0c:"i5ikG"}],kDbyn:[function(e,t,i){var n=e("4afad0ffba0997fe"),r=e("1f38b2f20cea2b57"),s=e("29214d0da9dcf89c"),a=ArrayBuffer.prototype;!n||"detached"in a||r(a,"detached",{configurable:!0,get:function(){return s(this)}})},{"4afad0ffba0997fe":"6mXK1","1f38b2f20cea2b57":"3NI4M","29214d0da9dcf89c":"eKK3I"}],eKK3I:[function(e,t,i){var n=e("a74f81ec628a755"),r=e("710dd5f014c20362"),s=e("1c879a4d774c0dbe"),a=n.ArrayBuffer,o=a&&a.prototype,h=o&&r(o.slice);t.exports=function(e){if(0!==s(e)||!h)return!1;try{return h(e,0,0),!1}catch(e){return!0}}},{a74f81ec628a755:"7Z171","710dd5f014c20362":"c4z5p","1c879a4d774c0dbe":"2WFUE"}],"2WFUE":[function(e,t,i){var n=e("2df4c54bd722cbda"),r=e("e04982d3381ad895"),s=e("84928aa3dada9bb9"),a=n.ArrayBuffer,o=n.TypeError;t.exports=a&&r(a.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==s(e))throw new o("ArrayBuffer expected");return e.byteLength}},{"2df4c54bd722cbda":"7Z171",e04982d3381ad895:"j4YhT","84928aa3dada9bb9":"161sQ"}],v0oet:[function(e,t,i){var n=e("68caecfc7f5f7898"),r=e("d4a059abed0e4bb2");r&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},{"68caecfc7f5f7898":"gJg5v",d4a059abed0e4bb2:"dmTWg"}],dmTWg:[function(e,t,i){var n=e("4a8d7e5bc585b76c"),r=e("da801b8a4e994b05"),s=e("d5239d81e98572fe"),a=e("536abebf9b00d3c9"),o=e("6d56209f1ad0e293"),h=e("8284bf21b869bbef"),c=e("7c07da0902b0024e"),l=e("c1c7dc990138d726"),u=n.structuredClone,d=n.ArrayBuffer,f=n.DataView,p=Math.min,g=d.prototype,m=f.prototype,v=r(g.slice),y=s(g,"resizable","get"),b=s(g,"maxByteLength","get"),x=r(m.getInt8),E=r(m.setInt8);t.exports=(l||c)&&function(e,t,i){var n,r=h(e),s=void 0===t?r:a(t),g=!y||!y(e);if(o(e),l&&(e=u(e,{transfer:[e]}),r===s&&(i||g)))return e;if(r>=s&&(!i||g))n=v(e,0,s);else{n=new d(s,i&&!g&&b?{maxByteLength:b(e)}:void 0);for(var m=new f(e),w=new f(n),T=p(s,r),S=0;S<T;S++)E(w,S,x(m,S))}return l||c(e),n}},{"4a8d7e5bc585b76c":"7Z171",da801b8a4e994b05:"2iJ57",d5239d81e98572fe:"j4YhT","536abebf9b00d3c9":"g2ruQ","6d56209f1ad0e293":"37ocU","8284bf21b869bbef":"2WFUE","7c07da0902b0024e":"edpRG",c1c7dc990138d726:"2emOi"}],"37ocU":[function(e,t,i){var n=e("331ab6556e4f0237"),r=TypeError;t.exports=function(e){if(n(e))throw new r("ArrayBuffer is detached");return e}},{"331ab6556e4f0237":"eKK3I"}],edpRG:[function(e,t,i){var n,r,s,a,o=e("10167170de3921f0"),h=e("67902e2e85fa971d"),c=e("6c97418dfff24f84"),l=o.structuredClone,u=o.ArrayBuffer,d=o.MessageChannel,f=!1;if(c)f=function(e){l(e,{transfer:[e]})};else if(u)try{!d&&(n=h("worker_threads"))&&(d=n.MessageChannel),d&&(r=new d,s=new u(2),a=function(e){r.port1.postMessage(null,[e])},2===s.byteLength&&(a(s),0===s.byteLength&&(f=a)))}catch(e){}t.exports=f},{"10167170de3921f0":"7Z171","67902e2e85fa971d":"fjtLr","6c97418dfff24f84":"2emOi"}],fjtLr:[function(e,t,i){var n=e("2c41f757a82b8a84"),r=e("bdcfef2315326ccc");t.exports=function(e){if(r){try{return n.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},{"2c41f757a82b8a84":"7Z171",bdcfef2315326ccc:"hdoIk"}],"2emOi":[function(e,t,i){var n=e("6bcfdfa15a0af40c"),r=e("5bfa734fa18d01bd"),s=e("504e63b697c2418c"),a=e("2f39a8269e626373"),o=n.structuredClone;t.exports=!!o&&!r(function(){if("DENO"===a&&s>92||"NODE"===a&&s>94||"BROWSER"===a&&s>97)return!1;var e=new ArrayBuffer(8),t=o(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})},{"6bcfdfa15a0af40c":"7Z171","5bfa734fa18d01bd":"cXVrS","504e63b697c2418c":"co76c","2f39a8269e626373":"ah0ZS"}],ilodQ:[function(e,t,i){var n=e("2ee97e669ed348d2"),r=e("6010ab662274272a");r&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},{"2ee97e669ed348d2":"gJg5v","6010ab662274272a":"dmTWg"}],"3sjfy":[function(e,t,i){var n=e("cf63881ba58455e7"),r=e("712c5b724e238772"),s=e("9542983db09542aa")(function(){return 120!==new Date(16e11).getYear()}),a=r(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:s},{getYear:function(){return a(this)-1900}})},{cf63881ba58455e7:"gJg5v","712c5b724e238772":"2iJ57","9542983db09542aa":"cXVrS"}],aJQbh:[function(e,t,i){var n=e("1b76219dfd05b069"),r=e("9cd428d337baa08f"),s=Date,a=r(s.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return a(new s)}})},{"1b76219dfd05b069":"gJg5v","9cd428d337baa08f":"2iJ57"}],cl2UC:[function(e,t,i){var n=e("45b3958e6ed27545"),r=e("bb0b969d98296e93"),s=e("1bfaa736b448a80b"),a=Date.prototype,o=r(a.getTime),h=r(a.setFullYear);n({target:"Date",proto:!0},{setYear:function(e){o(this);var t=s(e);return h(this,t>=0&&t<=99?t+1900:t)}})},{"45b3958e6ed27545":"gJg5v",bb0b969d98296e93:"2iJ57","1bfaa736b448a80b":"gAgUH"}],l89H5:[function(e,t,i){e("382df40000aa3419")({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},{"382df40000aa3419":"gJg5v"}],cHGz3:[function(e,t,i){var n=e("ce28eb9d99ee133e"),r=e("f6428e9a2d433b20");n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},{ce28eb9d99ee133e:"gJg5v",f6428e9a2d433b20:"jjIBo"}],jjIBo:[function(e,t,i){var n=e("8ef03d8aa78a1a05"),r=e("d77f9603e3197abc"),s=e("de264358de0ee0b0").start,a=RangeError,o=isFinite,h=Math.abs,c=Date.prototype,l=c.toISOString,u=n(c.getTime),d=n(c.getUTCDate),f=n(c.getUTCFullYear),p=n(c.getUTCHours),g=n(c.getUTCMilliseconds),m=n(c.getUTCMinutes),v=n(c.getUTCMonth),y=n(c.getUTCSeconds);t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))})||!r(function(){l.call(new Date(NaN))})?function(){if(!o(u(this)))throw new a("Invalid time value");var e=f(this),t=g(this),i=e<0?"-":e>9999?"+":"";return i+s(h(e),i?6:4,0)+"-"+s(v(this)+1,2,0)+"-"+s(d(this),2,0)+"T"+s(p(this),2,0)+":"+s(m(this),2,0)+":"+s(y(this),2,0)+"."+s(t,3,0)+"Z"}:l},{"8ef03d8aa78a1a05":"2iJ57",d77f9603e3197abc:"cXVrS",de264358de0ee0b0:"15Fl7"}],"15Fl7":[function(e,t,i){var n=e("3f3ae64f3613324a"),r=e("86f2220ab33aea88"),s=e("ce16e4ba37e115ac"),a=e("3fe5759e7801b635"),o=e("3c8ec8ea0d5bc9c"),h=n(a),c=n("".slice),l=Math.ceil,u=function(e){return function(t,i,n){var a,u,d=s(o(t)),f=r(i),p=d.length,g=void 0===n?" ":s(n);return f<=p||""===g?d:((u=h(g,l((a=f-p)/g.length))).length>a&&(u=c(u,0,a)),e?d+u:u+d)}};t.exports={start:u(!1),end:u(!0)}},{"3f3ae64f3613324a":"2iJ57","86f2220ab33aea88":"lQsU7",ce16e4ba37e115ac:"4x6uB","3fe5759e7801b635":"dsk9g","3c8ec8ea0d5bc9c":"cHxZN"}],dsk9g:[function(e,t,i){var n=e("810ed4f57c077da5"),r=e("f870ae4664ae9b8c"),s=e("b05eac101d7c2112"),a=RangeError;t.exports=function(e){var t=r(s(this)),i="",o=n(e);if(o<0||o===1/0)throw new a("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},{"810ed4f57c077da5":"gAgUH",f870ae4664ae9b8c:"4x6uB",b05eac101d7c2112:"cHxZN"}],"6OeqH":[function(e,t,i){var n=e("a9ca9c4e2bd47ff4"),r=e("b11d0c7c0b2675d5"),s=e("60b061d7c8f57ad8"),a=e("e362bf7168d77860");n({target:"Date",proto:!0,arity:1,forced:r(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=s(this),i=a(t,"number");return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},{a9ca9c4e2bd47ff4:"gJg5v",b11d0c7c0b2675d5:"cXVrS","60b061d7c8f57ad8":"6oQEu",e362bf7168d77860:"cCley"}],j16TA:[function(e,t,i){var n=e("af14b1f4d994a127"),r=e("53d6ff102d14faf"),s=e("5ca81c5eeb540a34"),a=e("5e5f3eb0bfd879e9")("toPrimitive"),o=Date.prototype;n(o,a)||r(o,a,s)},{af14b1f4d994a127:"9JWVX","53d6ff102d14faf":"4CPdc","5ca81c5eeb540a34":"5DgYa","5e5f3eb0bfd879e9":"5CuF7"}],"5DgYa":[function(e,t,i){var n=e("38c74c72615b5acf"),r=e("474ad3f08d0bd65b"),s=TypeError;t.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new s("Incorrect hint");return r(this,e)}},{"38c74c72615b5acf":"dPzbI","474ad3f08d0bd65b":"6aMZM"}],ltluo:[function(e,t,i){var n=e("be835518f2abbc78"),r=e("7997503c8dda7ce0"),s=Date.prototype,a="Invalid Date",o="toString",h=n(s[o]),c=n(s.getTime);String(new Date(NaN))!==a&&r(s,o,function(){var e=c(this);return e==e?h(this):a})},{be835518f2abbc78:"2iJ57","7997503c8dda7ce0":"4CPdc"}],l0eoZ:[function(e,t,i){var n=e("ffabd3103ccbbe88"),r=e("3b0c6b91d4084705"),s=e("9544189b2ef4f6a8"),a=r("".charAt),o=r("".charCodeAt),h=r(/./.exec),c=r(1..toString),l=r("".toUpperCase),u=/[\w*+\-./@]/,d=function(e,t){for(var i=c(e,16);i.length<t;)i="0"+i;return i};n({global:!0},{escape:function(e){for(var t,i,n=s(e),r="",c=n.length,f=0;f<c;)h(u,t=a(n,f++))?r+=t:(i=o(t,0))<256?r+="%"+d(i,2):r+="%u"+l(d(i,4));return r}})},{ffabd3103ccbbe88:"gJg5v","3b0c6b91d4084705":"2iJ57","9544189b2ef4f6a8":"4x6uB"}],"40OpE":[function(e,t,i){var n=e("fe3dd044856b4976"),r=e("3cdb7fad3340a2a");n({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},{fe3dd044856b4976:"gJg5v","3cdb7fad3340a2a":"7PoYT"}],"7PoYT":[function(e,t,i){var n=e("94a95e8ae25b0044"),r=e("4072cb1aa6784cb2"),s=e("16c540423602bd07"),a=e("2a423fe0321fe359"),o=e("29b660c46e7d5c44"),h=e("14cd4065b37036f8"),c=Function,l=n([].concat),u=n([].join),d={},f=function(e,t,i){if(!a(d,t)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";d[t]=c("C,a","return new C("+u(n,",")+")")}return d[t](e,i)};t.exports=h?c.bind:function(e){var t=r(this),i=t.prototype,n=o(arguments,1),a=function(){var i=l(n,o(arguments));return this instanceof a?f(t,i.length,i):t.apply(e,i)};return s(i)&&(a.prototype=i),a}},{"94a95e8ae25b0044":"2iJ57","4072cb1aa6784cb2":"alrlv","16c540423602bd07":"8mxCV","2a423fe0321fe359":"9JWVX","29b660c46e7d5c44":"eO8Ta","14cd4065b37036f8":"3p5v0"}],bC9Ow:[function(e,t,i){var n=e("b12e30f0adef9477"),r=e("bd77085fbbf1d61e"),s=e("cd75990201b9bb5"),a=e("753d0304b6cfae74"),o=e("96031184f21018fc"),h=e("ac5dcf87aefc69c2"),c=o("hasInstance"),l=Function.prototype;c in l||s.f(l,c,{value:h(function(e){if(!n(this)||!r(e))return!1;var t=this.prototype;return r(t)?a(t,e):e instanceof this},c)})},{b12e30f0adef9477:"h1Wnr",bd77085fbbf1d61e:"8mxCV",cd75990201b9bb5:"hvqCQ","753d0304b6cfae74":"d5bNd","96031184f21018fc":"5CuF7",ac5dcf87aefc69c2:"1fkJp"}],dHKDg:[function(e,t,i){var n=e("b7ae6c9060bb031e"),r=e("dbb3f5c37b15a691").EXISTS,s=e("ba7e18d66fc2fe0e"),a=e("c4fdf1e400153454"),o=Function.prototype,h=s(o.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=s(c.exec);n&&!r&&a(o,"name",{configurable:!0,get:function(){try{return l(c,h(this))[1]}catch(e){return""}}})},{b7ae6c9060bb031e:"6mXK1",dbb3f5c37b15a691:"jmu0n",ba7e18d66fc2fe0e:"2iJ57",c4fdf1e400153454:"3NI4M"}],giNSP:[function(e,t,i){var n=e("dafde8a742696c07"),r=e("74e2eda3b2fe749e");n({global:!0,forced:r.globalThis!==r},{globalThis:r})},{dafde8a742696c07:"gJg5v","74e2eda3b2fe749e":"7Z171"}],"1HJ0t":[function(e,t,i){var n=e("3ea4519fe8d8767c"),r=e("f682905cf0777dea"),s=e("28d64d466101e260"),a=e("77697c6189ac1592"),o=e("b92a35f8afc3ecab"),h=e("4f05e88be4d3e1a4"),c=e("296b3b975849b32b"),l=e("fe7b26b4bf7a3bbc"),u=e("475636f76be5c6eb"),d=e("d8cf3503bdfeb1ab"),f=e("57c42e38adcdb685"),p=e("b8e8bc57f3f386ac").IteratorPrototype,g=e("6302500f1ed70985"),m=e("589f3cf5b5197a9"),v="constructor",y="Iterator",b=f("toStringTag"),x=TypeError,E=r[y],w=m||!o(E)||E.prototype!==p||!u(function(){E({})}),T=function(){if(s(this,p),h(this)===p)throw new x("Abstract class Iterator not directly constructable")},S=function(e,t){g?c(p,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===p)throw new x("You can't redefine this property");d(this,e)?this[e]=t:l(this,e,t)}}):p[e]=t};d(p,b)||S(b,y),(w||!d(p,v)||p[v]===Object)&&S(v,T),T.prototype=p,n({global:!0,constructor:!0,forced:w},{Iterator:T})},{"3ea4519fe8d8767c":"gJg5v",f682905cf0777dea:"7Z171","28d64d466101e260":"95yA1","77697c6189ac1592":"dPzbI",b92a35f8afc3ecab:"h1Wnr","4f05e88be4d3e1a4":"e8mfS","296b3b975849b32b":"3NI4M",fe7b26b4bf7a3bbc:"SVTZV","475636f76be5c6eb":"cXVrS",d8cf3503bdfeb1ab:"9JWVX","57c42e38adcdb685":"5CuF7",b8e8bc57f3f386ac:"6nE00","6302500f1ed70985":"6mXK1","589f3cf5b5197a9":"jHRGA"}],gfJCq:[function(e,t,i){var n=e("4e75fe663bd8178c"),r=e("8ba1fb01c65279f3"),s=e("4f0b8c20b948eb0f"),a=e("5eb6363ab600a764"),o=e("84d37b676cdd3bca"),h=e("31599b8af07552c0"),c=e("8c5a9cd7160d5977"),l=e("e7721f8a5d24ac7b"),u=c(function(){for(var e,t=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=s(r(i,t)),this.done=!!e.done)return;if(e=s(r(i,t)),!(this.done=!!e.done))return e.value});n({target:"Iterator",proto:!0,real:!0,forced:l},{drop:function(e){s(this);var t=h(o(+e));return new u(a(this),{remaining:t})}})},{"4e75fe663bd8178c":"gJg5v","8ba1fb01c65279f3":"bOssl","4f0b8c20b948eb0f":"dPzbI","5eb6363ab600a764":"fTGQr","84d37b676cdd3bca":"dQ9yT","31599b8af07552c0":"dzkcc","8c5a9cd7160d5977":"2tuei",e7721f8a5d24ac7b:"jHRGA"}],fTGQr:[function(e,t,i){t.exports=function(e){return{iterator:e,next:e.next,done:!1}}},{}],dQ9yT:[function(e,t,i){var n=RangeError;t.exports=function(e){if(e==e)return e;throw new n("NaN is not allowed")}},{}],dzkcc:[function(e,t,i){var n=e("e509d82728a7abb4"),r=RangeError;t.exports=function(e){var t=n(e);if(t<0)throw new r("The argument can't be less than 0");return t}},{e509d82728a7abb4:"gAgUH"}],"2tuei":[function(e,t,i){var n=e("bf7dea94b378e4d2"),r=e("9f20471f1112427e"),s=e("aedd7124ed29fad6"),a=e("3b52621b4d406534"),o=e("dc75c601d893b189"),h=e("224190bbaa70528d"),c=e("6855d0e1c14cdf36"),l=e("4ae15a9804697ee").IteratorPrototype,u=e("496e21b03d32048e"),d=e("2d23aab286123e49"),f=o("toStringTag"),p="IteratorHelper",g="WrapForValidIterator",m=h.set,v=function(e){var t=h.getterFor(e?g:p);return a(r(l),{next:function(){var i=t(this);if(e)return i.nextHandler();try{var n=i.done?void 0:i.nextHandler();return u(n,i.done)}catch(e){throw i.done=!0,e}},return:function(){var i=t(this),r=i.iterator;if(i.done=!0,e){var s=c(r,"return");return s?n(s,r):u(void 0,!0)}if(i.inner)try{d(i.inner.iterator,"normal")}catch(e){return d(r,"throw",e)}return r&&d(r,"normal"),u(void 0,!0)}})},y=v(!0),b=v(!1);s(b,f,"Iterator Helper"),t.exports=function(e,t){var i=function(i,n){n?(n.iterator=i.iterator,n.next=i.next):n=i,n.type=t?g:p,n.nextHandler=e,n.counter=0,n.done=!1,m(this,n)};return i.prototype=t?y:b,i}},{bf7dea94b378e4d2:"bOssl","9f20471f1112427e":"7isQ3",aedd7124ed29fad6:"gKM90","3b52621b4d406534":"43JWW",dc75c601d893b189:"5CuF7","224190bbaa70528d":"ixHS2","6855d0e1c14cdf36":"2qR8N","4ae15a9804697ee":"6nE00","496e21b03d32048e":"dwU83","2d23aab286123e49":"58eij"}],"2vgpU":[function(e,t,i){var n=e("4315c3f51744b7cf"),r=e("d201a83eb0c4d7c"),s=e("4efc7a663e425a34"),a=e("37d29fd3e7b0ef2e"),o=e("54533d53c2a484bf");n({target:"Iterator",proto:!0,real:!0},{every:function(e){a(this),s(e);var t=o(this),i=0;return!r(t,function(t,n){if(!e(t,i++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},{"4315c3f51744b7cf":"gJg5v",d201a83eb0c4d7c:"dCEHX","4efc7a663e425a34":"alrlv","37d29fd3e7b0ef2e":"dPzbI","54533d53c2a484bf":"fTGQr"}],aan7W:[function(e,t,i){var n=e("1c857da99ae8bb2b"),r=e("aade04ff380cb917"),s=e("587bdbef575ae864"),a=e("30bdbec130771621"),o=e("76d1ed5422ec7f95"),h=e("7f4c9fc2e1a8e7c9"),c=e("99faecf35edd6597"),l=e("c5ccec8d40439f96"),u=h(function(){for(var e,t,i=this.iterator,n=this.predicate,s=this.next;;){if(e=a(r(s,i)),this.done=!!e.done)return;if(c(i,n,[t=e.value,this.counter++],!0))return t}});n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(e){return a(this),s(e),new u(o(this),{predicate:e})}})},{"1c857da99ae8bb2b":"gJg5v",aade04ff380cb917:"bOssl","587bdbef575ae864":"alrlv","30bdbec130771621":"dPzbI","76d1ed5422ec7f95":"fTGQr","7f4c9fc2e1a8e7c9":"2tuei","99faecf35edd6597":"hyn7H",c5ccec8d40439f96:"jHRGA"}],h9LbS:[function(e,t,i){var n=e("aa4968967d90e4ac"),r=e("5366bf21fa382adc"),s=e("b8d21b3590d17c7e"),a=e("5674492c0746f03e"),o=e("433d457a030b10f4");n({target:"Iterator",proto:!0,real:!0},{find:function(e){a(this),s(e);var t=o(this),i=0;return r(t,function(t,n){if(e(t,i++))return n(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},{aa4968967d90e4ac:"gJg5v","5366bf21fa382adc":"dCEHX",b8d21b3590d17c7e:"alrlv","5674492c0746f03e":"dPzbI","433d457a030b10f4":"fTGQr"}],ldCGF:[function(e,t,i){var n=e("4d0e03a037a98e89"),r=e("cb18884046ea41a8"),s=e("278ed3595a63063d"),a=e("8758e8b66a3beedc"),o=e("f465c313ac2d5808"),h=e("a76822f099914d65"),c=e("b571de05f6c7c1ec"),l=e("e7658123d7aa579f"),u=e("2930358c681fa2c1"),d=c(function(){for(var e,t,i=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=a(r(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){l(i,"throw",e)}if(e=a(r(this.next,i)),this.done=!!e.done)return;try{this.inner=h(n(e.value,this.counter++),!1)}catch(e){l(i,"throw",e)}}});n({target:"Iterator",proto:!0,real:!0,forced:u},{flatMap:function(e){return a(this),s(e),new d(o(this),{mapper:e,inner:null})}})},{"4d0e03a037a98e89":"gJg5v",cb18884046ea41a8:"bOssl","278ed3595a63063d":"alrlv","8758e8b66a3beedc":"dPzbI",f465c313ac2d5808:"fTGQr",a76822f099914d65:"gjEzz",b571de05f6c7c1ec:"2tuei",e7658123d7aa579f:"58eij","2930358c681fa2c1":"jHRGA"}],gjEzz:[function(e,t,i){var n=e("a862e3595fb5874a"),r=e("64a05f853433115b"),s=e("d8c75db7f7e68949"),a=e("b2126f347761d3c8");t.exports=function(e,t){t&&"string"==typeof e||r(e);var i=a(e);return s(r(void 0!==i?n(i,e):e))}},{a862e3595fb5874a:"bOssl","64a05f853433115b":"dPzbI",d8c75db7f7e68949:"fTGQr",b2126f347761d3c8:"3624P"}],"6gXbc":[function(e,t,i){var n=e("b633004da54a8c74"),r=e("be2e1e5cf8a93b81"),s=e("7d84ec8cb27009ca"),a=e("e7dd2855750a78f2"),o=e("3d252b15d6e4ed62");n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){a(this),s(e);var t=o(this),i=0;r(t,function(t){e(t,i++)},{IS_RECORD:!0})}})},{b633004da54a8c74:"gJg5v",be2e1e5cf8a93b81:"dCEHX","7d84ec8cb27009ca":"alrlv",e7dd2855750a78f2:"dPzbI","3d252b15d6e4ed62":"fTGQr"}],"7deV1":[function(e,t,i){var n=e("3e198fbdc6ce7880"),r=e("bc1a872728468a62"),s=e("d456c64771e0a27a"),a=e("79b23655149c44c7"),o=e("2b4b2d854a48f64e").IteratorPrototype,h=e("684540af8b4032d"),c=e("de05d6fd587bf1cd"),l=e("775b408350f57cdf"),u=h(function(){return r(this.next,this.iterator)},!0);n({target:"Iterator",stat:!0,forced:l},{from:function(e){var t=c("string"==typeof e?s(e):e,!0);return a(o,t.iterator)?t.iterator:new u(t)}})},{"3e198fbdc6ce7880":"gJg5v",bc1a872728468a62:"bOssl",d456c64771e0a27a:"6oQEu","79b23655149c44c7":"d5bNd","2b4b2d854a48f64e":"6nE00","684540af8b4032d":"2tuei",de05d6fd587bf1cd:"gjEzz","775b408350f57cdf":"jHRGA"}],inQWU:[function(e,t,i){var n=e("fecdb119c8fdc954"),r=e("7479ddcc8239d532");n({target:"Iterator",proto:!0,real:!0,forced:e("552047c6b328f2ea")},{map:r})},{fecdb119c8fdc954:"gJg5v","7479ddcc8239d532":"3KqWn","552047c6b328f2ea":"jHRGA"}],"3KqWn":[function(e,t,i){var n=e("29bce19dd3629688"),r=e("c738121f02e399d5"),s=e("e83388b97cc8e9be"),a=e("d0c43e4e321dc8e4"),o=e("ee2af5103891ea7a"),h=e("764f915db413f5a"),c=o(function(){var e=this.iterator,t=s(n(this.next,e));if(!(this.done=!!t.done))return h(e,this.mapper,[t.value,this.counter++],!0)});t.exports=function(e){return s(this),r(e),new c(a(this),{mapper:e})}},{"29bce19dd3629688":"bOssl",c738121f02e399d5:"alrlv",e83388b97cc8e9be:"dPzbI",d0c43e4e321dc8e4:"fTGQr",ee2af5103891ea7a:"2tuei","764f915db413f5a":"hyn7H"}],"2qLeT":[function(e,t,i){var n=e("5f64a2bb084982f3"),r=e("c2bdf15d1ea0293e"),s=e("9bf3beec603be4e6"),a=e("23550e7aa2b24cca"),o=e("80e58cb70f81d0f8"),h=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){a(this),s(e);var t=o(this),i=arguments.length<2,n=i?void 0:arguments[1],c=0;if(r(t,function(t){i?(i=!1,n=t):n=e(n,t,c),c++},{IS_RECORD:!0}),i)throw new h("Reduce of empty iterator with no initial value");return n}})},{"5f64a2bb084982f3":"gJg5v",c2bdf15d1ea0293e:"dCEHX","9bf3beec603be4e6":"alrlv","23550e7aa2b24cca":"dPzbI","80e58cb70f81d0f8":"fTGQr"}],c3ILr:[function(e,t,i){var n=e("4a4df0c55b14d56f"),r=e("bd336241c9e2c96a"),s=e("c63636511b47d95d"),a=e("aaf9d7279420e97e"),o=e("4beb129a5fea4112");n({target:"Iterator",proto:!0,real:!0},{some:function(e){a(this),s(e);var t=o(this),i=0;return r(t,function(t,n){if(e(t,i++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},{"4a4df0c55b14d56f":"gJg5v",bd336241c9e2c96a:"dCEHX",c63636511b47d95d:"alrlv",aaf9d7279420e97e:"dPzbI","4beb129a5fea4112":"fTGQr"}],"223lQ":[function(e,t,i){var n=e("eaceea009f896c4f"),r=e("6fd19d75ae436db4"),s=e("804225007e9ca124"),a=e("354c4550199b6b57"),o=e("c05a497a3952d08f"),h=e("d0d526d061df4e4f"),c=e("3985c1c78ac216f4"),l=e("d994c2939d1a301d"),u=e("473113b8f68a663c"),d=c(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,l(e,"normal",void 0);var t=s(r(this.next,e));if(!(this.done=!!t.done))return t.value});n({target:"Iterator",proto:!0,real:!0,forced:u},{take:function(e){s(this);var t=h(o(+e));return new d(a(this),{remaining:t})}})},{eaceea009f896c4f:"gJg5v","6fd19d75ae436db4":"bOssl","804225007e9ca124":"dPzbI","354c4550199b6b57":"fTGQr",c05a497a3952d08f:"dQ9yT",d0d526d061df4e4f:"dzkcc","3985c1c78ac216f4":"2tuei",d994c2939d1a301d:"58eij","473113b8f68a663c":"jHRGA"}],f8Q6z:[function(e,t,i){var n=e("e1dca2b7da04a9a8"),r=e("41a975f004dd39fe"),s=e("d63b62918b0f6e07"),a=e("99fc12b50172a5fb"),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return s(a(r(this)),o,{that:e,IS_RECORD:!0}),e}})},{e1dca2b7da04a9a8:"gJg5v","41a975f004dd39fe":"dPzbI",d63b62918b0f6e07:"dCEHX","99fc12b50172a5fb":"fTGQr"}],"7o3jD":[function(e,t,i){var n=e("66109b3bb99843e");e("925145db661479ea")(n.JSON,"JSON",!0)},{"66109b3bb99843e":"7Z171","925145db661479ea":"dkhk9"}],hXIP7:[function(e,t,i){e("569f941c898a31a4")},{"569f941c898a31a4":"ibxzm"}],ibxzm:[function(e,t,i){e("d6ad832f14f0fa71")("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},e("bfbad00b2e97bcca"))},{d6ad832f14f0fa71:"02S2F",bfbad00b2e97bcca:"8nfXU"}],"02S2F":[function(e,t,i){var n=e("7f7d2ffaf036b70c"),r=e("23fed902470e3d4c"),s=e("58d7b96f0152237"),a=e("30876c2e1f5df872"),o=e("b827fda460342f0d"),h=e("6163d338080ca134"),c=e("f05c3889843e7603"),l=e("38cbb680894f59a3"),u=e("799d274b4fe226e7"),d=e("36192c2af1f673a1"),f=e("9e3db26fb26723ec"),p=e("f5cb548db0e3391e"),g=e("80e8f5144d6954d9"),m=e("4fbd135f98af11c4"),v=e("585a6aeda8432eb3");t.exports=function(e,t,i){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),x=y?"set":"add",E=r[e],w=E&&E.prototype,T=E,S={},A=function(e){var t=s(w[e]);o(w,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return(!b||!!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return(!b||!!f(e))&&t(this,0===e?0:e)}:function(e,i){return t(this,0===e?0:e,i),this})};if(a(e,!u(E)||!(b||w.forEach&&!p(function(){new E().entries().next()}))))T=i.getConstructor(t,e,y,x),h.enable();else if(a(e,!0)){var C=new T,_=C[x](b?{}:-0,1)!==C,I=p(function(){C.has(1)}),O=g(function(e){new E(e)}),P=!b&&p(function(){for(var e=new E,t=5;t--;)e[x](t,t);return!e.has(-0)});O||((T=t(function(e,t){l(e,w);var i=v(new E,e,T);return d(t)||c(t,i[x],{that:i,AS_ENTRIES:y}),i})).prototype=w,w.constructor=T),(I||P)&&(A("delete"),A("has"),y&&A("get")),(P||_)&&A(x),b&&w.clear&&delete w.clear}return S[e]=T,n({global:!0,constructor:!0,forced:T!==E},S),m(T,e),b||i.setStrong(T,e,y),T}},{"7f7d2ffaf036b70c":"gJg5v","23fed902470e3d4c":"7Z171","58d7b96f0152237":"2iJ57","30876c2e1f5df872":"gE5NQ",b827fda460342f0d:"4CPdc","6163d338080ca134":"3Q1Z8",f05c3889843e7603:"dCEHX","38cbb680894f59a3":"95yA1","799d274b4fe226e7":"h1Wnr","36192c2af1f673a1":"8AxCV","9e3db26fb26723ec":"8mxCV",f5cb548db0e3391e:"cXVrS","80e8f5144d6954d9":"dR8Bu","4fbd135f98af11c4":"dkhk9","585a6aeda8432eb3":"30not"}],"3Q1Z8":[function(e,t,i){var n=e("3242fc68c548334b"),r=e("d7dc323978454584"),s=e("33c7a5cefcfa8a48"),a=e("949cc173e657f4a8"),o=e("e6764a7848fbe604"),h=e("77d05ce7ff38a94f").f,c=e("491415e519a00a7c"),l=e("1a3edc3a1e92ccaf"),u=e("1f8f4e666c381f6"),d=e("2f09fd9212a3372e"),f=e("858ced62f45384ee"),p=!1,g=d("meta"),m=0,v=function(e){h(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var e=c.f,t=r([].splice),i={};i[g]=1,e(i).length&&(c.f=function(i){for(var n=e(i),r=0,s=n.length;r<s;r++)if(n[r]===g){t(n,r,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,g)){if(!u(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!o(e,g)){if(!u(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&u(e)&&!o(e,g)&&v(e),e}};s[g]=!0},{"3242fc68c548334b":"gJg5v",d7dc323978454584:"2iJ57","33c7a5cefcfa8a48":"4qgYA","949cc173e657f4a8":"8mxCV",e6764a7848fbe604:"9JWVX","77d05ce7ff38a94f":"hvqCQ","491415e519a00a7c":"dDV3S","1a3edc3a1e92ccaf":"bBGHM","1f8f4e666c381f6":"kKQ3P","2f09fd9212a3372e":"55cC0","858ced62f45384ee":"cPqlV"}],kKQ3P:[function(e,t,i){var n=e("de1e0227a248bfd3"),r=e("68a5b2cef468256c"),s=e("cb8542af391c6b0e"),a=e("79d81d484af31adc"),o=Object.isExtensible,h=n(function(){o(1)});t.exports=h||a?function(e){return!!r(e)&&(!a||"ArrayBuffer"!==s(e))&&(!o||o(e))}:o},{de1e0227a248bfd3:"cXVrS","68a5b2cef468256c":"8mxCV",cb8542af391c6b0e:"161sQ","79d81d484af31adc":"fKJ3g"}],fKJ3g:[function(e,t,i){var n=e("5bca09ebe0e39932");t.exports=n(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},{"5bca09ebe0e39932":"cXVrS"}],cPqlV:[function(e,t,i){var n=e("388690d33020cebb");t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"388690d33020cebb":"cXVrS"}],"8nfXU":[function(e,t,i){var n=e("4087699e0041f387"),r=e("1731ca06a03e84a3"),s=e("c048d7069b65e14b"),a=e("5aecbe8fa3c5a74e"),o=e("d3ad95b3aaf27c8a"),h=e("cac009f0bbf34bb8"),c=e("a9a2814559569c97"),l=e("eb2045e367047a1c"),u=e("14b36f47f4e70181"),d=e("dfd8ed3bea972a50"),f=e("b83fb10f1c8587e6"),p=e("77d5ccb3a2fbc893").fastKey,g=e("79afb9c26314edc8"),m=g.set,v=g.getterFor;t.exports={getConstructor:function(e,t,i,l){var u=e(function(e,r){o(e,d),m(e,{type:t,index:n(null),first:null,last:null,size:0}),f||(e.size=0),h(r)||c(r,e[l],{that:e,AS_ENTRIES:i})}),d=u.prototype,g=v(t),y=function(e,t,i){var n,r,s=g(e),a=b(e,t);return a?a.value=i:(s.last=a={index:r=p(t,!0),key:t,value:i,previous:n=s.last,next:null,removed:!1},s.first||(s.first=a),n&&(n.next=a),f?s.size++:e.size++,"F"!==r&&(s.index[r]=a)),e},b=function(e,t){var i,n=g(e),r=p(t);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key===t)return i};return s(d,{clear:function(){for(var e=g(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=n(null),f?e.size=0:this.size=0},delete:function(e){var t=g(this),i=b(this,e);if(i){var n=i.next,r=i.previous;delete t.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first===i&&(t.first=n),t.last===i&&(t.last=r),f?t.size--:this.size--}return!!i},forEach:function(e){for(var t,i=g(this),n=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:i.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),s(d,i?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&r(d,"size",{configurable:!0,get:function(){return g(this).size}}),u},setStrong:function(e,t,i){var n=t+" Iterator",r=v(t),s=v(n);l(e,t,function(e,t){m(this,{type:n,target:e,state:r(e),kind:t,last:null})},function(){for(var e=s(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"===t?u(i.key,!1):"values"===t?u(i.value,!1):u([i.key,i.value],!1):(e.target=null,u(void 0,!0))},i?"entries":"values",!i,!0),d(t)}}},{"4087699e0041f387":"7isQ3","1731ca06a03e84a3":"3NI4M",c048d7069b65e14b:"43JWW","5aecbe8fa3c5a74e":"f1CxE",d3ad95b3aaf27c8a:"95yA1",cac009f0bbf34bb8:"8AxCV",a9a2814559569c97:"dCEHX",eb2045e367047a1c:"klSVb","14b36f47f4e70181":"dwU83",dfd8ed3bea972a50:"c7jXZ",b83fb10f1c8587e6:"6mXK1","77d5ccb3a2fbc893":"3Q1Z8","79afb9c26314edc8":"ixHS2"}],"1aJqY":[function(e,t,i){var n=e("6567f4dade5d8960"),r=e("f35d7393646ad055"),s=e("c4503f7eb1018306"),a=e("d7c6ba4f404b5360"),o=e("ff883ec9010d6328"),h=e("f9f796f22480c881"),c=e("dc5cfe657d3f962b"),l=e("59f5d275c85c76"),u=h.Map,d=h.has,f=h.get,p=h.set,g=r([].push),m=c||l(function(){return 1!==u.groupBy("ab",function(e){return e}).get("a").length});n({target:"Map",stat:!0,forced:c||m},{groupBy:function(e,t){a(e),s(t);var i=new u,n=0;return o(e,function(e){var r=t(e,n++);d(i,r)?g(f(i,r),e):p(i,r,[e])}),i}})},{"6567f4dade5d8960":"gJg5v",f35d7393646ad055:"2iJ57",c4503f7eb1018306:"alrlv",d7c6ba4f404b5360:"cHxZN",ff883ec9010d6328:"dCEHX",f9f796f22480c881:"fY40v",dc5cfe657d3f962b:"jHRGA","59f5d275c85c76":"cXVrS"}],fY40v:[function(e,t,i){var n=e("89734044d2e98b8d"),r=Map.prototype;t.exports={Map:Map,set:n(r.set),get:n(r.get),has:n(r.has),remove:n(r.delete),proto:r}},{"89734044d2e98b8d":"2iJ57"}],DQpS3:[function(e,t,i){var n=e("902411673b5fb2fc"),r=e("a4cfbc2e86c91e88"),s=Math.acosh,a=Math.log,o=Math.sqrt,h=Math.LN2;n({target:"Math",stat:!0,forced:!s||710!==Math.floor(s(Number.MAX_VALUE))||s(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?a(t)+h:r(t-1+o(t-1)*o(t+1))}})},{"902411673b5fb2fc":"gJg5v",a4cfbc2e86c91e88:"fdW4O"}],fdW4O:[function(e,t,i){var n=Math.log;t.exports=Math.log1p||function(e){var t=+e;return t>-.00000001&&t<1e-8?t-t*t/2:n(1+t)}},{}],"9m0ga":[function(e,t,i){var n=e("7dffb6067574667e"),r=Math.asinh,s=Math.log,a=Math.sqrt;n({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function e(t){var i=+t;return isFinite(i)&&0!==i?i<0?-e(-i):s(i+a(i*i+1)):i}})},{"7dffb6067574667e":"gJg5v"}],"6OW8r":[function(e,t,i){var n=e("852dfc47c3d9c449"),r=Math.atanh,s=Math.log;n({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:s((1+t)/(1-t))/2}})},{"852dfc47c3d9c449":"gJg5v"}],"8Ipne":[function(e,t,i){var n=e("387aa8b70c72a94d"),r=e("dac8a302b6d1f627"),s=Math.abs,a=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return r(t)*a(s(t),1/3)}})},{"387aa8b70c72a94d":"gJg5v",dac8a302b6d1f627:"9QHoq"}],bbe5P:[function(e,t,i){var n=e("2c4d345d25b6d18c"),r=Math.floor,s=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-r(s(t+.5)*a):32}})},{"2c4d345d25b6d18c":"gJg5v"}],giuXg:[function(e,t,i){var n=e("f8f6f4e4d2e4cfe0"),r=e("c0bbc641191a15a9"),s=Math.cosh,a=Math.abs,o=Math.E;n({target:"Math",stat:!0,forced:!s||s(710)===1/0},{cosh:function(e){var t=r(a(e)-1)+1;return o/2*(t+1/(t*o*o))}})},{f8f6f4e4d2e4cfe0:"gJg5v",c0bbc641191a15a9:"fQMM6"}],fQMM6:[function(e,t,i){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||22025.465794806718>n(10)||-.00000000000000002!==n(-.00000000000000002)?function(e){var t=+e;return 0===t?t:t>-.000001&&t<1e-6?t+t*t/2:r(t)-1}:n},{}],"4Dfiq":[function(e,t,i){var n=e("54b4d24b57e9de25"),r=e("5648f7662bee3fb6");n({target:"Math",stat:!0,forced:r!==Math.expm1},{expm1:r})},{"54b4d24b57e9de25":"gJg5v","5648f7662bee3fb6":"fQMM6"}],cIxH8:[function(e,t,i){e("1c1b96b0ca7c4a89")({target:"Math",stat:!0},{fround:e("47950f9c73209332")})},{"1c1b96b0ca7c4a89":"gJg5v","47950f9c73209332":"lyxmB"}],khz6l:[function(e,t,i){var n=e("bf5ef278fe0c2a2d"),r=Math.hypot,s=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var i,n,r=0,o=0,h=arguments.length,c=0;o<h;)i=s(arguments[o++]),c<i?(r=r*(n=c/i)*n+1,c=i):i>0?r+=(n=i/c)*n:r+=i;return c===1/0?1/0:c*a(r)}})},{bf5ef278fe0c2a2d:"gJg5v"}],flBRC:[function(e,t,i){var n=e("26821e3060ae31ef"),r=e("4ae16bb469711695"),s=Math.imul;n({target:"Math",stat:!0,forced:r(function(){return -5!==s(4294967295,5)||2!==s.length})},{imul:function(e,t){var i=+e,n=+t,r=65535&i,s=65535&n;return 0|r*s+((65535&i>>>16)*s+r*(65535&n>>>16)<<16>>>0)}})},{"26821e3060ae31ef":"gJg5v","4ae16bb469711695":"cXVrS"}],OdIjN:[function(e,t,i){e("e28aca710c97445a")({target:"Math",stat:!0},{log10:e("e386fc2f96575e54")})},{e28aca710c97445a:"gJg5v",e386fc2f96575e54:"7QVwX"}],"7QVwX":[function(e,t,i){var n=Math.log,r=Math.LOG10E;t.exports=Math.log10||function(e){return n(e)*r}},{}],"5N41O":[function(e,t,i){e("ec799bb6317cd425")({target:"Math",stat:!0},{log1p:e("a686ef564d9d2882")})},{ec799bb6317cd425:"gJg5v",a686ef564d9d2882:"fdW4O"}],gqwBy:[function(e,t,i){var n=e("266355161c4f030d"),r=Math.log,s=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return r(e)/s}})},{"266355161c4f030d":"gJg5v"}],cjDQT:[function(e,t,i){e("69e2ea3a560b4a42")({target:"Math",stat:!0},{sign:e("22dfbc4f803ce611")})},{"69e2ea3a560b4a42":"gJg5v","22dfbc4f803ce611":"9QHoq"}],hjxfV:[function(e,t,i){var n=e("ebfcc20cba7b1e4e"),r=e("e96ed0b70941abe1"),s=e("cfb0aa3c75dc889"),a=Math.abs,o=Math.exp,h=Math.E;n({target:"Math",stat:!0,forced:r(function(){return -.00000000000000002!==Math.sinh(-.00000000000000002)})},{sinh:function(e){var t=+e;return 1>a(t)?(s(t)-s(-t))/2:(o(t-1)-o(-t-1))*(h/2)}})},{ebfcc20cba7b1e4e:"gJg5v",e96ed0b70941abe1:"cXVrS",cfb0aa3c75dc889:"fQMM6"}],lGEJr:[function(e,t,i){var n=e("75ca6aa3ab3c490c"),r=e("fbda4dec68bbb02f"),s=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,i=r(t),n=r(-t);return i===1/0?1:n===1/0?-1:(i-n)/(s(t)+s(-t))}})},{"75ca6aa3ab3c490c":"gJg5v",fbda4dec68bbb02f:"fQMM6"}],"8Egu9":[function(e,t,i){e("8c4fc1e6a65b6d2f")(Math,"Math",!0)},{"8c4fc1e6a65b6d2f":"dkhk9"}],jWST5:[function(e,t,i){e("f97de92e01c210b9")({target:"Math",stat:!0},{trunc:e("15d9fc8fa50b9dc3")})},{f97de92e01c210b9:"gJg5v","15d9fc8fa50b9dc3":"8w9Yn"}],hrnKP:[function(e,t,i){var n=e("6a137a118d1bb06a"),r=e("6befc110db857fa5"),s=e("dac0f49ddd258f02"),a=e("be627f07e88786cb"),o=e("2945e9e965681f9c"),h=e("d6ad03f4a8d178a7"),c=e("b7d12a59a0877cf0"),l=e("a63fe8ba771ddd66"),u=e("1fa70215a385f43f"),d=e("ac9a98828b299940"),f=e("a2f71c36cf1dfa06"),p=e("1398c779e833098a"),g=e("58c10e766b715db4"),m=e("eae30770a8520200").f,v=e("a3f2314ca43c8870").f,y=e("673bf972e777267f").f,b=e("dc2cfe6c86ab9553"),x=e("27f6d5a76060ef23").trim,E="Number",w=a[E],T=o[E],S=w.prototype,A=a.TypeError,C=h("".slice),_=h("".charCodeAt),I=function(e){var t=p(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,i,n,r,s,a,o,h,c=p(e,"number");if(f(c))throw new A("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2){if(43===(t=_(c=x(c),0))||45===t){if(88===(i=_(c,2))||120===i)return NaN}else if(48===t){switch(_(c,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=0,a=(s=C(c,2)).length;o<a;o++)if((h=_(s,o))<48||h>r)return NaN;return parseInt(s,n)}}return+c},P=c(E,!w(" 0o1")||!w("0b1")||w("+0x1")),M=function(e){var t,i=arguments.length<1?0:w(I(e));return(t=this,d(S,t)&&g(function(){b(t)}))?u(Object(i),this,M):i};M.prototype=S,P&&!r&&(S.constructor=M),n({global:!0,constructor:!0,wrap:!0,forced:P},{Number:M});var R=function(e,t){for(var i,n=s?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0;n.length>r;r++)l(t,i=n[r])&&!l(e,i)&&y(e,i,v(t,i))};r&&T&&R(o[E],T),(P||r)&&R(o[E],w)},{"6a137a118d1bb06a":"gJg5v","6befc110db857fa5":"jHRGA",dac0f49ddd258f02:"6mXK1",be627f07e88786cb:"7Z171","2945e9e965681f9c":"iwjHr",d6ad03f4a8d178a7:"2iJ57",b7d12a59a0877cf0:"gE5NQ",a63fe8ba771ddd66:"9JWVX","1fa70215a385f43f":"30not",ac9a98828b299940:"d5bNd",a2f71c36cf1dfa06:"2ZU2p","1398c779e833098a":"cCley","58c10e766b715db4":"cXVrS",eae30770a8520200:"dDV3S",a3f2314ca43c8870:"aRu9T","673bf972e777267f":"hvqCQ",dc2cfe6c86ab9553:"gPsjs","27f6d5a76060ef23":"jX5uQ"}],gPsjs:[function(e,t,i){var n=e("4875831adea9aec3");t.exports=n(1..valueOf)},{"4875831adea9aec3":"2iJ57"}],jX5uQ:[function(e,t,i){var n=e("17f5a3ff1a1c6ce6"),r=e("56083d5e0450dab9"),s=e("3c5616504c7d56e9"),a=e("eacd32ca91d3c555"),o=n("".replace),h=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var i=s(r(t));return 1&e&&(i=o(i,h,"")),2&e&&(i=o(i,c,"$1")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},{"17f5a3ff1a1c6ce6":"2iJ57","56083d5e0450dab9":"cHxZN","3c5616504c7d56e9":"4x6uB",eacd32ca91d3c555:"heeAP"}],heeAP:[function(e,t,i){t.exports="	\n\v\f\r                　\u2028\u2029\uFEFF"},{}],aXsIP:[function(e,t,i){e("6a152397506f58aa")({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:2220446049250313e-31})},{"6a152397506f58aa":"gJg5v"}],lsaNY:[function(e,t,i){e("1cd8bc612ab8a9aa")({target:"Number",stat:!0},{isFinite:e("2741aaae50f5c5db")})},{"1cd8bc612ab8a9aa":"gJg5v","2741aaae50f5c5db":"jGkAe"}],jGkAe:[function(e,t,i){var n=e("7a63d25015bc275e").isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},{"7a63d25015bc275e":"7Z171"}],"8eW4I":[function(e,t,i){e("ce2c3fa51ce7a2b6")({target:"Number",stat:!0},{isInteger:e("3e3a085edc93c707")})},{ce2c3fa51ce7a2b6:"gJg5v","3e3a085edc93c707":"3kBvt"}],"3kBvt":[function(e,t,i){var n=e("de18539dea9401a"),r=Math.floor;t.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&r(e)===e}},{de18539dea9401a:"8mxCV"}],h5WTU:[function(e,t,i){e("677c53d72f4dc4b5")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},{"677c53d72f4dc4b5":"gJg5v"}],glrUF:[function(e,t,i){var n=e("dab33bcdb73caa98"),r=e("3e8bd2979ca91bb4"),s=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&9007199254740991>=s(e)}})},{dab33bcdb73caa98:"gJg5v","3e8bd2979ca91bb4":"3kBvt"}],"91CVe":[function(e,t,i){e("f08cf5dcc31074a6")({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},{f08cf5dcc31074a6:"gJg5v"}],"5JCvB":[function(e,t,i){e("d7c9fce3c9d3d189")({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},{d7c9fce3c9d3d189:"gJg5v"}],"1UYJO":[function(e,t,i){var n=e("6edfd3b7fb98ea3e"),r=e("bae0a47a096d7522");n({target:"Number",stat:!0,forced:Number.parseFloat!==r},{parseFloat:r})},{"6edfd3b7fb98ea3e":"gJg5v",bae0a47a096d7522:"guYqF"}],guYqF:[function(e,t,i){var n=e("69bd3378e63391c8"),r=e("842d738e09e8ac6b"),s=e("1779e25eab454452"),a=e("a6c37474f58f0739"),o=e("595d7b3426fbca88").trim,h=e("3acff994bd3a41b1"),c=s("".charAt),l=n.parseFloat,u=n.Symbol,d=u&&u.iterator,f=1/l(h+"-0")!=-1/0||d&&!r(function(){l(Object(d))});t.exports=f?function(e){var t=o(a(e)),i=l(t);return 0===i&&"-"===c(t,0)?-0:i}:l},{"69bd3378e63391c8":"7Z171","842d738e09e8ac6b":"cXVrS","1779e25eab454452":"2iJ57",a6c37474f58f0739:"4x6uB","595d7b3426fbca88":"jX5uQ","3acff994bd3a41b1":"heeAP"}],"966g1":[function(e,t,i){var n=e("3882f0ce9a7bc56f"),r=e("f2f29cbfccb05e47");n({target:"Number",stat:!0,forced:Number.parseInt!==r},{parseInt:r})},{"3882f0ce9a7bc56f":"gJg5v",f2f29cbfccb05e47:"9rXua"}],"9rXua":[function(e,t,i){var n=e("272fde501e24d305"),r=e("48c528ae508d02e"),s=e("7e7198f2f1540a47"),a=e("dd517d0a64474028"),o=e("b0ec8b6ceac29d85").trim,h=e("5252068313c033be"),c=n.parseInt,l=n.Symbol,u=l&&l.iterator,d=/^[+-]?0x/i,f=s(d.exec),p=8!==c(h+"08")||22!==c(h+"0x16")||u&&!r(function(){c(Object(u))});t.exports=p?function(e,t){var i=o(a(e));return c(i,t>>>0||(f(d,i)?16:10))}:c},{"272fde501e24d305":"7Z171","48c528ae508d02e":"cXVrS","7e7198f2f1540a47":"2iJ57",dd517d0a64474028:"4x6uB",b0ec8b6ceac29d85:"jX5uQ","5252068313c033be":"heeAP"}],"2u6nF":[function(e,t,i){var n=e("8acff5e43ec1ac00"),r=e("a791fae730bb52f8"),s=e("eaaedcaf85694da0"),a=e("5cfce35661f01b6f"),o=e("6c8e5def45c211a1"),h=e("876da316e0a42221"),c=e("2c3e63cad4b974da"),l=RangeError,u=String,d=isFinite,f=Math.abs,p=Math.floor,g=Math.pow,m=Math.round,v=r(1..toExponential),y=r(o),b=r("".slice),x="-6.9000e-11"===v(-.000000000069,4)&&"1.25e+0"===v(1.255,2)&&"1.235e+4"===v(12345,3)&&"3e+1"===v(25,0);n({target:"Number",proto:!0,forced:!x||!(c(function(){v(1,1/0)})&&c(function(){v(1,-1/0)}))||!!c(function(){v(1/0,1/0),v(NaN,1/0)})},{toExponential:function(e){var t,i,n,r,o=a(this);if(void 0===e)return v(o);var c=s(e);if(!d(o))return String(o);if(c<0||c>20)throw new l("Incorrect fraction digits");if(x)return v(o,c);var E="";if(o<0&&(E="-",o=-o),0===o)i=0,t=y("0",c+1);else{var w=g(10,(i=p(h(o)))-c),T=m(o/w);2*o>=(2*T+1)*w&&(T+=1),T>=g(10,c+1)&&(T/=10,i+=1),t=u(T)}return 0!==c&&(t=b(t,0,1)+"."+b(t,1)),0===i?(n="+",r="0"):(n=i>0?"+":"-",r=u(f(i))),E+(t+="e"+n+r)}})},{"8acff5e43ec1ac00":"gJg5v",a791fae730bb52f8:"2iJ57",eaaedcaf85694da0:"gAgUH","5cfce35661f01b6f":"gPsjs","6c8e5def45c211a1":"dsk9g","876da316e0a42221":"7QVwX","2c3e63cad4b974da":"cXVrS"}],"3Zya8":[function(e,t,i){var n=e("cd4f6c8df33e40b4"),r=e("46d8af161e2dc0d6"),s=e("fb6b6174bcfa90f"),a=e("a88d9905e1f83adc"),o=e("9b93ef6d7f240c15"),h=e("d57e63cfa5cbb68e"),c=RangeError,l=String,u=Math.floor,d=r(o),f=r("".slice),p=r(1..toFixed),g=function(e,t,i){return 0===t?i:t%2==1?g(e,t-1,i*e):g(e*e,t/2,i)},m=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t},v=function(e,t,i){for(var n=-1,r=i;++n<6;)r+=t*e[n],e[n]=r%1e7,r=u(r/1e7)},y=function(e,t){for(var i=6,n=0;--i>=0;)n+=e[i],e[i]=u(n/t),n=n%t*1e7},b=function(e){for(var t=6,i="";--t>=0;)if(""!==i||0===t||0!==e[t]){var n=l(e[t]);i=""===i?n:i+d("0",7-n.length)+n}return i};n({target:"Number",proto:!0,forced:h(function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)})||!h(function(){p({})})},{toFixed:function(e){var t,i,n,r,o=a(this),h=s(e),u=[0,0,0,0,0,0],p="",x="0";if(h<0||h>20)throw new c("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return l(o);if(o<0&&(p="-",o=-o),o>1e-21){if(i=((t=m(o*g(2,69,1))-69)<0?o*g(2,-t,1):o/g(2,t,1))*4503599627370496,(t=52-t)>0){for(v(u,0,i),n=h;n>=7;)v(u,1e7,0),n-=7;for(v(u,g(10,n,1),0),n=t-1;n>=23;)y(u,8388608),n-=23;y(u,1<<n),v(u,1,1),y(u,2),x=b(u)}else v(u,0,i),v(u,1<<-t,0),x=b(u)+d("0",h)}return h>0?p+((r=x.length)<=h?"0."+d("0",h-r)+x:f(x,0,r-h)+"."+f(x,r-h)):p+x}})},{cd4f6c8df33e40b4:"gJg5v","46d8af161e2dc0d6":"2iJ57",fb6b6174bcfa90f:"gAgUH",a88d9905e1f83adc:"gPsjs","9b93ef6d7f240c15":"dsk9g",d57e63cfa5cbb68e:"cXVrS"}],kEs9R:[function(e,t,i){var n=e("a8898a73ab91d290"),r=e("ce4a637ab8de47ca"),s=e("4308932cb74d1989"),a=e("b09e8a0929dbee09"),o=r(1..toPrecision);n({target:"Number",proto:!0,forced:s(function(){return"1"!==o(1,void 0)})||!s(function(){o({})})},{toPrecision:function(e){return void 0===e?o(a(this)):o(a(this),e)}})},{a8898a73ab91d290:"gJg5v",ce4a637ab8de47ca:"2iJ57","4308932cb74d1989":"cXVrS",b09e8a0929dbee09:"gPsjs"}],czjHQ:[function(e,t,i){var n=e("9e39c36176ea9027"),r=e("eca15ea3e03a62cf");n({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"9e39c36176ea9027":"gJg5v",eca15ea3e03a62cf:"cKgWo"}],cKgWo:[function(e,t,i){var n=e("6bef1f1b71c0d15f"),r=e("d01fdbe6acf1dc69"),s=e("152344c6f1cc0727"),a=e("e500b6660dae4ed2"),o=e("a51f09aa538cbbc9"),h=e("1e00e3b82b1b3cb6"),c=e("df8aa13044dccc97"),l=e("fb90ba2f91e5c029"),u=e("33842bab271c4900"),d=Object.assign,f=Object.defineProperty,p=r([].concat);t.exports=!d||a(function(){if(n&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[i]=7,r.split("").forEach(function(e){t[e]=e}),7!==d({},e)[i]||o(d({},t)).join("")!==r})?function(e,t){for(var i=l(e),r=arguments.length,a=1,d=h.f,f=c.f;r>a;)for(var g,m=u(arguments[a++]),v=d?p(o(m),d(m)):o(m),y=v.length,b=0;y>b;)g=v[b++],(!n||s(f,m,g))&&(i[g]=m[g]);return i}:d},{"6bef1f1b71c0d15f":"6mXK1",d01fdbe6acf1dc69:"2iJ57","152344c6f1cc0727":"bOssl",e500b6660dae4ed2:"cXVrS",a51f09aa538cbbc9:"kQgZQ","1e00e3b82b1b3cb6":"f3eHQ",df8aa13044dccc97:"7Av2Z",fb90ba2f91e5c029:"6oQEu","33842bab271c4900":"kuAas"}],"9DWg9":[function(e,t,i){e("17cb8072b960d33f")({target:"Object",stat:!0,sham:!e("b7e43977f87f28a2")},{create:e("af73c0503e5e2dd8")})},{"17cb8072b960d33f":"gJg5v",b7e43977f87f28a2:"6mXK1",af73c0503e5e2dd8:"7isQ3"}],"8uazT":[function(e,t,i){var n=e("8f6b558a4e940099"),r=e("96523e310a3fe908"),s=e("67741c7cd2815bff"),a=e("60e72fdc0dc9cee8"),o=e("81722f8311309945"),h=e("e74b2be534174483");r&&n({target:"Object",proto:!0,forced:s},{__defineGetter__:function(e,t){h.f(o(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},{"8f6b558a4e940099":"gJg5v","96523e310a3fe908":"6mXK1","67741c7cd2815bff":"hh3RM","60e72fdc0dc9cee8":"alrlv","81722f8311309945":"6oQEu",e74b2be534174483:"hvqCQ"}],hh3RM:[function(e,t,i){var n=e("8edc7d10fd60cc1f"),r=e("199488e7120262f2"),s=e("67c1b3060370d6f1"),a=e("a7f7bf4b6fabffe9");t.exports=n||!s(function(){if(!a||!(a<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete r[e]}})},{"8edc7d10fd60cc1f":"jHRGA","199488e7120262f2":"7Z171","67c1b3060370d6f1":"cXVrS",a7f7bf4b6fabffe9:"1CWLZ"}],dLOib:[function(e,t,i){var n=e("79249a239f48e2d4"),r=e("b64da2842e228b05"),s=e("45e48b7437d67551").f;n({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!r},{defineProperties:s})},{"79249a239f48e2d4":"gJg5v",b64da2842e228b05:"6mXK1","45e48b7437d67551":"ePigI"}],bVBB2:[function(e,t,i){var n=e("b118adf01477032"),r=e("a3127abbf747d8e2"),s=e("dec8f826adb685fc").f;n({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!r},{defineProperty:s})},{b118adf01477032:"gJg5v",a3127abbf747d8e2:"6mXK1",dec8f826adb685fc:"hvqCQ"}],"9laFo":[function(e,t,i){var n=e("9bd3ca02d43a34c6"),r=e("14adf2205f0de0f1"),s=e("25f3087f814cb2fd"),a=e("8f5516e8b83f7c81"),o=e("1864c5e0fe7b94e4"),h=e("fbfc447cbc7c8274");r&&n({target:"Object",proto:!0,forced:s},{__defineSetter__:function(e,t){h.f(o(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},{"9bd3ca02d43a34c6":"gJg5v","14adf2205f0de0f1":"6mXK1","25f3087f814cb2fd":"hh3RM","8f5516e8b83f7c81":"alrlv","1864c5e0fe7b94e4":"6oQEu",fbfc447cbc7c8274:"hvqCQ"}],"1E3wB":[function(e,t,i){var n=e("f61a79561ef771d5"),r=e("f45db476330e9273").entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},{f61a79561ef771d5:"gJg5v",f45db476330e9273:"iwcqE"}],iwcqE:[function(e,t,i){var n=e("d3708b44f56d5dbe"),r=e("41285041ee215b4b"),s=e("fae894139558d631"),a=e("d1ebe3ffdc898f92"),o=e("8ca7d570e80b9ce7"),h=e("cd0bc0f155d9ce86"),c=s(e("8a6b90d3c1a4843d").f),l=s([].push),u=n&&r(function(){var e=Object.create(null);return e[2]=2,!c(e,2)}),d=function(e){return function(t){for(var i,r=h(t),s=o(r),d=u&&null===a(r),f=s.length,p=0,g=[];f>p;)i=s[p++],(!n||(d?i in r:c(r,i)))&&l(g,e?[i,r[i]]:r[i]);return g}};t.exports={entries:d(!0),values:d(!1)}},{d3708b44f56d5dbe:"6mXK1","41285041ee215b4b":"cXVrS",fae894139558d631:"2iJ57",d1ebe3ffdc898f92:"e8mfS","8ca7d570e80b9ce7":"kQgZQ",cd0bc0f155d9ce86:"h9ut0","8a6b90d3c1a4843d":"7Av2Z"}],cCotT:[function(e,t,i){var n=e("41df7dcb1db288e9"),r=e("fff8fcdf7f021ed"),s=e("349eb9a58219946d"),a=e("aba4dbd0c2e0df38"),o=e("83d388d2147293dd").onFreeze,h=Object.freeze;n({target:"Object",stat:!0,forced:s(function(){h(1)}),sham:!r},{freeze:function(e){return h&&a(e)?h(o(e)):e}})},{"41df7dcb1db288e9":"gJg5v",fff8fcdf7f021ed:"cPqlV","349eb9a58219946d":"cXVrS",aba4dbd0c2e0df38:"8mxCV","83d388d2147293dd":"3Q1Z8"}],htZZS:[function(e,t,i){var n=e("48c4d449b4b6a74e"),r=e("ee4e4a7ea4b35347"),s=e("34466cd01816d06a");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,function(e,i){s(t,e,i)},{AS_ENTRIES:!0}),t}})},{"48c4d449b4b6a74e":"gJg5v",ee4e4a7ea4b35347:"dCEHX","34466cd01816d06a":"SVTZV"}],b3JIq:[function(e,t,i){var n=e("5e9e720f67356476"),r=e("c8df38aee3cb5769"),s=e("10375c86bad61030"),a=e("3b00a68c12a1896c").f,o=e("76539d9475dc0bf0");n({target:"Object",stat:!0,forced:!o||r(function(){a(1)}),sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},{"5e9e720f67356476":"gJg5v",c8df38aee3cb5769:"cXVrS","10375c86bad61030":"h9ut0","3b00a68c12a1896c":"aRu9T","76539d9475dc0bf0":"6mXK1"}],kPfIJ:[function(e,t,i){var n=e("40e7403e4fec8fc5"),r=e("4e8e0ded689e341a"),s=e("ca8e12f795281afd"),a=e("2a0629723aea50a6"),o=e("d8f1f7a76c234914"),h=e("d34666d556a98edd");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,i,n=a(e),r=o.f,c=s(n),l={},u=0;c.length>u;)void 0!==(i=r(n,t=c[u++]))&&h(l,t,i);return l}})},{"40e7403e4fec8fc5":"gJg5v","4e8e0ded689e341a":"6mXK1",ca8e12f795281afd:"k5rhT","2a0629723aea50a6":"h9ut0",d8f1f7a76c234914:"aRu9T",d34666d556a98edd:"SVTZV"}],"9ERxS":[function(e,t,i){var n=e("effeafa72fa4fcc2"),r=e("9f4f815a609d62de"),s=e("4a158a7faad2d27f").f;n({target:"Object",stat:!0,forced:r(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{effeafa72fa4fcc2:"gJg5v","9f4f815a609d62de":"cXVrS","4a158a7faad2d27f":"bBGHM"}],"6T09z":[function(e,t,i){var n=e("9b00c005c1d693fb"),r=e("ffe585e19c7a1096"),s=e("a7cc68351642ae12"),a=e("46d7a597f20859a8"),o=e("765be3ffdd1dfa5d");n({target:"Object",stat:!0,forced:r(function(){a(1)}),sham:!o},{getPrototypeOf:function(e){return a(s(e))}})},{"9b00c005c1d693fb":"gJg5v",ffe585e19c7a1096:"cXVrS",a7cc68351642ae12:"6oQEu","46d7a597f20859a8":"e8mfS","765be3ffdd1dfa5d":"2SHZm"}],nZQfS:[function(e,t,i){var n=e("b06b32f47a30ec7f"),r=e("6a46da92f3f73121"),s=e("af1ec4f8b421ab5c"),a=e("2ef79b8f3bb016c7"),o=e("a668398ad3de0d7d"),h=e("70005dfdb718ef94"),c=e("972dd804937bc18f"),l=e("281c63cf55e8b57b"),u=Object.groupBy,d=r("Object","create"),f=s([].push);n({target:"Object",stat:!0,forced:!u||l(function(){return 1!==u("ab",function(e){return e}).a.length})},{groupBy:function(e,t){o(e),a(t);var i=d(null),n=0;return c(e,function(e){var r=h(t(e,n++));r in i?f(i[r],e):i[r]=[e]}),i}})},{b06b32f47a30ec7f:"gJg5v","6a46da92f3f73121":"e5ie6",af1ec4f8b421ab5c:"2iJ57","2ef79b8f3bb016c7":"alrlv",a668398ad3de0d7d:"cHxZN","70005dfdb718ef94":"gvuJs","972dd804937bc18f":"dCEHX","281c63cf55e8b57b":"cXVrS"}],"6GBQI":[function(e,t,i){e("98e893e3166a4362")({target:"Object",stat:!0},{hasOwn:e("12a9e94ed897fcaf")})},{"98e893e3166a4362":"gJg5v","12a9e94ed897fcaf":"9JWVX"}],g4f9X:[function(e,t,i){e("451600d6bdd8e576")({target:"Object",stat:!0},{is:e("56b2e52d42ffd002")})},{"451600d6bdd8e576":"gJg5v","56b2e52d42ffd002":"3Lhyq"}],"3Lhyq":[function(e,t,i){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],eNC2R:[function(e,t,i){var n=e("435e06d616210775"),r=e("cdaf74e91df56e60");n({target:"Object",stat:!0,forced:Object.isExtensible!==r},{isExtensible:r})},{"435e06d616210775":"gJg5v",cdaf74e91df56e60:"kKQ3P"}],czmee:[function(e,t,i){var n=e("d0fbaa7eb6b5ad4d"),r=e("421049f6c11462a7"),s=e("9ed59196a9b50c30"),a=e("590e67d09aaa38f"),o=e("c1ee6c6b89bec975"),h=Object.isFrozen;n({target:"Object",stat:!0,forced:o||r(function(){h(1)})},{isFrozen:function(e){return!s(e)||!!o&&"ArrayBuffer"===a(e)||!!h&&h(e)}})},{d0fbaa7eb6b5ad4d:"gJg5v","421049f6c11462a7":"cXVrS","9ed59196a9b50c30":"8mxCV","590e67d09aaa38f":"161sQ",c1ee6c6b89bec975:"fKJ3g"}],"96RAZ":[function(e,t,i){var n=e("e0d9427683afd111"),r=e("8b49b6806ae62eca"),s=e("97ad0f68c00a1ff0"),a=e("7f6c54dd5bc88c64"),o=e("c8a04ae167e7ad37"),h=Object.isSealed;n({target:"Object",stat:!0,forced:o||r(function(){h(1)})},{isSealed:function(e){return!s(e)||!!o&&"ArrayBuffer"===a(e)||!!h&&h(e)}})},{e0d9427683afd111:"gJg5v","8b49b6806ae62eca":"cXVrS","97ad0f68c00a1ff0":"8mxCV","7f6c54dd5bc88c64":"161sQ",c8a04ae167e7ad37:"fKJ3g"}],"3SReg":[function(e,t,i){var n=e("928eae3c9269318e"),r=e("bffeb5a63b3d1ddc"),s=e("4e7619f3294f09c8");n({target:"Object",stat:!0,forced:e("16ceb2cf691ec6a8")(function(){s(1)})},{keys:function(e){return s(r(e))}})},{"928eae3c9269318e":"gJg5v",bffeb5a63b3d1ddc:"6oQEu","4e7619f3294f09c8":"kQgZQ","16ceb2cf691ec6a8":"cXVrS"}],dOXap:[function(e,t,i){var n=e("3213681dc3c35763"),r=e("4aa54b730f2d3e5b"),s=e("f722ba9b4a4e493a"),a=e("d9187b4f4abc84a2"),o=e("a283188d11fd1310"),h=e("81f1f2335bc409e6"),c=e("73cff62f53644df3").f;r&&n({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,i=a(this),n=o(e);do if(t=c(i,n))return t.get;while(i=h(i))}})},{"3213681dc3c35763":"gJg5v","4aa54b730f2d3e5b":"6mXK1",f722ba9b4a4e493a:"hh3RM",d9187b4f4abc84a2:"6oQEu",a283188d11fd1310:"gvuJs","81f1f2335bc409e6":"e8mfS","73cff62f53644df3":"aRu9T"}],evHBo:[function(e,t,i){var n=e("cfcc7acaa30d169a"),r=e("95cf98e445e49077"),s=e("32af9c4b10e71d8a"),a=e("a3a2f8d0bb0d269a"),o=e("fc6f1b0f9f6a3207"),h=e("4f72764854999276"),c=e("940efcd169764424").f;r&&n({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,i=a(this),n=o(e);do if(t=c(i,n))return t.set;while(i=h(i))}})},{cfcc7acaa30d169a:"gJg5v","95cf98e445e49077":"6mXK1","32af9c4b10e71d8a":"hh3RM",a3a2f8d0bb0d269a:"6oQEu",fc6f1b0f9f6a3207:"gvuJs","4f72764854999276":"e8mfS","940efcd169764424":"aRu9T"}],liWu9:[function(e,t,i){var n=e("dd30e23e7eea933c"),r=e("16f89a44f17d8f35"),s=e("4ddba3dd9dcca781").onFreeze,a=e("fa786d6ffa5b300e"),o=e("3a7088156a6b24b9"),h=Object.preventExtensions;n({target:"Object",stat:!0,forced:o(function(){h(1)}),sham:!a},{preventExtensions:function(e){return h&&r(e)?h(s(e)):e}})},{dd30e23e7eea933c:"gJg5v","16f89a44f17d8f35":"8mxCV","4ddba3dd9dcca781":"3Q1Z8",fa786d6ffa5b300e:"cPqlV","3a7088156a6b24b9":"cXVrS"}],a2AOJ:[function(e,t,i){var n=e("12120dafa98cd91b"),r=e("8a5ee5120083625d"),s=e("dacee5d02a7d8660"),a=e("9f80f8e0960690f0"),o=e("f3ab8c15cd26e8b0"),h=e("cf1c31853a2dbd73"),c=Object.getPrototypeOf,l=Object.setPrototypeOf,u=Object.prototype,d="__proto__";if(n&&c&&l&&!(d in u))try{r(u,d,{configurable:!0,get:function(){return c(o(this))},set:function(e){var t=h(this);a(e)&&s(t)&&l(t,e)}})}catch(e){}},{"12120dafa98cd91b":"6mXK1","8a5ee5120083625d":"3NI4M",dacee5d02a7d8660:"8mxCV","9f80f8e0960690f0":"6XW5L",f3ab8c15cd26e8b0:"6oQEu",cf1c31853a2dbd73:"cHxZN"}],yqtQx:[function(e,t,i){var n=e("7431c9c36c061192"),r=e("254eb19750975bda"),s=e("2f01f54810b729a0").onFreeze,a=e("f352701af16ccb01"),o=e("c5798f0bf47c2f71"),h=Object.seal;n({target:"Object",stat:!0,forced:o(function(){h(1)}),sham:!a},{seal:function(e){return h&&r(e)?h(s(e)):e}})},{"7431c9c36c061192":"gJg5v","254eb19750975bda":"8mxCV","2f01f54810b729a0":"3Q1Z8",f352701af16ccb01:"cPqlV",c5798f0bf47c2f71:"cXVrS"}],"4M7RG":[function(e,t,i){e("9b49024ba2cb31fd")({target:"Object",stat:!0},{setPrototypeOf:e("3492d4712278eb46")})},{"9b49024ba2cb31fd":"gJg5v","3492d4712278eb46":"arrdQ"}],"7ybM1":[function(e,t,i){var n=e("2f5378debd330ed5"),r=e("5e0718aecf12f1e8"),s=e("6b32f4accffdcba8");n||r(Object.prototype,"toString",s,{unsafe:!0})},{"2f5378debd330ed5":"9axlf","5e0718aecf12f1e8":"4CPdc","6b32f4accffdcba8":"a9Vf3"}],a9Vf3:[function(e,t,i){var n=e("312e54676af41375"),r=e("2dbce13c946fe9d0");t.exports=n?({}).toString:function(){return"[object "+r(this)+"]"}},{"312e54676af41375":"9axlf","2dbce13c946fe9d0":"cRCRk"}],csFkS:[function(e,t,i){var n=e("eb35dc894cb42ba5"),r=e("f1b9830bcb61759d").values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},{eb35dc894cb42ba5:"gJg5v",f1b9830bcb61759d:"iwcqE"}],"6V0HA":[function(e,t,i){var n=e("c1505c05c57d39cb"),r=e("fd7eb946ed597b55");n({global:!0,forced:parseFloat!==r},{parseFloat:r})},{c1505c05c57d39cb:"gJg5v",fd7eb946ed597b55:"guYqF"}],"26fdt":[function(e,t,i){var n=e("3ca2a8550b205bbe"),r=e("f57aad6998179c26");n({global:!0,forced:parseInt!==r},{parseInt:r})},{"3ca2a8550b205bbe":"gJg5v",f57aad6998179c26:"9rXua"}],"8nI8r":[function(e,t,i){e("71201fb984fca5e2"),e("944d2d67bf4aa279"),e("259dee16b78a9293"),e("bac68e84460cf44d"),e("35807fabff0322bf"),e("8713c69981abff7e")},{"71201fb984fca5e2":"dkJyI","944d2d67bf4aa279":"2zMO8","259dee16b78a9293":"bizKp",bac68e84460cf44d:"fDY5E","35807fabff0322bf":"2dUxj","8713c69981abff7e":"6tXif"}],dkJyI:[function(e,t,i){var n,r,s,a,o=e("cdd137752c5b4a8e"),h=e("27c8c7e1f0444fd2"),c=e("e9cf171cc5f9ff78"),l=e("d198a89966b49f7a"),u=e("643c25bd5b0dfc21"),d=e("76c41f8cfb7124b7"),f=e("6f7c1c1190868f98"),p=e("8b9ff6cd5f4bf470"),g=e("e2d999cd3139e29e"),m=e("37ba5f9496a9ce6f"),v=e("c754acf38f3fbf83"),y=e("f9d3438feb00503"),b=e("eea1cec1753c28d3"),x=e("2b3f8c9a01947fd4"),E=e("d7da4b96347ff949").set,w=e("5967e7e0ab765b55"),T=e("45c77ce65cdfa56e"),S=e("ed2bd3e4981b5b7f"),A=e("67a62e6e19993e50"),C=e("d047e80fbdc4abaf"),_=e("cb21f79465bb7a4f"),I=e("d92ec88829ba956d"),O=e("f518fe10c60b8bee"),P="Promise",M=I.CONSTRUCTOR,R=I.REJECTION_EVENT,L=I.SUBCLASSING,D=C.getterFor(P),k=C.set,N=_&&_.prototype,F=_,B=N,U=l.TypeError,V=l.document,G=l.process,j=O.f,W=j,Y=!!(V&&V.createEvent&&l.dispatchEvent),H="unhandledrejection",z=function(e){var t;return!!(y(e)&&v(t=e.then))&&t},X=function(e,t){var i,n,r,s=t.value,a=1===t.state,o=a?e.ok:e.fail,h=e.resolve,c=e.reject,l=e.domain;try{o?(a||(2===t.rejection&&Q(t),t.rejection=1),!0===o?i=s:(l&&l.enter(),i=o(s),l&&(l.exit(),r=!0)),i===e.promise?c(new U("Promise-chain cycle")):(n=z(i))?u(n,i,h,c):h(i)):c(s)}catch(e){l&&!r&&l.exit(),c(e)}},K=function(e,t){e.notified||(e.notified=!0,w(function(){for(var i,n=e.reactions;i=n.get();)X(i,e);e.notified=!1,t&&!e.rejection&&J(e)}))},q=function(e,t,i){var n,r;Y?((n=V.createEvent("Event")).promise=t,n.reason=i,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:i},!R&&(r=l["on"+e])?r(n):e===H&&T("Unhandled promise rejection",i)},J=function(e){u(E,l,function(){var t,i=e.facade,n=e.value;if($(e)&&(t=S(function(){c?G.emit("unhandledRejection",n,i):q(H,i,n)}),e.rejection=c||$(e)?2:1,t.error))throw t.value})},$=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){u(E,l,function(){var t=e.facade;c?G.emit("rejectionHandled",t):q("rejectionhandled",t,e.value)})},Z=function(e,t,i){return function(n){e(t,n,i)}},ee=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,K(e,!0))},et=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw new U("Promise can't be resolved itself");var n=z(t);n?w(function(){var i={done:!1};try{u(n,t,Z(et,i,e),Z(ee,i,e))}catch(t){ee(i,t,e)}}):(e.value=t,e.state=1,K(e,!1))}catch(t){ee({done:!1},t,e)}}};if(M&&(B=(F=function(e){b(this,B),m(e),u(n,this);var t=D(this);try{e(Z(et,t),Z(ee,t))}catch(e){ee(t,e)}}).prototype,(n=function(e){k(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:null})}).prototype=d(B,"then",function(e,t){var i=D(this),n=j(x(this,F));return i.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=c?G.domain:void 0,0===i.state?i.reactions.add(n):w(function(){X(n,i)}),n.promise}),r=function(){var e=new n,t=D(e);this.promise=e,this.resolve=Z(et,t),this.reject=Z(ee,t)},O.f=j=function(e){return e===F||e===s?new r(e):W(e)},!h&&v(_)&&N!==Object.prototype)){a=N.then,L||d(N,"then",function(e,t){var i=this;return new F(function(e,t){u(a,i,e,t)}).then(e,t)},{unsafe:!0});try{delete N.constructor}catch(e){}f&&f(N,B)}o({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:F}),p(F,P,!1,!0),g(P)},{cdd137752c5b4a8e:"gJg5v","27c8c7e1f0444fd2":"jHRGA",e9cf171cc5f9ff78:"hdoIk",d198a89966b49f7a:"7Z171","643c25bd5b0dfc21":"bOssl","76c41f8cfb7124b7":"4CPdc","6f7c1c1190868f98":"arrdQ","8b9ff6cd5f4bf470":"dkhk9",e2d999cd3139e29e:"c7jXZ","37ba5f9496a9ce6f":"alrlv",c754acf38f3fbf83:"h1Wnr",f9d3438feb00503:"8mxCV",eea1cec1753c28d3:"95yA1","2b3f8c9a01947fd4":"CaSkn",d7da4b96347ff949:"iEUCI","5967e7e0ab765b55":"fhIs0","45c77ce65cdfa56e":"8UxN2",ed2bd3e4981b5b7f:"7qEEW","67a62e6e19993e50":"74jUI",d047e80fbdc4abaf:"ixHS2",cb21f79465bb7a4f:"BGWp5",d92ec88829ba956d:"cAqqZ",f518fe10c60b8bee:"iq5DC"}],CaSkn:[function(e,t,i){var n=e("1dd3546388607f52"),r=e("1407b26f20411731"),s=e("e59a7a10597b8e96"),a=e("16c256a8cc3c03fd")("species");t.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||s(i=n(o)[a])?t:r(i)}},{"1dd3546388607f52":"dPzbI","1407b26f20411731":"euAEP",e59a7a10597b8e96:"8AxCV","16c256a8cc3c03fd":"5CuF7"}],euAEP:[function(e,t,i){var n=e("f0753b26326019c1"),r=e("8e6a26f37529644e"),s=TypeError;t.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not a constructor")}},{f0753b26326019c1:"eytEI","8e6a26f37529644e":"3zerS"}],iEUCI:[function(e,t,i){var n,r,s,a,o=e("629a4d99f4fe5b2e"),h=e("e574be68c288c7c8"),c=e("df212787338802d3"),l=e("afdf018c2d01bbc6"),u=e("35a3e849940fd612"),d=e("b8bf5434d2248ca7"),f=e("731f9370cc21fc3b"),p=e("ec358060964e4bde"),g=e("907adb6d219da7a3"),m=e("f398561ebd49a798"),v=e("8a8e342aaad83bb"),y=e("6eef8b4e43dd6731"),b=o.setImmediate,x=o.clearImmediate,E=o.process,w=o.Dispatch,T=o.Function,S=o.MessageChannel,A=o.String,C=0,_={},I="onreadystatechange";d(function(){n=o.location});var O=function(e){if(u(_,e)){var t=_[e];delete _[e],t()}},P=function(e){return function(){O(e)}},M=function(e){O(e.data)},R=function(e){o.postMessage(A(e),n.protocol+"//"+n.host)};b&&x||(b=function(e){m(arguments.length,1);var t=l(e)?e:T(e),i=p(arguments,1);return _[++C]=function(){h(t,void 0,i)},r(C),C},x=function(e){delete _[e]},y?r=function(e){E.nextTick(P(e))}:w&&w.now?r=function(e){w.now(P(e))}:S&&!v?(a=(s=new S).port2,s.port1.onmessage=M,r=c(a.postMessage,a)):o.addEventListener&&l(o.postMessage)&&!o.importScripts&&n&&"file:"!==n.protocol&&!d(R)?(r=R,o.addEventListener("message",M,!1)):r=I in g("script")?function(e){f.appendChild(g("script"))[I]=function(){f.removeChild(this),O(e)}}:function(e){setTimeout(P(e),0)}),t.exports={set:b,clear:x}},{"629a4d99f4fe5b2e":"7Z171",e574be68c288c7c8:"2fjXG",df212787338802d3:"f1CxE",afdf018c2d01bbc6:"h1Wnr","35a3e849940fd612":"9JWVX",b8bf5434d2248ca7:"cXVrS","731f9370cc21fc3b":"23b1K",ec358060964e4bde:"eO8Ta","907adb6d219da7a3":"SppDD",f398561ebd49a798:"h3DcZ","8a8e342aaad83bb":"bUue9","6eef8b4e43dd6731":"hdoIk"}],h3DcZ:[function(e,t,i){var n=TypeError;t.exports=function(e,t){if(e<t)throw new n("Not enough arguments");return e}},{}],bUue9:[function(e,t,i){var n=e("88313d0d5d3e28c");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},{"88313d0d5d3e28c":"5hj4U"}],fhIs0:[function(e,t,i){var n,r,s,a,o,h=e("f872aba82a3b0b65"),c=e("d65d53880ca448da"),l=e("c6f841b26dc6586e"),u=e("e7b8d665c6b82c12").set,d=e("78ca3b778736fc30"),f=e("e694c6aea443b084"),p=e("b0a0e151fbd36f02"),g=e("d48f26179ef02c02"),m=e("e809fd0b68a5879f"),v=h.MutationObserver||h.WebKitMutationObserver,y=h.document,b=h.process,x=h.Promise,E=c("queueMicrotask");if(!E){var w=new d,T=function(){var e,t;for(m&&(e=b.domain)&&e.exit();t=w.get();)try{t()}catch(e){throw w.head&&n(),e}e&&e.enter()};f||m||g||!v||!y?!p&&x&&x.resolve?((a=x.resolve(void 0)).constructor=x,o=l(a.then,a),n=function(){o(T)}):m?n=function(){b.nextTick(T)}:(u=l(u,h),n=function(){u(T)}):(r=!0,s=y.createTextNode(""),new v(T).observe(s,{characterData:!0}),n=function(){s.data=r=!r}),E=function(e){w.head||n(),w.add(e)}}t.exports=E},{f872aba82a3b0b65:"7Z171",d65d53880ca448da:"aXhrH",c6f841b26dc6586e:"f1CxE",e7b8d665c6b82c12:"iEUCI","78ca3b778736fc30":"74jUI",e694c6aea443b084:"bUue9",b0a0e151fbd36f02:"eLUUd",d48f26179ef02c02:"6CYBS",e809fd0b68a5879f:"hdoIk"}],aXhrH:[function(e,t,i){var n=e("fea114a3220626fd"),r=e("8329936952af7ff"),s=Object.getOwnPropertyDescriptor;t.exports=function(e){if(!r)return n[e];var t=s(n,e);return t&&t.value}},{fea114a3220626fd:"7Z171","8329936952af7ff":"6mXK1"}],"74jUI":[function(e,t,i){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},t.exports=n},{}],eLUUd:[function(e,t,i){var n=e("6993865deab208b1");t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},{"6993865deab208b1":"5hj4U"}],"6CYBS":[function(e,t,i){var n=e("c48e030879980deb");t.exports=/web0s(?!.*chrome)/i.test(n)},{c48e030879980deb:"5hj4U"}],"8UxN2":[function(e,t,i){t.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},{}],"7qEEW":[function(e,t,i){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],BGWp5:[function(e,t,i){var n=e("5c31330fc800d47f");t.exports=n.Promise},{"5c31330fc800d47f":"7Z171"}],cAqqZ:[function(e,t,i){var n=e("858d6f549d7f3b06"),r=e("914dda54bcca9f98"),s=e("9560dd8306c037cf"),a=e("dc1381594b318fd4"),o=e("f6b84f5d53cc51bf"),h=e("28acb9f62af6dfc2"),c=e("45a29d2d770fea8"),l=e("c00f2fe103f19409"),u=e("dc99ee072f0f0ef8"),d=r&&r.prototype,f=h("species"),p=!1,g=s(n.PromiseRejectionEvent),m=a("Promise",function(){var e=o(r),t=e!==String(r);if(!t&&66===u||l&&!(d.catch&&d.finally))return!0;if(!u||u<51||!/native code/.test(e)){var i=new r(function(e){e(1)}),n=function(e){e(function(){},function(){})};if((i.constructor={})[f]=n,!(p=i.then(function(){}) instanceof n))return!0}return!t&&("BROWSER"===c||"DENO"===c)&&!g});t.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},{"858d6f549d7f3b06":"7Z171","914dda54bcca9f98":"BGWp5","9560dd8306c037cf":"h1Wnr",dc1381594b318fd4:"gE5NQ",f6b84f5d53cc51bf:"3JJEO","28acb9f62af6dfc2":"5CuF7","45a29d2d770fea8":"ah0ZS",c00f2fe103f19409:"jHRGA",dc99ee072f0f0ef8:"co76c"}],iq5DC:[function(e,t,i){var n=e("b85cb5089dafddf1"),r=TypeError,s=function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw new r("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)};t.exports.f=function(e){return new s(e)}},{b85cb5089dafddf1:"alrlv"}],"2zMO8":[function(e,t,i){var n=e("5fe91bc37669c5a0"),r=e("f3e846242a85204b"),s=e("b44cc3ada152502d"),a=e("598afe33e3f52cb1"),o=e("e989f176969dcec5"),h=e("3f72073566ddc960");n({target:"Promise",stat:!0,forced:e("881fce5de451c4fe")},{all:function(e){var t=this,i=a.f(t),n=i.resolve,c=i.reject,l=o(function(){var i=s(t.resolve),a=[],o=0,l=1;h(e,function(e){var s=o++,h=!1;l++,r(i,t,e).then(function(e){!h&&(h=!0,a[s]=e,--l||n(a))},c)}),--l||n(a)});return l.error&&c(l.value),i.promise}})},{"5fe91bc37669c5a0":"gJg5v",f3e846242a85204b:"bOssl",b44cc3ada152502d:"alrlv","598afe33e3f52cb1":"iq5DC",e989f176969dcec5:"7qEEW","3f72073566ddc960":"dCEHX","881fce5de451c4fe":"4Vjnp"}],"4Vjnp":[function(e,t,i){var n=e("d3fcaf55cfa61757"),r=e("27318831369e2a7e"),s=e("a7dca7fabf4d8c44").CONSTRUCTOR;t.exports=s||!r(function(e){n.all(e).then(void 0,function(){})})},{d3fcaf55cfa61757:"BGWp5","27318831369e2a7e":"dR8Bu",a7dca7fabf4d8c44:"cAqqZ"}],bizKp:[function(e,t,i){var n=e("f9109f39e0c1eace"),r=e("b0f691f2694fd89e"),s=e("f07c13c93306bd7f").CONSTRUCTOR,a=e("31561c9d3d855c60"),o=e("1ba3086b4a897ac4"),h=e("7dd264a6360c2a5a"),c=e("baa11ffea0878c3e"),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&h(a)){var u=o("Promise").prototype.catch;l.catch!==u&&c(l,"catch",u,{unsafe:!0})}},{f9109f39e0c1eace:"gJg5v",b0f691f2694fd89e:"jHRGA",f07c13c93306bd7f:"cAqqZ","31561c9d3d855c60":"BGWp5","1ba3086b4a897ac4":"e5ie6","7dd264a6360c2a5a":"h1Wnr",baa11ffea0878c3e:"4CPdc"}],fDY5E:[function(e,t,i){var n=e("4068f648151c1330"),r=e("658417f940db2db2"),s=e("5199435aa17f3955"),a=e("f7224a0a89bb6794"),o=e("477a19c99b10aa32"),h=e("970f1b07d9125958");n({target:"Promise",stat:!0,forced:e("d71553795a1298b8")},{race:function(e){var t=this,i=a.f(t),n=i.reject,c=o(function(){var a=s(t.resolve);h(e,function(e){r(a,t,e).then(i.resolve,n)})});return c.error&&n(c.value),i.promise}})},{"4068f648151c1330":"gJg5v","658417f940db2db2":"bOssl","5199435aa17f3955":"alrlv",f7224a0a89bb6794:"iq5DC","477a19c99b10aa32":"7qEEW","970f1b07d9125958":"dCEHX",d71553795a1298b8:"4Vjnp"}],"2dUxj":[function(e,t,i){var n=e("ec46f4bb3616ad7b"),r=e("3f8b88f93499a7cd");n({target:"Promise",stat:!0,forced:e("2ae203822949c331").CONSTRUCTOR},{reject:function(e){var t=r.f(this);return(0,t.reject)(e),t.promise}})},{ec46f4bb3616ad7b:"gJg5v","3f8b88f93499a7cd":"iq5DC","2ae203822949c331":"cAqqZ"}],"6tXif":[function(e,t,i){var n=e("a4f3ef37c946dd2b"),r=e("2794b78b0ca3694f"),s=e("c6e440c7abf54a3a"),a=e("c3eef09c8272b2fa"),o=e("ca944314fb589e9b").CONSTRUCTOR,h=e("95f41bf564123591"),c=r("Promise"),l=s&&!o;n({target:"Promise",stat:!0,forced:s||o},{resolve:function(e){return h(l&&this===c?a:this,e)}})},{a4f3ef37c946dd2b:"gJg5v","2794b78b0ca3694f":"e5ie6",c6e440c7abf54a3a:"jHRGA",c3eef09c8272b2fa:"BGWp5",ca944314fb589e9b:"cAqqZ","95f41bf564123591":"9b6YG"}],"9b6YG":[function(e,t,i){var n=e("5304a07f7517b45f"),r=e("6179ead91f16d16e"),s=e("1e7f70c2e43192d5");t.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},{"5304a07f7517b45f":"dPzbI","6179ead91f16d16e":"8mxCV","1e7f70c2e43192d5":"iq5DC"}],dPzjA:[function(e,t,i){var n=e("e5702b0a0c888663"),r=e("c674cde3c52a264d"),s=e("9971716fd3458e4e"),a=e("bd9c4f444b889d5a"),o=e("fd38269508aa0f80"),h=e("dba73c07712c5034");n({target:"Promise",stat:!0,forced:e("a353491caf893cee")},{allSettled:function(e){var t=this,i=a.f(t),n=i.resolve,c=i.reject,l=o(function(){var i=s(t.resolve),a=[],o=0,c=1;h(e,function(e){var s=o++,h=!1;c++,r(i,t,e).then(function(e){!h&&(h=!0,a[s]={status:"fulfilled",value:e},--c||n(a))},function(e){!h&&(h=!0,a[s]={status:"rejected",reason:e},--c||n(a))})}),--c||n(a)});return l.error&&c(l.value),i.promise}})},{e5702b0a0c888663:"gJg5v",c674cde3c52a264d:"bOssl","9971716fd3458e4e":"alrlv",bd9c4f444b889d5a:"iq5DC",fd38269508aa0f80:"7qEEW",dba73c07712c5034:"dCEHX",a353491caf893cee:"4Vjnp"}],"50y6Q":[function(e,t,i){var n=e("a747ecea7d98f8cc"),r=e("1a07897007696e7b"),s=e("a5273ad346d39602"),a=e("a85aacc5cf0c49f5"),o=e("938d82de91b73028"),h=e("a5742b79e80fe93f"),c=e("455d48516e9f58ad"),l=e("a1a0e57d4b83e832"),u="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,i=a("AggregateError"),n=o.f(t),l=n.resolve,d=n.reject,f=h(function(){var n=s(t.resolve),a=[],o=0,h=1,f=!1;c(e,function(e){var s=o++,c=!1;h++,r(n,t,e).then(function(e){c||f||(f=!0,l(e))},function(e){!c&&!f&&(c=!0,a[s]=e,--h||d(new i(a,u)))})}),--h||d(new i(a,u))});return f.error&&d(f.value),n.promise}})},{a747ecea7d98f8cc:"gJg5v","1a07897007696e7b":"bOssl",a5273ad346d39602:"alrlv",a85aacc5cf0c49f5:"e5ie6","938d82de91b73028":"iq5DC",a5742b79e80fe93f:"7qEEW","455d48516e9f58ad":"dCEHX",a1a0e57d4b83e832:"4Vjnp"}],cv1IN:[function(e,t,i){var n=e("5967530d4e981375"),r=e("ea0758f982664c1b"),s=e("252abba36f7f031b"),a=e("672a58147e86eb31"),o=e("5ba40ea71aea909"),h=e("ea376840732ca40e"),c=e("83b04bdccb7f39e2"),l=e("a624c6d6ecebe4ab"),u=e("7367d4d000a0f3e2"),d=s&&s.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!s&&a(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=c(this,o("Promise")),i=h(e);return this.then(i?function(i){return l(t,e()).then(function(){return i})}:e,i?function(i){return l(t,e()).then(function(){throw i})}:e)}}),!r&&h(s)){var f=o("Promise").prototype.finally;d.finally!==f&&u(d,"finally",f,{unsafe:!0})}},{"5967530d4e981375":"gJg5v",ea0758f982664c1b:"jHRGA","252abba36f7f031b":"BGWp5","672a58147e86eb31":"cXVrS","5ba40ea71aea909":"e5ie6",ea376840732ca40e:"h1Wnr","83b04bdccb7f39e2":"CaSkn",a624c6d6ecebe4ab:"9b6YG","7367d4d000a0f3e2":"4CPdc"}],g4HyM:[function(e,t,i){var n=e("e891936b921586ce"),r=e("be55d0d9787f386c"),s=e("53a5a11417313428"),a=e("b6f9059ddb81e98b"),o=e("4e74861c17e890c3"),h=e("7900efa3cdb7a624"),c=e("1fb2dc6087d1e9d5"),l=r.Promise,u=!1;n({target:"Promise",stat:!0,forced:!l||!l.try||c(function(){l.try(function(e){u=8===e},8)}).error||!u},{try:function(e){var t=arguments.length>1?a(arguments,1):[],i=o.f(this),n=c(function(){return s(h(e),void 0,t)});return(n.error?i.reject:i.resolve)(n.value),i.promise}})},{e891936b921586ce:"gJg5v",be55d0d9787f386c:"7Z171","53a5a11417313428":"2fjXG",b6f9059ddb81e98b:"eO8Ta","4e74861c17e890c3":"iq5DC","7900efa3cdb7a624":"alrlv","1fb2dc6087d1e9d5":"7qEEW"}],fDjj9:[function(e,t,i){var n=e("c539d5627c4a86aa"),r=e("f3ae7f423c78fd60");n({target:"Promise",stat:!0},{withResolvers:function(){var e=r.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},{c539d5627c4a86aa:"gJg5v",f3ae7f423c78fd60:"iq5DC"}],dejPc:[function(e,t,i){var n=e("1c621266486af366"),r=e("8dc2c7c905c7079"),s=e("65b541dabe35d529"),a=e("536113b176a05b60");n({target:"Reflect",stat:!0,forced:!e("e032bfdb61e2620b")(function(){Reflect.apply(function(){})})},{apply:function(e,t,i){return r(s(e),t,a(i))}})},{"1c621266486af366":"gJg5v","8dc2c7c905c7079":"2fjXG","65b541dabe35d529":"alrlv","536113b176a05b60":"dPzbI",e032bfdb61e2620b:"cXVrS"}],kL7gw:[function(e,t,i){var n=e("df593a7c66399ae2"),r=e("aa786cd255199284"),s=e("c585a7fc86970645"),a=e("d05ce57b271ff568"),o=e("488fff441ba5bfef"),h=e("688b651555d83b8f"),c=e("c7a921b7c24a97c"),l=e("2ff4acc7df7eb046"),u=e("2ad48193afce6a95"),d=r("Reflect","construct"),f=Object.prototype,p=[].push,g=u(function(){function e(){}return!(d(function(){},[],e) instanceof e)}),m=!u(function(){d(function(){})}),v=g||m;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){o(e),h(t);var i=arguments.length<3?e:o(arguments[2]);if(m&&!g)return d(e,t,i);if(e===i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return s(p,n,t),new(s(a,e,n))}var r=i.prototype,u=l(c(r)?r:f),v=s(e,u,t);return c(v)?v:u}})},{df593a7c66399ae2:"gJg5v",aa786cd255199284:"e5ie6",c585a7fc86970645:"2fjXG",d05ce57b271ff568:"7PoYT","488fff441ba5bfef":"euAEP","688b651555d83b8f":"dPzbI",c7a921b7c24a97c:"8mxCV","2ff4acc7df7eb046":"7isQ3","2ad48193afce6a95":"cXVrS"}],lQsQz:[function(e,t,i){var n=e("dc2eaf4c122f82d4"),r=e("55416992b3cdb7ec"),s=e("c2c755875e2adbfa"),a=e("578d27629d28889e"),o=e("426724837dbcc1e9");n({target:"Reflect",stat:!0,forced:e("71d0ba7a21c21fc7")(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),sham:!r},{defineProperty:function(e,t,i){s(e);var n=a(t);s(i);try{return o.f(e,n,i),!0}catch(e){return!1}}})},{dc2eaf4c122f82d4:"gJg5v","55416992b3cdb7ec":"6mXK1",c2c755875e2adbfa:"dPzbI","578d27629d28889e":"gvuJs","426724837dbcc1e9":"hvqCQ","71d0ba7a21c21fc7":"cXVrS"}],jy0xe:[function(e,t,i){var n=e("6dcb929d30bdbfde"),r=e("3dedf4d14121a863"),s=e("fbd53ec455a05b95").f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var i=s(r(e),t);return(!i||!!i.configurable)&&delete e[t]}})},{"6dcb929d30bdbfde":"gJg5v","3dedf4d14121a863":"dPzbI",fbd53ec455a05b95:"aRu9T"}],N0A9g:[function(e,t,i){var n=e("36af64a139a04a9f"),r=e("2b0e8e0105e0ccfb"),s=e("c12275a56fb80891"),a=e("8afae34daed2ddfd"),o=e("a0fe3971b7cb6675"),h=e("64fb71955ccea62a"),c=e("42f515e0257c869d");n({target:"Reflect",stat:!0},{get:function e(t,i){var n,l,u=arguments.length<3?t:arguments[2];return a(t)===u?t[i]:(n=h.f(t,i))?o(n)?n.value:void 0===n.get?void 0:r(n.get,u):s(l=c(t))?e(l,i,u):void 0}})},{"36af64a139a04a9f":"gJg5v","2b0e8e0105e0ccfb":"bOssl",c12275a56fb80891:"8mxCV","8afae34daed2ddfd":"dPzbI",a0fe3971b7cb6675:"gi9DO","64fb71955ccea62a":"aRu9T","42f515e0257c869d":"e8mfS"}],gi9DO:[function(e,t,i){var n=e("50fb4bd8f6d0c370");t.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},{"50fb4bd8f6d0c370":"9JWVX"}],bnSd3:[function(e,t,i){var n=e("d7bd54e98aaffcc7"),r=e("7232f0c071c940d0"),s=e("10cdead7a28df296"),a=e("de341026ceb57ac3");n({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(e,t){return a.f(s(e),t)}})},{d7bd54e98aaffcc7:"gJg5v","7232f0c071c940d0":"6mXK1","10cdead7a28df296":"dPzbI",de341026ceb57ac3:"aRu9T"}],hCLFJ:[function(e,t,i){var n=e("e0d7bd3b2cd5e427"),r=e("28c21999f76acbe2"),s=e("5d4e809754fe7c85");n({target:"Reflect",stat:!0,sham:!e("b7b6a27574b33ffc")},{getPrototypeOf:function(e){return s(r(e))}})},{e0d7bd3b2cd5e427:"gJg5v","28c21999f76acbe2":"dPzbI","5d4e809754fe7c85":"e8mfS",b7b6a27574b33ffc:"2SHZm"}],jFiZs:[function(e,t,i){e("f5a4987d6328de60")({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},{f5a4987d6328de60:"gJg5v"}],"1BYUa":[function(e,t,i){var n=e("f1cf95331dac0a5c"),r=e("6ffd352ee2b78315"),s=e("ec1223a1980707d0");n({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),s(e)}})},{f1cf95331dac0a5c:"gJg5v","6ffd352ee2b78315":"dPzbI",ec1223a1980707d0:"kKQ3P"}],"3gYE0":[function(e,t,i){e("e6256b53ff8e7ff7")({target:"Reflect",stat:!0},{ownKeys:e("62694a198a2d39f1")})},{e6256b53ff8e7ff7:"gJg5v","62694a198a2d39f1":"k5rhT"}],"8Ariw":[function(e,t,i){var n=e("21a794712b7c3b28"),r=e("b2540e28cfeb7421"),s=e("5c89b74916f5e3f1");n({target:"Reflect",stat:!0,sham:!e("368dee480fe6c03a")},{preventExtensions:function(e){s(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},{"21a794712b7c3b28":"gJg5v",b2540e28cfeb7421:"e5ie6","5c89b74916f5e3f1":"dPzbI","368dee480fe6c03a":"cPqlV"}],fpMBl:[function(e,t,i){var n=e("ecfb0dd8a941692d"),r=e("ff301a827b8a1848"),s=e("2c02940a559ef1bc"),a=e("7a2e80973762c50c"),o=e("21efaf46e8fea96f"),h=e("8f78be83a230ea4a"),c=e("acf3c26369354b83"),l=e("4893e43c9a11fc63"),u=e("48482fa6862b803a"),d=e("de1987fde7f85915");n({target:"Reflect",stat:!0,forced:h(function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)})},{set:function e(t,i,n){var h,f,p,g=arguments.length<4?t:arguments[3],m=l.f(s(t),i);if(!m){if(a(f=u(t)))return e(f,i,n,g);m=d(0)}if(o(m)){if(!1===m.writable||!a(g))return!1;if(h=l.f(g,i)){if(h.get||h.set||!1===h.writable)return!1;h.value=n,c.f(g,i,h)}else c.f(g,i,d(0,n))}else{if(void 0===(p=m.set))return!1;r(p,g,n)}return!0}})},{ecfb0dd8a941692d:"gJg5v",ff301a827b8a1848:"bOssl","2c02940a559ef1bc":"dPzbI","7a2e80973762c50c":"8mxCV","21efaf46e8fea96f":"gi9DO","8f78be83a230ea4a":"cXVrS",acf3c26369354b83:"hvqCQ","4893e43c9a11fc63":"aRu9T","48482fa6862b803a":"e8mfS",de1987fde7f85915:"5toj2"}],"5tIGd":[function(e,t,i){var n=e("1901fc8accbc2376"),r=e("1c4ec63b43256656"),s=e("2fee865898c5ee13"),a=e("f549073ca7dfb3d2");a&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){r(e),s(t);try{return a(e,t),!0}catch(e){return!1}}})},{"1901fc8accbc2376":"gJg5v","1c4ec63b43256656":"dPzbI","2fee865898c5ee13":"hEWXk",f549073ca7dfb3d2:"arrdQ"}],"14MkC":[function(e,t,i){var n=e("9aa7ab2c6cbf6701"),r=e("28bf5c0ba6cfd67b"),s=e("717556d45c34d721");n({global:!0},{Reflect:{}}),s(r.Reflect,"Reflect",!0)},{"9aa7ab2c6cbf6701":"gJg5v","28bf5c0ba6cfd67b":"7Z171","717556d45c34d721":"dkhk9"}],"2JQK3":[function(e,t,i){var n=e("c8639d3a74e6bb07"),r=e("31e10ac977d93a17"),s=e("7f079a60fe35f235"),a=e("66b0d772c6e443af"),o=e("11d7cdfa8687037e"),h=e("5fcf789712ec006"),c=e("488fe57e39be2d0d"),l=e("8b1d3e9ebc10b376").f,u=e("6c4ec99bc7b85243"),d=e("28b4ed60c7ffe147"),f=e("f00c99d31179ed39"),p=e("867ea555b957a0aa"),g=e("86e9756a5a6a0176"),m=e("438bf11983e20900"),v=e("818c2b1aecf93017"),y=e("5b540f0dbf00266f"),b=e("5cfbf10059a84a33"),x=e("2ff319236881379d").enforce,E=e("7f2183994b17a7e8"),w=e("7edc7513ec6ac4d0"),T=e("fbaf905791cdbfe"),S=e("28f5087d79ccd92a"),A=w("match"),C=r.RegExp,_=C.prototype,I=r.SyntaxError,O=s(_.exec),P=s("".charAt),M=s("".replace),R=s("".indexOf),L=s("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,k=/a/g,N=/a/g,F=new C(k)!==k,B=g.MISSED_STICKY,U=g.UNSUPPORTED_Y,V=n&&(!F||B||T||S||y(function(){return N[A]=!1,C(k)!==k||C(N)===N||"/a/i"!==String(C(k,"i"))})),G=function(e){for(var t,i=e.length,n=0,r="",s=!1;n<=i;n++){if("\\"===(t=P(e,n))){r+=t+P(e,++n);continue}s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),r+=t):r+="[\\s\\S]"}return r},j=function(e){for(var t,i=e.length,n=0,r="",s=[],a=c(null),o=!1,h=!1,l=0,u="";n<=i;n++){if("\\"===(t=P(e,n)))t+=P(e,++n);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:if(r+=t,"?:"===L(e,n+1,n+3))continue;O(D,L(e,n+1))&&(n+=2,h=!0),l++;continue;case">"===t&&h:if(""===u||b(a,u))throw new I("Invalid capture group name");a[u]=!0,s[s.length]=[u,l],h=!1,u="";continue}h?u+=t:r+=t}return[r,s]};if(a("RegExp",V)){for(var W=function(e,t){var i,n,r,s,a,c,l=u(_,this),g=d(e),m=void 0===t,v=[],y=e;if(!l&&g&&m&&e.constructor===W)return e;if((g||u(_,e))&&(e=e.source,m&&(t=p(y))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),y=e,T&&"dotAll"in k&&(n=!!t&&R(t,"s")>-1)&&(t=M(t,/s/g,"")),i=t,B&&"sticky"in k&&(r=!!t&&R(t,"y")>-1)&&U&&(t=M(t,/y/g,"")),S&&(e=(s=j(e))[0],v=s[1]),a=o(C(e,t),l?this:_,W),(n||r||v.length)&&(c=x(a),n&&(c.dotAll=!0,c.raw=W(G(e),i)),r&&(c.sticky=!0),v.length&&(c.groups=v)),e!==y)try{h(a,"source",""===y?"(?:)":y)}catch(e){}return a},Y=l(C),H=0;Y.length>H;)m(W,C,Y[H++]);_.constructor=W,W.prototype=_,v(r,"RegExp",W,{constructor:!0})}E("RegExp")},{c8639d3a74e6bb07:"6mXK1","31e10ac977d93a17":"7Z171","7f079a60fe35f235":"2iJ57","66b0d772c6e443af":"gE5NQ","11d7cdfa8687037e":"30not","5fcf789712ec006":"gKM90","488fe57e39be2d0d":"7isQ3","8b1d3e9ebc10b376":"dDV3S","6c4ec99bc7b85243":"d5bNd","28b4ed60c7ffe147":"4WTYw",f00c99d31179ed39:"4x6uB","867ea555b957a0aa":"iG8db","86e9756a5a6a0176":"arHMc","438bf11983e20900":"7fWkz","818c2b1aecf93017":"4CPdc","5b540f0dbf00266f":"cXVrS","5cfbf10059a84a33":"9JWVX","2ff319236881379d":"ixHS2","7f2183994b17a7e8":"c7jXZ","7edc7513ec6ac4d0":"5CuF7",fbaf905791cdbfe:"9jBfE","28f5087d79ccd92a":"9XBEq"}],"4WTYw":[function(e,t,i){var n=e("4ca57df9821dbfa3"),r=e("b867bee476fc5018"),s=e("42cd33b6dbd61bee")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===r(e))}},{"4ca57df9821dbfa3":"8mxCV",b867bee476fc5018:"161sQ","42cd33b6dbd61bee":"5CuF7"}],iG8db:[function(e,t,i){var n=e("fd54476372f3a204"),r=e("a12d2126c329f45"),s=e("815509f48e0b1e36"),a=e("37fba4854c4ab846"),o=RegExp.prototype;t.exports=function(e){var t=e.flags;return!(void 0===t&&!("flags"in o)&&!r(e,"flags")&&s(o,e))?t:n(a,e)}},{fd54476372f3a204:"bOssl",a12d2126c329f45:"9JWVX","815509f48e0b1e36":"d5bNd","37fba4854c4ab846":"jjoUH"}],jjoUH:[function(e,t,i){var n=e("136abace0aec2b5c");t.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},{"136abace0aec2b5c":"dPzbI"}],arHMc:[function(e,t,i){var n=e("797bef35e651cb5e"),r=e("d87f6288614c07bc").RegExp,s=n(function(){var e=r("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),a=s||n(function(){return!r("a","y").sticky}),o=s||n(function(){var e=r("^r","gy");return e.lastIndex=2,null!==e.exec("str")});t.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},{"797bef35e651cb5e":"cXVrS",d87f6288614c07bc:"7Z171"}],"9jBfE":[function(e,t,i){var n=e("e4784e58ea762065"),r=e("ea51a856230c58ac").RegExp;t.exports=n(function(){var e=r(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})},{e4784e58ea762065:"cXVrS",ea51a856230c58ac:"7Z171"}],"9XBEq":[function(e,t,i){var n=e("b9b1a0fbdd999ded"),r=e("f47a97b0c4cfeafc").RegExp;t.exports=n(function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},{b9b1a0fbdd999ded:"cXVrS",f47a97b0c4cfeafc:"7Z171"}],"9radj":[function(e,t,i){var n=e("a9f8f60f2f751fb4"),r=e("f4bf414038137d54"),s=e("f6019dcdb547562c"),a=e("ca788245c2356b08"),o=e("ff536bd90d3c7c05").get,h=RegExp.prototype,c=TypeError;n&&r&&a(h,"dotAll",{configurable:!0,get:function(){if(this!==h){if("RegExp"===s(this))return!!o(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},{a9f8f60f2f751fb4:"6mXK1",f4bf414038137d54:"9jBfE",f6019dcdb547562c:"161sQ",ca788245c2356b08:"3NI4M",ff536bd90d3c7c05:"ixHS2"}],"4cips":[function(e,t,i){var n=e("72ba4de9841213e"),r=e("d4ebaff1663cc5b9");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},{"72ba4de9841213e":"gJg5v",d4ebaff1663cc5b9:"gpoGl"}],gpoGl:[function(e,t,i){var n,r,s=e("698f504b4733b02d"),a=e("6d0d2df39383a10b"),o=e("382af5492ddc18e6"),h=e("96e0244464229d3"),c=e("3bd1d72d4987e0ff"),l=e("12c3e6e355312395"),u=e("38d060dff8e4ab54"),d=e("aec1e11e2cd92d19").get,f=e("7d9db6b4177b833a"),p=e("b26a8ca5152d0a8d"),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=a("".charAt),b=a("".indexOf),x=a("".replace),E=a("".slice),w=(r=/b*/g,s(m,n=/a/,"a"),s(m,r,"a"),0!==n.lastIndex||0!==r.lastIndex),T=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(w||S||T||f||p)&&(v=function(e){var t,i,n,r,a,c,l,f=d(this),p=o(e),A=f.raw;if(A)return A.lastIndex=this.lastIndex,t=s(v,A,p),this.lastIndex=A.lastIndex,t;var C=f.groups,_=T&&this.sticky,I=s(h,this),O=this.source,P=0,M=p;if(_&&(-1===b(I=x(I,"y",""),"g")&&(I+="g"),M=E(p,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==y(p,this.lastIndex-1))&&(O="(?: "+O+")",M=" "+M,P++),i=RegExp("^(?:"+O+")",I)),S&&(i=RegExp("^"+O+"$(?!\\s)",I)),w&&(n=this.lastIndex),r=s(m,_?i:this,M),_?r?(r.input=E(r.input,P),r[0]=E(r[0],P),r.index=this.lastIndex,this.lastIndex+=r[0].length):this.lastIndex=0:w&&r&&(this.lastIndex=this.global?r.index+r[0].length:n),S&&r&&r.length>1&&s(g,r[0],i,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r&&C)for(a=0,r.groups=c=u(null);a<C.length;a++)c[(l=C[a])[0]]=r[l[1]];return r}),t.exports=v},{"698f504b4733b02d":"bOssl","6d0d2df39383a10b":"2iJ57","382af5492ddc18e6":"4x6uB","96e0244464229d3":"jjoUH","3bd1d72d4987e0ff":"arHMc","12c3e6e355312395":"i30ST","38d060dff8e4ab54":"7isQ3",aec1e11e2cd92d19:"ixHS2","7d9db6b4177b833a":"9jBfE",b26a8ca5152d0a8d:"9XBEq"}],eNQOe:[function(e,t,i){var n=e("abb60413048cbe14"),r=e("32574bd865b8e6e5"),s=e("ba3ead2b02aa5c9b"),a=e("67e6b6bed174b69b"),o=e("f4050f72fe5dda92"),h=n.RegExp,c=h.prototype;r&&o(function(){var e=!0;try{h(".","d")}catch(t){e=!1}var t={},i="",n=e?"dgimsy":"gimsy",r=function(e,n){Object.defineProperty(t,e,{get:function(){return i+=n,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(s.hasIndices="d"),s)r(a,s[a]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||i!==n})&&s(c,"flags",{configurable:!0,get:a})},{abb60413048cbe14:"7Z171","32574bd865b8e6e5":"6mXK1",ba3ead2b02aa5c9b:"3NI4M","67e6b6bed174b69b":"jjoUH",f4050f72fe5dda92:"cXVrS"}],"5K8rr":[function(e,t,i){var n=e("839e979af15a366"),r=e("d0c922fd145e5f90").MISSED_STICKY,s=e("cb543508cda32a6c"),a=e("d7d8fe8dec1d28c0"),o=e("1e7ca2eaeb60428c").get,h=RegExp.prototype,c=TypeError;n&&r&&a(h,"sticky",{configurable:!0,get:function(){if(this!==h){if("RegExp"===s(this))return!!o(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},{"839e979af15a366":"6mXK1",d0c922fd145e5f90:"arHMc",cb543508cda32a6c:"161sQ",d7d8fe8dec1d28c0:"3NI4M","1e7ca2eaeb60428c":"ixHS2"}],kdtyD:[function(e,t,i){e("6e04c0b04ddbb543");var n,r,s=e("52d681bf3a581a4c"),a=e("8fa0c085224dbb3c"),o=e("1f62d1883ea485a3"),h=e("c2ab39386469cfbd"),c=e("3706d41ea2ecbd2c"),l=(n=!1,(r=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&n),u=/./.test;s({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=h(this),i=c(e),n=t.exec;if(!o(n))return a(u,t,i);var r=a(n,t,i);return null!==r&&(h(r),!0)}})},{"6e04c0b04ddbb543":"4cips","52d681bf3a581a4c":"gJg5v","8fa0c085224dbb3c":"bOssl","1f62d1883ea485a3":"h1Wnr",c2ab39386469cfbd:"dPzbI","3706d41ea2ecbd2c":"4x6uB"}],aGaAQ:[function(e,t,i){var n=e("9e28bead644082e").PROPER,r=e("ffafe1474cec37ac"),s=e("3135197806fbedfd"),a=e("ce5dcf9b5e077a79"),o=e("577ada37101f923c"),h=e("7011e05c0011871a"),c="toString",l=RegExp.prototype,u=l[c],d=o(function(){return"/a/b"!==u.call({source:"a",flags:"b"})}),f=n&&u.name!==c;(d||f)&&r(l,c,function(){var e=s(this);return"/"+a(e.source)+"/"+a(h(e))},{unsafe:!0})},{"9e28bead644082e":"jmu0n",ffafe1474cec37ac:"4CPdc","3135197806fbedfd":"dPzbI",ce5dcf9b5e077a79:"4x6uB","577ada37101f923c":"cXVrS","7011e05c0011871a":"iG8db"}],"4l0Mz":[function(e,t,i){e("24fec2aa1f17259b")},{"24fec2aa1f17259b":"2BTKK"}],"2BTKK":[function(e,t,i){e("7bd19ab966686a7d")("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},e("f40aa2253a9ed039"))},{"7bd19ab966686a7d":"02S2F",f40aa2253a9ed039:"8nfXU"}],"1W6O8":[function(e,t,i){var n=e("e921ae86d472f40f"),r=e("28283dca83d7d01b");n({target:"Set",proto:!0,real:!0,forced:!e("6f343c4a5fac5e02")("difference")},{difference:r})},{e921ae86d472f40f:"gJg5v","28283dca83d7d01b":"e0Hyh","6f343c4a5fac5e02":"cAght"}],e0Hyh:[function(e,t,i){var n=e("ec0d44734dab0403"),r=e("b4855e9cfab8701"),s=e("b6954c8e5feaff94"),a=e("8ae2bb1c1a1eacfa"),o=e("84412f2f5173669e"),h=e("dad3e6b443049db7"),c=e("536831185696be90"),l=r.has,u=r.remove;t.exports=function(e){var t=n(this),i=o(e),r=s(t);return a(t)<=i.size?h(t,function(e){i.includes(e)&&u(r,e)}):c(i.getIterator(),function(e){l(t,e)&&u(r,e)}),r}},{ec0d44734dab0403:"1uHXp",b4855e9cfab8701:"aKtSD",b6954c8e5feaff94:"6l0Cn","8ae2bb1c1a1eacfa":"dDfau","84412f2f5173669e":"2mzII",dad3e6b443049db7:"dSeD9","536831185696be90":"hUCXP"}],"1uHXp":[function(e,t,i){var n=e("e82793b35d0d33bd").has;t.exports=function(e){return n(e),e}},{e82793b35d0d33bd:"aKtSD"}],aKtSD:[function(e,t,i){var n=e("3a3f549900b15404"),r=Set.prototype;t.exports={Set:Set,add:n(r.add),has:n(r.has),remove:n(r.delete),proto:r}},{"3a3f549900b15404":"2iJ57"}],"6l0Cn":[function(e,t,i){var n=e("15a786dc75d7889"),r=e("af105951c9af0e22"),s=n.Set,a=n.add;t.exports=function(e){var t=new s;return r(e,function(e){a(t,e)}),t}},{"15a786dc75d7889":"aKtSD",af105951c9af0e22:"dSeD9"}],dSeD9:[function(e,t,i){var n=e("6448566e03294b57"),r=e("4921ce3df6e8e1b7"),s=e("f743b36da0cdad72"),a=s.Set,o=s.proto,h=n(o.forEach),c=n(o.keys),l=c(new a).next;t.exports=function(e,t,i){return i?r({iterator:c(e),next:l},t):h(e,t)}},{"6448566e03294b57":"2iJ57","4921ce3df6e8e1b7":"hUCXP",f743b36da0cdad72:"aKtSD"}],hUCXP:[function(e,t,i){var n=e("dc8dfab8e54c39fa");t.exports=function(e,t,i){for(var r,s,a=i?e:e.iterator,o=e.next;!(r=n(o,a)).done;)if(void 0!==(s=t(r.value)))return s}},{dc8dfab8e54c39fa:"bOssl"}],dDfau:[function(e,t,i){var n=e("1f54d9442eb70bc7"),r=e("7360aed981f2cb98");t.exports=n(r.proto,"size","get")||function(e){return e.size}},{"1f54d9442eb70bc7":"j4YhT","7360aed981f2cb98":"aKtSD"}],"2mzII":[function(e,t,i){var n=e("1494208b7487a44b"),r=e("78b24b19c3e70eb0"),s=e("630185f5ea81254"),a=e("97e9ac6718f385e0"),o=e("55d32d30f2725124"),h="Invalid size",c=RangeError,l=TypeError,u=Math.max,d=function(e,t){this.set=e,this.size=u(t,0),this.has=n(e.has),this.keys=n(e.keys)};d.prototype={getIterator:function(){return o(r(s(this.keys,this.set)))},includes:function(e){return s(this.has,this.set,e)}},t.exports=function(e){r(e);var t=+e.size;if(t!=t)throw new l(h);var i=a(t);if(i<0)throw new c(h);return new d(e,i)}},{"1494208b7487a44b":"alrlv","78b24b19c3e70eb0":"dPzbI","630185f5ea81254":"bOssl","97e9ac6718f385e0":"gAgUH","55d32d30f2725124":"fTGQr"}],cAght:[function(e,t,i){var n=e("473913f09479627b"),r=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(e){var t=n("Set");try{new t()[e](r(0));try{return new t()[e](r(-1)),!1}catch(e){return!0}}catch(e){return!1}}},{"473913f09479627b":"e5ie6"}],iIMfF:[function(e,t,i){var n=e("b348ceca77b5cb8b"),r=e("552280ceade58f6b"),s=e("8b6d7e32e6ef4853");n({target:"Set",proto:!0,real:!0,forced:!e("aa4edc17d28cfd3c")("intersection")||r(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:s})},{b348ceca77b5cb8b:"gJg5v","552280ceade58f6b":"cXVrS","8b6d7e32e6ef4853":"2sQfF",aa4edc17d28cfd3c:"cAght"}],"2sQfF":[function(e,t,i){var n=e("7bfb130f16b8292a"),r=e("47146aea8f1cd561"),s=e("d1a604e694f4d1c9"),a=e("cd0f29a36bce3c77"),o=e("569d3010c2a051bc"),h=e("f15171665078c946"),c=r.Set,l=r.add,u=r.has;t.exports=function(e){var t=n(this),i=a(e),r=new c;return s(t)>i.size?h(i.getIterator(),function(e){u(t,e)&&l(r,e)}):o(t,function(e){i.includes(e)&&l(r,e)}),r}},{"7bfb130f16b8292a":"1uHXp","47146aea8f1cd561":"aKtSD",d1a604e694f4d1c9:"dDfau",cd0f29a36bce3c77:"2mzII","569d3010c2a051bc":"dSeD9",f15171665078c946:"hUCXP"}],ebh58:[function(e,t,i){var n=e("a1707a0c61f5a536"),r=e("cb8bc5c7a60da2c0");n({target:"Set",proto:!0,real:!0,forced:!e("d245d89a0dca71e2")("isDisjointFrom")},{isDisjointFrom:r})},{a1707a0c61f5a536:"gJg5v",cb8bc5c7a60da2c0:"fsPLP",d245d89a0dca71e2:"cAght"}],fsPLP:[function(e,t,i){var n=e("4bcf2c126f0ee7e9"),r=e("5f2538d74cbdf8b3").has,s=e("edcd27260fbf6ef5"),a=e("9b207c4104d5301c"),o=e("bae422673873a59e"),h=e("ba88aed3f0227034"),c=e("11af6bfd4840cc69");t.exports=function(e){var t=n(this),i=a(e);if(s(t)<=i.size)return!1!==o(t,function(e){if(i.includes(e))return!1},!0);var l=i.getIterator();return!1!==h(l,function(e){if(r(t,e))return c(l,"normal",!1)})}},{"4bcf2c126f0ee7e9":"1uHXp","5f2538d74cbdf8b3":"aKtSD",edcd27260fbf6ef5:"dDfau","9b207c4104d5301c":"2mzII",bae422673873a59e:"dSeD9",ba88aed3f0227034:"hUCXP","11af6bfd4840cc69":"58eij"}],"5aq0U":[function(e,t,i){var n=e("67c95d67210a1f28"),r=e("ad07e334c2be4c40");n({target:"Set",proto:!0,real:!0,forced:!e("87c6020e8c27ff9d")("isSubsetOf")},{isSubsetOf:r})},{"67c95d67210a1f28":"gJg5v",ad07e334c2be4c40:"6M8p1","87c6020e8c27ff9d":"cAght"}],"6M8p1":[function(e,t,i){var n=e("3d5a277c60f35ee0"),r=e("8b5056cb353b9363"),s=e("5c8afb92d90a7afe"),a=e("5d0efb34cef239d0");t.exports=function(e){var t=n(this),i=a(e);return!(r(t)>i.size)&&!1!==s(t,function(e){if(!i.includes(e))return!1},!0)}},{"3d5a277c60f35ee0":"1uHXp","8b5056cb353b9363":"dDfau","5c8afb92d90a7afe":"dSeD9","5d0efb34cef239d0":"2mzII"}],"8hV4V":[function(e,t,i){var n=e("709d88585366e67"),r=e("56957227e511c32f");n({target:"Set",proto:!0,real:!0,forced:!e("96eae72d49b9b957")("isSupersetOf")},{isSupersetOf:r})},{"709d88585366e67":"gJg5v","56957227e511c32f":"eyhzP","96eae72d49b9b957":"cAght"}],eyhzP:[function(e,t,i){var n=e("93254e314b2e5736"),r=e("be41c371321728ce").has,s=e("95f22a3e4ec3e3cd"),a=e("3cd91641e66e9eeb"),o=e("9565d7b14e850c29"),h=e("9f7dd30215d71bc9");t.exports=function(e){var t=n(this),i=a(e);if(s(t)<i.size)return!1;var c=i.getIterator();return!1!==o(c,function(e){if(!r(t,e))return h(c,"normal",!1)})}},{"93254e314b2e5736":"1uHXp",be41c371321728ce:"aKtSD","95f22a3e4ec3e3cd":"dDfau","3cd91641e66e9eeb":"2mzII","9565d7b14e850c29":"hUCXP","9f7dd30215d71bc9":"58eij"}],aU3RB:[function(e,t,i){var n=e("2c2704a456ce062b"),r=e("c576fb0c60e4e9dc");n({target:"Set",proto:!0,real:!0,forced:!e("89d1a7beaf40a773")("symmetricDifference")},{symmetricDifference:r})},{"2c2704a456ce062b":"gJg5v",c576fb0c60e4e9dc:"j118F","89d1a7beaf40a773":"cAght"}],j118F:[function(e,t,i){var n=e("dab2a171f413970b"),r=e("18fe914ee6a1f0ac"),s=e("32aa48293534b256"),a=e("46559677b3afd997"),o=e("5dd78207eddb62ab"),h=r.add,c=r.has,l=r.remove;t.exports=function(e){var t=n(this),i=a(e).getIterator(),r=s(t);return o(i,function(e){c(t,e)?l(r,e):h(r,e)}),r}},{dab2a171f413970b:"1uHXp","18fe914ee6a1f0ac":"aKtSD","32aa48293534b256":"6l0Cn","46559677b3afd997":"2mzII","5dd78207eddb62ab":"hUCXP"}],"9kNJt":[function(e,t,i){var n=e("66ae8a0aa9ca9433"),r=e("d88c9d764ca4f47a");n({target:"Set",proto:!0,real:!0,forced:!e("9e1080e1b19a2de4")("union")},{union:r})},{"66ae8a0aa9ca9433":"gJg5v",d88c9d764ca4f47a:"gfi4L","9e1080e1b19a2de4":"cAght"}],gfi4L:[function(e,t,i){var n=e("38363458c91094b3"),r=e("6e5bf4ccb8ffe6a8").add,s=e("7f8233497dc912d4"),a=e("e59670e7577f7070"),o=e("1ba5273f52dc856b");t.exports=function(e){var t=n(this),i=a(e).getIterator(),h=s(t);return o(i,function(e){r(h,e)}),h}},{"38363458c91094b3":"1uHXp","6e5bf4ccb8ffe6a8":"aKtSD","7f8233497dc912d4":"6l0Cn",e59670e7577f7070:"2mzII","1ba5273f52dc856b":"hUCXP"}],if1fM:[function(e,t,i){var n=e("473defaa8915e9e4"),r=e("dd4afa154631abab"),s=e("d699b04e9a9f7a28"),a=e("df1114985710f2b3"),o=e("3b247286b7d8c4d5"),h=e("da5b773a057f92aa"),c=r("".charAt);n({target:"String",proto:!0,forced:h(function(){return"\uD842"!=="\uD842\uDFB7".at(-2)})},{at:function(e){var t=o(s(this)),i=t.length,n=a(e),r=n>=0?n:i+n;return r<0||r>=i?void 0:c(t,r)}})},{"473defaa8915e9e4":"gJg5v",dd4afa154631abab:"2iJ57",d699b04e9a9f7a28:"cHxZN",df1114985710f2b3:"gAgUH","3b247286b7d8c4d5":"4x6uB",da5b773a057f92aa:"cXVrS"}],g0fSy:[function(e,t,i){var n=e("4793fe8f86582840"),r=e("785f7a78d0dffe20").codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},{"4793fe8f86582840":"gJg5v","785f7a78d0dffe20":"fVu0j"}],fVu0j:[function(e,t,i){var n=e("8b9beff9818f042"),r=e("d3e375e7697978fb"),s=e("545a72c28133c459"),a=e("5bafa9e5b372669c"),o=n("".charAt),h=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,i){var n,l,u=s(a(t)),d=r(i),f=u.length;return d<0||d>=f?e?"":void 0:(n=h(u,d))<55296||n>56319||d+1===f||(l=h(u,d+1))<56320||l>57343?e?o(u,d):n:e?c(u,d,d+2):(n-55296<<10)+(l-56320)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},{"8b9beff9818f042":"2iJ57",d3e375e7697978fb:"gAgUH","545a72c28133c459":"4x6uB","5bafa9e5b372669c":"cHxZN"}],eKkbH:[function(e,t,i){var n,r=e("b3cd31deb9d32a8c"),s=e("c719ddda901eac13"),a=e("e75304a6599a5e3c").f,o=e("99883df659b0f5cb"),h=e("e5d8defa036db553"),c=e("4c78f4ce8264459e"),l=e("da4ce5f132e95194"),u=e("58da9c5323c25a0f"),d=e("e85ff4c5cebafc14"),f=s("".slice),p=Math.min,g=u("endsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&(n=a(String.prototype,"endsWith"))&&!n.writable)&&!g},{endsWith:function(e){var t=h(l(this));c(e);var i=arguments.length>1?arguments[1]:void 0,n=t.length,r=void 0===i?n:p(o(i),n),s=h(e);return f(t,r-s.length,r)===s}})},{b3cd31deb9d32a8c:"gJg5v",c719ddda901eac13:"c4z5p",e75304a6599a5e3c:"aRu9T","99883df659b0f5cb":"lQsU7",e5d8defa036db553:"4x6uB","4c78f4ce8264459e":"6Sz3M",da4ce5f132e95194:"cHxZN","58da9c5323c25a0f":"i38lK",e85ff4c5cebafc14:"jHRGA"}],"6Sz3M":[function(e,t,i){var n=e("7b932b7711b6ae16"),r=TypeError;t.exports=function(e){if(n(e))throw new r("The method doesn't accept regular expressions");return e}},{"7b932b7711b6ae16":"4WTYw"}],i38lK:[function(e,t,i){var n=e("303b9f26f388462e")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},{"303b9f26f388462e":"5CuF7"}],dLJLG:[function(e,t,i){var n=e("f7ab90f668dfed5f"),r=e("f19d1a907413c68d"),s=e("6914a342ea61c319"),a=RangeError,o=String.fromCharCode,h=String.fromCodePoint,c=r([].join);n({target:"String",stat:!0,arity:1,forced:!!h&&1!==h.length},{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,r=0;n>r;){if(t=+arguments[r++],s(t,1114111)!==t)throw new a(t+" is not a valid code point");i[r]=t<65536?o(t):o(((t-=65536)>>10)+55296,t%1024+56320)}return c(i,"")}})},{f7ab90f668dfed5f:"gJg5v",f19d1a907413c68d:"2iJ57","6914a342ea61c319":"47gaI"}],cDQpr:[function(e,t,i){var n=e("1cde7a4fbe24deb1"),r=e("d9ff51b37cd276ef"),s=e("b1c9b74814a0e4ee"),a=e("36f262aff4650984"),o=e("c6f2de0a65cb2a09"),h=e("30dec888dfe829e2"),c=r("".indexOf);n({target:"String",proto:!0,forced:!h("includes")},{includes:function(e){return!!~c(o(a(this)),o(s(e)),arguments.length>1?arguments[1]:void 0)}})},{"1cde7a4fbe24deb1":"gJg5v",d9ff51b37cd276ef:"2iJ57",b1c9b74814a0e4ee:"6Sz3M","36f262aff4650984":"cHxZN",c6f2de0a65cb2a09:"4x6uB","30dec888dfe829e2":"i38lK"}],kFTda:[function(e,t,i){var n=e("119056f2894f6d80"),r=e("5d2e4bc1718ad78f"),s=e("9410272c8796c548"),a=e("8f81c73916cb66a4"),o=r("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=a(s(this)),t=e.length,i=0;i<t;i++){var n=o(e,i);if((63488&n)==55296&&(n>=56320||++i>=t||(64512&o(e,i))!=56320))return!1}return!0}})},{"119056f2894f6d80":"gJg5v","5d2e4bc1718ad78f":"2iJ57","9410272c8796c548":"cHxZN","8f81c73916cb66a4":"4x6uB"}],i2qFG:[function(e,t,i){var n=e("e8b36e9e8f60deb1").charAt,r=e("99724183e9ac759e"),s=e("75c45c226da41a58"),a=e("5bce8e62b9ff7984"),o=e("cab4a14c8e102263"),h="String Iterator",c=s.set,l=s.getterFor(h);a(String,"String",function(e){c(this,{type:h,string:r(e),index:0})},function(){var e,t=l(this),i=t.string,r=t.index;return r>=i.length?o(void 0,!0):(e=n(i,r),t.index+=e.length,o(e,!1))})},{e8b36e9e8f60deb1:"fVu0j","99724183e9ac759e":"4x6uB","75c45c226da41a58":"ixHS2","5bce8e62b9ff7984":"klSVb",cab4a14c8e102263:"dwU83"}],"6dNpA":[function(e,t,i){var n=e("1a72ba86dc4099cd"),r=e("3e8300c8dcd37861"),s=e("4e367ba2e602279b"),a=e("a9817085717103ac"),o=e("3ad5c9f9719d1735"),h=e("a1912f278569b4e6"),c=e("d83ac9e10edfa0ef"),l=e("4fa13f5559b9cbba"),u=e("357167b0f8a6ba45"),d=e("3b40f00a568e6a6b");r("match",function(e,t,i){return[function(t){var i=c(this),r=a(t)?void 0:l(t,e);return r?n(r,t,i):new RegExp(t)[e](h(i))},function(e){var n,r=s(this),a=h(e),c=i(t,r,a);if(c.done)return c.value;if(!r.global)return d(r,a);var l=r.unicode;r.lastIndex=0;for(var f=[],p=0;null!==(n=d(r,a));){var g=h(n[0]);f[p]=g,""===g&&(r.lastIndex=u(a,o(r.lastIndex),l)),p++}return 0===p?null:f}]})},{"1a72ba86dc4099cd":"bOssl","3e8300c8dcd37861":"a7eSP","4e367ba2e602279b":"dPzbI",a9817085717103ac:"8AxCV","3ad5c9f9719d1735":"lQsU7",a1912f278569b4e6:"4x6uB",d83ac9e10edfa0ef:"cHxZN","4fa13f5559b9cbba":"2qR8N","357167b0f8a6ba45":"jbkzM","3b40f00a568e6a6b":"gcJzM"}],a7eSP:[function(e,t,i){e("a7057ee05361671");var n=e("771b9a32e3d08596"),r=e("5a9ef6cc43262548"),s=e("b286e3fd8e91d745"),a=e("f56adef42dd3c42"),o=e("39c5bea895574e43"),h=e("1c6881441295e4f4"),c=o("species"),l=RegExp.prototype;t.exports=function(e,t,i,u){var d=o(e),f=!a(function(){var t={};return t[d]=function(){return 7},7!==""[e](t)}),p=f&&!a(function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[c]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return t=!0,null},i[d](""),!t});if(!f||!p||i){var g=/./[d],m=t(d,""[e],function(e,t,i,r,a){var o=t.exec;return o===s||o===l.exec?f&&!a?{done:!0,value:n(g,t,i,r)}:{done:!0,value:n(e,i,t,r)}:{done:!1}});r(String.prototype,e,m[0]),r(l,d,m[1])}u&&h(l[d],"sham",!0)}},{a7057ee05361671:"4cips","771b9a32e3d08596":"bOssl","5a9ef6cc43262548":"4CPdc",b286e3fd8e91d745:"gpoGl",f56adef42dd3c42:"cXVrS","39c5bea895574e43":"5CuF7","1c6881441295e4f4":"gKM90"}],jbkzM:[function(e,t,i){var n=e("7830b1b106fe9c2f").charAt;t.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},{"7830b1b106fe9c2f":"fVu0j"}],gcJzM:[function(e,t,i){var n=e("fe012fd0e62b041c"),r=e("953f0ef3a583db2e"),s=e("7b1bebb22aa6d09f"),a=e("41458309d054e6d9"),o=e("2da13aa8500d5870"),h=TypeError;t.exports=function(e,t){var i=e.exec;if(s(i)){var c=n(i,e,t);return null!==c&&r(c),c}if("RegExp"===a(e))return n(o,e,t);throw new h("RegExp#exec called on incompatible receiver")}},{fe012fd0e62b041c:"bOssl","953f0ef3a583db2e":"dPzbI","7b1bebb22aa6d09f":"h1Wnr","41458309d054e6d9":"161sQ","2da13aa8500d5870":"gpoGl"}],"5JfZw":[function(e,t,i){var n=e("ab7506693563188f"),r=e("bc392a1870cac46c"),s=e("518f2de578425815"),a=e("5413f14f6fa8d586"),o=e("b080d5b6d2874bb9"),h=e("500412608beb0fa4"),c=e("d27dba1be9ae2ec7"),l=e("304a5dfbef2eca6a"),u=e("c369a3c8053cdec1"),d=e("c7ae38c574bac52a"),f=e("f127fd901a8322fa"),p=e("3da774f1ac5cef39"),g=e("5e13bde3b69470d3"),m=e("d67b0fe73b3441f6"),v=e("c3d9a3b5ce1a0134"),y=e("f824fce70460b786"),b=e("fe46150a38a85a5d"),x=e("c158ae31b64e4ec2"),E=e("2eeb2389fe600209"),w=e("a803aed269f0019b"),T=e("e9503db7c8f89e91"),S=e("d919927dacd61c64"),A=b("matchAll"),C="RegExp String",_=C+" Iterator",I=T.set,O=T.getterFor(_),P=RegExp.prototype,M=TypeError,R=s("".indexOf),L=s("".matchAll),D=!!L&&!y(function(){L("a",/./)}),k=a(function(e,t,i,n){I(this,{type:_,regexp:e,string:t,global:i,unicode:n,done:!1})},C,function(){var e=O(this);if(e.done)return o(void 0,!0);var t=e.regexp,i=e.string,n=w(t,i);return null===n?(e.done=!0,o(void 0,!0)):(e.global?""===l(n[0])&&(t.lastIndex=E(i,c(t.lastIndex),e.unicode)):e.done=!0,o(n,!1))}),N=function(e){var t,i,n,r=u(this),s=l(e),a=x(r,RegExp),o=l(g(r));return t=new a(a===RegExp?r.source:r,o),i=!!~R(o,"g"),n=!!~R(o,"u"),t.lastIndex=c(r.lastIndex),new k(t,s,i,n)};n({target:"String",proto:!0,forced:D},{matchAll:function(e){var t,i,n,s=h(this);if(d(e)){if(D)return L(s,e)}else{if(p(e)&&!~R(l(h(g(e))),"g"))throw new M("`.matchAll` does not allow non-global regexes");if(D)return L(s,e);if(void 0===(i=m(e,A))&&S&&"RegExp"===f(e)&&(i=N),i)return r(i,e,s)}return t=l(s),n=RegExp(e,"g"),S?r(N,n,t):n[A](t)}}),S||A in P||v(P,A,N)},{ab7506693563188f:"gJg5v",bc392a1870cac46c:"bOssl","518f2de578425815":"c4z5p","5413f14f6fa8d586":"1Abii",b080d5b6d2874bb9:"dwU83","500412608beb0fa4":"cHxZN",d27dba1be9ae2ec7:"lQsU7","304a5dfbef2eca6a":"4x6uB",c369a3c8053cdec1:"dPzbI",c7ae38c574bac52a:"8AxCV",f127fd901a8322fa:"161sQ","3da774f1ac5cef39":"4WTYw","5e13bde3b69470d3":"iG8db",d67b0fe73b3441f6:"2qR8N",c3d9a3b5ce1a0134:"4CPdc",f824fce70460b786:"cXVrS",fe46150a38a85a5d:"5CuF7",c158ae31b64e4ec2:"CaSkn","2eeb2389fe600209":"jbkzM",a803aed269f0019b:"gcJzM",e9503db7c8f89e91:"ixHS2",d919927dacd61c64:"jHRGA"}],fU7MD:[function(e,t,i){var n=e("bde41783ec0f17a4"),r=e("794108b869e92a52").end;n({target:"String",proto:!0,forced:e("271b5f05be76b6dd")},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{bde41783ec0f17a4:"gJg5v","794108b869e92a52":"15Fl7","271b5f05be76b6dd":"38Jla"}],"38Jla":[function(e,t,i){var n=e("ea42f18a4a6e86a9");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},{ea42f18a4a6e86a9:"5hj4U"}],iz82g:[function(e,t,i){var n=e("31f9b30345fd3179"),r=e("10950b9580001d1d").start;n({target:"String",proto:!0,forced:e("c86924140d1ee1af")},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"31f9b30345fd3179":"gJg5v","10950b9580001d1d":"15Fl7",c86924140d1ee1af:"38Jla"}],"5PH9s":[function(e,t,i){var n=e("d77bea9ed21ff4bc"),r=e("7ed823ef2298b758"),s=e("1210aa921fc34970"),a=e("4320a1855b3e38fb"),o=e("c2348ecf591fb82d"),h=e("4b1f320aa7c99da8"),c=r([].push),l=r([].join);n({target:"String",stat:!0},{raw:function(e){var t=s(a(e).raw),i=h(t);if(!i)return"";for(var n=arguments.length,r=[],u=0;;){if(c(r,o(t[u++])),u===i)return l(r,"");u<n&&c(r,o(arguments[u]))}}})},{d77bea9ed21ff4bc:"gJg5v","7ed823ef2298b758":"2iJ57","1210aa921fc34970":"h9ut0","4320a1855b3e38fb":"6oQEu",c2348ecf591fb82d:"4x6uB","4b1f320aa7c99da8":"kHSes"}],f2AVd:[function(e,t,i){e("b68f16bf09eba421")({target:"String",proto:!0},{repeat:e("12e67b43b198a56f")})},{b68f16bf09eba421:"gJg5v","12e67b43b198a56f":"dsk9g"}],j2dUp:[function(e,t,i){var n=e("f8fd16f994f85406"),r=e("b5234e1018cb2916"),s=e("c3560c75b4ad1ef2"),a=e("c4a2369a79c5aaa2"),o=e("daa534dec0372986"),h=e("317f495e148be81e"),c=e("36464dd17d2a7224"),l=e("cea091f017783d94"),u=e("3847a5ff118f8ebb"),d=e("effd88adfbb6b4bc"),f=e("953b724c90cd8db6"),p=e("154963922e7c9354"),g=e("90f011aa61b831b4"),m=e("af552ab4c89e35be"),v=e("3726cfd8dc51c82c"),y=e("6de55154ce28598"),b=e("4b6a0c7e75a1080a")("replace"),x=Math.max,E=Math.min,w=s([].concat),T=s([].push),S=s("".indexOf),A=s("".slice),C="$0"==="a".replace(/./,"$0"),_=!!/./[b]&&""===/./[b]("a","$0");a("replace",function(e,t,i){var s=_?"$":"$0";return[function(e,i){var n=p(this),s=l(e)?void 0:m(e,b);return s?r(s,e,n,i):r(t,f(n),e,i)},function(e,r){var a=h(this),o=f(e);if("string"==typeof r&&-1===S(r,s)&&-1===S(r,"$<")){var l=i(t,a,o,r);if(l.done)return l.value}var p=c(r);p||(r=f(r));var m=a.global;m&&(P=a.unicode,a.lastIndex=0);for(var b=[];null!==(M=y(a,o))&&(T(b,M),m);)""===f(M[0])&&(a.lastIndex=g(o,d(a.lastIndex),P));for(var C="",_=0,I=0;I<b.length;I++){for(var O,P,M,R,L=f((M=b[I])[0]),D=x(E(u(M.index),o.length),0),k=[],N=1;N<M.length;N++)T(k,void 0===(O=M[N])?O:String(O));var F=M.groups;if(p){var B=w([L],k,D,o);void 0!==F&&T(B,F),R=f(n(r,void 0,B))}else R=v(L,o,D,k,F,r);D>=_&&(C+=A(o,_,D)+R,_=D+L.length)}return C+A(o,_)}]},!!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!C||_)},{f8fd16f994f85406:"2fjXG",b5234e1018cb2916:"bOssl",c3560c75b4ad1ef2:"2iJ57",c4a2369a79c5aaa2:"a7eSP",daa534dec0372986:"cXVrS","317f495e148be81e":"dPzbI","36464dd17d2a7224":"h1Wnr",cea091f017783d94:"8AxCV","3847a5ff118f8ebb":"gAgUH",effd88adfbb6b4bc:"lQsU7","953b724c90cd8db6":"4x6uB","154963922e7c9354":"cHxZN","90f011aa61b831b4":"jbkzM",af552ab4c89e35be:"2qR8N","3726cfd8dc51c82c":"gSNtK","6de55154ce28598":"gcJzM","4b6a0c7e75a1080a":"5CuF7"}],gSNtK:[function(e,t,i){var n=e("3cf51fea5d34c201"),r=e("999f669befd62c27"),s=Math.floor,a=n("".charAt),o=n("".replace),h=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(e,t,i,n,u,d){var f=i+e.length,p=n.length,g=l;return void 0!==u&&(u=r(u),g=c),o(d,g,function(r,o){var c;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return h(t,0,i);case"'":return h(t,f);case"<":c=u[h(o,1,-1)];break;default:var l=+o;if(0===l)return r;if(l>p){var d=s(l/10);if(0===d)return r;if(d<=p)return void 0===n[d-1]?a(o,1):n[d-1]+a(o,1);return r}c=n[l-1]}return void 0===c?"":c})}},{"3cf51fea5d34c201":"2iJ57","999f669befd62c27":"6oQEu"}],"2HEOd":[function(e,t,i){var n=e("69381acad0f1f180"),r=e("be2b5a787b4341ed"),s=e("70979a707458e2bc"),a=e("ede342a754b29b08"),o=e("7b33c58d7c6a633e"),h=e("bc393499bad934a6"),c=e("1f633e1cea7bfece"),l=e("5a07dc19106ad672"),u=e("40b88ab8d2a68602"),d=e("c009564a6e08e49f"),f=e("49118a84cede6c94"),p=e("d9c85063e2fa18d1"),g=e("179cb9efb80dcae1"),m=p("replace"),v=TypeError,y=s("".indexOf),b=s("".replace),x=s("".slice),E=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,t){var i,n,s,p,w,T,S,A,C,_=a(this),I=0,O="";if(!h(e)){if((i=c(e))&&!~y(l(a(d(e))),"g"))throw new v("`.replaceAll` does not allow non-global regexes");if(n=u(e,m))return r(n,e,_,t);if(g&&i)return b(l(_),e,t)}for(s=l(_),p=l(e),(w=o(t))||(t=l(t)),S=E(1,T=p.length),A=y(s,p);-1!==A;)C=w?l(t(p,A,s)):f(p,s,A,[],void 0,t),O+=x(s,I,A)+C,I=A+T,A=A+S>s.length?-1:y(s,p,A+S);return I<s.length&&(O+=x(s,I)),O}})},{"69381acad0f1f180":"gJg5v",be2b5a787b4341ed:"bOssl","70979a707458e2bc":"2iJ57",ede342a754b29b08:"cHxZN","7b33c58d7c6a633e":"h1Wnr",bc393499bad934a6:"8AxCV","1f633e1cea7bfece":"4WTYw","5a07dc19106ad672":"4x6uB","40b88ab8d2a68602":"2qR8N",c009564a6e08e49f:"iG8db","49118a84cede6c94":"gSNtK",d9c85063e2fa18d1:"5CuF7","179cb9efb80dcae1":"jHRGA"}],"4kyL0":[function(e,t,i){var n=e("8d11f7aaad1fe3c1"),r=e("2fc7060ff2c5a42c"),s=e("80bcaa170d414768"),a=e("2f12d91ea8b88054"),o=e("87e0667ca38b48b9"),h=e("fc5195de5b8ec5e0"),c=e("ac1a7a91b5d23dc3"),l=e("d51bcc8729521f43"),u=e("d8c3d3bfc882cda6");r("search",function(e,t,i){return[function(t){var i=o(this),r=a(t)?void 0:l(t,e);return r?n(r,t,i):new RegExp(t)[e](c(i))},function(e){var n=s(this),r=c(e),a=i(t,n,r);if(a.done)return a.value;var o=n.lastIndex;h(o,0)||(n.lastIndex=0);var l=u(n,r);return h(n.lastIndex,o)||(n.lastIndex=o),null===l?-1:l.index}]})},{"8d11f7aaad1fe3c1":"bOssl","2fc7060ff2c5a42c":"a7eSP","80bcaa170d414768":"dPzbI","2f12d91ea8b88054":"8AxCV","87e0667ca38b48b9":"cHxZN",fc5195de5b8ec5e0:"3Lhyq",ac1a7a91b5d23dc3:"4x6uB",d51bcc8729521f43:"2qR8N",d8c3d3bfc882cda6:"gcJzM"}],fx5cJ:[function(e,t,i){var n=e("731f563170e1c210"),r=e("897d2896927b6e02"),s=e("508b20464a6b5517"),a=e("f367d08a248e8be6"),o=e("31434b1694b351f9"),h=e("9311135c1a422443"),c=e("55e35ece01e7fba0"),l=e("8bb35ae79f87add1"),u=e("49f0536d42765acd"),d=e("b9744dd298874d6b"),f=e("7948c6f9df3714fb"),p=e("2c9f875738c0535c"),g=e("ff11a5dc8ee4e1e9"),m=e("1a700d67237f1f2b"),v=g.UNSUPPORTED_Y,y=Math.min,b=r([].push),x=r("".slice),E=!m(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}),w="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;s("split",function(e,t,i){var r="0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:n(t,this,e,i)}:t;return[function(t,i){var s=h(this),a=o(t)?void 0:f(t,e);return a?n(a,t,s,i):n(r,d(s),t,i)},function(e,n){var s=a(this),o=d(e);if(!w){var h=i(r,s,o,n,r!==t);if(h.done)return h.value}var f=c(s,RegExp),g=s.unicode,m=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"g":"y"),E=new f(v?"^(?:"+s.source+")":s,m),T=void 0===n?4294967295:n>>>0;if(0===T)return[];if(0===o.length)return null===p(E,o)?[o]:[];for(var S=0,A=0,C=[];A<o.length;){E.lastIndex=v?0:A;var _,I=p(E,v?x(o,A):o);if(null===I||(_=y(u(E.lastIndex+(v?A:0)),o.length))===S)A=l(o,A,g);else{if(b(C,x(o,S,A)),C.length===T)return C;for(var O=1;O<=I.length-1;O++)if(b(C,I[O]),C.length===T)return C;A=S=_}}return b(C,x(o,S)),C}]},w||!E,v)},{"731f563170e1c210":"bOssl","897d2896927b6e02":"2iJ57","508b20464a6b5517":"a7eSP",f367d08a248e8be6:"dPzbI","31434b1694b351f9":"8AxCV","9311135c1a422443":"cHxZN","55e35ece01e7fba0":"CaSkn","8bb35ae79f87add1":"jbkzM","49f0536d42765acd":"lQsU7",b9744dd298874d6b:"4x6uB","7948c6f9df3714fb":"2qR8N","2c9f875738c0535c":"gcJzM",ff11a5dc8ee4e1e9:"arHMc","1a700d67237f1f2b":"cXVrS"}],"9GM5b":[function(e,t,i){var n,r=e("dde854d8a76d436d"),s=e("75ef62d12e51b46c"),a=e("ff3b80c156be6132").f,o=e("573cc620487e2f6b"),h=e("3d6be1b7c00bafd"),c=e("40ed833d044b85cd"),l=e("7b57b8afdd10d7e4"),u=e("80ffa3ecff44b920"),d=e("d76fe9fb1319d805"),f=s("".slice),p=Math.min,g=u("startsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&(n=a(String.prototype,"startsWith"))&&!n.writable)&&!g},{startsWith:function(e){var t=h(l(this));c(e);var i=o(p(arguments.length>1?arguments[1]:void 0,t.length)),n=h(e);return f(t,i,i+n.length)===n}})},{dde854d8a76d436d:"gJg5v","75ef62d12e51b46c":"c4z5p",ff3b80c156be6132:"aRu9T","573cc620487e2f6b":"lQsU7","3d6be1b7c00bafd":"4x6uB","40ed833d044b85cd":"6Sz3M","7b57b8afdd10d7e4":"cHxZN","80ffa3ecff44b920":"i38lK",d76fe9fb1319d805:"jHRGA"}],ilZVq:[function(e,t,i){var n=e("e3f052c25e9ce7a0"),r=e("79d87d02e012ddb6"),s=e("d9b0f8ef34c7f588"),a=e("7684d557cb0eafb9"),o=e("a0c96765c2fd3918"),h=r("".slice),c=Math.max,l=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var i,n,r=o(s(this)),u=r.length,d=a(e);return(d===1/0&&(d=0),d<0&&(d=c(u+d,0)),(i=void 0===t?u:a(t))<=0||i===1/0)?"":(n=l(d+i,u),d>=n?"":h(r,d,n))}})},{e3f052c25e9ce7a0:"gJg5v","79d87d02e012ddb6":"2iJ57",d9b0f8ef34c7f588:"cHxZN","7684d557cb0eafb9":"gAgUH",a0c96765c2fd3918:"4x6uB"}],hUcmJ:[function(e,t,i){var n=e("abdac43301199021"),r=e("46e4a85192f95918"),s=e("63c730f9593a416e"),a=e("2fb31922ea5ff27d"),o=e("6f82048edf356822"),h=e("2f2665d060e5f6a1"),c=Array,l=s("".charAt),u=s("".charCodeAt),d=s([].join),f="".toWellFormed,p=f&&h(function(){return"1"!==r(f,1)});n({target:"String",proto:!0,forced:p},{toWellFormed:function(){var e=o(a(this));if(p)return r(f,e);for(var t=e.length,i=c(t),n=0;n<t;n++){var s=u(e,n);(63488&s)!=55296?i[n]=l(e,n):s>=56320||n+1>=t||(64512&u(e,n+1))!=56320?i[n]="�":(i[n]=l(e,n),i[++n]=l(e,n))}return d(i,"")}})},{abdac43301199021:"gJg5v","46e4a85192f95918":"bOssl","63c730f9593a416e":"2iJ57","2fb31922ea5ff27d":"cHxZN","6f82048edf356822":"4x6uB","2f2665d060e5f6a1":"cXVrS"}],l2p2s:[function(e,t,i){var n=e("4a60febef79e9fd2"),r=e("aa85dc53780a7a31").trim;n({target:"String",proto:!0,forced:e("d62e07fb0a0f0c26")("trim")},{trim:function(){return r(this)}})},{"4a60febef79e9fd2":"gJg5v",aa85dc53780a7a31:"jX5uQ",d62e07fb0a0f0c26:"cZ2PC"}],cZ2PC:[function(e,t,i){var n=e("9e0c4c0dbddf03dd").PROPER,r=e("92328d780355dc79"),s=e("8c0d7fed4094a2b6"),a="​᠎";t.exports=function(e){return r(function(){return!!s[e]()||a[e]()!==a||n&&s[e].name!==e})}},{"9e0c4c0dbddf03dd":"jmu0n","92328d780355dc79":"cXVrS","8c0d7fed4094a2b6":"heeAP"}],"3o3Gk":[function(e,t,i){e("251a593a444ed436");var n=e("91f4001402f2b9ee"),r=e("c6b02e29a67a6f26");n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==r},{trimEnd:r})},{"251a593a444ed436":"94n2Q","91f4001402f2b9ee":"gJg5v",c6b02e29a67a6f26:"eV55a"}],"94n2Q":[function(e,t,i){var n=e("de7842587ae70a42"),r=e("324b25d4226efe2d");n({target:"String",proto:!0,name:"trimEnd",forced:void 0!==r},{trimRight:r})},{de7842587ae70a42:"gJg5v","324b25d4226efe2d":"eV55a"}],eV55a:[function(e,t,i){var n=e("bc94349b4fc95bb3").end,r=e("71fc76130b4f9a6");t.exports=r("trimEnd")?function(){return n(this)}:"".trimEnd},{bc94349b4fc95bb3:"jX5uQ","71fc76130b4f9a6":"cZ2PC"}],"4Lt39":[function(e,t,i){e("654c60d6d97014cd");var n=e("26b6a882a1c5bba9"),r=e("b5f2740011c04718");n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==r},{trimStart:r})},{"654c60d6d97014cd":"7XL4A","26b6a882a1c5bba9":"gJg5v",b5f2740011c04718:"lOELU"}],"7XL4A":[function(e,t,i){var n=e("2da1b55d02d90d4a"),r=e("8b6aefe7df6c88a");n({target:"String",proto:!0,name:"trimStart",forced:void 0!==r},{trimLeft:r})},{"2da1b55d02d90d4a":"gJg5v","8b6aefe7df6c88a":"lOELU"}],lOELU:[function(e,t,i){var n=e("a3878f82301e4d4").start,r=e("ee8e5c2b54df0ba4");t.exports=r("trimStart")?function(){return n(this)}:"".trimStart},{a3878f82301e4d4:"jX5uQ",ee8e5c2b54df0ba4:"cZ2PC"}],"3qZNd":[function(e,t,i){var n=e("e7d648b06f4dd9c6"),r=e("8b0114ba5e653efc");n({target:"String",proto:!0,forced:e("1caf9e0d6204ce0a")("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},{e7d648b06f4dd9c6:"gJg5v","8b0114ba5e653efc":"8K5FK","1caf9e0d6204ce0a":"ftpai"}],"8K5FK":[function(e,t,i){var n=e("427762aaf6075552"),r=e("3a91b63413ffe383"),s=e("515bd1582fb5b4c0"),a=/"/g,o=n("".replace);t.exports=function(e,t,i,n){var h=s(r(e)),c="<"+t;return""!==i&&(c+=" "+i+'="'+o(s(n),a,"&quot;")+'"'),c+">"+h+"</"+t+">"}},{"427762aaf6075552":"2iJ57","3a91b63413ffe383":"cHxZN","515bd1582fb5b4c0":"4x6uB"}],ftpai:[function(e,t,i){var n=e("b7fe2964c39bac");t.exports=function(e){return n(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},{b7fe2964c39bac:"cXVrS"}],"20tl2":[function(e,t,i){var n=e("c559cd7b113e236e"),r=e("5a30563bc26230a8");n({target:"String",proto:!0,forced:e("eec66acdfc1a2a7d")("big")},{big:function(){return r(this,"big","","")}})},{c559cd7b113e236e:"gJg5v","5a30563bc26230a8":"8K5FK",eec66acdfc1a2a7d:"ftpai"}],ahutJ:[function(e,t,i){var n=e("676512d3c55a414"),r=e("7e21be1f712bc51d");n({target:"String",proto:!0,forced:e("46de4ecf79c13e")("blink")},{blink:function(){return r(this,"blink","","")}})},{"676512d3c55a414":"gJg5v","7e21be1f712bc51d":"8K5FK","46de4ecf79c13e":"ftpai"}],f2UI4:[function(e,t,i){var n=e("48f4b5d0c5a6a4fb"),r=e("e17c07d10b887dd3");n({target:"String",proto:!0,forced:e("5287465832c168a5")("bold")},{bold:function(){return r(this,"b","","")}})},{"48f4b5d0c5a6a4fb":"gJg5v",e17c07d10b887dd3:"8K5FK","5287465832c168a5":"ftpai"}],"4XIfF":[function(e,t,i){var n=e("6490db7677e8f73e"),r=e("e6e19e0e56c49b86");n({target:"String",proto:!0,forced:e("bb7b77345df5335f")("fixed")},{fixed:function(){return r(this,"tt","","")}})},{"6490db7677e8f73e":"gJg5v",e6e19e0e56c49b86:"8K5FK",bb7b77345df5335f:"ftpai"}],l1rs2:[function(e,t,i){var n=e("138910cd530370a2"),r=e("d72a479e3b3815bd");n({target:"String",proto:!0,forced:e("5690c1466282cf0f")("fontcolor")},{fontcolor:function(e){return r(this,"font","color",e)}})},{"138910cd530370a2":"gJg5v",d72a479e3b3815bd:"8K5FK","5690c1466282cf0f":"ftpai"}],adYvn:[function(e,t,i){var n=e("f502df9771a160ae"),r=e("ee2ef8461dec89b6");n({target:"String",proto:!0,forced:e("2a2e9c2933145580")("fontsize")},{fontsize:function(e){return r(this,"font","size",e)}})},{f502df9771a160ae:"gJg5v",ee2ef8461dec89b6:"8K5FK","2a2e9c2933145580":"ftpai"}],gidCX:[function(e,t,i){var n=e("24cfbc86c4210c6b"),r=e("e302ce8a79ba595b");n({target:"String",proto:!0,forced:e("3ecf3c8b0c95d02f")("italics")},{italics:function(){return r(this,"i","","")}})},{"24cfbc86c4210c6b":"gJg5v",e302ce8a79ba595b:"8K5FK","3ecf3c8b0c95d02f":"ftpai"}],bv1yh:[function(e,t,i){var n=e("bab8a92d9901152a"),r=e("252613bc1bb91720");n({target:"String",proto:!0,forced:e("3fb7b9ac770c40c")("link")},{link:function(e){return r(this,"a","href",e)}})},{bab8a92d9901152a:"gJg5v","252613bc1bb91720":"8K5FK","3fb7b9ac770c40c":"ftpai"}],kO1Zg:[function(e,t,i){var n=e("d3ac4973e86c28f9"),r=e("8bd5ccba40c1dac2");n({target:"String",proto:!0,forced:e("8a5bdd05bf3f9b34")("small")},{small:function(){return r(this,"small","","")}})},{d3ac4973e86c28f9:"gJg5v","8bd5ccba40c1dac2":"8K5FK","8a5bdd05bf3f9b34":"ftpai"}],bgZU7:[function(e,t,i){var n=e("4d6202cdf03d0d61"),r=e("ec6f6be679741e37");n({target:"String",proto:!0,forced:e("1920bc41bac741db")("strike")},{strike:function(){return r(this,"strike","","")}})},{"4d6202cdf03d0d61":"gJg5v",ec6f6be679741e37:"8K5FK","1920bc41bac741db":"ftpai"}],jgQND:[function(e,t,i){var n=e("5ac641dbd7ba3f29"),r=e("ef70fadb3bd40f3e");n({target:"String",proto:!0,forced:e("2b14944b2c33ed44")("sub")},{sub:function(){return r(this,"sub","","")}})},{"5ac641dbd7ba3f29":"gJg5v",ef70fadb3bd40f3e:"8K5FK","2b14944b2c33ed44":"ftpai"}],hB11V:[function(e,t,i){var n=e("783c2c194676a06b"),r=e("bca2bfdd086dcdc1");n({target:"String",proto:!0,forced:e("36843058161d815a")("sup")},{sup:function(){return r(this,"sup","","")}})},{"783c2c194676a06b":"gJg5v",bca2bfdd086dcdc1:"8K5FK","36843058161d815a":"ftpai"}],"31EdS":[function(e,t,i){e("6371023cd6dad94a")("Float32",function(e){return function(t,i,n){return e(this,t,i,n)}})},{"6371023cd6dad94a":"8VOru"}],"8VOru":[function(e,t,i){var n=e("c9bb9be26763d5d6"),r=e("f3461bcb45a0da3b"),s=e("513171f829dcf492"),a=e("9195003f05246e2"),o=e("5c32747745583fde"),h=e("f129cadcdd085794"),c=e("14a230ba5c5e071a"),l=e("848002acbadbae2c"),u=e("c540a4ec697b43da"),d=e("8248ffc9c9f95531"),f=e("aa784a976357a5bd"),p=e("da59162d19efb47d"),g=e("30e058c823038e07"),m=e("c43d9ac9910fd1d"),v=e("ac65ec03272627eb"),y=e("9477a245724234e7"),b=e("9d37aa52098c7b96"),x=e("361c9958906a5ff0"),E=e("4f80387d0e9c94a2"),w=e("d414fa9976906f9c"),T=e("97d75eb5fba6dc4c"),S=e("c3126acc51f6b7f5"),A=e("402069064923c62e"),C=e("442bd1b967e53ad0").f,_=e("e60d2aff236b9889"),I=e("5464ebf657a71f52").forEach,O=e("e76408bbdddedcb"),P=e("a6c477e34b27b3ce"),M=e("3b65fa2a837fee2b"),R=e("2db4073983cef2bc"),L=e("76805b4ea64de991"),D=e("7ab72b6c1b29c546"),k=e("1d46546a1b5897a9"),N=D.get,F=D.set,B=D.enforce,U=M.f,V=R.f,G=r.RangeError,j=c.ArrayBuffer,W=j.prototype,Y=c.DataView,H=h.NATIVE_ARRAY_BUFFER_VIEWS,z=h.TYPED_ARRAY_TAG,X=h.TypedArray,K=h.TypedArrayPrototype,q=h.isTypedArray,J="BYTES_PER_ELEMENT",$="Wrong length",Q=function(e,t){P(e,t,{configurable:!0,get:function(){return N(this)[t]}})},Z=function(e){var t;return S(W,e)||"ArrayBuffer"===(t=x(e))||"SharedArrayBuffer"===t},ee=function(e,t){return q(e)&&!w(t)&&t in e&&f(+t)&&t>=0},et=function(e,t){return ee(e,t=y(t))?u(2,e[t]):V(e,t)},ei=function(e,t,i){return ee(e,t=y(t))&&E(i)&&b(i,"value")&&!b(i,"get")&&!b(i,"set")&&!i.configurable&&(!b(i,"writable")||i.writable)&&(!b(i,"enumerable")||i.enumerable)?(e[t]=i.value,e):U(e,t,i)};a?(H||(R.f=et,M.f=ei,Q(K,"buffer"),Q(K,"byteOffset"),Q(K,"byteLength"),Q(K,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:et,defineProperty:ei}),t.exports=function(e,t,i){var a=e.match(/\d+/)[0]/8,h=e+(i?"Clamped":"")+"Array",c="get"+e,u="set"+e,f=r[h],y=f,b=y&&y.prototype,x={},w=function(e,t){var i=N(e);return i.view[c](t*a+i.byteOffset,!0)},S=function(e,t,n){var r=N(e);r.view[u](t*a+r.byteOffset,i?v(n):n,!0)},P=function(e,t){U(e,t,{get:function(){return w(this,t)},set:function(e){return S(this,t,e)},enumerable:!0})};H?o&&(y=t(function(e,t,i,n){return l(e,b),k(E(t)?Z(t)?void 0!==n?new f(t,m(i,a),n):void 0!==i?new f(t,m(i,a)):new f(t):q(t)?L(y,t):s(_,y,t):new f(g(t)),e,y)}),A&&A(y,X),I(C(f),function(e){e in y||d(y,e,f[e])}),y.prototype=b):(y=t(function(e,t,i,n){l(e,b);var r,o,h,c=0,u=0;if(E(t)){if(Z(t)){r=t,u=m(i,a);var d=t.byteLength;if(void 0===n){if(d%a||(o=d-u)<0)throw new G($)}else if((o=p(n)*a)+u>d)throw new G($);h=o/a}else if(q(t))return L(y,t);else return s(_,y,t)}else r=new j(o=(h=g(t))*a);for(F(e,{buffer:r,byteOffset:u,byteLength:o,length:h,view:new Y(r)});c<h;)P(e,c++)}),A&&A(y,X),b=y.prototype=T(K)),b.constructor!==y&&d(b,"constructor",y),B(b).TypedArrayConstructor=y,z&&d(b,z,h);var M=y!==f;x[h]=y,n({global:!0,constructor:!0,forced:M,sham:!H},x),J in y||d(y,J,a),J in b||d(b,J,a),O(h)}):t.exports=function(){}},{c9bb9be26763d5d6:"gJg5v",f3461bcb45a0da3b:"7Z171","513171f829dcf492":"bOssl","9195003f05246e2":"6mXK1","5c32747745583fde":"5UnGw",f129cadcdd085794:"b6692","14a230ba5c5e071a":"5y3LH","848002acbadbae2c":"95yA1",c540a4ec697b43da:"5toj2","8248ffc9c9f95531":"gKM90",aa784a976357a5bd:"3kBvt",da59162d19efb47d:"lQsU7","30e058c823038e07":"g2ruQ",c43d9ac9910fd1d:"cm44u",ac65ec03272627eb:"cTbSD","9477a245724234e7":"gvuJs","9d37aa52098c7b96":"9JWVX","361c9958906a5ff0":"cRCRk","4f80387d0e9c94a2":"8mxCV",d414fa9976906f9c:"2ZU2p","97d75eb5fba6dc4c":"7isQ3",c3126acc51f6b7f5:"d5bNd","402069064923c62e":"arrdQ","442bd1b967e53ad0":"dDV3S",e60d2aff236b9889:"2HI7b","5464ebf657a71f52":"daQdc",e76408bbdddedcb:"c7jXZ",a6c477e34b27b3ce:"3NI4M","3b65fa2a837fee2b":"hvqCQ","2db4073983cef2bc":"aRu9T","76805b4ea64de991":"5QV4b","7ab72b6c1b29c546":"ixHS2","1d46546a1b5897a9":"30not"}],"5UnGw":[function(e,t,i){var n=e("891f2fe9b403b8ab"),r=e("6c663a269461a969"),s=e("d8cf3a97649eee7c"),a=e("c788c77daaeab24a").NATIVE_ARRAY_BUFFER_VIEWS,o=n.ArrayBuffer,h=n.Int8Array;t.exports=!a||!r(function(){h(1)})||!r(function(){new h(-1)})||!s(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||r(function(){return 1!==new h(new o(2),1,void 0).length})},{"891f2fe9b403b8ab":"7Z171","6c663a269461a969":"cXVrS",d8cf3a97649eee7c:"dR8Bu",c788c77daaeab24a:"b6692"}],cm44u:[function(e,t,i){var n=e("3d42e5f9448f0334"),r=RangeError;t.exports=function(e,t){var i=n(e);if(i%t)throw new r("Wrong offset");return i}},{"3d42e5f9448f0334":"dzkcc"}],cTbSD:[function(e,t,i){var n=Math.round;t.exports=function(e){var t=n(e);return t<0?0:t>255?255:255&t}},{}],"2HI7b":[function(e,t,i){var n=e("2b6f4dcfa87227c8"),r=e("a99e72870b261c00"),s=e("6fedb000997de8c9"),a=e("5d2230babf0781b0"),o=e("224522d7906614b9"),h=e("fa7f27b53f48b0c9"),c=e("244fea79be1425e4"),l=e("c86f6f22440f76d6"),u=e("a9c73ae28faf529e"),d=e("1213d44fe73ec45d").aTypedArrayConstructor,f=e("17f40af3180f13f6");t.exports=function(e){var t,i,p,g,m,v,y,b,x=s(this),E=a(e),w=arguments.length,T=w>1?arguments[1]:void 0,S=void 0!==T,A=c(E);if(A&&!l(A))for(b=(y=h(E,A)).next,E=[];!(v=r(b,y)).done;)E.push(v.value);for(S&&w>2&&(T=n(T,arguments[2])),i=o(E),g=u(p=new(d(x))(i)),t=0;i>t;t++)m=S?T(E[t],t):E[t],p[t]=g?f(m):+m;return p}},{"2b6f4dcfa87227c8":"f1CxE",a99e72870b261c00:"bOssl","6fedb000997de8c9":"euAEP","5d2230babf0781b0":"6oQEu","224522d7906614b9":"kHSes",fa7f27b53f48b0c9:"kBMjp","244fea79be1425e4":"3624P",c86f6f22440f76d6:"88nHe",a9c73ae28faf529e:"7TPqP","1213d44fe73ec45d":"b6692","17f40af3180f13f6":"hYKQy"}],"7TPqP":[function(e,t,i){var n=e("4eaea61d57855c23");t.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},{"4eaea61d57855c23":"cRCRk"}],hYKQy:[function(e,t,i){var n=e("e84ff6c898741836"),r=TypeError;t.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},{e84ff6c898741836:"cCley"}],"5PjpG":[function(e,t,i){e("5afb75924dde7be2")("Float64",function(e){return function(t,i,n){return e(this,t,i,n)}})},{"5afb75924dde7be2":"8VOru"}],fxnuD:[function(e,t,i){e("f65338540449e43b")("Int8",function(e){return function(t,i,n){return e(this,t,i,n)}})},{f65338540449e43b:"8VOru"}],"6jDOT":[function(e,t,i){e("618af5c93cf1cc05")("Int16",function(e){return function(t,i,n){return e(this,t,i,n)}})},{"618af5c93cf1cc05":"8VOru"}],gG1e8:[function(e,t,i){e("c7ce36d83e80a30f")("Int32",function(e){return function(t,i,n){return e(this,t,i,n)}})},{c7ce36d83e80a30f:"8VOru"}],"17kvf":[function(e,t,i){e("1fba800ad35b335f")("Uint8",function(e){return function(t,i,n){return e(this,t,i,n)}})},{"1fba800ad35b335f":"8VOru"}],"9B0y9":[function(e,t,i){e("2cd7a1d58fa59b7d")("Uint8",function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},{"2cd7a1d58fa59b7d":"8VOru"}],"3kbwg":[function(e,t,i){e("ca953ee05f39cdaa")("Uint16",function(e){return function(t,i,n){return e(this,t,i,n)}})},{ca953ee05f39cdaa:"8VOru"}],"5wzd5":[function(e,t,i){e("682a05de60a0a1e1")("Uint32",function(e){return function(t,i,n){return e(this,t,i,n)}})},{"682a05de60a0a1e1":"8VOru"}],"1dCBn":[function(e,t,i){var n=e("bad3bf9fd10c3d3e"),r=e("f3046f328b82c495"),s=e("6efc916402e96e15"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",function(e){var t=a(this),i=r(t),n=s(e),o=n>=0?n:i+n;return o<0||o>=i?void 0:t[o]})},{bad3bf9fd10c3d3e:"b6692",f3046f328b82c495:"kHSes","6efc916402e96e15":"gAgUH"}],"2Mqsz":[function(e,t,i){var n=e("9998fdf0f56ef0da"),r=e("3136ffe0165b4705"),s=n(e("45547c073d8e02f")),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",function(e,t){return s(a(this),e,t,arguments.length>2?arguments[2]:void 0)})},{"9998fdf0f56ef0da":"2iJ57","3136ffe0165b4705":"b6692","45547c073d8e02f":"toMXb"}],eZZyP:[function(e,t,i){var n=e("cb5a1a9d977d55c8"),r=e("9bc5b51fcf1b899f").every,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{cb5a1a9d977d55c8:"b6692","9bc5b51fcf1b899f":"daQdc"}],go8ZW:[function(e,t,i){var n=e("24d20a7fba3c1708"),r=e("3a12c8f811e83e62"),s=e("bec3653efa2d8600"),a=e("ff46ad00880fddaa"),o=e("5e0ee530611ef38d"),h=e("800a47a98b497e55"),c=e("faaaddc6a409cf90"),l=n.aTypedArray,u=n.exportTypedArrayMethod,d=h("".slice);u("fill",function(e){var t=arguments.length;return l(this),o(r,this,"Big"===d(a(this),0,3)?s(e):+e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},c(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}))},{"24d20a7fba3c1708":"b6692","3a12c8f811e83e62":"9XPgi",bec3653efa2d8600:"hYKQy",ff46ad00880fddaa:"cRCRk","5e0ee530611ef38d":"bOssl","800a47a98b497e55":"2iJ57",faaaddc6a409cf90:"cXVrS"}],iCErC:[function(e,t,i){var n=e("6846524790b14a7c"),r=e("69eb0f28238e9173").filter,s=e("d404a3c06ca3bb3e"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(e){var t=r(a(this),e,arguments.length>1?arguments[1]:void 0);return s(this,t)})},{"6846524790b14a7c":"b6692","69eb0f28238e9173":"daQdc",d404a3c06ca3bb3e:"1lBSP"}],"1lBSP":[function(e,t,i){var n=e("b597c909ed514557"),r=e("671cb65500632ecc").getTypedArrayConstructor;t.exports=function(e,t){return n(r(e),t)}},{b597c909ed514557:"5QV4b","671cb65500632ecc":"b6692"}],e8hfX:[function(e,t,i){var n=e("2ee42d54019723d0"),r=e("f74f952feb3fa9ac").find,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"2ee42d54019723d0":"b6692",f74f952feb3fa9ac:"daQdc"}],"2kMmr":[function(e,t,i){var n=e("8a1e1a9ff0bdb479"),r=e("faaa2d0f518f9401").findIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"8a1e1a9ff0bdb479":"b6692",faaa2d0f518f9401:"daQdc"}],"212MV":[function(e,t,i){var n=e("1d1b09a81097f4c9"),r=e("e815e97cf844ecb").findLast,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"1d1b09a81097f4c9":"b6692",e815e97cf844ecb:"cyWXz"}],"9AC43":[function(e,t,i){var n=e("de1e827bc87ccb28"),r=e("1d3fb19f3f3cea6a").findLastIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{de1e827bc87ccb28:"b6692","1d3fb19f3f3cea6a":"cyWXz"}],aqoug:[function(e,t,i){var n=e("905afd384f4e3de6"),r=e("d55109422f6a63d3").forEach,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(e){r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"905afd384f4e3de6":"b6692",d55109422f6a63d3:"daQdc"}],iuJoY:[function(e,t,i){var n=e("e24f9b87534e32a3");(0,e("9358eeabcbb18f49").exportTypedArrayStaticMethod)("from",e("49819eabcb3ccea1"),n)},{e24f9b87534e32a3:"5UnGw","9358eeabcbb18f49":"b6692","49819eabcb3ccea1":"2HI7b"}],czX8g:[function(e,t,i){var n=e("7cf07194bf630e10"),r=e("6783fff4c8e274ff").includes,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"7cf07194bf630e10":"b6692","6783fff4c8e274ff":"7HT32"}],"9XxKn":[function(e,t,i){var n=e("19c9cea2a3392f92"),r=e("728bfde1b6b9fa8c").indexOf,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"19c9cea2a3392f92":"b6692","728bfde1b6b9fa8c":"7HT32"}],"7aRDd":[function(e,t,i){var n=e("3da36adbfe4f1c5e"),r=e("87513a57210d794"),s=e("ab6b74db00db51f7"),a=e("21e9ae10aded4ff7"),o=e("fe81c4288afbe8ee"),h=e("ddb435c2e5bdfda1")("iterator"),c=n.Uint8Array,l=s(o.values),u=s(o.keys),d=s(o.entries),f=a.aTypedArray,p=a.exportTypedArrayMethod,g=c&&c.prototype,m=!r(function(){g[h].call([1])}),v=!!g&&g.values&&g[h]===g.values&&"values"===g.values.name,y=function(){return l(f(this))};p("entries",function(){return d(f(this))},m),p("keys",function(){return u(f(this))},m),p("values",y,m||!v,{name:"values"}),p(h,y,m||!v,{name:"values"})},{"3da36adbfe4f1c5e":"7Z171","87513a57210d794":"cXVrS",ab6b74db00db51f7:"2iJ57","21e9ae10aded4ff7":"b6692",fe81c4288afbe8ee:"3prNk",ddb435c2e5bdfda1:"5CuF7"}],k5Rlo:[function(e,t,i){var n=e("4a1cb40dad4dd1ac"),r=e("68cfb4a8ab57e7b8"),s=n.aTypedArray,a=n.exportTypedArrayMethod,o=r([].join);a("join",function(e){return o(s(this),e)})},{"4a1cb40dad4dd1ac":"b6692","68cfb4a8ab57e7b8":"2iJ57"}],f3FBF:[function(e,t,i){var n=e("83d52c5c09010d50"),r=e("a5b16a6fc92268b4"),s=e("9b20398976dd53df"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(e){var t=arguments.length;return r(s,a(this),t>1?[e,arguments[1]]:[e])})},{"83d52c5c09010d50":"b6692",a5b16a6fc92268b4:"2fjXG","9b20398976dd53df":"cfsWk"}],"4ZhIs":[function(e,t,i){var n=e("47e7bb602930e61a"),r=e("8e0cd2bb3fe997bb").map,s=n.aTypedArray,a=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(a(e))(t)})})},{"47e7bb602930e61a":"b6692","8e0cd2bb3fe997bb":"daQdc"}],"9uG4h":[function(e,t,i){var n=e("8205d0df207de27c"),r=e("ff4c68a63e37d828"),s=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",function(){for(var e=0,t=arguments.length,i=new(s(this))(t);t>e;)i[e]=arguments[e++];return i},r)},{"8205d0df207de27c":"b6692",ff4c68a63e37d828:"5UnGw"}],ccgrY:[function(e,t,i){var n=e("44c8794ad6be555f"),r=e("1163c739252ce603").left,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(e){var t=arguments.length;return r(s(this),e,t,t>1?arguments[1]:void 0)})},{"44c8794ad6be555f":"b6692","1163c739252ce603":"dEdT1"}],dESGS:[function(e,t,i){var n=e("b70766ffaffbfa51"),r=e("5f58f990e3d5d551").right,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(e){var t=arguments.length;return r(s(this),e,t,t>1?arguments[1]:void 0)})},{b70766ffaffbfa51:"b6692","5f58f990e3d5d551":"dEdT1"}],"7G7OX":[function(e,t,i){var n=e("2692a9613069388b"),r=n.aTypedArray,s=n.exportTypedArrayMethod,a=Math.floor;s("reverse",function(){for(var e,t=r(this).length,i=a(t/2),n=0;n<i;)e=this[n],this[n++]=this[--t],this[t]=e;return this})},{"2692a9613069388b":"b6692"}],lGF1i:[function(e,t,i){var n=e("3c4f43e566ab7632"),r=e("8bf28e9cdb4b51e7"),s=e("3cf762b146f90585"),a=e("16f38bcdf8d74421"),o=e("4a9c5a15d77842f8"),h=e("e57503c492a0d3da"),c=e("52b307bfea7391a"),l=n.RangeError,u=n.Int8Array,d=u&&u.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!c(function(){var e=new Uint8ClampedArray(2);return r(f,e,{length:1,0:3},1),3!==e[1]}),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c(function(){var e=new u(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]});g("set",function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),i=h(e);if(m)return r(f,this,i,t);var n=this.length,s=a(i),c=0;if(s+t>n)throw new l("Wrong length");for(;c<s;)this[t+c]=i[c++]},!m||v)},{"3c4f43e566ab7632":"7Z171","8bf28e9cdb4b51e7":"bOssl","3cf762b146f90585":"b6692","16f38bcdf8d74421":"kHSes","4a9c5a15d77842f8":"cm44u",e57503c492a0d3da:"6oQEu","52b307bfea7391a":"cXVrS"}],"6biAe":[function(e,t,i){var n=e("d8cf74b619b99d16"),r=e("cde6d683247bdb44"),s=e("a6442c63e141a126"),a=n.aTypedArray,o=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("slice",function(e,t){for(var i=s(a(this),e,t),n=o(this),r=0,h=i.length,c=new n(h);h>r;)c[r]=i[r++];return c},r(function(){new Int8Array(1).slice()}))},{d8cf74b619b99d16:"b6692",cde6d683247bdb44:"cXVrS",a6442c63e141a126:"eO8Ta"}],"8qlqb":[function(e,t,i){var n=e("78c3191738d81c4d"),r=e("b1ba67becb59f503").some,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)})},{"78c3191738d81c4d":"b6692",b1ba67becb59f503:"daQdc"}],lGQwY:[function(e,t,i){var n=e("1319b11c96d7a212"),r=e("443f315e07e91c29"),s=e("8dc6cee8a97e45cb"),a=e("d6c4034c4939c7d5"),o=e("f3e3e1c809574ce3"),h=e("cab25e21cd947849"),c=e("c53adf7878431ec6"),l=e("90728397db1428a3"),u=e("c20e84b46e983c4f"),d=e("8b919df81d7fcf47"),f=h.aTypedArray,p=h.exportTypedArrayMethod,g=n.Uint16Array,m=g&&r(g.prototype.sort),v=!!m&&!(s(function(){m(new g(2),null)})&&s(function(){m(new g(2),{})})),y=!!m&&!s(function(){if(u)return u<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,i=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,n[e]=e-2*t+3;for(m(i,function(e,t){return(e/4|0)-(t/4|0)}),e=0;e<516;e++)if(i[e]!==n[e])return!0});p("sort",function(e){return(void 0!==e&&a(e),y)?m(this,e):o(f(this),function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i})},!y||v)},{"1319b11c96d7a212":"7Z171","443f315e07e91c29":"c4z5p","8dc6cee8a97e45cb":"cXVrS",d6c4034c4939c7d5:"alrlv",f3e3e1c809574ce3:"5Mqp3",cab25e21cd947849:"b6692",c53adf7878431ec6:"inWxb","90728397db1428a3":"5I4FT",c20e84b46e983c4f:"co76c","8b919df81d7fcf47":"1CWLZ"}],"5EgJz":[function(e,t,i){var n=e("d3219a9d813dfae3"),r=e("815a66ab54718368"),s=e("576f4ad682879893"),a=n.aTypedArray,o=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("subarray",function(e,t){var i=a(this),n=i.length,h=s(e,n);return new(o(i))(i.buffer,i.byteOffset+h*i.BYTES_PER_ELEMENT,r((void 0===t?n:s(t,n))-h))})},{d3219a9d813dfae3:"b6692","815a66ab54718368":"lQsU7","576f4ad682879893":"47gaI"}],hUSBX:[function(e,t,i){var n=e("d23c9dad2cb3d012"),r=e("961a14c04c94ca8e"),s=e("aa830556bb66a52b"),a=e("1477df799d469d0c"),o=e("6bdde3bff05f534b"),h=n.Int8Array,c=s.aTypedArray,l=s.exportTypedArrayMethod,u=[].toLocaleString,d=!!h&&a(function(){u.call(new h(1))});l("toLocaleString",function(){return r(u,d?o(c(this)):c(this),o(arguments))},a(function(){return[1,2].toLocaleString()!==new h([1,2]).toLocaleString()})||!a(function(){h.prototype.toLocaleString.call([1,2])}))},{d23c9dad2cb3d012:"7Z171","961a14c04c94ca8e":"2fjXG",aa830556bb66a52b:"b6692","1477df799d469d0c":"cXVrS","6bdde3bff05f534b":"eO8Ta"}],bN7du:[function(e,t,i){var n=e("aee14a288ff10704"),r=e("77f370038a7e7dac"),s=r.aTypedArray,a=r.exportTypedArrayMethod,o=r.getTypedArrayConstructor;a("toReversed",function(){return n(s(this),o(this))})},{aee14a288ff10704:"2dsKr","77f370038a7e7dac":"b6692"}],accWj:[function(e,t,i){var n=e("7a241707bf041790"),r=e("ab9301a002e94347"),s=e("e1b15c081f5438dc"),a=e("50268bbb02cbbbc4"),o=n.aTypedArray,h=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=r(n.TypedArrayPrototype.sort);c("toSorted",function(e){void 0!==e&&s(e);var t=o(this);return l(a(h(t),t),e)})},{"7a241707bf041790":"b6692",ab9301a002e94347:"2iJ57",e1b15c081f5438dc:"alrlv","50268bbb02cbbbc4":"5QV4b"}],"8zMXu":[function(e,t,i){var n=e("ba1ad98ce5955ae6").exportTypedArrayMethod,r=e("7fb7589d87925c0e"),s=e("9ae1b5b748ef0512"),a=e("9d0cad3ff385c8e1"),o=s.Uint8Array,h=o&&o.prototype||{},c=[].toString,l=a([].join);r(function(){c.call({})})&&(c=function(){return l(this)});var u=h.toString!==c;n("toString",c,u)},{ba1ad98ce5955ae6:"b6692","7fb7589d87925c0e":"cXVrS","9ae1b5b748ef0512":"7Z171","9d0cad3ff385c8e1":"2iJ57"}],bwjPE:[function(e,t,i){var n=e("5428fa832663517b"),r=e("472f91950b838d4c"),s=e("cd9beaafe2ae7a70"),a=e("b4b145cf5a7fc46d"),o=e("3cca7f61fa3b5db7"),h=r.aTypedArray,c=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("with",{with:function(e,t){var i=h(this),r=a(e),l=s(i)?o(t):+t;return n(i,c(i),r,l)}}.with,!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}())},{"5428fa832663517b":"ebcI0","472f91950b838d4c":"b6692",cd9beaafe2ae7a70:"7TPqP",b4b145cf5a7fc46d:"gAgUH","3cca7f61fa3b5db7":"hYKQy"}],"4AZtq":[function(e,t,i){var n=e("b25f2dc62f86f185"),r=e("f98894072ee354c2"),s=e("e8f3df77e99ec93e"),a=String.fromCharCode,o=r("".charAt),h=r(/./.exec),c=r("".slice),l=/^[\da-f]{2}$/i,u=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(e){for(var t,i,n=s(e),r="",d=n.length,f=0;f<d;){if("%"===(t=o(n,f++))){if("u"===o(n,f)){if(h(u,i=c(n,f+1,f+5))){r+=a(parseInt(i,16)),f+=5;continue}}else if(h(l,i=c(n,f,f+2))){r+=a(parseInt(i,16)),f+=2;continue}}r+=t}return r}})},{b25f2dc62f86f185:"gJg5v",f98894072ee354c2:"2iJ57",e8f3df77e99ec93e:"4x6uB"}],"8EnX5":[function(e,t,i){e("a8c1e25017437d")},{a8c1e25017437d:"63r2F"}],"63r2F":[function(e,t,i){var n,r=e("4e60997043599c68"),s=e("5341adea83e89c0c"),a=e("182f989a492de7c6"),o=e("b41734fbe20d8ad4"),h=e("78ba01528267d962"),c=e("32fff688dc79e50c"),l=e("b362d8e7ff41644e"),u=e("40b9e3e73f50872d"),d=e("e46a6ca6b98d61d0").enforce,f=e("878a9525b93f8113"),p=e("2163c9ee83b27dfc"),g=Object,m=Array.isArray,v=g.isExtensible,y=g.isFrozen,b=g.isSealed,x=g.freeze,E=g.seal,w=!s.ActiveXObject&&"ActiveXObject"in s,T=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},S=c("WeakMap",T,l),A=S.prototype,C=a(A.set);if(p){if(w){n=l.getConstructor(T,"WeakMap",!0),h.enable();var _=a(A.delete),I=a(A.has),O=a(A.get);o(A,{delete:function(e){if(u(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new n),_(this,e)||t.frozen.delete(e)}return _(this,e)},has:function(e){if(u(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new n),I(this,e)||t.frozen.has(e)}return I(this,e)},get:function(e){if(u(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new n),I(this,e)?O(this,e):t.frozen.get(e)}return O(this,e)},set:function(e,t){if(u(e)&&!v(e)){var i=d(this);i.frozen||(i.frozen=new n),I(this,e)?C(this,e,t):i.frozen.set(e,t)}else C(this,e,t);return this}})}else r&&f(function(){var e=x([]);return C(new S,e,1),!y(e)})&&o(A,{set:function(e,t){var i;return m(e)&&(y(e)?i=x:b(e)&&(i=E)),C(this,e,t),i&&i(e),this}})}},{"4e60997043599c68":"cPqlV","5341adea83e89c0c":"7Z171","182f989a492de7c6":"2iJ57",b41734fbe20d8ad4:"43JWW","78ba01528267d962":"3Q1Z8","32fff688dc79e50c":"02S2F",b362d8e7ff41644e:"glWLm","40b9e3e73f50872d":"8mxCV",e46a6ca6b98d61d0:"ixHS2","878a9525b93f8113":"cXVrS","2163c9ee83b27dfc":"lIC7p"}],glWLm:[function(e,t,i){var n=e("1805cb6220d706e7"),r=e("5263c73c3566f1ef"),s=e("9764e89aab31dc9a").getWeakData,a=e("e632c1106cb00cea"),o=e("602fe1299f06e16c"),h=e("bfb5a8bfdc9265b1"),c=e("211f42379f0813a"),l=e("830bf4bd7bf8261c"),u=e("ffaf20b85e78d82f"),d=e("cef0026b9b05e2"),f=e("96b7fea7b9fcfa28"),p=f.set,g=f.getterFor,m=u.find,v=u.findIndex,y=n([].splice),b=0,x=function(e){return e.frozen||(e.frozen=new E)},E=function(){this.entries=[]},w=function(e,t){return m(e.entries,function(e){return e[0]===t})};E.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var i=w(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,function(t){return t[0]===e});return~t&&y(this.entries,t,1),!!~t}},t.exports={getConstructor:function(e,t,i,n){var u=e(function(e,r){a(e,f),p(e,{type:t,id:b++,frozen:null}),h(r)||l(r,e[n],{that:e,AS_ENTRIES:i})}),f=u.prototype,m=g(t),v=function(e,t,i){var n=m(e),r=s(o(t),!0);return!0===r?x(n).set(t,i):r[n.id]=i,e};return r(f,{delete:function(e){var t=m(this);if(!c(e))return!1;var i=s(e);return!0===i?x(t).delete(e):i&&d(i,t.id)&&delete i[t.id]},has:function(e){var t=m(this);if(!c(e))return!1;var i=s(e);return!0===i?x(t).has(e):i&&d(i,t.id)}}),r(f,i?{get:function(e){var t=m(this);if(c(e)){var i=s(e);if(!0===i)return x(t).get(e);if(i)return i[t.id]}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),u}}},{"1805cb6220d706e7":"2iJ57","5263c73c3566f1ef":"43JWW","9764e89aab31dc9a":"3Q1Z8",e632c1106cb00cea:"95yA1","602fe1299f06e16c":"dPzbI",bfb5a8bfdc9265b1:"8AxCV","211f42379f0813a":"8mxCV","830bf4bd7bf8261c":"dCEHX",ffaf20b85e78d82f:"daQdc",cef0026b9b05e2:"9JWVX","96b7fea7b9fcfa28":"ixHS2"}],"4Puey":[function(e,t,i){e("12401c27bcb73ff5")},{"12401c27bcb73ff5":"6Sbxy"}],"6Sbxy":[function(e,t,i){e("bb905240cfe53967")("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},e("3bcac50549cb5487"))},{bb905240cfe53967:"02S2F","3bcac50549cb5487":"glWLm"}],jxrdF:[function(e,t,i){var n=e("f57c57075be2f036"),r=e("1beb501bad2a77ab"),s=e("54160fb760cf47b6"),a=e("b8fdd5e59791f323"),o=e("2b6100c225ada6"),h=e("fb00c1d39c9bf14c"),c=e("93407030a6bacce1"),l=e("48ccfe93995f906"),u=e("bed47900de2f9889").c2i,d=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,p=/[=]{1,2}$/,g=s("atob"),m=String.fromCharCode,v=a("".charAt),y=a("".replace),b=a(d.exec),x=!!g&&!h(function(){return"hi"!==g("aGk=")}),E=x&&h(function(){return""!==g(" ")}),w=x&&!h(function(){g("a")}),T=x&&!h(function(){g()}),S=x&&1!==g.length;n({global:!0,bind:!0,enumerable:!0,forced:!x||E||w||T||S},{atob:function(e){if(l(arguments.length,1),x&&!E&&!w)return o(g,r,e);var t,i,n,a=y(c(e),f,""),h="",T=0,S=0;if(a.length%4==0&&(a=y(a,p,"")),(t=a.length)%4==1||b(d,a))throw new(s("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;T<t;)i=v(a,T++),n=S%4?64*n+u[i]:u[i],S++%4&&(h+=m(255&n>>(-2*S&6)));return h}})},{f57c57075be2f036:"gJg5v","1beb501bad2a77ab":"7Z171","54160fb760cf47b6":"e5ie6",b8fdd5e59791f323:"2iJ57","2b6100c225ada6":"bOssl",fb00c1d39c9bf14c:"cXVrS","93407030a6bacce1":"4x6uB","48ccfe93995f906":"h3DcZ",bed47900de2f9889:"jseHN"}],jseHN:[function(e,t,i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n+"+/",s=n+"-_",a=function(e){for(var t={},i=0;i<64;i++)t[e.charAt(i)]=i;return t};t.exports={i2c:r,c2i:a(r),i2cUrl:s,c2iUrl:a(s)}},{}],jwPXF:[function(e,t,i){var n=e("ff535db334027cb3"),r=e("d2af88b3a42b7d50"),s=e("a166328697ff9969"),a=e("ccb7079059953540"),o=e("5424850d1e2e873d"),h=e("61b2b23f28dc6ce7"),c=e("48ec8439e6a9901c"),l=e("96982b02e51db61c"),u=e("e084452184a62fe5").i2c,d=s("btoa"),f=a("".charAt),p=a("".charCodeAt),g=!!d&&!h(function(){return"aGk="!==d("hi")}),m=g&&!h(function(){d()}),v=g&&h(function(){return"bnVsbA=="!==d(null)}),y=g&&1!==d.length;n({global:!0,bind:!0,enumerable:!0,forced:!g||m||v||y},{btoa:function(e){if(l(arguments.length,1),g)return o(d,r,c(e));for(var t,i,n=c(e),a="",h=0,m=u;f(n,h)||(m="=",h%1);){if((i=p(n,h+=3/4))>255)throw new(s("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a+=f(m,63&(t=t<<8|i)>>8-h%1*8)}return a}})},{ff535db334027cb3:"gJg5v",d2af88b3a42b7d50:"7Z171",a166328697ff9969:"e5ie6",ccb7079059953540:"2iJ57","5424850d1e2e873d":"bOssl","61b2b23f28dc6ce7":"cXVrS","48ec8439e6a9901c":"4x6uB","96982b02e51db61c":"h3DcZ",e084452184a62fe5:"jseHN"}],khTY5:[function(e,t,i){var n=e("f2983879ab6ef4f"),r=e("74a037ab8118876"),s=e("a3359ffcd052df79"),a=e("9e6862fbf1bc54d2"),o=e("833a1c6e8a10b1ff"),h=function(e){if(e&&e.forEach!==a)try{o(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in r)r[c]&&h(n[c]&&n[c].prototype);h(s)},{f2983879ab6ef4f:"7Z171","74a037ab8118876":"1xZhu",a3359ffcd052df79:"fVoiV","9e6862fbf1bc54d2":"4w3Nn","833a1c6e8a10b1ff":"gKM90"}],"1xZhu":[function(e,t,i){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],fVoiV:[function(e,t,i){var n=e("a6fc44eba1875331")("span").classList,r=n&&n.constructor&&n.constructor.prototype;t.exports=r===Object.prototype?void 0:r},{a6fc44eba1875331:"SppDD"}],a2DYE:[function(e,t,i){var n=e("c051336c9ece485c"),r=e("b1dd6223fec045b2"),s=e("2927608065790e8a"),a=e("107ef5eaf95c92b0"),o=e("2f02b421bbdb9eb4"),h=e("46e3db6eb678f758"),c=e("6a4d2091548e6557")("iterator"),l=a.values,u=function(e,t){if(e){if(e[c]!==l)try{o(e,c,l)}catch(t){e[c]=l}if(h(e,t,!0),r[t]){for(var i in a)if(e[i]!==a[i])try{o(e,i,a[i])}catch(t){e[i]=a[i]}}}};for(var d in r)u(n[d]&&n[d].prototype,d);u(s,"DOMTokenList")},{c051336c9ece485c:"7Z171",b1dd6223fec045b2:"1xZhu","2927608065790e8a":"fVoiV","107ef5eaf95c92b0":"3prNk","2f02b421bbdb9eb4":"gKM90","46e3db6eb678f758":"dkhk9","6a4d2091548e6557":"5CuF7"}],"6bhjG":[function(e,t,i){var n=e("3d0510e49183901c"),r=e("63b7b93fc4a7238a"),s=e("1c5b62f756d3eaff"),a=e("eb1c50ea6315321b"),o=e("4ca71918e5a2016a"),h=e("c21d001acfae7cd"),c=e("75fac16725379a32").f,l=e("b34fbc760b0520d4"),u=e("ed9170165790e778"),d=e("f6f97990397d9c00"),f=e("9b1e92218f8d993"),p=e("fdfe3ed8e9adb72c"),g=e("9c0ec21dd5e9a70b"),m=e("5a4b6c79c088bdfe"),v=e("b32d1eeacf68845c"),y=e("8ef37a97ffa6fa2e"),b=e("fc770dee153f9182"),x=e("617636ad1c3548bd"),E=e("391d43a74d1595a0"),w="DOMException",T="DATA_CLONE_ERR",S=r("Error"),A=r(w)||function(){try{new(r("MessageChannel")||s("worker_threads").MessageChannel)().port1.postMessage(new WeakMap)}catch(e){if(e.name===T&&25===e.code)return e.constructor}}(),C=A&&A.prototype,_=S.prototype,I=b.set,O=b.getterFor(w),P="stack"in new S(w),M=function(e){return d(v,e)&&v[e].m?v[e].c:0},R=function(){f(this,L);var e=arguments.length,t=m(e<1?void 0:arguments[0]),i=m(e<2?void 0:arguments[1],"Error"),n=M(i);if(I(this,{type:w,name:i,message:t,code:n}),x||(this.name=i,this.message=t,this.code=n),P){var r=new S(t);r.name=w,c(this,"stack",h(1,y(r.stack,1)))}},L=R.prototype=o(_),D=function(e){return{enumerable:!0,configurable:!0,get:e}},k=function(e){return D(function(){return O(this)[e]})};x&&(u(L,"code",k("code")),u(L,"message",k("message")),u(L,"name",k("name"))),c(L,"constructor",h(1,R));var N=a(function(){return!(new A instanceof S)}),F=N||a(function(){return _.toString!==g||"2: 1"!==String(new A(1,2))}),B=N||a(function(){return 25!==new A(1,"DataCloneError").code}),U=N||25!==A[T]||25!==C[T],V=E?F||B||U:N;n({global:!0,constructor:!0,forced:V},{DOMException:V?R:A});var G=r(w),j=G.prototype;for(var W in F&&(E||A===G)&&l(j,"toString",g),B&&x&&A===G&&u(j,"code",D(function(){return M(p(this).name)})),v)if(d(v,W)){var Y=v[W],H=Y.s,z=h(6,Y.c);d(G,H)||c(G,H,z),d(j,H)||c(j,H,z)}},{"3d0510e49183901c":"gJg5v","63b7b93fc4a7238a":"e5ie6","1c5b62f756d3eaff":"fjtLr",eb1c50ea6315321b:"cXVrS","4ca71918e5a2016a":"7isQ3",c21d001acfae7cd:"5toj2","75fac16725379a32":"hvqCQ",b34fbc760b0520d4:"4CPdc",ed9170165790e778:"3NI4M",f6f97990397d9c00:"9JWVX","9b1e92218f8d993":"95yA1",fdfe3ed8e9adb72c:"dPzbI","9c0ec21dd5e9a70b":"9hDDf","5a4b6c79c088bdfe":"dwhvK",b32d1eeacf68845c:"I3hyF","8ef37a97ffa6fa2e":"7dart",fc770dee153f9182:"ixHS2","617636ad1c3548bd":"6mXK1","391d43a74d1595a0":"jHRGA"}],I3hyF:[function(e,t,i){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},{}],fJnNi:[function(e,t,i){var n=e("5538d4aa2e26797c"),r=e("15f622cde07e3e8f"),s=e("6dca64203ef6b4d1"),a=e("30cb5b59df4e77c6"),o=e("64c91a24ef31e303").f,h=e("a56ea2d80c8496ae"),c=e("e54ce0361d637752"),l=e("5e15de01309c5057"),u=e("fccd891af3c8103d"),d=e("2db1f0a6b3bd6dfd"),f=e("176edbe2885d9f01"),p=e("3f4d27281e93627e"),g=e("95f892709744ad29"),m="DOMException",v=s("Error"),y=s(m),b=function(){c(this,x);var e=arguments.length,t=u(e<1?void 0:arguments[0]),i=u(e<2?void 0:arguments[1],"Error"),n=new y(t,i),r=new v(t);return r.name=m,o(n,"stack",a(1,f(r.stack,1))),l(n,this,b),n},x=b.prototype=y.prototype,E="stack"in new v(m),w="stack"in new y(1,2),T=y&&p&&Object.getOwnPropertyDescriptor(r,m),S=!!T&&!(T.writable&&T.configurable),A=E&&!S&&!w;n({global:!0,constructor:!0,forced:g||A},{DOMException:A?b:y});var C=s(m),_=C.prototype;if(_.constructor!==C){for(var I in g||o(_,"constructor",a(1,C)),d)if(h(d,I)){var O=d[I],P=O.s;h(C,P)||o(C,P,a(6,O.c))}}},{"5538d4aa2e26797c":"gJg5v","15f622cde07e3e8f":"7Z171","6dca64203ef6b4d1":"e5ie6","30cb5b59df4e77c6":"5toj2","64c91a24ef31e303":"hvqCQ",a56ea2d80c8496ae:"9JWVX",e54ce0361d637752:"95yA1","5e15de01309c5057":"30not",fccd891af3c8103d:"dwhvK","2db1f0a6b3bd6dfd":"I3hyF","176edbe2885d9f01":"7dart","3f4d27281e93627e":"6mXK1","95f892709744ad29":"jHRGA"}],"4teOf":[function(e,t,i){var n=e("db380432183a20e4"),r=e("9f1a1fb33df853f"),s="DOMException";r(n(s),s)},{db380432183a20e4:"e5ie6","9f1a1fb33df853f":"dkhk9"}],lCP8o:[function(e,t,i){e("52e9b3eefbbce1ed"),e("292fa64716f5b39e")},{"52e9b3eefbbce1ed":"idFPB","292fa64716f5b39e":"1nu2V"}],idFPB:[function(e,t,i){var n=e("79389288a80b279c"),r=e("e4d64249a0133d14"),s=e("84ba5ca62b8b14c9").clear;n({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==s},{clearImmediate:s})},{"79389288a80b279c":"gJg5v",e4d64249a0133d14:"7Z171","84ba5ca62b8b14c9":"iEUCI"}],"1nu2V":[function(e,t,i){var n=e("33581c362196ed1f"),r=e("503bb555249cad41"),s=e("4219ce460223bd08").set,a=e("738dc378e6a94c64"),o=r.setImmediate?a(s,!1):s;n({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==o},{setImmediate:o})},{"33581c362196ed1f":"gJg5v","503bb555249cad41":"7Z171","4219ce460223bd08":"iEUCI","738dc378e6a94c64":"LAeE1"}],LAeE1:[function(e,t,i){var n,r=e("aa6765693e58a0fe"),s=e("a68ecfcbf29c46f6"),a=e("7087588d33667af2"),o=e("864edee099e8affb"),h=e("3a3a5a2cfab86f21"),c=e("cff2c830bdea4f24"),l=e("58a74f00cee1ac64"),u=r.Function,d=/MSIE .\./.test(h)||"BUN"===o&&((n=r.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(e,t){var i=t?2:1;return d?function(n,r){var o=l(arguments.length,1)>i,h=a(n)?n:u(n),d=o?c(arguments,i):[],f=o?function(){s(h,this,d)}:h;return t?e(f,r):e(f)}:e}},{aa6765693e58a0fe:"7Z171",a68ecfcbf29c46f6:"2fjXG","7087588d33667af2":"h1Wnr","864edee099e8affb":"ah0ZS","3a3a5a2cfab86f21":"5hj4U",cff2c830bdea4f24:"eO8Ta","58a74f00cee1ac64":"h3DcZ"}],"1mZsz":[function(e,t,i){var n=e("6f7278673cd963e5"),r=e("4f851b5e5b332d48"),s=e("b80db4539abf09d9"),a=e("889c274f5e23b39"),o=e("15983ab5c2fbc059"),h=e("c36112b7edfed618"),c=e("74b26aee0ae17038");n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:h(function(){return c&&1!==Object.getOwnPropertyDescriptor(r,"queueMicrotask").value.length})},{queueMicrotask:function(e){o(arguments.length,1),s(a(e))}})},{"6f7278673cd963e5":"gJg5v","4f851b5e5b332d48":"7Z171",b80db4539abf09d9:"fhIs0","889c274f5e23b39":"alrlv","15983ab5c2fbc059":"h3DcZ",c36112b7edfed618:"cXVrS","74b26aee0ae17038":"6mXK1"}],f5KUv:[function(e,t,i){var n=e("9a97a510092b7d72"),r=e("bfbbd7ba4e233a15"),s=e("dadc1a7ad6bec203"),a=e("8d7f4453ff13e12d"),o=TypeError,h=Object.defineProperty,c=r.self!==r;try{if(a){var l=Object.getOwnPropertyDescriptor(r,"self");!c&&l&&l.get&&l.enumerable||s(r,"self",{get:function(){return r},set:function(e){if(this!==r)throw new o("Illegal invocation");h(r,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:c},{self:r})}catch(e){}},{"9a97a510092b7d72":"gJg5v",bfbbd7ba4e233a15:"7Z171",dadc1a7ad6bec203:"3NI4M","8d7f4453ff13e12d":"6mXK1"}],kONpx:[function(e,t,i){var n=e("46a94df747165a08"),r=e("3e04e2f4e7f87918"),s=e("6e1ac61205678af6"),a=e("c95079dcb9321b5f"),o=e("b30c4be405e55cd1"),h=e("d2759cd31961ec5f"),c=e("b28324366ed35694"),l=e("51b2af7ff9e786d2"),u=e("dbc30081dcfdeb22"),d=e("88e551d63448111"),f=e("748c1e7b84b5d0b6"),p=e("9b6dd1d113f04b93"),g=e("5236c862010bd4cc"),m=e("47c7a4ba5ff3ba9"),v=e("ea5539f8b43d1a17"),y=e("64004e8c5f5d0ef3"),b=e("9971f98ded0a259"),x=e("66bbcc11f1e948a"),E=e("a9cdcd120539bbe8"),w=e("be347fa71d60a5eb"),T=e("4868328f7e546c6"),S=e("1e6645abd1a2b421"),A=e("d0363fc9d9cfdd8c"),C=e("3275f5da850ac759"),_=e("3feae2e57ec01a12"),I=e("9575a353cf8e050f"),O=e("a675c54ae6442127"),P=s.Object,M=s.Array,R=s.Date,L=s.Error,D=s.TypeError,k=s.PerformanceMark,N=a("DOMException"),F=S.Map,B=S.has,U=S.get,V=S.set,G=A.Set,j=A.add,W=A.has,Y=a("Object","keys"),H=o([].push),z=o((!0).valueOf),X=o(1..valueOf),K=o("".valueOf),q=o(R.prototype.getTime),J=c("structuredClone"),$="DataCloneError",Q="Transferring",Z=function(e){return!h(function(){var t=new s.Set([7]),i=e(t),n=e(P(7));return i===t||!i.has(7)||!f(n)||7!=+n})&&e},ee=function(e,t){return!h(function(){var i=new t,n=e({a:i,b:i});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===i.stack)})},et=s.structuredClone,ei=n||!ee(et,L)||!ee(et,N)||!!h(function(){var e=et(new s.AggregateError([1],J,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==J||3!==e.cause}),en=!et&&Z(function(e){return new k(J,{detail:e}).detail}),er=Z(et)||en,es=function(e){throw new N("Uncloneable type: "+e,$)},ea=function(e,t){throw new N((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",$)},eo=function(e,t){return er||ea(t),er(e)},eh=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null},ec=function(e,t,i){if(B(t,e))return U(t,e);if("SharedArrayBuffer"===(i||v(e)))n=er?er(e):e;else{var n,r,a,o,h,c,u=s.DataView;u||l(e.slice)||ea("ArrayBuffer");try{if(l(e.slice)&&!e.resizable)n=e.slice(0);else for(c=0,r=e.byteLength,a=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,n=new ArrayBuffer(r,a),o=new u(e),h=new u(n);c<r;c++)h.setUint8(c,o.getUint8(c))}catch(e){throw new N("ArrayBuffer is detached",$)}}return V(t,e,n),n},el=function(e,t,i,n,r){var a=s[t];return f(a)||ea(t),new a(ec(e.buffer,r),i,n)},eu=function(e,t){if(p(e)&&es("Symbol"),!f(e))return e;if(t){if(B(t,e))return U(t,e)}else t=new F;var i,n,r,o,h,c,u,d,g=v(e);switch(g){case"Array":r=M(E(e));break;case"Object":r={};break;case"Map":r=new F;break;case"Set":r=new G;break;case"RegExp":r=new RegExp(e.source,T(e));break;case"Error":switch(n=e.name){case"AggregateError":r=new(a(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":r=new(a(n));break;case"CompileError":case"LinkError":case"RuntimeError":r=new(a("WebAssembly",n));break;default:r=new L}break;case"DOMException":r=new N(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":r=ec(e,t,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===g?e.byteLength:e.length,r=el(e,g,e.byteOffset,c,t);break;case"DOMQuad":try{r=new DOMQuad(eu(e.p1,t),eu(e.p2,t),eu(e.p3,t),eu(e.p4,t))}catch(t){r=eo(e,g)}break;case"File":if(er)try{r=er(e),v(r)!==g&&(r=void 0)}catch(e){}if(!r)try{r=new File([e],e.name,e)}catch(e){}r||ea(g);break;case"FileList":if(o=eh()){for(h=0,c=E(e);h<c;h++)o.items.add(eu(e[h],t));r=o.files}else r=eo(e,g);break;case"ImageData":try{r=new ImageData(eu(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){r=eo(e,g)}break;default:if(er)r=er(e);else switch(g){case"BigInt":r=P(e.valueOf());break;case"Boolean":r=P(z(e));break;case"Number":r=P(X(e));break;case"String":r=P(K(e));break;case"Date":r=new R(q(e));break;case"Blob":try{r=e.slice(0,e.size,e.type)}catch(e){ea(g)}break;case"DOMPoint":case"DOMPointReadOnly":i=s[g];try{r=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(e){ea(g)}break;case"DOMRect":case"DOMRectReadOnly":i=s[g];try{r=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(e){ea(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=s[g];try{r=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(e){ea(g)}break;case"AudioData":case"VideoFrame":l(e.clone)||ea(g);try{r=e.clone()}catch(e){es(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ea(g);default:es(g)}}switch(V(t,e,r),g){case"Array":case"Object":for(h=0,c=E(u=Y(e));h<c;h++)d=u[h],b(r,d,eu(e[d],t));break;case"Map":e.forEach(function(e,i){V(r,eu(i,t),eu(e,t))});break;case"Set":e.forEach(function(e){j(r,eu(e,t))});break;case"Error":x(r,"message",eu(e.message,t)),y(e,"cause")&&x(r,"cause",eu(e.cause,t)),"AggregateError"===n?r.errors=eu(e.errors,t):"SuppressedError"===n&&(r.error=eu(e.error,t),r.suppressed=eu(e.suppressed,t));case"DOMException":I&&x(r,"stack",eu(e.stack,t))}return r},ed=function(e,t){if(!f(e))throw new D("Transfer option cannot be converted to a sequence");var i,n,r,a,o,h=[];g(e,function(e){H(h,m(e))});for(var c=0,d=E(h),p=new G;c<d;){if("ArrayBuffer"===(n=v(i=h[c++]))?W(p,i):B(t,i))throw new N("Duplicate transferable",$);if("ArrayBuffer"===n){j(p,i);continue}if(O)a=et(i,{transfer:[i]});else switch(n){case"ImageBitmap":u(r=s.OffscreenCanvas)||ea(n,Q);try{(o=new r(i.width,i.height)).getContext("bitmaprenderer").transferFromImageBitmap(i),a=o.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":l(i.clone)&&l(i.close)||ea(n,Q);try{a=i.clone(),i.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":ea(n,Q)}if(void 0===a)throw new N("This object cannot be transferred: "+n,$);V(t,i,a)}return p},ef=function(e){C(e,function(e){O?er(e,{transfer:[e]}):l(e.transfer)?e.transfer():_?_(e):ea("ArrayBuffer",Q)})};r({global:!0,enumerable:!0,sham:!O,forced:ei},{structuredClone:function(e){var t,i,n=w(arguments.length,1)>1&&!d(arguments[1])?m(arguments[1]):void 0,r=n?n.transfer:void 0;void 0!==r&&(i=ed(r,t=new F));var s=eu(e,t);return i&&ef(i),s}})},{"46a94df747165a08":"jHRGA","3e04e2f4e7f87918":"gJg5v","6e1ac61205678af6":"7Z171",c95079dcb9321b5f:"e5ie6",b30c4be405e55cd1:"2iJ57",d2759cd31961ec5f:"cXVrS",b28324366ed35694:"55cC0","51b2af7ff9e786d2":"h1Wnr",dbc30081dcfdeb22:"eytEI","88e551d63448111":"8AxCV","748c1e7b84b5d0b6":"8mxCV","9b6dd1d113f04b93":"2ZU2p","5236c862010bd4cc":"dCEHX","47c7a4ba5ff3ba9":"dPzbI",ea5539f8b43d1a17:"cRCRk","64004e8c5f5d0ef3":"9JWVX","9971f98ded0a259":"SVTZV","66bbcc11f1e948a":"gKM90",a9cdcd120539bbe8:"kHSes",be347fa71d60a5eb:"h3DcZ","4868328f7e546c6":"iG8db","1e6645abd1a2b421":"fY40v",d0363fc9d9cfdd8c:"aKtSD","3275f5da850ac759":"dSeD9","3feae2e57ec01a12":"edpRG","9575a353cf8e050f":"3Scc5",a675c54ae6442127:"2emOi"}],h5L1l:[function(e,t,i){e("9453fdd92aad151a"),e("c303d63f9a1c5be5")},{"9453fdd92aad151a":"98PJR",c303d63f9a1c5be5:"ydvxy"}],"98PJR":[function(e,t,i){var n=e("a9d1c09227b9596"),r=e("8f238f56192273e4"),s=e("87cb4ec54c39341e")(r.setInterval,!0);n({global:!0,bind:!0,forced:r.setInterval!==s},{setInterval:s})},{a9d1c09227b9596:"gJg5v","8f238f56192273e4":"7Z171","87cb4ec54c39341e":"LAeE1"}],ydvxy:[function(e,t,i){var n=e("6060be99991be48a"),r=e("f9d851aba3178e79"),s=e("ae4294be5adb39a1")(r.setTimeout,!0);n({global:!0,bind:!0,forced:r.setTimeout!==s},{setTimeout:s})},{"6060be99991be48a":"gJg5v",f9d851aba3178e79:"7Z171",ae4294be5adb39a1:"LAeE1"}],"4J9Kt":[function(e,t,i){e("99544a7edcd747a5")},{"99544a7edcd747a5":"7XU3f"}],"7XU3f":[function(e,t,i){e("19928ff2abfc3536");var n,r=e("d446e2097c7c2b23"),s=e("cd0458003d61a323"),a=e("592c96d240ad401c"),o=e("2e7550752ce99b71"),h=e("c128b8cb3e38a436"),c=e("9ee66bece60e18c5"),l=e("763c39a8b521ff54"),u=e("1c9277bbea264bc7"),d=e("f0dd676601f7cb0b"),f=e("deee7b2fe3c1e96f"),p=e("ff3437c5b86d6c26"),g=e("3c2f033d1a197fd6"),m=e("9fdfccae2d327739"),v=e("8ba5b2695179827").codeAt,y=e("23751b8f28dcd37"),b=e("5f808b1954b24403"),x=e("f969f30083a50975"),E=e("b15c5243fe0e0f6"),w=e("e8b262dfe3e4c989"),T=e("9a3ca045fbb43248"),S=T.set,A=T.getterFor("URL"),C=w.URLSearchParams,_=w.getState,I=o.URL,O=o.TypeError,P=o.parseInt,M=Math.floor,R=Math.pow,L=c("".charAt),D=c(/./.exec),k=c([].join),N=c(1..toString),F=c([].pop),B=c([].push),U=c("".replace),V=c([].shift),G=c("".split),j=c("".slice),W=c("".toLowerCase),Y=c([].unshift),H="Invalid scheme",z="Invalid host",X="Invalid port",K=/[a-z]/i,q=/[\d+-.a-z]/i,J=/\d/,$=/^0x/i,Q=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ei=/[\0\t\n\r #/:<>?@[\\\]^|]/,en=/^[\u0000-\u0020]+/,er=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,es=/[\t\n\r]/g,ea=function(e){var t,i,n,r,s,a,o,h=G(e,".");if(h.length&&""===h[h.length-1]&&h.length--,(t=h.length)>4)return e;for(n=0,i=[];n<t;n++){if(""===(r=h[n]))return e;if(s=10,r.length>1&&"0"===L(r,0)&&(s=D($,r)?16:8,r=j(r,8===s?1:2)),""===r)a=0;else{if(!D(10===s?Z:8===s?Q:ee,r))return e;a=P(r,s)}B(i,a)}for(n=0;n<t;n++)if(a=i[n],n===t-1){if(a>=R(256,5-t))return null}else if(a>255)return null;for(n=0,o=F(i);n<i.length;n++)o+=i[n]*R(256,3-n);return o},eo=function(e){var t,i,n,r,s,a,o,h=[0,0,0,0,0,0,0,0],c=0,l=null,u=0,d=function(){return L(e,u)};if(":"===d()){if(":"!==L(e,1))return;u+=2,l=++c}for(;d();){if(8===c)return;if(":"===d()){if(null!==l)return;u++,l=++c;continue}for(t=i=0;i<4&&D(ee,d());)t=16*t+P(d(),16),u++,i++;if("."===d()){if(0===i||(u-=i,c>6))return;for(n=0;d();){if(r=null,n>0){if("."!==d()||!(n<4))return;u++}if(!D(J,d()))return;for(;D(J,d());){if(s=P(d(),10),null===r)r=s;else{if(0===r)return;r=10*r+s}if(r>255)return;u++}h[c]=256*h[c]+r,(2==++n||4===n)&&c++}if(4!==n)return;break}if(":"===d()){if(u++,!d())return}else if(d())return;h[c++]=t}if(null!==l)for(a=c-l,c=7;0!==c&&a>0;)o=h[c],h[c--]=h[l+a-1],h[l+--a]=o;else if(8!==c)return;return h},eh=function(e){for(var t=null,i=1,n=null,r=0,s=0;s<8;s++)0!==e[s]?(r>i&&(t=n,i=r),n=null,r=0):(null===n&&(n=s),++r);return r>i?n:t},ec=function(e){var t,i,n,r;if("number"==typeof e){for(i=0,t=[];i<4;i++)Y(t,e%256),e=M(e/256);return k(t,".")}if("object"==typeof e){for(i=0,t="",n=eh(e);i<8;i++)(!r||0!==e[i])&&(r&&(r=!1),n===i?(t+=i?":":"::",r=!0):(t+=N(e[i],16),i<7&&(t+=":")));return"["+t+"]"}return e},el={},eu=p({},el,{" ":1,'"':1,"<":1,">":1,"`":1}),ed=p({},eu,{"#":1,"?":1,"{":1,"}":1}),ef=p({},ed,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ep=function(e,t){var i=v(e,0);return i>32&&i<127&&!f(t,e)?e:encodeURIComponent(e)},eg={ftp:21,file:null,http:80,https:443,ws:80,wss:443},em=function(e,t){var i;return 2===e.length&&D(K,L(e,0))&&(":"===(i=L(e,1))||!t&&"|"===i)},ev=function(e){var t;return e.length>1&&em(j(e,0,2))&&(2===e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},ey={},eb={},ex={},eE={},ew={},eT={},eS={},eA={},eC={},e_={},eI={},eO={},eP={},eM={},eR={},eL={},eD={},ek={},eN={},eF={},eB={},eU=function(e,t,i){var n,r,s,a=b(e);if(t){if(r=this.parse(a))throw new O(r);this.searchParams=null}else{if(void 0!==i&&(n=new eU(i,!0)),r=this.parse(a,null,n))throw new O(r);(s=_(new C)).bindURL(this),this.searchParams=s}};eU.prototype={type:"URL",parse:function(e,t,i){var r=t||ey,s=0,a="",o=!1,h=!1,c=!1;for(e=b(e),t||(this.scheme="",this.username="",this.password="",this.host=null,this.port=null,this.path=[],this.query=null,this.fragment=null,this.cannotBeABaseURL=!1,e=U(e,en,""),e=U(e,er,"$1")),l=g(e=U(e,es,""));s<=l.length;){switch(u=l[s],r){case ey:if(u&&D(K,u))a+=W(u),r=eb;else{if(t)return H;r=ex;continue}break;case eb:if(u&&(D(q,u)||"+"===u||"-"===u||"."===u))a+=W(u);else if(":"===u){if(t&&(this.isSpecial()!==f(eg,a)||"file"===a&&(this.includesCredentials()||null!==this.port)||"file"===this.scheme&&!this.host))return;if(this.scheme=a,t){this.isSpecial()&&eg[this.scheme]===this.port&&(this.port=null);return}a="","file"===this.scheme?r=eM:this.isSpecial()&&i&&i.scheme===this.scheme?r=eE:this.isSpecial()?r=eA:"/"===l[s+1]?(r=ew,s++):(this.cannotBeABaseURL=!0,B(this.path,""),r=eN)}else{if(t)return H;a="",r=ex,s=0;continue}break;case ex:if(!i||i.cannotBeABaseURL&&"#"!==u)return H;if(i.cannotBeABaseURL&&"#"===u){this.scheme=i.scheme,this.path=m(i.path),this.query=i.query,this.fragment="",this.cannotBeABaseURL=!0,r=eB;break}r="file"===i.scheme?eM:eT;continue;case eE:if("/"===u&&"/"===l[s+1])r=eC,s++;else{r=eT;continue}break;case ew:if("/"===u){r=e_;break}r=ek;continue;case eT:if(this.scheme=i.scheme,u===n)this.username=i.username,this.password=i.password,this.host=i.host,this.port=i.port,this.path=m(i.path),this.query=i.query;else if("/"===u||"\\"===u&&this.isSpecial())r=eS;else if("?"===u)this.username=i.username,this.password=i.password,this.host=i.host,this.port=i.port,this.path=m(i.path),this.query="",r=eF;else if("#"===u)this.username=i.username,this.password=i.password,this.host=i.host,this.port=i.port,this.path=m(i.path),this.query=i.query,this.fragment="",r=eB;else{this.username=i.username,this.password=i.password,this.host=i.host,this.port=i.port,this.path=m(i.path),this.path.length--,r=ek;continue}break;case eS:if(this.isSpecial()&&("/"===u||"\\"===u))r=eC;else if("/"===u)r=e_;else{this.username=i.username,this.password=i.password,this.host=i.host,this.port=i.port,r=ek;continue}break;case eA:if(r=eC,"/"!==u||"/"!==L(a,s+1))continue;s++;break;case eC:if("/"!==u&&"\\"!==u){r=e_;continue}break;case e_:if("@"===u){o&&(a="%40"+a),o=!0,d=g(a);for(var l,u,d,p,v,y,x=0;x<d.length;x++){var E=d[x];if(":"===E&&!c){c=!0;continue}var w=ep(E,ef);c?this.password+=w:this.username+=w}a=""}else if(u===n||"/"===u||"?"===u||"#"===u||"\\"===u&&this.isSpecial()){if(o&&""===a)return"Invalid authority";s-=g(a).length+1,a="",r=eI}else a+=u;break;case eI:case eO:if(t&&"file"===this.scheme){r=eL;continue}if(":"!==u||h){if(u===n||"/"===u||"?"===u||"#"===u||"\\"===u&&this.isSpecial()){if(this.isSpecial()&&""===a)return z;if(t&&""===a&&(this.includesCredentials()||null!==this.port))return;if(p=this.parseHost(a))return p;if(a="",r=eD,t)return;continue}"["===u?h=!0:"]"===u&&(h=!1),a+=u}else{if(""===a)return z;if(p=this.parseHost(a))return p;if(a="",r=eP,t===eO)return}break;case eP:if(D(J,u))a+=u;else{if(!(u===n||"/"===u||"?"===u||"#"===u||"\\"===u&&this.isSpecial())&&!t)return X;if(""!==a){var T=P(a,10);if(T>65535)return X;this.port=this.isSpecial()&&T===eg[this.scheme]?null:T,a=""}if(t)return;r=eD;continue}break;case eM:if(this.scheme="file","/"===u||"\\"===u)r=eR;else if(i&&"file"===i.scheme)switch(u){case n:this.host=i.host,this.path=m(i.path),this.query=i.query;break;case"?":this.host=i.host,this.path=m(i.path),this.query="",r=eF;break;case"#":this.host=i.host,this.path=m(i.path),this.query=i.query,this.fragment="",r=eB;break;default:ev(k(m(l,s),""))||(this.host=i.host,this.path=m(i.path),this.shortenPath()),r=ek;continue}else{r=ek;continue}break;case eR:if("/"===u||"\\"===u){r=eL;break}i&&"file"===i.scheme&&!ev(k(m(l,s),""))&&(em(i.path[0],!0)?B(this.path,i.path[0]):this.host=i.host),r=ek;continue;case eL:if(u===n||"/"===u||"\\"===u||"?"===u||"#"===u){if(!t&&em(a))r=ek;else if(""===a){if(this.host="",t)return;r=eD}else{if(p=this.parseHost(a))return p;if("localhost"===this.host&&(this.host=""),t)return;a="",r=eD}continue}a+=u;break;case eD:if(this.isSpecial()){if(r=ek,"/"!==u&&"\\"!==u)continue}else if(t||"?"!==u){if(t||"#"!==u){if(u!==n&&(r=ek,"/"!==u))continue}else this.fragment="",r=eB}else this.query="",r=eF;break;case ek:if(u===n||"/"===u||"\\"===u&&this.isSpecial()||!t&&("?"===u||"#"===u)){if(".."===(v=W(v=a))||"%2e."===v||".%2e"===v||"%2e%2e"===v?(this.shortenPath(),"/"===u||"\\"===u&&this.isSpecial()||B(this.path,"")):"."===(y=a)||"%2e"===W(y)?"/"===u||"\\"===u&&this.isSpecial()||B(this.path,""):("file"===this.scheme&&!this.path.length&&em(a)&&(this.host&&(this.host=""),a=L(a,0)+":"),B(this.path,a)),a="","file"===this.scheme&&(u===n||"?"===u||"#"===u))for(;this.path.length>1&&""===this.path[0];)V(this.path);"?"===u?(this.query="",r=eF):"#"===u&&(this.fragment="",r=eB)}else a+=ep(u,ed);break;case eN:"?"===u?(this.query="",r=eF):"#"===u?(this.fragment="",r=eB):u!==n&&(this.path[0]+=ep(u,el));break;case eF:t||"#"!==u?u!==n&&("'"===u&&this.isSpecial()?this.query+="%27":"#"===u?this.query+="%23":this.query+=ep(u,el)):(this.fragment="",r=eB);break;case eB:u!==n&&(this.fragment+=ep(u,eu))}s++}},parseHost:function(e){var t,i,n;if("["===L(e,0)){if("]"!==L(e,e.length-1)||!(t=eo(j(e,1,-1))))return z;this.host=t}else if(this.isSpecial()){if(D(et,e=y(e))||null===(t=ea(e)))return z;this.host=t}else{if(D(ei,e))return z;for(n=0,t="",i=g(e);n<i.length;n++)t+=ep(i[n],el);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(eg,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&("file"!==this.scheme||1!==t||!em(e[0],!0))&&e.length--},serialize:function(){var e=this.scheme,t=this.username,i=this.password,n=this.host,r=this.port,s=this.path,a=this.query,o=this.fragment,h=e+":";return null!==n?(h+="//",this.includesCredentials()&&(h+=t+(i?":"+i:"")+"@"),h+=ec(n),null!==r&&(h+=":"+r)):"file"===e&&(h+="//"),h+=this.cannotBeABaseURL?s[0]:s.length?"/"+k(s,"/"):"",null!==a&&(h+="?"+a),null!==o&&(h+="#"+o),h},setHref:function(e){var t=this.parse(e);if(t)throw new O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new eV(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ec(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ey)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<t.length;i++)this.username+=ep(t[i],ef)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<t.length;i++)this.password+=ep(t[i],ef)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ec(e):ec(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,eI)},getHostname:function(){var e=this.host;return null===e?"":ec(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,eO)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,eP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+k(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,eD))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===L(e,0)&&(e=j(e,1)),this.query="",this.parse(e,eF)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(""===(e=b(e))){this.fragment=null;return}"#"===L(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,eB)},update:function(){this.query=this.searchParams.serialize()||null}};var eV=function(e){var t=d(this,eG),i=E(arguments.length,1)>1?arguments[1]:void 0,n=S(t,new eU(e,!1,i));s||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},eG=eV.prototype,ej=function(e,t){return{get:function(){return A(this)[e]()},set:t&&function(e){return A(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(u(eG,"href",ej("serialize","setHref")),u(eG,"origin",ej("getOrigin")),u(eG,"protocol",ej("getProtocol","setProtocol")),u(eG,"username",ej("getUsername","setUsername")),u(eG,"password",ej("getPassword","setPassword")),u(eG,"host",ej("getHost","setHost")),u(eG,"hostname",ej("getHostname","setHostname")),u(eG,"port",ej("getPort","setPort")),u(eG,"pathname",ej("getPathname","setPathname")),u(eG,"search",ej("getSearch","setSearch")),u(eG,"searchParams",ej("getSearchParams")),u(eG,"hash",ej("getHash","setHash"))),l(eG,"toJSON",function(){return A(this).serialize()},{enumerable:!0}),l(eG,"toString",function(){return A(this).serialize()},{enumerable:!0}),I){var eW=I.createObjectURL,eY=I.revokeObjectURL;eW&&l(eV,"createObjectURL",h(eW,I)),eY&&l(eV,"revokeObjectURL",h(eY,I))}x(eV,"URL"),r({global:!0,constructor:!0,forced:!a,sham:!s},{URL:eV})},{"19928ff2abfc3536":"i2qFG",d446e2097c7c2b23:"gJg5v",cd0458003d61a323:"6mXK1","592c96d240ad401c":"azO8L","2e7550752ce99b71":"7Z171",c128b8cb3e38a436:"f1CxE","9ee66bece60e18c5":"2iJ57","763c39a8b521ff54":"4CPdc","1c9277bbea264bc7":"3NI4M",f0dd676601f7cb0b:"95yA1",deee7b2fe3c1e96f:"9JWVX",ff3437c5b86d6c26:"cKgWo","3c2f033d1a197fd6":"lrrJd","9fdfccae2d327739":"eO8Ta","8ba5b2695179827":"fVu0j","23751b8f28dcd37":"lUDfY","5f808b1954b24403":"4x6uB",f969f30083a50975:"dkhk9",b15c5243fe0e0f6:"h3DcZ",e8b262dfe3e4c989:"dIaqI","9a3ca045fbb43248":"ixHS2"}],azO8L:[function(e,t,i){var n=e("b638e4b55492b349"),r=e("d3a18943af316a4c"),s=e("f39eaf2672eb61e1"),a=e("f816319c57ebd10b"),o=r("iterator");t.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(e,i){t.delete("b"),n+=i+e}),i.delete("a",2),i.delete("b",void 0),a&&(!e.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!t.size&&(a||!s)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host})},{b638e4b55492b349:"cXVrS",d3a18943af316a4c:"5CuF7",f39eaf2672eb61e1:"6mXK1",f816319c57ebd10b:"jHRGA"}],lUDfY:[function(e,t,i){var n=e("5fc1d380e4ee310c"),r=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=RangeError,h=n(s.exec),c=Math.floor,l=String.fromCharCode,u=n("".charCodeAt),d=n([].join),f=n([].push),p=n("".replace),g=n("".split),m=n("".toLowerCase),v=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=u(e,i++);if(r>=55296&&r<=56319&&i<n){var s=u(e,i++);(64512&s)==56320?f(t,((1023&r)<<10)+(1023&s)+65536):(f(t,r),i--)}else f(t,r)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,i){var n=0;for(e=i?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),n+=36;return c(n+36*e/(e+38))},x=function(e){var t,i,n=[],r=(e=v(e)).length,s=128,h=0,u=72;for(t=0;t<e.length;t++)(i=e[t])<128&&f(n,l(i));var p=n.length,g=p;for(p&&f(n,"-");g<r;){var m=2147483647;for(t=0;t<e.length;t++)(i=e[t])>=s&&i<m&&(m=i);var x=g+1;if(m-s>c((2147483647-h)/x))throw new o(a);for(h+=(m-s)*x,s=m,t=0;t<e.length;t++){if((i=e[t])<s&&++h>2147483647)throw new o(a);if(i===s){for(var E=h,w=36;;){var T=w<=u?1:w>=u+26?26:w-u;if(E<T)break;var S=E-T,A=36-T;f(n,l(y(T+S%A))),E=c(S/A),w+=36}f(n,l(y(E))),u=b(h,x,g===p),h=0,g++}}h++,s++}return d(n,"")};t.exports=function(e){var t,i,n=[],a=g(p(m(e),s,"."),".");for(t=0;t<a.length;t++)f(n,h(r,i=a[t])?"xn--"+x(i):i);return d(n,".")}},{"5fc1d380e4ee310c":"2iJ57"}],dIaqI:[function(e,t,i){e("12e7a75121005a18"),e("aed1dbd908154980");var n=e("2c283453b2df07f7"),r=e("f8300b17f61c07ea"),s=e("c6afc8e42ff4d861"),a=e("c5226e6ac6c1a4ca"),o=e("c70bfc3d71513918"),h=e("a30c0c0ecacbf883"),c=e("9dc980ea97e54f2d"),l=e("34e5e214071de9f5"),u=e("d5c866a8dfde6bfe"),d=e("cfb67c7a1a4f1af9"),f=e("f0c2290e210049d5"),p=e("c7a2f88a5440a541"),g=e("fb2d9f4ac91c2856"),m=e("5e8fcf76ef17aca5"),v=e("486653683495e4a1"),y=e("34563d35f35f9929"),b=e("b866aa0bde936df4"),x=e("b5970b9126e1d395"),E=e("71cd06e9ca4a93a2"),w=e("7e16c364467ce62d"),T=e("9a0912d2261bbada"),S=e("9d062cdf188403bf"),A=e("1caa2aad22025751"),C=e("bf766970034bde82"),_=e("c6d4d2a85cdef35a"),I=e("6668155f748c33e9"),O=e("982e5845e606dff7"),P=e("9a407fe1b80ba6f5"),M=e("778323e4214f089d"),R=e("83b87fb1800baf72"),L=M("iterator"),D="URLSearchParams",k=D+"Iterator",N=m.set,F=m.getterFor(D),B=m.getterFor(k),U=s("fetch"),V=s("Request"),G=s("Headers"),j=V&&V.prototype,W=G&&G.prototype,Y=r.TypeError,H=r.encodeURIComponent,z=String.fromCharCode,X=a("String","fromCodePoint"),K=parseInt,q=h("".charAt),J=h([].join),$=h([].push),Q=h("".replace),Z=h([].shift),ee=h([].splice),et=h("".split),ei=h("".slice),en=h(/./.exec),er=/\+/g,es=/^[0-9a-f]+$/i,ea=function(e,t){var i=ei(e,t,t+2);return en(es,i)?K(i,16):NaN},eo=function(e){for(var t=0,i=128;i>0&&(e&i)!=0;i>>=1)t++;return t},eh=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},ec=function(e){for(var t=(e=Q(e,er," ")).length,i="",n=0;n<t;){var r=q(e,n);if("%"===r){if("%"===q(e,n+1)||n+3>t){i+="%",n++;continue}var s=ea(e,n+1);if(s!=s){i+=r,n++;continue}n+=2;var a=eo(s);if(0===a)r=z(s);else{if(1===a||a>4){i+="�",n++;continue}for(var o=[s],h=1;h<a&&!(++n+3>t)&&"%"===q(e,n);){var c=ea(e,n+1);if(c!=c){n+=3;break}if(c>191||c<128)break;$(o,c),n+=2,h++}if(o.length!==a){i+="�";continue}var l=eh(o);null===l?i+="�":r=X(l)}}i+=r,n++}return i},el=/[!'()~]|%20/g,eu={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ed=function(e){return eu[e]},ef=function(e){return Q(H(e),el,ed)},ep=g(function(e,t){N(this,{type:k,target:F(e).entries,index:0,kind:t})},D,function(){var e=B(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=null,O(void 0,!0);var n=t[i];switch(e.kind){case"keys":return O(n.key,!1);case"values":return O(n.value,!1)}return O([n.key,n.value],!1)},!0),eg=function(e){this.entries=[],this.url=null,void 0!==e&&(T(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?ei(e,1):e:S(e)))};eg.prototype={type:D,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,n,r,s,a,h,c=this.entries,l=I(e);if(l)for(i=(t=_(e,l)).next;!(n=o(i,t)).done;){if((a=o(s=(r=_(w(n.value))).next,r)).done||(h=o(s,r)).done||!o(s,r).done)throw new Y("Expected sequence with length 2");$(c,{key:S(a.value),value:S(h.value)})}else for(var u in e)b(e,u)&&$(c,{key:u,value:S(e[u])})},parseQuery:function(e){if(e)for(var t,i,n=this.entries,r=et(e,"&"),s=0;s<r.length;)(t=r[s++]).length&&$(n,{key:ec(Z(i=et(t,"="))),value:ec(J(i,"="))})},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;)$(i,ef((e=t[n++]).key)+"="+ef(e.value));return J(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var em=function(){v(this,ev);var e=arguments.length>0?arguments[0]:void 0,t=N(this,new eg(e));c||(this.size=t.entries.length)},ev=em.prototype;if(f(ev,{append:function(e,t){var i=F(this);P(arguments.length,2),$(i.entries,{key:S(e),value:S(t)}),!c&&this.length++,i.updateURL()},delete:function(e){for(var t=F(this),i=P(arguments.length,1),n=t.entries,r=S(e),s=i<2?void 0:arguments[1],a=void 0===s?s:S(s),o=0;o<n.length;){var h=n[o];if(h.key===r&&(void 0===a||h.value===a)){if(ee(n,o,1),void 0!==a)break}else o++}c||(this.size=n.length),t.updateURL()},get:function(e){var t=F(this).entries;P(arguments.length,1);for(var i=S(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){var t=F(this).entries;P(arguments.length,1);for(var i=S(e),n=[],r=0;r<t.length;r++)t[r].key===i&&$(n,t[r].value);return n},has:function(e){for(var t=F(this).entries,i=P(arguments.length,1),n=S(e),r=i<2?void 0:arguments[1],s=void 0===r?r:S(r),a=0;a<t.length;){var o=t[a++];if(o.key===n&&(void 0===s||o.value===s))return!0}return!1},set:function(e,t){var i,n=F(this);P(arguments.length,1);for(var r=n.entries,s=!1,a=S(e),o=S(t),h=0;h<r.length;h++)(i=r[h]).key===a&&(s?ee(r,h--,1):(s=!0,i.value=o));s||$(r,{key:a,value:o}),c||(this.size=r.length),n.updateURL()},sort:function(){var e=F(this);R(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,i=F(this).entries,n=x(e,arguments.length>1?arguments[1]:void 0),r=0;r<i.length;)n((t=i[r++]).value,t.key,this)},keys:function(){return new ep(this,"keys")},values:function(){return new ep(this,"values")},entries:function(){return new ep(this,"entries")}},{enumerable:!0}),u(ev,L,ev.entries,{name:"entries"}),u(ev,"toString",function(){return F(this).serialize()},{enumerable:!0}),c&&d(ev,"size",{get:function(){return F(this).entries.length},configurable:!0,enumerable:!0}),p(em,D),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:em}),!l&&y(G)){var ey=h(W.has),eb=h(W.set),ex=function(e){if(T(e)){var t,i=e.body;if(E(i)===D)return ey(t=e.headers?new G(e.headers):new G,"content-type")||eb(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(e,{body:C(0,S(i)),headers:C(0,t)})}return e};if(y(U)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return U(e,arguments.length>1?ex(arguments[1]):{})}}),y(V)){var eE=function(e){return v(this,j),new V(e,arguments.length>1?ex(arguments[1]):{})};j.constructor=eE,eE.prototype=j,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:eE})}}t.exports={URLSearchParams:em,getState:F}},{"12e7a75121005a18":"3prNk",aed1dbd908154980:"dLJLG","2c283453b2df07f7":"gJg5v",f8300b17f61c07ea:"7Z171",c6afc8e42ff4d861:"aXhrH",c5226e6ac6c1a4ca:"e5ie6",c70bfc3d71513918:"bOssl",a30c0c0ecacbf883:"2iJ57","9dc980ea97e54f2d":"6mXK1","34e5e214071de9f5":"azO8L",d5c866a8dfde6bfe:"4CPdc",cfb67c7a1a4f1af9:"3NI4M",f0c2290e210049d5:"43JWW",c7a2f88a5440a541:"dkhk9",fb2d9f4ac91c2856:"1Abii","5e8fcf76ef17aca5":"ixHS2","486653683495e4a1":"95yA1","34563d35f35f9929":"h1Wnr",b866aa0bde936df4:"9JWVX",b5970b9126e1d395:"f1CxE","71cd06e9ca4a93a2":"cRCRk","7e16c364467ce62d":"dPzbI","9a0912d2261bbada":"8mxCV","9d062cdf188403bf":"4x6uB","1caa2aad22025751":"7isQ3",bf766970034bde82:"5toj2",c6d4d2a85cdef35a:"kBMjp","6668155f748c33e9":"3624P","982e5845e606dff7":"dwU83","9a407fe1b80ba6f5":"h3DcZ","778323e4214f089d":"5CuF7","83b87fb1800baf72":"5Mqp3"}],"6WXZj":[function(e,t,i){var n=e("e013012b2638fef2"),r=e("9496ef9db0f82491"),s=e("21b7d0d94de855c8"),a=e("8147b48bed1193b9"),o=e("209fab1bb25c54f1"),h=e("fc6b642936976470"),c=r("URL"),l=h&&s(function(){c.canParse()}),u=s(function(){return 1!==c.canParse.length});n({target:"URL",stat:!0,forced:!l||u},{canParse:function(e){var t=a(arguments.length,1),i=o(e),n=t<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return new c(i,n),!0}catch(e){return!1}}})},{e013012b2638fef2:"gJg5v","9496ef9db0f82491":"e5ie6","21b7d0d94de855c8":"cXVrS","8147b48bed1193b9":"h3DcZ","209fab1bb25c54f1":"4x6uB",fc6b642936976470:"azO8L"}],jUFLb:[function(e,t,i){var n=e("ca194031c7296753"),r=e("349abd465922c360"),s=e("4631d0a34bc5d157"),a=e("aa32995cacd33b44"),o=e("be99ff6f8e610b1"),h=r("URL");n({target:"URL",stat:!0,forced:!o},{parse:function(e){var t=s(arguments.length,1),i=a(e),n=t<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return new h(i,n)}catch(e){return null}}})},{ca194031c7296753:"gJg5v","349abd465922c360":"e5ie6","4631d0a34bc5d157":"h3DcZ",aa32995cacd33b44:"4x6uB",be99ff6f8e610b1:"azO8L"}],fisJQ:[function(e,t,i){var n=e("bfa898e24eaaf3ba"),r=e("f2e0e6e15a74c3f4");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},{bfa898e24eaaf3ba:"gJg5v",f2e0e6e15a74c3f4:"bOssl"}],drhch:[function(e,t,i){e("d31c1e63d588cf96")},{d31c1e63d588cf96:"dIaqI"}],k5k9P:[function(e,t,i){var n=e("5e6ccc0840d93f4d"),r=e("cef48d325e9fb1df"),s=e("669131fee6eafcca"),a=e("1de5920376d9b739"),o=URLSearchParams,h=o.prototype,c=r(h.append),l=r(h.delete),u=r(h.forEach),d=r([].push),f=new o("a=1&a=2&b=3");f.delete("a",1),f.delete("b",void 0),f+""!="a=2"&&n(h,"delete",function(e){var t,i=arguments.length,n=i<2?void 0:arguments[1];if(i&&void 0===n)return l(this,e);var r=[];u(this,function(e,t){d(r,{key:t,value:e})}),a(i,1);for(var o=s(e),h=s(n),f=0,p=0,g=!1,m=r.length;f<m;)t=r[f++],g||t.key===o?(g=!0,l(this,t.key)):p++;for(;p<m;)(t=r[p++]).key===o&&t.value===h||c(this,t.key,t.value)},{enumerable:!0,unsafe:!0})},{"5e6ccc0840d93f4d":"4CPdc",cef48d325e9fb1df:"2iJ57","669131fee6eafcca":"4x6uB","1de5920376d9b739":"h3DcZ"}],eZzIO:[function(e,t,i){var n=e("846e6a6a465eda2c"),r=e("a872c874b5a03eca"),s=e("33bc1e4c3ed39c52"),a=e("f19f0d564c1047bd"),o=URLSearchParams,h=o.prototype,c=r(h.getAll),l=r(h.has),u=new o("a=1");(u.has("a",2)||!u.has("a",void 0))&&n(h,"has",function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return l(this,e);var n=c(this,e);a(t,1);for(var r=s(i),o=0;o<n.length;)if(n[o++]===r)return!0;return!1},{enumerable:!0,unsafe:!0})},{"846e6a6a465eda2c":"4CPdc",a872c874b5a03eca:"2iJ57","33bc1e4c3ed39c52":"4x6uB",f19f0d564c1047bd:"h3DcZ"}],RkUgQ:[function(e,t,i){var n=e("12f474df670119"),r=e("4e0abd277a1d8126"),s=e("9470ae398f726300"),a=URLSearchParams.prototype,o=r(a.forEach);!n||"size"in a||s(a,"size",{get:function(){var e=0;return o(this,function(){e++}),e},configurable:!0,enumerable:!0})},{"12f474df670119":"6mXK1","4e0abd277a1d8126":"2iJ57","9470ae398f726300":"3NI4M"}],ikKUq:[function(e,t,i){var n=function(e){var t,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,i){return e[t]=i}}function l(e,i,n,s){var a,o,h=Object.create((i&&i.prototype instanceof m?i:m).prototype);return r(h,"_invoke",{value:(a=new _(s||[]),o=d,function(i,r){if(o===f)throw Error("Generator is already running");if(o===p){if("throw"===i)throw r;return{value:t,done:!0}}for(a.method=i,a.arg=r;;){var s=a.delegate;if(s){var h=function e(i,n){var r=n.method,s=i.iterator[r];if(s===t)return n.delegate=null,"throw"===r&&i.iterator.return&&(n.method="return",n.arg=t,e(i,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),g;var a=u(s,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,g)}(s,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=f;var c=u(e,n,a);if("normal"===c.type){if(o=a.done?p:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(o=p,a.method="throw",a.arg=c.arg)}})}),h}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="executing",p="completed",g={};function m(){}function v(){}function y(){}var b={};c(b,a,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==i&&n.call(E,a)&&(b=E);var w=y.prototype=m.prototype=Object.create(b);function T(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var i;r(this,"_invoke",{value:function(r,s){function a(){return new t(function(i,a){!function i(r,s,a,o){var h=u(e[r],e,s);if("throw"===h.type)o(h.arg);else{var c=h.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){i("next",e,a,o)},function(e){i("throw",e,a,o)}):t.resolve(l).then(function(e){c.value=e,a(c)},function(e){return i("throw",e,a,o)})}}(r,s,i,a)})}return i=i?i.then(a,a):a()}})}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(null!=e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}throw TypeError(typeof e+" is not iterable")}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,h,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,h,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},T(S.prototype),c(S.prototype,o,function(){return this}),e.AsyncIterator=S,e.async=function(t,i,n,r,s){void 0===s&&(s=Promise);var a=new S(l(t,i,n,r),s);return e.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},T(w),c(w,h,"Generator"),c(w,a,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return o.type="throw",o.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var h=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(h&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(h){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=e,a.arg=t,s)?(this.method="next",this.next=s.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),C(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:I(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(t.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],eDoZE:[function(e,t,i){let{GameClient:n}=e("c0142d4e41395f84"),{GameEngine:r}=e("18a1ed1c4bf17b4d"),{RoomEvents:s}=e("dceef5f4a6a9e8ba"),{ClientStartHandler:a}=e("ec0d66055e408699"),{FeaturesManager:o}=e("7e4eea7c2d38167d"),{FirebaseConnector:h}=e("96ad1970faff6b57"),{ConfigManager:c}=e("f699c89d645cbfaf"),{TranslationsMapper:l}=e("92bd008077187dc5"),u=e("5f809829afd075a"),{GameDom:d}=e("aeb0ac1bb4c645c8"),{RoomsConst:f}=e("b21bf1f3f93cb5d9"),{GameConst:p}=e("f6b922b1a92a11c2"),{ErrorManager:g,EventsManagerSingleton:m,Logger:v,sc:y}=e("33884cbf240ef975");t.exports.GameManager=class{constructor(){this.gameEngine=!1,this.activeRoomEvents=null,this.events=m,this.gameDom=d,this.config=new c;let e=this.gameDom.getWindow()?.reldensInitialConfig||{};y.deepMergeProperties(this.config,e),this.features=new o({gameManager:this,events:this.events}),this.firebase=new h(this),this.joinedRooms={},this.userData={},this.plugins={},this.services={},this.elements={},this.playerData=!1,this.gameOver=!1,this.forcedDisconnection=!1,this.isChangingScene=!1,this.canInitEngine=!0,this.appServerUrl="",this.gameServerUrl="",this.locale="",l.forConfig(this.config.client,u,p.MESSAGE.DATA_VALUES)}setupCustomClientPlugin(e,t){this.plugins[e]=new t,this.plugins[e].setup({gameManager:this,events:this.events})}clientStart(){this.events.emitSync("reldens.clientStartBefore",this),this.startHandler=new a(this),this.startHandler.clientStart()}async startGame(e,t){return(this.events.emitSync("reldens.startGameBefore",this),await this.joinGame(e,t))?(this.handleLoginSuccess(),!0):(this.handleLoginError(e),!1)}handleLoginSuccess(){let e=this.gameDom.getElement(p.SELECTORS.BODY);e.classList.add(p.CLASSES.GAME_STARTED),e.classList.remove(p.CLASSES.GAME_ERROR),this.gameDom.getElement(p.SELECTORS.FORMS_CONTAINER).remove(),this.gameDom.getElement(p.SELECTORS.GAME_CONTAINER).classList.remove(p.CLASSES.HIDDEN),this.events.emitSync("reldens.startGameAfter",this)}handleLoginError(e){let t=this.gameDom.getElement(p.SELECTORS.BODY);t.classList.remove(p.CLASSES.GAME_STARTED),t.classList.add(p.CLASSES.GAME_ERROR),this.submitedForm=!1,this.events.emitSync("reldens.gameRoomError",this),this.firebase&&"firebase-login"===e.formId&&this.firebase.app.auth().signOut()}async joinGame(e,t=!1){return(this.userData={},await this.events.emit("reldens.beforeJoinGame",{gameManager:this,formData:e,isNewUser:t}),this.mapFormDataToUserData(e,t),this.gameRoom=await this.gameClient.joinOrCreate(p.ROOM_GAME,this.userData),this.gameRoom)?(await this.events.emit("reldens.beforeJoinGameRoom",this.gameRoom),this.handleGameRoomMessages(),this.activateResponsiveBehavior(),this.gameRoom):(this.displayFormError("#"+e.formId,this.gameClient.lastErrorMessage),!1)}mapFormDataToUserData(e,t){y.hasOwn(e,"forgot")&&(this.userData.forgot=1,this.userData.email=e.email),this.initializeClient(),e.isGuest&&(this.userData.isGuest=!0,this.userData.isNewUser=!0),t&&(this.userData.isNewUser=!0,this.userData.email=e.email),this.userData.username=e.username,this.userData.password=e.password}handleGameRoomMessages(){this.gameRoom.onMessage("*",async e=>{if(e.error)return v.error("Game Room message error.",e.error),this.displayFormError(p.SELECTORS.PLAYER_CREATE_FORM,e.error),!1;if(p.START_GAME===e.act)return this.initialGameData=e,await this.beforeStartGame();if(p.CREATE_PLAYER_RESULT!==e.act)return!1;this.initialGameData.player=e.player;let t=this.gameDom.getElement(p.SELECTORS.PLAYER_SELECTION);t&&t.classList.add("hidden"),await this.initEngine()})}activateResponsiveBehavior(){this.events.on("reldens.afterSceneDynamicCreate",async()=>{this.config.getWithoutLogs("client/ui/screen/responsive",!0)&&(this.gameEngine.updateGameSize(this),this.gameDom.getWindow().addEventListener("resize",()=>{this.gameEngine.updateGameSize(this)}))})}displayFormError(e,t){let i=this.gameDom.getElement(e+" "+p.SELECTORS.RESPONSE_ERROR);return!!i&&(i.innerHTML=t,!0)}initializeClient(){this.appServerUrl=this.getAppServerUrl(),this.gameServerUrl=this.getGameServerUrl(),this.gameClient=new n(this.gameServerUrl,this.config)}async beforeStartGame(){return await this.events.emit("reldens.beforeInitEngineAndStartGame",this.initialGameData,this),y.hasOwn(this.initialGameData,"gameConfig")||g.error("Missing game configuration."),y.deepMergeProperties(this.config,this.initialGameData?.gameConfig||{}),await this.features.loadFeatures(this.initialGameData?.features||{}),await this.events.emit("reldens.beforeCreateEngine",this.initialGameData,this),!!this.canInitEngine&&await this.initEngine()}async initEngine(){if(this.playerData=this.initialGameData?.player||!1,!this.playerData||!this.playerData.state)return this.gameDom.alertReload(this.services?.translator.t("game.errors.missingPlayerData"));this.userData.selectedPlayer=this.playerData.id;let e=this.initialGameData?.selectedScene||"";this.userData.selectedScene=e;let t=this.initialGameData?.gameConfig||{};this.gameEngine=new r({config:t.client.gameEngine,events:this.events}),this.userData.isNewUser=!1,this.userData.isGuest&&(this.initialGameData?.guestPassword&&(this.userData.password=this.initialGameData.guestPassword),this.initialGameData?.userName&&(this.userData.username=this.initialGameData.userName)),await this.joinFeaturesRooms();let i=""!==e&&e!==f.ROOM_LAST_LOCATION_KEY?e:this.playerData.state.scene;this.playerData.state.scene=i;let n=await this.gameClient.joinOrCreate(i,this.userData);return n?(this.gameDom.getElement(p.SELECTORS.BODY).classList.add(p.CLASSES.GAME_ENGINE_STARTED),delete this.initialGameData.selectedScene,delete this.userData.selectedScene,await this.emitJoinedRoom(n,i),this.activeRoomEvents=this.createRoomEventsInstance(i,this.events),await this.events.emit("reldens.createdRoomsEventsInstance",n,this),await this.activeRoomEvents.activateRoom(n),await this.emitActivatedRoom(n,i),await this.events.emit("reldens.afterInitEngineAndStartGame",this.initialGameData,n),n):this.gameDom.alertReload(this.services?.translator.t("game.errors.joiningRoom",{joinRoomName:i}))}async joinFeaturesRooms(){let e=Object.keys(this.features.featuresList);if(0===e.length)return;let t=[];for(let i of e){let e=this.features.featuresList[i];if(y.hasOwn(e,"joinRooms"))for(let i of e.joinRooms){let e=await this.gameClient.joinOrCreate(i,this.userData);if(!e)return this.gameDom.alertReload(this.services.translator.t("game.errors.joiningFeatureRoom",{joinRoomName:i}));this.joinedRooms[i]=e,await this.emitJoinedRoom(e,i),t.push(i)}}y.deepMergeProperties(this.config,{client:{rooms:{featuresRoomsNames:t}}})}async reconnectGameClient(e,t){this.isChangingScene=!0;let i=this.createRoomEventsInstance(e.player.state.scene);this.gameClient.joinOrCreate(i.roomName,this.userData).then(async n=>{t.leave(),this.activeRoomEvents=i,this.room=n,await this.emitJoinedRoom(n,e.player.state.scene),await i.activateRoom(n,e.prev),await this.emitActivatedRoom(n,e.player.state.scene)}).catch(i=>{v.error("Reconnect Game Client error.",{error:i,message:e,previousRoom:t}),this.gameDom.alertReload(this.services.translator.t("game.errors.reconnectClient"))})}async emitActivatedRoom(e,t){await this.events.emit("reldens.activatedRoom",e,this),await this.events.emit("reldens.activatedRoom_"+t,e,this)}async emitJoinedRoom(e,t){await this.events.emit("reldens.joinedRoom",e,this),await this.events.emit("reldens.joinedRoom_"+t,e,this)}createRoomEventsInstance(e){return new s(e,this)}getAppServerUrl(){return""===this.appServerUrl&&(this.appServerUrl=this.getUrlFromCurrentReferer()),this.appServerUrl}getGameServerUrl(){return""===this.gameServerUrl&&(this.gameServerUrl=this.getUrlFromCurrentReferer(!0)),this.gameServerUrl}getUrlFromCurrentReferer(e=!1){let t=this.gameDom.getWindow().location,i=t.protocol;return e&&(i=0===i.indexOf("https")?"wss:":"ws:"),i+"//"+t.hostname+(t.port?":"+t.port:"")}getActiveScene(){return this.activeRoomEvents.getActiveScene()}getActiveScenePreloader(){let e=this.getActiveScene().key;return this.gameEngine.scene.getScene("ScenePreloader"+e)}getCurrentPlayer(){let e=this.getActiveScene();return!!e&&e.player}currentPlayerName(){let e=this.getCurrentPlayer();return e?e.player_id+" - "+e.playerName:""}getCurrentPlayerAnimation(){let e=this.getCurrentPlayer();return e.players[e.playerId]}getUiElement(e,t=!0){let i=y.get(this.gameEngine,"uiScene",!1);return i?i.getUiElement(e,t):(t&&v.error("UI Scene not defined."),!1)}getFeature(e){let t=this.features.featuresList;return y.hasOwn(t,e)?t[e]:(v.error("Feature key not defined.",e),!1)}getAnimationByKey(e){return this.getActiveScene().getAnimationByKey(e)}}},{c0142d4e41395f84:"44RMi","18a1ed1c4bf17b4d":"fVZ41",dceef5f4a6a9e8ba:"7XAJ0",ec0d66055e408699:"401GU","7e4eea7c2d38167d":"3ZqP5","96ad1970faff6b57":"dkVHA",f699c89d645cbfaf:"6v2bg","92bd008077187dc5":"1fcQw","5f809829afd075a":"CtFH5",aeb0ac1bb4c645c8:"bqEy7",b21bf1f3f93cb5d9:"9vHHC",f6b922b1a92a11c2:"93TbC","33884cbf240ef975":"3lwy5"}],"44RMi":[function(e,t,i){let{Client:n}=e("7318eff88b436af1"),{RoomsConst:r}=e("25de65df7e751073"),{GameConst:s}=e("6f1338761bdf0493"),{Logger:a}=e("c4efa48e92b2f02b");t.exports.GameClient=class{constructor(e,t){this.serverUrl=e,this.config=t,this.autoConnectServerGameRoom=this.config.getWithoutLogs("client/rooms/autoConnectServerGameRoom",!0),this.autoConnectServerFeatureRooms=this.config.getWithoutLogs("client/rooms/autoConnectServerFeatureRooms",!0),this.roomsUrls={},this.roomClients={},this.gameRoomsByServer={},this.featuresByServerFlag={},this.featuresRoomsByServer={},this.lastErrorMessage=""}async joinOrCreate(e,t){this.lastErrorMessage="";try{let i=this.roomClient(e);if(!i)return a.error('Client not found for room name "'+e+'".'),!1;let n=this.roomsUrls[e];return await this.connectToGlobalGameRoom(n,i,t),await this.connectToGlobalFeaturesRooms(n,i,t),await i.joinOrCreate(e,t)}catch(i){if(r.ERRORS.CREATING_ROOM_AWAIT===i.message)return await new Promise(e=>setTimeout(e,500)),await this.joinOrCreate(e,t);this.lastErrorMessage=i.message,a.error("Joining room error: "+i.message)}return!1}async connectToGlobalGameRoom(e,t,i){if(this.autoConnectServerGameRoom){if(""===e||this.serverUrl===e){a.debug("Avoid connect to global game room.",this.serverUrl,e);return}this.gameRoomsByServer[e]||(a.debug("Registering GameRoom for server: "+e),this.gameRoomsByServer[e]=await t.joinOrCreate(s.ROOM_GAME,i),this.gameRoomsByServer[e].onMessage("*",()=>{}))}}async connectToGlobalFeaturesRooms(e,t,i){if(!this.autoConnectServerFeatureRooms)return;if(""===e||this.serverUrl===e){a.debug("Avoid connect to features rooms.",this.serverUrl,e);return}if(this.featuresByServerFlag[e])return;a.debug("Registering features rooms for server: "+e),this.featuresByServerFlag[e]=!0;let n=this.config.getWithoutLogs("client/rooms/featuresRoomsNames",[]);if(!(0<n.length))for(let r of(this.featuresRoomsByServer[e]={},n))this.featuresRoomsByServer[e][r]=await t.joinOrCreate(r,i)}roomClient(e){return this.roomClients[e]||(this.roomsUrls[e]=this.config.getWithoutLogs("client/rooms/servers/"+e,this.serverUrl),a.debug('Creating client with URL "'+this.roomsUrls[e]+'" for room "'+e+'".'),this.roomClients[e]=new n(this.roomsUrls[e])),this.roomClients[e]}}},{"7318eff88b436af1":"3DIaV","25de65df7e751073":"9vHHC","6f1338761bdf0493":"93TbC",c4efa48e92b2f02b:"3lwy5"}],"3DIaV":[function(e,t,i){var n=arguments[3];!function(e){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var t,i,r,s,a,o,h,c,l,u,d,f,p,g=function(e,t){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var v=function(){return(v=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function y(e,t,i,n){return new(i||(i=Promise))(function(r,s){function a(e){try{h(n.next(e))}catch(e){s(e)}}function o(e){try{h(n.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}h((n=n.apply(e,t||[])).next())})}function b(e,t){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(h){return function(o){if(i)throw TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,h])}}}function x(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function E(e,t,i,n,r){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i}(i=h||(h={}))[i.CONSENTED=4e3]="CONSENTED",i[i.DEVMODE_RESTART=4010]="DEVMODE_RESTART";var w=function(e){function t(t,i){var n=e.call(this,i)||this;return n.name="ServerError",n.code=t,n}return m(t,e),t}(Error);function T(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(e))this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength);else throw Error("Invalid argument")}T.prototype._array=function(e){for(var t=Array(e),i=0;i<e;i++)t[i]=this._parse();return t},T.prototype._map=function(e){for(var t={},i=0;i<e;i++)t[this._parse()]=this._parse();return t},T.prototype._str=function(e){var t=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e.getUint8(s);if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e.getUint8(++s));continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e.getUint8(++s))<<6|(63&e.getUint8(++s))<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e.getUint8(++s))<<12|(63&e.getUint8(++s))<<6|(63&e.getUint8(++s))<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}throw Error("Invalid byte "+o.toString(16))}return n}(this._view,this._offset,e);return this._offset+=e,t},T.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},T.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),i=0,n=0,r=0,s=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-((255-t+1)*1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return i=this._view.getUint8(this._offset),this._offset+=1,this._bin(i);case 197:return i=this._view.getUint16(this._offset),this._offset+=2,this._bin(i);case 198:return i=this._view.getUint32(this._offset),this._offset+=4,this._bin(i);case 199:if(i=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,-1===n){var a=this._view.getUint32(this._offset);return r=this._view.getInt32(this._offset+4),s=this._view.getUint32(this._offset+8),this._offset+=12,new Date((4294967296*r+s)*1e3+a/1e6)}return[n,this._bin(i)];case 200:return i=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(i)];case 201:return i=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(i)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return r=4294967296*this._view.getUint32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return r=4294967296*this._view.getInt32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 212:if(n=this._view.getInt8(this._offset),this._offset+=1,0===n){this._offset+=1;return}return[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:if(n=this._view.getInt8(this._offset),this._offset+=1,-1===n)return e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e);return[n,this._bin(4)];case 215:if(n=this._view.getInt8(this._offset),this._offset+=1,0===n)return r=4294967296*this._view.getInt32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(r+s);if(-1===n)return r=this._view.getUint32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*((3&r)*4294967296+s)+(r>>>2)/1e6);return[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return i=this._view.getUint8(this._offset),this._offset+=1,this._str(i);case 218:return i=this._view.getUint16(this._offset),this._offset+=2,this._str(i);case 219:return i=this._view.getUint32(this._offset),this._offset+=4,this._str(i);case 220:return i=this._view.getUint16(this._offset),this._offset+=2,this._array(i);case 221:return i=this._view.getUint32(this._offset),this._offset+=4,this._array(i);case 222:return i=this._view.getUint16(this._offset),this._offset+=2,this._map(i);case 223:return i=this._view.getUint32(this._offset),this._offset+=4,this._map(i)}throw Error("Could not parse")};var S=globalThis.WebSocket||function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},A=function(){function e(e){this.events=e}return e.prototype.send=function(e){e instanceof ArrayBuffer?this.ws.send(e):Array.isArray(e)&&this.ws.send(new Uint8Array(e).buffer)},e.prototype.connect=function(e){this.ws=new S(e,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},e.prototype.close=function(e,t){this.ws.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.ws.readyState===S.OPEN},enumerable:!1,configurable:!0}),e}(),C=function(){function e(){this.events={},this.transport=new A(this.events)}return e.prototype.send=function(e){this.transport.send(e)},e.prototype.connect=function(e){this.transport.connect(e)},e.prototype.close=function(e,t){this.transport.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.transport.isOpen},enumerable:!1,configurable:!0}),e}();function _(e,t){for(var i=e[t++],n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}throw Error("Invalid byte "+o.toString(16))}return n}function I(e){void 0===e&&(e="");for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i+1}e.Protocol=void 0,(r=e.Protocol||(e.Protocol={}))[r.HANDSHAKE=9]="HANDSHAKE",r[r.JOIN_ROOM=10]="JOIN_ROOM",r[r.ERROR=11]="ERROR",r[r.LEAVE_ROOM=12]="LEAVE_ROOM",r[r.ROOM_DATA=13]="ROOM_DATA",r[r.ROOM_STATE=14]="ROOM_STATE",r[r.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",r[r.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",r[r.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES",e.ErrorCode=void 0,(s=e.ErrorCode||(e.ErrorCode={}))[s.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",s[s.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",s[s.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",s[s.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",s[s.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",s[s.AUTH_FAILED=4215]="AUTH_FAILED",s[s.APPLICATION_ERROR=4216]="APPLICATION_ERROR";var O={};function P(e){var t=O[e];if(!t)throw Error("missing serializer: "+e);return t}var M=function(){return{emit:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=this.events[e]||[],r=0,s=n.length;r<s;r++)n[r].apply(n,t)},events:{},on:function(e,t){var i,n=this;return(null===(i=this.events[e])||void 0===i?void 0:i.push(t))||(this.events[e]=[t]),function(){var i;n.events[e]=null===(i=n.events[e])||void 0===i?void 0:i.filter(function(e){return t!==e})}}}},R=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.handlers.forEach(function(i){return i.apply(e,t)})},e.prototype.invokeAsync=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return Promise.all(this.handlers.map(function(i){return i.apply(e,t)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();function L(){var e=new R;function t(t){return e.register(t,this===null)}return t.once=function(t){var i=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.apply(this,n),e.remove(i)};e.register(i)},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n||"undefined"!=typeof self&&self;var D=(t=a={exports:{}},function(e){var t,i,n,r,s,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function h(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function c(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}e.OPERATION=void 0,(t=e.OPERATION||(e.OPERATION={}))[t.ADD=128]="ADD",t[t.REPLACE=0]="REPLACE",t[t.DELETE=64]="DELETE",t[t.DELETE_AND_ADD=192]="DELETE_AND_ADD",t[t.TOUCH=1]="TOUCH",t[t.CLEAR=10]="CLEAR";var l=function(){function t(e,t,i){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,i)}return t.prototype.setParent=function(e,t,i){var n=this;if(this.indexes||(this.indexes=this.ref instanceof eh?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=i,t){if(this.root=t,this.ref instanceof eh){var r=this.ref._definition;for(var s in r.schema){var a=this.ref[s];if(a&&a.$changes){var o=r.indexes[s];a.$changes.setParent(this.ref,t,o)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof eh){var i=e.$changes,r=n.ref.$changes.indexes[t];i.setParent(n.ref,n.root,r)}})}},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,i){void 0===i&&(i=e.OPERATION.ADD);var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t);var r=this.changes.get(n);r&&r.op!==e.OPERATION.DELETE&&r.op!==e.OPERATION.TOUCH||this.changes.set(n,{op:r&&r.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:i,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var i="number"==typeof t?t:this.indexes[t];this.assertValidIndex(i,t),this.changes.has(i)||this.changes.set(i,{op:e.OPERATION.TOUCH,index:i}),this.allChanges.add(i),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition){var t=this.ref._definition;return t.schema[t.fieldsByIndex[e]]}var t=this.parent._definition;return Object.values(t.schema[t.fieldsByIndex[this.parentIndex]])[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var i="number"==typeof t?t:this.indexes[t];if(void 0===i){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(i,")"));return}var n=this.getValue(i);this.changes.set(i,{op:e.OPERATION.DELETE,index:i}),this.allChanges.delete(i),delete this.caches[i],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()},t.prototype.discard=function(t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1),this.ref instanceof eh||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var i=n.ref.getIndex(t.index);delete n.indexes[i]}}),this.changes.clear(),this.changed=t,i&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var i=e.getValue(t.index);i&&i.$changes&&i.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function u(e,t,i,n){return e[t]||(e[t]=[]),e[t].push(i),null==n||n.forEach(function(e,t){return i(e,t)}),function(){return f(e[t],e[t].indexOf(i))}}function d(t){var i=this,n="string"!=typeof this.$changes.getType();this.$items.forEach(function(r,s){t.push({refId:i.$changes.refId,op:e.OPERATION.DELETE,field:s,value:void 0,previousValue:r}),n&&i.$changes.root.removeRef(r.$changes.refId)})}function f(e,t){if(-1===t||t>=e.length)return!1;for(var i=e.length-1,n=t;n<i;n++)e[n]=e[n+1];return e.length=i,!0}var p=function(e,t){var i=e.toString(),n=t.toString();return i<n?-1:i>n?1:0},g=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach(function(i){e=t.$refId++,t.setAt(e,i)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,i){void 0!==i.$changes&&i.$changes.setParent(this,this.$changes.root,t);var n,r,s=null!==(r=null===(n=this.$changes.indexes[t])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,i),this.$changes.change(t,s)},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new(t.bind.apply(t,c([void 0],(e=Array.from(this.$items.values())).concat.apply(e,i),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(i,n){e.setAt(t[n],i)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,i){var n=new t;return n.push.apply(n,Array.from(this.$items.values()).slice(e,i)),n},t.prototype.sort=function(e){var t=this;void 0===e&&(e=p);var i=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,n){t.setAt(i[n],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var i=Array.from(this.$items.keys()),n=[],r=e;r<e+t;r++)n.push(this.$items.get(i[r])),this.$deleteAt(i[r]);return n},t.prototype.unshift=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.length,r=t.length,s=Array.from(this.$items.values());return t.forEach(function(t,i){e.setAt(i,t)}),s.forEach(function(t,i){e.setAt(r+i,t)}),n+r},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,i){throw Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,i){throw Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,c([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,c([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t}(),m=function(){function t(e){var i=this;if(this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e){if(e instanceof Map||e instanceof t)e.forEach(function(e,t){return i.set(t,e)});else for(var n in e)this.set(n,e[n])}}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),t.prototype.set=function(t,i){if(null==i)throw Error("MapSchema#set('".concat(t,"', ").concat(i,"): trying to set ").concat(i," value on '").concat(t,"'."));var n=void 0!==this.$changes.indexes[t],r=n?this.$changes.indexes[t]:this.$refId++,s=n?e.OPERATION.REPLACE:e.OPERATION.ADD,a=void 0!==i.$changes;return a&&i.$changes.setParent(this,this.$changes.root,r),n?a&&this.$items.get(t)!==i&&(s=e.OPERATION.ADD):(this.$changes.indexes[t]=r,this.$indexes.set(r,t)),this.$items.set(t,i),this.$changes.change(t,s),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,i){e[i]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e,t){e.$changes?i.set(t,e.clone()):i.set(t,e)})),i},t}(),v={},y=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var i=new e;return i.schema=Object.assign({},t&&t.schema||{}),i.indexes=Object.assign({},t&&t.indexes||{}),i.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),i.descriptors=Object.assign({},t&&t.descriptors||{}),i.deprecated=Object.assign({},t&&t.deprecated||{}),i},e.prototype.addField=function(e,t){var i=this.getNextFieldIndex();this.fieldsByIndex[i]=e,this.indexes[e]=i,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var i=this.indexes[e];if(v[Object.keys(this.schema[e])[0]])return this.childFilters||(this.childFilters={}),this.childFilters[i]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}(),b=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=y.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(i){return t.context||(t.context=new e),E(i,t)}},e}(),x=new b;function E(e,t){return void 0===t&&(t={}),function(i,n){var r=t.context||x,s=i.constructor;if(s._context=r,!e)throw Error("".concat(s.name,': @type() reference provided for "').concat(n,"\" is undefined. Make sure you don't have any circular dependencies."));r.has(s)||r.add(s);var a=s._definition;if(a.addField(n,e),a.descriptors[n]){if(a.deprecated[n])return;try{throw Error("@colyseus/schema: Duplicate '".concat(n,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var o=e.stack.split("\n")[4].trim();throw Error("".concat(e.message," ").concat(o))}}var h=g.is(e),l=!h&&m.is(e);if("string"!=typeof e&&!eh.is(e)){var u=Object.values(e)[0];"string"==typeof u||r.has(u)||r.add(u)}if(t.manual){a.descriptors[n]={enumerable:!0,configurable:!0,writable:!0};return}var d="_".concat(n);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[n]={get:function(){return this[d]},set:function(e){if(e!==this[d]){if(null!=e){if(!h||e instanceof g||(e=new(g.bind.apply(g,c([void 0],e,!1)))),!l||e instanceof m||(e=new m(e)),void 0===e.$proxy){var t,i;l?((t=e).$proxy=!0,e=t=new Proxy(t,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,i){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,i):e[t]=i,!0},deleteProperty:function(e,t){return e.delete(t),!0}})):h&&((i=e).$proxy=!0,e=i=new Proxy(i,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,i){if("symbol"==typeof t||isNaN(t))e[t]=i;else{var n=parseInt(Array.from(e.$items.keys())[t]||t);null==i?e.deleteAt(n):e.setAt(n,i)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0}}))}this.$changes.change(n),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])}else this[d]&&this.$changes.delete(n);this[d]=e}},enumerable:!0,configurable:!0}}}function w(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e[t++]=n:(n<2048?e[t++]=192|n>>6:(n<55296||n>=57344?e[t++]=224|n>>12:(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e[t++]=240|n>>18,e[t++]=128|n>>12&63),e[t++]=128|n>>6&63),e[t++]=128|63&n)}function T(e,t){e.push(255&t)}function S(e,t){e.push(255&t)}function A(e,t){e.push(255&t),e.push(t>>8&255)}function C(e,t){e.push(255&t),e.push(t>>8&255)}function _(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function I(e,t){e.push(255&t),e.push(255&t>>8),e.push(255&t>>16),e.push(255&t>>24)}function O(e,t){var i=Math.floor(t/4294967296);I(e,t>>>0),I(e,i)}function P(e,t){I(e,t>>>0),I(e,t/4294967296>>0)}var M=new Int32Array(2),R=new Float32Array(M.buffer),L=new Float64Array(M.buffer);function D(e,t){R[0]=t,_(e,M[0])}function k(e,t){L[0]=t,_(e,M[0]),_(e,M[1])}function N(e,t){t||(t="");var i=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(t),n=0;if(i<32)e.push(160|i),n=1;else if(i<256)e.push(217),S(e,i),n=2;else if(i<65536)e.push(218),C(e,i),n=3;else if(i<4294967296)e.push(219),I(e,i),n=5;else throw Error("String too long");return w(e,e.length,t),n+i}function F(e,t){return isNaN(t)?F(e,0):isFinite(t)?t!==(0|t)?(e.push(203),k(e,t),9):t>=0?t<128?(S(e,t),1):t<256?(e.push(204),S(e,t),2):t<65536?(e.push(205),C(e,t),3):t<4294967296?(e.push(206),I(e,t),5):(e.push(207),P(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),T(e,t),2):t>=-32768?(e.push(209),A(e,t),3):t>=-2147483648?(e.push(210),_(e,t),5):(e.push(211),O(e,t),9):F(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var B=Object.freeze({__proto__:null,utf8Write:w,int8:T,uint8:S,int16:A,uint16:C,int32:_,uint32:I,int64:O,uint64:P,float32:function(e,t){D(e,t)},float64:function(e,t){k(e,t)},writeFloat32:D,writeFloat64:k,boolean:function(e,t){return S(e,t?1:0)},string:N,number:F});function U(e,t){return V(e,t)<<24>>24}function V(e,t){return e[t.offset++]}function G(e,t){return j(e,t)<<16>>16}function j(e,t){return e[t.offset++]|e[t.offset++]<<8}function W(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function Y(e,t){return W(e,t)>>>0}function H(e,t){var i=Y(e,t);return 4294967296*W(e,t)+i}function z(e,t){var i=Y(e,t);return 4294967296*Y(e,t)+i}var X=new Int32Array(2),K=new Float32Array(X.buffer),q=new Float64Array(X.buffer);function J(e,t){return X[0]=W(e,t),K[0]}function $(e,t){return X[0]=W(e,t),X[1]=W(e,t),q[0]}function Q(e,t){var i,n=e[t.offset++];n<192?i=31&n:217===n?i=V(e,t):218===n?i=j(e,t):219===n&&(i=Y(e,t));var r=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}console.error("Invalid byte "+o.toString(16))}return n}(e,t.offset,i);return t.offset+=i,r}function Z(e,t){var i=e[t.offset++];if(i<128)return i;if(202===i)return J(e,t);if(203===i)return $(e,t);if(204===i)return V(e,t);if(205===i)return j(e,t);if(206===i)return Y(e,t);if(207===i)return z(e,t);else if(208===i)return U(e,t);else if(209===i)return G(e,t);else if(210===i)return W(e,t);else if(211===i)return H(e,t);else if(i>223)return-((255-i+1)*1)}function ee(e,t){return 255===e[t.offset-1]&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var et=Object.freeze({__proto__:null,int8:U,uint8:V,int16:G,uint16:j,int32:W,uint32:Y,float32:function(e,t){return J(e,t)},float64:function(e,t){return $(e,t)},int64:H,uint64:z,readFloat32:J,readFloat64:$,boolean:function(e,t){return V(e,t)>0},string:Q,stringCheck:function(e,t){var i=e[t.offset];return i<192&&i>160||217===i||218===i||219===i},number:Z,numberCheck:function(e,t){var i=e[t.offset];return i<128||i>=202&&i<=211},arrayCheck:function(e,t){return e[t.offset]<160},switchStructureCheck:ee}),ei=function(){function t(e){var t=this;this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),en=function(){function t(e){var t=this;this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){if(this.has(t))return!1;var i,n,r=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,r);var s=null!==(n=null===(i=this.$changes.indexes[r])||void 0===i?void 0:i.op)&&void 0!==n?n:e.OPERATION.ADD;return this.$changes.indexes[r]=r,this.$indexes.set(r,r),this.$items.set(r,t),this.$changes.change(r,s),r},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,i=this.$items.values(),n=!1;(t=i.next())&&!t.done;)if(e===t.value){n=!0;break}return n},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),er=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),es=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,i){void 0===i&&(i=!0),this.refs.set(e,t),i&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(!(e.refCounts[t]>0)){var i=e.refs.get(t);if(i instanceof eh)for(var n in i._definition.schema)"string"!=typeof i._definition.schema[n]&&i[n]&&i[n].$changes&&e.removeRef(i[n].$changes.refId);else{var r=i.$changes.parent._definition;"function"==typeof Object.values(r.schema[r.fieldsByIndex[i.$changes.parentIndex]])[0]&&Array.from(i.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function eo(e,t,i,n){if(!(e instanceof t))throw new ea("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(i.constructor.name,"#").concat(n))}var eh=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new l(this,void 0,new es),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var i=this._definition.descriptors;i&&Object.defineProperties(this,i),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,i){var n=this;return void 0===i&&(i=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),i&&void 0!==this[e]&&t(this[e],void 0),function(){return f(n.$callbacks[e],n.$callbacks[e].indexOf(t))}},t.prototype.decode=function(i,n,r){void 0===n&&(n={offset:0}),void 0===r&&(r=this);var s,a=[],o=this.$changes.root,h=i.length,c=0;for(o.refs.set(c,this);n.offset<h;){var l,u=i[n.offset++];if(255==u){c=Z(i,n);var d=o.refs.get(c);if(!d)throw Error('"refId" not found: '.concat(c));r=d;continue}var f=r.$changes,p=void 0!==r._definition,y=p?u>>6<<6:u;if(y===e.OPERATION.CLEAR){r.clear(a);continue}var b=p?u%(y||255):Z(i,n),x=p?r._definition.fieldsByIndex[b]:"",E=f.getType(b),w=void 0,T=void 0,S=void 0;if(p?T=r["_".concat(x)]:(T=r.getByIndex(b),(y&e.OPERATION.ADD)===e.OPERATION.ADD?(S=r instanceof m?Q(i,n):b,r.setIndex(b,S)):S=r.getIndex(b)),(y&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(y!==e.OPERATION.DELETE_AND_ADD&&r.deleteByIndex(b),T&&T.$changes&&o.removeRef(T.$changes.refId),w=null),void 0===x){console.warn("@colyseus/schema: definition mismatch");for(var A={offset:n.offset};n.offset<h&&!(ee(i,n)&&(A.offset=n.offset+1,o.refs.has(Z(i,A))));)n.offset++;continue}if(y===e.OPERATION.DELETE);else if(t.is(E)){var C=Z(i,n);if(w=o.refs.get(C),y!==e.OPERATION.REPLACE){var _=this.getSchemaType(i,n,E);!w&&((w=this.createTypeInstance(_)).$changes.refId=C,T&&(w.$callbacks=T.$callbacks,T.$changes.refId&&C!==T.$changes.refId&&o.removeRef(T.$changes.refId))),o.addRef(C,w,w!==T)}}else if("string"==typeof E)l=n,w=et[E](i,l);else{var I=v[Object.keys(E)[0]],O=Z(i,n),P=o.refs.has(O)?T||o.refs.get(O):new I.constructor;if((w=P.clone(!0)).$changes.refId=O,T&&(w.$callbacks=T.$callbacks,T.$changes.refId&&O!==T.$changes.refId)){o.removeRef(T.$changes.refId);for(var M=T.entries(),R=void 0;(R=M.next())&&!R.done;){var L=(s=R.value)[0],D=s[1];a.push({refId:O,op:e.OPERATION.DELETE,field:L,value:void 0,previousValue:D})}}o.addRef(O,w,P!==T)}if(null!=w){if(w.$changes&&w.$changes.setParent(f.ref,f.root,b),r instanceof t)r[x]=w;else if(r instanceof m){var L=S;r.$items.set(L,w),r.$changes.allChanges.add(b)}else if(r instanceof g)r.setAt(b,w);else if(r instanceof ei){var k=r.add(w);r.setIndex(b,k)}else if(r instanceof en){var k=r.add(w);!1!==k&&r.setIndex(b,k)}}T!==w&&a.push({refId:c,op:y,field:x,dynamicIndex:S,value:w,previousValue:T})}return this._triggerChanges(a),o.garbageCollectDeletedRefs(),a},t.prototype.encode=function(i,n,r){void 0===i&&(i=!1),void 0===n&&(n=[]),void 0===r&&(r=!1);for(var s=this.$changes,a=new WeakSet,o=[s],h=1,c=0;c<h;c++){var l=o[c],u=l.ref,d=u instanceof t;l.ensureRefId(),a.add(l),l!==s&&(l.changed||i)&&(S(n,255),F(n,l.refId));for(var f=i?Array.from(l.allChanges):Array.from(l.changes.values()),p=0,g=f.length;p<g;p++){var y=i?{op:e.OPERATION.ADD,index:f[p]}:f[p],b=y.index,x=d?u._definition.fieldsByIndex&&u._definition.fieldsByIndex[b]:b,E=n.length;if(y.op!==e.OPERATION.TOUCH){if(d)S(n,b|y.op);else{if(S(n,y.op),y.op===e.OPERATION.CLEAR)continue;F(n,b)}}if(!d&&(y.op&e.OPERATION.ADD)==e.OPERATION.ADD&&u instanceof m&&N(n,l.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var w=l.getType(b),T=l.getValue(b);if(T&&T.$changes&&!a.has(T.$changes)&&(o.push(T.$changes),T.$changes.ensureRefId(),h++),y.op!==e.OPERATION.TOUCH){if(t.is(w))eo(T,w,u,x),F(n,T.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(n,w,T.constructor);else if("string"==typeof w)!function(e,t,i,n,r){!function(e,t,i,n){var r,s=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(i.constructor.name,"#").concat(n));break;case"string":r="string",s=!0;break;case"boolean":return}if(typeof e!==r&&(!s||s&&null!==e)){var a="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new ea("a '".concat(r,"' was expected, but ").concat(a," was provided in ").concat(i.constructor.name,"#").concat(n))}}(i,e,n,r);var s=B[e];if(s)s(t,i);else throw new ea("a '".concat(e,"' was expected, but ").concat(i," was provided in ").concat(n.constructor.name,"#").concat(r))}(w,n,T,u,x);else{var A=v[Object.keys(w)[0]];eo(u["_".concat(x)],A.constructor,u,x),F(n,T.$changes.refId)}r&&l.cache(b,n.slice(E))}}}i||r||l.discard()}return n},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(i,n){void 0===n&&(n=!1);for(var r,s,a=this,o=new Set,h=er.get(i),c=[this.$changes],l=1,u=[],d=0;d<l;d++)!function(d){var f=c[d];if(!o.has(f.refId)){var p=f.ref,g=p instanceof t;S(u,255),F(u,f.refId);var v=h.refIds.has(f),y=n||!v;h.addRefId(f);var b=h.containerIndexes.get(f),x=y?Array.from(f.allChanges):Array.from(f.changes.values());!n&&g&&p._definition.indexesWithFilters&&p._definition.indexesWithFilters.forEach(function(t){!b.has(t)&&f.allChanges.has(t)&&(y?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,w=x.length;E<w;E++){var T=y?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(T.op===e.OPERATION.CLEAR){S(u,T.op);continue}var A=T.index;if(T.op===e.OPERATION.DELETE){g?S(u,T.op|A):(S(u,T.op),F(u,A));continue}var C=f.getValue(A),_=f.getType(A);if(g){var I=p._definition.filters&&p._definition.filters[A];if(I&&!I.call(p,i,C,a)){C&&C.$changes&&o.add(C.$changes.refId);continue}}else{var O=f.parent,I=f.getChildrenFilter();if(I&&!I.call(O,i,p.$indexes.get(A),C,a)){C&&C.$changes&&o.add(C.$changes.refId);continue}}if(C.$changes&&(c.push(C.$changes),l++),T.op!==e.OPERATION.TOUCH){if(T.op===e.OPERATION.ADD||g)u.push.apply(u,null!==(r=f.caches[A])&&void 0!==r?r:[]),b.add(A);else if(b.has(A))u.push.apply(u,null!==(s=f.caches[A])&&void 0!==s?s:[]);else{if(b.add(A),S(u,e.OPERATION.ADD),F(u,A),p instanceof m){var P=f.ref.$indexes.get(A);N(u,P)}C.$changes?F(u,C.$changes.refId):B[_](u,C)}}else if(C.$changes&&!g){if(S(u,e.OPERATION.ADD),F(u,A),p instanceof m){var P=f.ref.$indexes.get(A);N(u,P)}F(u,C.$changes.refId)}}}}(d);return u},t.prototype.clone=function(){var e,t=new this.constructor,i=this._definition.schema;for(var n in i)"object"==typeof this[n]&&"function"==typeof(null===(e=this[n])||void 0===e?void 0:e.clone)?t[n]=this[n].clone():t[n]=this[n];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,i={};for(var n in e)t[n]||null===this[n]||void 0===this[n]||(i[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_".concat(n)]);return i},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,i){t._typeid!==i._typeid&&(S(e,213),F(e,i._typeid))},t.prototype.getSchemaType=function(e,t,i){var n;return 213===e[t.offset]&&(t.offset++,n=this.constructor._context.get(Z(e,t))),n||i},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(i){for(var n,r,s,a,o,h,c,l,u,d=new Set,f=this.$changes.root.refs,p=0;p<i.length;p++)!function(p){var g=i[p],m=g.refId,v=f.get(m),y=v.$callbacks;if((g.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&g.previousValue instanceof t&&(null===(r=null===(n=g.previousValue.$callbacks)||void 0===n?void 0:n[e.OPERATION.DELETE])||void 0===r||r.forEach(function(e){return e()})),y){if(v instanceof t){if(!d.has(m))try{null===(s=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===s||s.forEach(function(e){return e(i)})}catch(e){t.onError(e)}try{y.hasOwnProperty(g.field)&&(null===(a=y[g.field])||void 0===a||a.forEach(function(e){return e(g.value,g.previousValue)}))}catch(e){t.onError(e)}}else g.op===e.OPERATION.ADD&&void 0===g.previousValue?null===(o=y[e.OPERATION.ADD])||void 0===o||o.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}):g.op===e.OPERATION.DELETE?void 0!==g.previousValue&&(null===(h=y[e.OPERATION.DELETE])||void 0===h||h.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})):g.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(c=y[e.OPERATION.DELETE])||void 0===c||c.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),null===(l=y[e.OPERATION.ADD])||void 0===l||l.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),g.value!==g.previousValue&&(null===(u=y[e.OPERATION.REPLACE])||void 0===u||u.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}));d.add(m)}}(p)},t._definition=y.create(),t}(),ec={context:new b},el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),h([E("string",ec)],t.prototype,"name",void 0),h([E("string",ec)],t.prototype,"type",void 0),h([E("number",ec)],t.prototype,"referencedType",void 0),t}(eh),eu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new g,t}return o(t,e),h([E("number",ec)],t.prototype,"id",void 0),h([E([el],ec)],t.prototype,"fields",void 0),t}(eh),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new g,t}return o(t,e),t.encode=function(e){var i=e.constructor,n=new t;n.rootType=i._typeid;var r=i._context.types;for(var s in r){var a=new eu;a.id=Number(s),function(e,t){for(var i in t){var r=new el;r.name=i;var s=void 0;if("string"==typeof t[i])s=t[i];else{var a=t[i],o=void 0;eh.is(a)?(s="ref",o=t[i]):(s=Object.keys(a)[0],"string"==typeof a[s]?s+=":"+a[s]:o=a[s]),r.referencedType=o?o._typeid:-1}r.type=s,e.fields.push(r)}n.types.push(e)}(a,r[s]._definition.schema)}return n.encodeAll()},t.decode=function(e,i){var n=new b,r=new t;r.decode(e,i);var s=r.types.reduce(function(e,t){var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(eh),r=t.id;return e[r]=i,n.add(i,r),e},{});r.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var i;if(void 0!==e.referencedType){var r=e.type,a=s[e.referencedType];if(!a){var o=e.type.split(":");r=o[0],a=o[1]}"ref"===r?E(a,{context:n})(t.prototype,e.name):E(((i={})[r]=a,i),{context:n})(t.prototype,e.name)}else E(e.type,{context:n})(t.prototype,e.name)})});var a=s[r.rootType],h=new a;for(var c in a._definition.schema){var l=a._definition.schema[c];"string"!=typeof l&&(h[c]="function"==typeof l?new l:new v[Object.keys(l)[0]].constructor)}return h},h([E([eu],ec)],t.prototype,"types",void 0),h([E("number",ec)],t.prototype,"rootType",void 0),t}(eh);i={constructor:m},v.map=i,n={constructor:g},v.array=n,r={constructor:en},v.set=r,s={constructor:ei},v.collection=s,e.ArraySchema=g,e.CollectionSchema=ei,e.Context=b,e.MapSchema=m,e.Reflection=ed,e.ReflectionField=el,e.ReflectionType=eu,e.Schema=eh,e.SchemaDefinition=y,e.SetSchema=en,e.decode=et,e.defineTypes=function(e,t,i){for(var n in void 0===i&&(i={}),i.context||(i.context=e._context||i.context||x),t)E(t[n],i)(e.prototype,n);return e},e.deprecated=function(e){return void 0===e&&(e=!0),function(t,i){var n=t.constructor._definition;n.deprecated[i]=!0,e&&(n.descriptors[i]={get:function(){throw Error("".concat(i," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],i={},n=0;n<1;n++)!function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,r=e.index;i[t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r)]=n.getValue(r)})}(n);return i},e.encode=B,e.filter=function(e){return function(t,i){var n=t.constructor;n._definition.addFilter(i,e)&&(n._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,i){var n=t.constructor;n._definition.addChildrenFilter(i,e)&&(n._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=function(e,t){v[e]=t},e.type=E,Object.defineProperty(e,"__esModule",{value:!0})}(a.exports),a.exports),k=function(){function t(e,t){var i=this;this.onStateChange=L(),this.onError=L(),this.onLeave=L(),this.onJoin=L(),this.hasJoined=!1,this.onMessageHandlers=M(),this.roomId=null,this.name=e,t&&(this.serializer=new(P("schema")),this.rootSchema=t,this.serializer.state=new t),this.onError(function(e,t){var i;return null===(i=console.warn)||void 0===i?void 0:i.call(console,"colyseus.js - onError => (".concat(e,") ").concat(t))}),this.onLeave(function(){return i.removeAllListeners()})}return Object.defineProperty(t.prototype,"id",{get:function(){return this.roomId},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,i,n){void 0===n&&(n=this);var r=new C;n.connection=r,r.events.onmessage=t.prototype.onMessageCallback.bind(n),r.events.onclose=function(e){var t;if(!n.hasJoined){null===(t=console.warn)||void 0===t||t.call(console,"Room connection was closed unexpectedly (".concat(e.code,"): ").concat(e.reason)),n.onError.invoke(e.code,e.reason);return}e.code===h.DEVMODE_RESTART&&i?i():(n.onLeave.invoke(e.code),n.destroy())},r.events.onerror=function(e){var t;null===(t=console.warn)||void 0===t||t.call(console,"Room, onError (".concat(e.code,"): ").concat(e.reason)),n.onError.invoke(e.code,e.reason)},r.connect(e)},t.prototype.leave=function(t){var i=this;return void 0===t&&(t=!0),new Promise(function(n){i.onLeave(function(e){return n(e)}),i.connection?t?i.connection.send([e.Protocol.LEAVE_ROOM]):i.connection.close():i.onLeave.invoke(h.CONSENTED)})},t.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},t.prototype.send=function(t,i){var n,r=[e.Protocol.ROOM_DATA];if("string"==typeof t?D.encode.string(r,t):D.encode.number(r,t),void 0!==i){var s=function(e){var t=[],i=[],n=new ArrayBuffer(function e(t,i,n){var r=typeof n,s=0,a=0,o=0,h=0,c=0,l=0;if("string"===r){if((c=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(n))<32)t.push(160|c),l=1;else if(c<256)t.push(217,c),l=2;else if(c<65536)t.push(218,c>>8,c),l=3;else if(c<4294967296)t.push(219,c>>24,c>>16,c>>8,c),l=5;else throw Error("String too long");return i.push({_str:n,_length:c,_offset:t.length}),l+c}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(t.push(n),1):n<256?(t.push(204,n),2):n<65536?(t.push(205,n>>8,n),3):n<4294967296?(t.push(206,n>>24,n>>16,n>>8,n),5):(o=n/4294967296>>0,h=n>>>0,t.push(207,o>>24,o>>16,o>>8,o,h>>24,h>>16,h>>8,h),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208,n),2):n>=-32768?(t.push(209,n>>8,n),3):n>=-2147483648?(t.push(210,n>>24,n>>16,n>>8,n),5):(o=Math.floor(n/4294967296),h=n>>>0,t.push(211,o>>24,o>>16,o>>8,o,h>>24,h>>16,h>>8,h),9):(t.push(203),i.push({_float:n,_length:8,_offset:t.length}),9);if("object"===r){if(null===n)return t.push(192),1;if(Array.isArray(n)){if((c=n.length)<16)t.push(144|c),l=1;else if(c<65536)t.push(220,c>>8,c),l=3;else if(c<4294967296)t.push(221,c>>24,c>>16,c>>8,c),l=5;else throw Error("Array too large");for(s=0;s<c;s++)l+=e(t,i,n[s]);return l}if(n instanceof Date){var u=n.getTime(),d=Math.floor(u/1e3),f=(u-1e3*d)*1e6;return d>=0&&f>=0&&d<=17179869183?0===f&&d<=4294967295?(t.push(214,255,d>>24,d>>16,d>>8,d),6):(o=d/4294967296,h=4294967295&d,t.push(215,255,f>>22,f>>14,f>>6,o,h>>24,h>>16,h>>8,h),10):(o=Math.floor(d/4294967296),h=d>>>0,t.push(199,12,255,f>>24,f>>16,f>>8,f,o>>24,o>>16,o>>8,o,h>>24,h>>16,h>>8,h),15)}if(n instanceof ArrayBuffer){if((c=n.byteLength)<256)t.push(196,c),l=2;else if(c<65536)t.push(197,c>>8,c),l=3;else if(c<4294967296)t.push(198,c>>24,c>>16,c>>8,c),l=5;else throw Error("Buffer too large");return i.push({_bin:n,_length:c,_offset:t.length}),l+c}if("function"==typeof n.toJSON)return e(t,i,n.toJSON());var p=[],g="",m=Object.keys(n);for(s=0,a=m.length;s<a;s++)void 0!==n[g=m[s]]&&"function"!=typeof n[g]&&p.push(g);if((c=p.length)<16)t.push(128|c),l=1;else if(c<65536)t.push(222,c>>8,c),l=3;else if(c<4294967296)t.push(223,c>>24,c>>16,c>>8,c),l=5;else throw Error("Object too large");for(s=0;s<c;s++)l+=e(t,i,g=p[s])+e(t,i,n[g]);return l}if("boolean"===r)return t.push(n?195:194),1;if("undefined"===r)return t.push(192),1;if("function"==typeof n.toJSON)return e(t,i,n.toJSON());throw Error("Could not encode")}(t,i,e)),r=new DataView(n),s=0,a=0,o=-1;i.length>0&&(o=i[0]._offset);for(var h,c=0,l=0,u=0,d=t.length;u<d;u++)if(r.setUint8(a+u,t[u]),u+1===o){if(c=(h=i[s])._length,l=a+o,h._bin)for(var f=new Uint8Array(h._bin),p=0;p<c;p++)r.setUint8(l+p,f[p]);else h._str?function(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e.setUint8(t++,n):(n<2048?e.setUint8(t++,192|n>>6):(n<55296||n>=57344?e.setUint8(t++,224|n>>12):(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e.setUint8(t++,240|n>>18),e.setUint8(t++,128|n>>12&63)),e.setUint8(t++,128|n>>6&63)),e.setUint8(t++,128|63&n))}(r,l,h._str):void 0!==h._float&&r.setFloat64(l,h._float);s++,a+=c,i[s]&&(o=i[s]._offset)}return n}(i);(n=new Uint8Array(r.length+s.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(s),r.length)}else n=new Uint8Array(r);this.connection.send(n.buffer)},t.prototype.sendBytes=function(t,i){var n,r=[e.Protocol.ROOM_DATA_BYTES];"string"==typeof t?D.encode.string(r,t):D.encode.number(r,t),(n=new Uint8Array(r.length+(i.byteLength||i.length))).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.length),this.connection.send(n.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var i=Array.from(new Uint8Array(t.data)),n=i[0];if(n===e.Protocol.JOIN_ROOM){var r=1,s=_(i,1);if(r+=I(s),this.serializerId=_(i,r),r+=I(this.serializerId),!this.serializer){var a=P(this.serializerId);this.serializer=new a}i.length>r&&this.serializer.handshake&&this.serializer.handshake(i,{offset:r}),this.reconnectionToken="".concat(this.roomId,":").concat(s),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(n===e.Protocol.ERROR){var o={offset:1},h=D.decode.number(i,o),c=D.decode.string(i,o);this.onError.invoke(h,c)}else if(n===e.Protocol.LEAVE_ROOM)this.leave();else if(n===e.Protocol.ROOM_DATA_SCHEMA){var l={offset:1},u=this.serializer.getState().constructor._context.get(D.decode.number(i,l)),c=new u;c.decode(i,l),this.dispatchMessage(u,c)}else if(n===e.Protocol.ROOM_STATE)i.shift(),this.setState(i);else if(n===e.Protocol.ROOM_STATE_PATCH)i.shift(),this.patch(i);else if(n===e.Protocol.ROOM_DATA){var d={offset:1},u=D.decode.stringCheck(i,d)?D.decode.string(i,d):D.decode.number(i,d),c=i.length>d.offset?function(e,t){void 0===t&&(t=0);var i=new T(e,t),n=i._parse();if(i._offset!==e.byteLength)throw Error(e.byteLength-i._offset+" trailing bytes");return n}(t.data,d.offset):void 0;this.dispatchMessage(u,c)}else if(n===e.Protocol.ROOM_DATA_BYTES){var f={offset:1},u=D.decode.stringCheck(i,f)?D.decode.string(i,f):D.decode.number(i,f);this.dispatchMessage(u,new Uint8Array(i.slice(f.offset)))}},t.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(e,t){var i,n=this.getMessageHandlerKey(e);this.onMessageHandlers.events[n]?this.onMessageHandlers.emit(n,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):null===(i=console.warn)||void 0===i||i.call(console,"colyseus.js: onMessage() not registered for type '".concat(e,"'."))},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(e){switch(typeof e){case"function":return"$".concat(e._typeid);case"string":return e;case"number":return"i".concat(e);default:throw Error("invalid message type.")}},t}();function N(e,t){t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.body}function F(e,t,i){var n,r,s=(i=i||{}).body;return i.method=e,i.headers=i.headers||{},s instanceof FormData||s&&"object"==typeof s&&(i.headers["content-type"]="application/json",i.body=JSON.stringify(s)),i.withCredentials&&(i.credentials="include"),i.timeout&&(r=new AbortController,i.signal=r.signal,n=setTimeout(r.abort,i.timeout)),new Promise((e,a)=>{fetch(t,i).then((t,r)=>{clearTimeout(n),N(t,t),r=t.status>=400?a:e,(s=t.headers.get("content-type"))&&~s.indexOf("application/json")?t.text().then(e=>{try{t.data=JSON.parse(e,i.reviver),r(t)}catch(e){e.headers=t.headers,N(t,e),a(e)}}):r(t)}).catch(e=>{e.timeout=r&&r.signal.aborted,a(e)})})}var B=F.bind(F,"GET"),U=F.bind(F,"POST"),V=F.bind(F,"PATCH"),G=F.bind(F,"DELETE"),j=F.bind(F,"PUT"),W={del:G,get:B,patch:V,post:U,put:j,send:F},Y=(o={__proto__:null,default:W,del:G,get:B,patch:V,post:U,put:j,send:F},[W].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in o)){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}})}),Object.freeze(o)),H=function(){function e(e){this.client=e}return e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("get",e,t)},e.prototype.post=function(e,t){return void 0===t&&(t={}),this.request("post",e,t)},e.prototype.del=function(e,t){return void 0===t&&(t={}),this.request("del",e,t)},e.prototype.put=function(e,t){return void 0===t&&(t={}),this.request("put",e,t)},e.prototype.request=function(e,t,i){return void 0===i&&(i={}),Y[e](this.client.getHttpEndpoint(t),this.getOptions(i)).catch(function(e){var t,i=e.statusCode,n=(null===(t=e.data)||void 0===t?void 0:t.error)||e.statusMessage||e.message;if(!i&&!n)throw e;throw new w(i,n)})},e.prototype.getOptions=function(e){return this.authToken&&(e.headers||(e.headers={}),e.headers.Authorization="Bearer ".concat(this.authToken)),"undefined"!=typeof cc&&cc.sys&&cc.sys.isNative||(e.withCredentials=!0),e},e}();function z(){if(!c)try{c="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(e){}return c||(c={cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),c}var X=function(){function e(e){var t,i,n,r=this;this.http=e,this.settings={path:"/auth",key:"colyseus-auth-token"},l.set(this,!1),u.set(this,void 0),d.set(this,void 0),f.set(this,M()),t=this.settings.key,i=function(e){return r.token=e},n=z().getItem(t),"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(e){return i(e)}):i(n)}return Object.defineProperty(e.prototype,"token",{get:function(){return this.http.authToken},set:function(e){this.http.authToken=e},enumerable:!1,configurable:!0}),e.prototype.onChange=function(e){var t=this,i=x(this,f,"f").on("change",e);return x(this,l,"f")||E(this,u,new Promise(function(e,i){t.getUserData().then(function(e){t.emitChange(v(v({},e),{token:t.token}))}).catch(function(e){t.emitChange({user:null,token:void 0})}).finally(function(){e()})}),"f"),E(this,l,!0,"f"),i},e.prototype.getUserData=function(){return y(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:if(!this.token)return[3,2];return[4,this.http.get("".concat(this.settings.path,"/userdata"))];case 1:return[2,e.sent().data];case 2:throw Error("missing auth.token")}})})},e.prototype.registerWithEmailAndPassword=function(e,t,i){return y(this,void 0,void 0,function(){var n;return b(this,function(r){switch(r.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/register"),{body:{email:e,password:t,options:i}})];case 1:return n=r.sent().data,this.emitChange(n),[2,n]}})})},e.prototype.signInWithEmailAndPassword=function(e,t){return y(this,void 0,void 0,function(){var i;return b(this,function(n){switch(n.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/login"),{body:{email:e,password:t}})];case 1:return i=n.sent().data,this.emitChange(i),[2,i]}})})},e.prototype.signInAnonymously=function(e){return y(this,void 0,void 0,function(){var t;return b(this,function(i){switch(i.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/anonymous"),{body:{options:e}})];case 1:return t=i.sent().data,this.emitChange(t),[2,t]}})})},e.prototype.sendPasswordResetEmail=function(e){return y(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/forgot-password"),{body:{email:e}})];case 1:return[2,t.sent().data]}})})},e.prototype.signInWithProvider=function(e,t){return void 0===t&&(t={}),y(this,void 0,void 0,function(){var i=this;return b(this,function(n){return[2,new Promise(function(n,r){var s=t.width||480,a=t.height||768,o=i.token?"?token=".concat(i.token):"",h="Login with ".concat(e[0].toUpperCase()+e.substring(1)),c=i.http.client.getHttpEndpoint("".concat(t.prefix||"".concat(i.settings.path,"/provider"),"/").concat(e).concat(o)),l=screen.width/2-s/2,u=screen.height/2-a/2;E(i,d,window.open(c,h,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+s+", height="+a+", top="+u+", left="+l),"f");var f=function(e){(void 0!==e.data.user||void 0!==e.data.token)&&(clearInterval(p),x(i,d,"f").close(),E(i,d,void 0,"f"),window.removeEventListener("message",f),void 0!==e.data.error?r(e.data.error):(n(e.data),i.emitChange(e.data)))},p=setInterval(function(){(!x(i,d,"f")||x(i,d,"f").closed)&&(E(i,d,void 0,"f"),r("cancelled"),window.removeEventListener("message",f))},200);window.addEventListener("message",f)})]})})},e.prototype.signOut=function(){return y(this,void 0,void 0,function(){return b(this,function(e){return this.emitChange({user:null,token:null}),[2]})})},e.prototype.emitChange=function(e){if(void 0!==e.token){var t,i,n;(this.token=e.token,null===e.token)?(t=this.settings.key,z().removeItem(t)):(i=this.settings.key,n=e.token,z().setItem(i,n))}x(this,f,"f").emit("change",e)},e}();function K(e){var t,i=(null===(t=null==window?void 0:window.location)||void 0===t?void 0:t.hostname)||"localhost",n=e.hostname.split("."),r=e.hostname.includes("trycloudflare.com")||e.hostname.includes("discordsays.com")||!(n.length>2)?"":"/".concat(n[0]);return e.pathname.startsWith("/.proxy")?"".concat(e.protocol,"//").concat(i).concat(r).concat(e.pathname).concat(e.search):"".concat(e.protocol,"//").concat(i,"/.proxy/colyseus").concat(r).concat(e.pathname).concat(e.search)}l=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap;var q=function(e){function t(i,n){var r=e.call(this,i)||this;return r.code=n,Object.setPrototypeOf(r,t.prototype),r}return m(t,e),t}(Error),J="undefined"!=typeof window&&void 0!==(null===(p=null==window?void 0:window.location)||void 0===p?void 0:p.hostname)?"".concat(window.location.protocol.replace("http","ws"),"//").concat(window.location.hostname).concat(window.location.port&&":".concat(window.location.port)):"ws://127.0.0.1:2567",$=function(){function e(e,t){if(void 0===e&&(e=J),"string"==typeof e){var i,n,r=e.startsWith("/")?new URL(e,J):new URL(e),s="https:"===r.protocol||"wss:"===r.protocol,a=Number(r.port||(s?443:80));this.settings={hostname:r.hostname,pathname:r.pathname,port:a,secure:s}}else void 0===e.port&&(e.port=e.secure?443:80),void 0===e.pathname&&(e.pathname=""),this.settings=e;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new H(this),this.auth=new X(this.http),this.urlBuilder=t,!this.urlBuilder&&"undefined"!=typeof window&&(null===(n=null===(i=null==window?void 0:window.location)||void 0===i?void 0:i.hostname)||void 0===n?void 0:n.includes("discordsays.com"))&&(this.urlBuilder=K,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}return e.prototype.joinOrCreate=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.create=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.join=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.joinById=function(e,t,i){return void 0===t&&(t={}),y(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,i)];case 1:return[2,n.sent()]}})})},e.prototype.reconnect=function(e,t){return y(this,void 0,void 0,function(){var i,n,r;return b(this,function(s){switch(s.label){case 0:if("string"==typeof e&&"string"==typeof t)throw Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");if(n=(i=e.split(":"))[0],r=i[1],!n||!r)throw Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return[4,this.createMatchMakeRequest("reconnect",n,{reconnectionToken:r},t)];case 1:return[2,s.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),y(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,this.http.get("matchmake/".concat(e),{headers:{Accept:"application/json"}})];case 1:return[2,t.sent().data]}})})},e.prototype.consumeSeatReservation=function(e,t,i){return y(this,void 0,void 0,function(){var n,r,s,a=this;return b(this,function(o){return(n=this.createRoom(e.room.name,t)).roomId=e.room.roomId,n.sessionId=e.sessionId,r={sessionId:n.sessionId},e.reconnectionToken&&(r.reconnectionToken=e.reconnectionToken),s=i||n,n.connect(this.buildEndpoint(e.room,r),e.devMode&&function(){return y(a,void 0,void 0,function(){var i,r,a=this;return b(this,function(o){return console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," Re-establishing connection with room id '").concat(n.roomId,"'...")),i=0,setTimeout(r=function(){return y(a,void 0,void 0,function(){return b(this,function(a){switch(a.label){case 0:i++,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.consumeSeatReservation(e,t,s)];case 2:return a.sent(),console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(9989)," Successfully re-established connection with room '").concat(n.roomId,"'")),[3,4];case 3:return a.sent(),i<8?(console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," retrying... (").concat(i," out of ").concat(8,")")),setTimeout(r,2e3)):console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(10060)," Failed to reconnect. Is your server running? Please check server logs.")),[3,4];case 4:return[2]}})})},2e3),[2]})})},s),[2,new Promise(function(e,t){var i=function(e,i){return t(new w(e,i))};s.onError.once(i),s.onJoin.once(function(){s.onError.remove(i),e(s)})})]})})},e.prototype.createMatchMakeRequest=function(e,t,i,n,r){return void 0===i&&(i={}),y(this,void 0,void 0,function(){var s;return b(this,function(a){switch(a.label){case 0:return[4,this.http.post("matchmake/".concat(e,"/").concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})];case 1:if((s=a.sent().data).error)throw new q(s.error,s.code);return"reconnect"===e&&(s.reconnectionToken=i.reconnectionToken),[4,this.consumeSeatReservation(s,n,r)];case 2:return[2,a.sent()]}})})},e.prototype.createRoom=function(e,t){return new k(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push("".concat(n,"=").concat(t[n]));var r=this.settings.secure?"wss://":"ws://";e.publicAddress?r+="".concat(e.publicAddress):r+="".concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname);var s="".concat(r,"/").concat(e.processId,"/").concat(e.roomId,"?").concat(i.join("&"));return this.urlBuilder?this.urlBuilder(new URL(s)):s},e.prototype.getHttpEndpoint=function(e){void 0===e&&(e="");var t=e.startsWith("/")?e:"/".concat(e),i="".concat(this.settings.secure?"https":"http","://").concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname).concat(t);return this.urlBuilder?this.urlBuilder(new URL(i)):i},e.prototype.getEndpointPort=function(){return 80!==this.settings.port&&443!==this.settings.port?":".concat(this.settings.port):""},e}(),Q=function(){function e(){}return e.prototype.setState=function(e){return this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){return this.state.decode(e)},e.prototype.teardown=function(){var e,t;null===(t=null===(e=this.state)||void 0===e?void 0:e.$changes)||void 0===t||t.root.clearRefs()},e.prototype.handshake=function(e,t){this.state?new D.Reflection().decode(e,t):this.state=D.Reflection.decode(e,t)},e}(),Z=function(){function e(){}return e.prototype.setState=function(e){},e.prototype.getState=function(){return null},e.prototype.patch=function(e){},e.prototype.teardown=function(){},e.prototype.handshake=function(e){},e}();O.schema=Q,O.none=Z,e.Auth=X,e.Client=$,e.Room=k,e.SchemaSerializer=Q,e.registerSerializer=function(e,t){O[e]=t},Object.defineProperty(e,"__esModule",{value:!0})}(i)},{}],"9vHHC":[function(e,t,i){t.exports.RoomsConst={ROOM_TYPE_SCENE:"scene",ROOM_TYPE_LOGIN:"login",ROOM_TYPE_GAME:"game",TILE_INDEX:"i",NEXT_SCENE:"n",MAPS_BUCKET:"/assets/maps",ROOM_LAST_LOCATION_KEY:"@lastLocation",RETURN_POINT_KEYS:{DIRECTION:"d",X:"x",Y:"y",DEFAULT:"de",PREVIOUS:"p"},ERRORS:{CREATING_ROOM_AWAIT:"CREATING-ROOM-AWAIT"}}},{}],"93TbC":[function(e,t,i){t.exports.GameConst={START_GAME:"s",ACTION_KEY:"act",CREATE_PLAYER:"cp",CREATE_PLAYER_RESULT:"cps",CHANGING_SCENE:"cgs",CHANGED_SCENE:"cs",RECONNECT:"r",ROOM_GAME:"room_game",ROOM_NAME_MAP:"Map",SCENE_PRELOADER:"ScenePreloader",PLAYER_STATS:"ps",ICON_STATS:"player-stats",CLIENT_JOINED:"cj",UI:"ui",CLOSE_UI_ACTION:"closeUi",TYPE_PLAYER:"pj",GAME_OVER:"go",REVIVED:"rv",BUTTON_OPTION:"btn-opt",UI_BOX:"box",UI_CLOSE:"-close",UI_OPEN:"-open",UP:"up",LEFT:"left",DOWN:"down",RIGHT:"right",STOP:"stop",POINTER:"mp",ARROW_DOWN:"ard",IMAGE_PLAYER:"player",ACTIONS:{LOGIN_UPDATE_ERROR:"luer"},STATUS:{ACTIVE:1,DISABLED:2,DEATH:3,AVOID_INTERPOLATION:4},STRUCTURE:{DEFAULT:"default",ASSETS:"assets",CSS:"css",DIST:"dist",THEME:"theme",LIB:"lib",SERVER:"server",CLIENT:"client",PLUGINS:"plugins",INDEX:"index.html",SCSS_FILE:"styles.scss",CSS_FILE:"styles.css",ADMIN:"admin",TEMPLATES:"templates",ADMIN_JS_FILE:"reldens-admin-client.js",ADMIN_SCSS_FILE:"reldens-admin-client.scss",ADMIN_CSS_FILE:"reldens-admin-client.css",INSTALLER_FOLDER:"install",INSTALL_LOCK:"install.lock"},ROUTE_PATHS:{DISCONNECT_USER:"/reldens-disconnect-user",TERMS_AND_CONDITIONS:"/terms-and-conditions",MAILER:"/reldens-mailer-enabled",FIREBASE:"/reldens-firebase"},SELECTORS:{BODY:"body",CANVAS:"CANVAS",INPUT:"input",FORMS_CONTAINER:".forms-container",REGISTER_FORM:"#register-form",GUEST_FORM:"#guest-form",LOGIN_FORM:"#login-form",FORGOT_PASSWORD_FORM:"#forgot-form",PLAYER_CREATE_FORM:".player-create-form",PLAYER_SELECTION:"#player-selection",FULL_SCREEN_BUTTON:".full-screen-btn",RESPONSE_ERROR:".response-error",LOADING_CONTAINER:".loading-container",REGISTRATION:{PASSWORD:"#reg-password",RE_PASSWORD:"#reg-re-password",EMAIL:"#reg-email",USERNAME:"#reg-username"},GUEST:{USERNAME:"#guest-username"},LOGIN:{USERNAME:"#username",PASSWORD:"#password"},FORGOT_PASSWORD:{EMAIL:"#forgot-email",CONTAINER:".forgot-password-container"},TERMS:{BOX:"#terms-and-conditions",CONTAINER:".terms-and-conditions-container",LINK_CONTAINER:".terms-and-conditions-link-container",LINK:".terms-and-conditions-link",ACCEPT:"#accept-terms-and-conditions",ACCEPT_LABEL:".accept-terms-and-conditions-label",HEADING:".terms-heading",BODY:".terms-body",CLOSE:"#terms-and-conditions-close"},GAME_CONTAINER:".game-container"},CLASSES:{HIDDEN:"hidden",GAME_STARTED:"game-started",GAME_ERROR:"game-error",GAME_ENGINE_STARTED:"game-engine-started",FULL_SCREEN_ON:"full-screen-on"},MESSAGE:{DATA_VALUES:{NAMESPACE:"game"}},LABELS:{YES:"Yes",NO:"No"},ANIMATIONS_TYPE:{SPRITESHEET:"spritesheet"},FILES:{EXTENSIONS:{PNG:".png"}},GRAPHICS:{FRAME_WIDTH:32,FRAME_HEIGHT:32},SHOW_PLAYER_TIME:{NONE:-1,ONLY_OWN_PLAYER:0,ALL_PLAYERS:2}}},{}],"3lwy5":[function(e,t,i){let n=e("a4ab2983c9d35fd8");t.exports={EventsManager:n,EventsManagerSingleton:new n,ErrorManager:e("1695e46110f15942"),InteractionArea:e("8fd16851c34338c4"),SchemaValidator:e("adcc322a4503ef19"),Logger:e("a5fec30b90d89350"),sc:e("859c680ee2b5bef8")}},{a4ab2983c9d35fd8:"faFOz","1695e46110f15942":"ijj7O","8fd16851c34338c4":"hLS4d",adcc322a4503ef19:"5l910",a5fec30b90d89350:"lJWkj","859c680ee2b5bef8":"2vvao"}],faFOz:[function(e,t,i){let n=e("7cdb1283b540f52c").default,r=e("53a92d7fd4d1ab5e"),s=e("fb3dac7fa90fc435");t.exports=class extends n{constructor(){super(),this.eventsByRemoveKeys={},this.debug=!1}onWithKey(e,t,i,n){if(s.hasOwn(this.eventsByRemoveKeys,i)||n&&s.hasOwn(this.eventsByRemoveKeys,n)&&s.hasOwn(this.eventsByRemoveKeys[n],i))return r.debug('Event "'+e+'" exists with key "'+i+'" and masterKey "'+n+'".'),!1;this.on(e,t);let a=this.listeners(e),o=a.indexOf(t),h=a[o];return n?(s.hasOwn(this.eventsByRemoveKeys,n)||(this.eventsByRemoveKeys[n]={}),this.eventsByRemoveKeys[n][i]={eventName:e,callback:t}):this.eventsByRemoveKeys[i]={eventName:e,callback:t},h}offWithKey(e,t){if(t&&!s.hasOwn(this.eventsByRemoveKeys,t))return r.debug('Event not found by masterKey "'+t+'".'),!1;if(!t&&!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Event not found by removeKey "'+e+'".'),!1;let i=t?this.eventsByRemoveKeys[t][e]:this.eventsByRemoveKeys[e],n=this.listeners(i.eventName).indexOf(i.callback);return(this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName],t)?(delete this.eventsByRemoveKeys[t][e],r.debug('Deleted event by removeKey "'+e+'" and masterKey "'+t+'".')):(delete this.eventsByRemoveKeys[e],r.debug('Deleted event by removeKey "'+e+'".')),!0}offByMasterKey(e){if(!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Events not found by masterKey "'+e+'".'),!1;for(let t of(r.debug("Removing events by masterKey: "+e,Object.keys(this.eventsByRemoveKeys[e])),Object.keys(this.eventsByRemoveKeys[e]))){let i=this.eventsByRemoveKeys[e][t],n=this.listeners(i.eventName).indexOf(i.callback);this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName]}delete this.eventsByRemoveKeys[e]}on(e,t){!1!==this.debug&&this.logDebugEvent(e,"Listen"),super.on(e,t)}async emit(e,...t){!1!==this.debug&&this.logDebugEvent(e,"Fire"),await super.emit(e,...t)}logDebugEvent(e,t){(-1!==this.debug.indexOf("all")||-1!==this.debug.indexOf(e)||-1!==e.indexOf(this.debug))&&r.debug(t+" Event:",e)}}},{"7cdb1283b540f52c":"46bZC","53a92d7fd4d1ab5e":"lJWkj",fb3dac7fa90fc435:"2vvao"}],"46bZC":[function(e,t,i){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);let n=e("e8bdbc586c5c4645"),r="function"==typeof Symbol?Symbol.for("--[[await-event-emitter]]--"):"--[[await-event-emitter]]--";function s(e){if("string"!=typeof e&&"symbol"!=typeof e)throw TypeError("type is not type of string or symbol!")}function a(e){if("function"!=typeof e)throw TypeError("fn is not type of Function!")}function o(e){return{[r]:"always",fn:e}}function h(e){return{[r]:"once",fn:e}}i.default=class{constructor(){this._events={}}addListener(e,t){return this.on(e,t)}on(e,t){return s(e),a(t),this._events[e]=this._events[e]||[],this._events[e].push(o(t)),this}prependListener(e,t){return this.prepend(e,t)}prepend(e,t){return s(e),a(t),this._events[e]=this._events[e]||[],this._events[e].unshift(o(t)),this}prependOnceListener(e,t){return this.prependOnce(e,t)}prependOnce(e,t){return s(e),a(t),this._events[e]=this._events[e]||[],this._events[e].unshift(h(t)),this}listeners(e){return(this._events[e]||[]).map(e=>e.fn)}once(e,t){return s(e),a(t),this._events[e]=this._events[e]||[],this._events[e].push(h(t)),this}removeAllListeners(){this._events={}}off(e,t){return this.removeListener(e,t)}removeListener(e,t){s(e);let i=this.listeners(e);if("function"!=typeof t)return delete this._events[e];{let n=-1,r=!1;for(;(n=i.indexOf(t))>=0;)i.splice(n,1),this._events[e].splice(n,1),r=!0;return r}}emit(e,...t){var i,a,o,h;return i=this,a=void 0,o=void 0,h=function*(){s(e);let i=this.listeners(e),a=[];if(i&&i.length){for(let s=0;s<i.length;s++){let o=i[s],h=o.apply(this,t);n(h)&&(yield h),this._events[e]&&this._events[e][s]&&"once"===this._events[e][s][r]&&a.push(o)}return a.forEach(t=>this.removeListener(e,t)),!0}return!1},new(o||(o=Promise))(function(e,t){function n(e){try{s(h.next(e))}catch(e){t(e)}}function r(e){try{s(h.throw(e))}catch(e){t(e)}}function s(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(n,r)}s((h=h.apply(i,a||[])).next())})}emitSync(e,...t){s(e);let i=this.listeners(e),n=[];if(i&&i.length){for(let s=0;s<i.length;s++){let a=i[s];a.apply(this,t),this._events[e]&&this._events[e][s]&&"once"===this._events[e][s][r]&&n.push(a)}return n.forEach(t=>this.removeListener(e,t)),!0}return!1}}},{e8bdbc586c5c4645:"kaCjt","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],kaCjt:[function(e,t,i){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}t.exports=n,t.exports.default=n},{}],"2SoND":[function(e,t,i){i.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},i.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.exportAll=function(e,t){return Object.keys(e).forEach(function(i){"default"===i||"__esModule"===i||Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})}),t},i.export=function(e,t,i){Object.defineProperty(e,t,{enumerable:!0,get:i})}},{}],lJWkj:[function(e,t,i){t.exports=new class{logLevels={none:0,emergency:1,alert:2,critical:3,error:4,warning:5,notice:6,info:7,debug:8};constructor(){let e=this.context();this.enableTraceBack="",this.logLevelBack=3,this.forcedDisabled=!!e.RELDENS_FORCED_DISABLED_LOGS,this.addTimeStamp=(e.RELDENS_INCLUDE_LOGS_TIMESTAMP,!0)}context(){return"undefined"!=typeof window?window:{}}enableTraceAll(){return this.enableTraceBack=this.context().RELDENS_ENABLE_TRACE_FOR,this.context().RELDENS_ENABLE_TRACE_FOR="all",this}restoreTraceFor(){return this.context().RELDENS_ENABLE_TRACE_FOR=this.enableTraceBack,this}setLogLevel(e){return this.logLevelBack=this.context().RELDENS_LOG_LEVEL,this.context().RELDENS_LOG_LEVEL=e,this}restoreLogLevel(){return this.context().RELDENS_LOG_LEVEL=this.logLevelBack,this}setForcedDisabled(e){return this.forcedDisabled=e,this}setAddTimeStamp(e){return this.addTimeStamp=e,this}logLevel(){return this.context().RELDENS_LOG_LEVEL||0}enableTraceFor(){return(this.context().RELDENS_ENABLE_TRACE_FOR||"").split(",")}log(e,...t){if(console.log((this.addTimeStamp?new Date().toISOString().slice(0,19).replace("T"," ")+" - ":"")+e.toUpperCase()+" -",...t),-1!==this.enableTraceFor().indexOf("all")||-1!==this.enableTraceFor().indexOf(e)){if("function"!=typeof Error?.captureStackTrace)return console.log("Error.captureStackTrace is not available.",typeof Error?.captureStackTrace),this;let t={};Error.captureStackTrace(t,e),console.log(t.stack)}return this}debug(...e){return this.forcedDisabled||8>this.logLevel()?this:this.log("debug",...e)}info(...e){return this.forcedDisabled||7>this.logLevel()?this:this.log("info",...e)}notice(...e){return this.forcedDisabled||6>this.logLevel()?this:this.log("notice",...e)}warning(...e){return this.forcedDisabled||5>this.logLevel()?this:this.log("warning",...e)}error(...e){return this.forcedDisabled||4>this.logLevel()?this:this.log("error",...e)}critical(...e){return this.forcedDisabled||3>this.logLevel()?this:this.log("critical",...e)}alert(...e){return this.forcedDisabled||2>this.logLevel()?this:this.log("alert",...e)}emergency(...e){return this.forcedDisabled||1>this.logLevel()?this:this.log("emergency",...e)}}},{}],"2vvao":[function(e,t,i){t.exports=new class{hasOwn(e,t){if(this.isArray(t)&&0<t.length){for(let i of t)if(!(e&&({}).hasOwnProperty.call(e,i)))return!1;return!0}return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]}isTrue(e,t,i){return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]&&(i?!0===e[t]:e[t])}isObject(e){return e&&"object"==typeof e&&!this.isArray(e)}isArray(e){return Array.isArray(e)}inArray(e,t){return!!this.isArray(t)&&-1!==t.indexOf(e)}isFunction(e){return e&&"function"==typeof e}isObjectFunction(e,t){return this.isObject(e)&&t&&"function"==typeof e[t]}isString(e){return"string"==typeof e}isNumber(e){return"number"==typeof e}isInt(e){return!!this.isNumber(e)&&Number.isInteger(e)}isFloat(e){return!!this.isNumber(e)&&Number(e)===e&&0!=e%1}isBoolean(e){return"boolean"==typeof e}deepMergeProperties(e,t){if(!this.isObject(e)||!this.isObject(t))return!1;for(let i of Object.keys(t)){if(this.isObject(t[i])){if(!this.hasOwn(e,i)){e[i]=t[i];continue}this.deepMergeProperties(e[i],t[i]);continue}e[i]=t[i]}return e}length(e){return e?Object.keys(e).length:0}convertObjectsArrayToObjectByKeys(e,t){if(!this.isArray(e)||0===e.length)return{};let i={};for(let n of e)i[n[t]]=n;return i}sortObjectKeysBy(e,t){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}arraySort(e,t,i="asc"){if(!e||!t)return e;let n="act"===i?1:-1,r="act"===i?-1:1;return e.sort((e,i)=>e[t]>i[t]?n:r)}propsAssign(e,t,i){if(!this.isArray(i))return t;for(let n of i)t[n]=e[n];return t}toJson(e,t=!1){return this.parseJson(e)||t}parseJson(e){try{return JSON.parse(e)}catch(e){return!1}}deepJsonClone(e){return JSON.parse(JSON.stringify(e))}get(e,t,i){return this.hasOwn(e,t)?e[t]:i}getByPath(e,t,i){if(!this.isObject(e)||!this.isArray(t))return i;let n=t.shift();return 0===t.length?this.get(e,n,i):this.getByPath(e[n],t,i)}getByPriority(e,t){if(!this.isArray(t))return!1;for(let i of t)if(this.hasOwn(e,i))return e[i];return!1}fetchByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return!1;for(let n of e)if(n[t]===i)return n;return!1}fetchAllByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return[];let n=[];for(let r of e)r[t]===i&&n.push(r);return n}fetchByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let r of n){let n=e[r];if(n[t]===i)return n}return!1}fetchAllByPropertyOnObject(e,t,i){if(!e)return[];let n=Object.keys(e);if(0===n.length)return[];let r=[];for(let s of n){let n=e[s];n[t]===i&&r.push(n)}return r}serializeFormData(e){if(0===e.length)return{};let t={};for(let[i,n]of e)void 0!==t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n;return t}removeFromArray(e,t){return e.filter(e=>-1===t.indexOf(e))}getCurrentDate(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDateForFileName(){return new Date().toISOString().slice(0,19).replace("T","-").replace(/:/g,"-")}formatDate(e,t="Y-m-d H:i:s"){if(!(e instanceof Date))return e;let i={Y:e.getFullYear(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),H:e.getHours().toString().padStart(2,"0"),i:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};return t.replace(/Y|m|d|H|i|s/g,e=>i[e])}getTime(){return new Date().getTime()}roundToPrecision(e,t=4){return Number(Number(e).toFixed(t))}randomValueFromArray(e){return this.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}randomChars(e){return 0>=e?"":this.randomString(e,!1)}randomCharsWithSymbols(e){return 0>=e?"":this.randomString(e,!0)}randomString(e,t=!1){let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t&&(n+="!@#$%&*()_-=+[]{}:;<>,./?");let r=n.length;for(let t=0;t<e;t++)i+=n.charAt(Math.floor(Math.random()*r));return i}cleanMessage(e,t){if(!e)return"";let i=e.toString().replace(/\\/g,"");return 0<t?i.substring(0,t):i}slugify(e){return(e||"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"-").toLowerCase()}isValidIsoCode(e){return/^[a-zA-Z]{2}$/.test(e)}}},{}],ijj7O:[function(e,t,i){t.exports=new class{constructor(){this.enableTrace=!1}error(e){throw this.enableTrace&&console.trace(),Error(e)}}},{}],hLS4d:[function(e,t,i){t.exports=class{constructor(){this.x=!1,this.y=!1,this.interactionArea=!1,this.interactionLimits={}}setupInteractionArea(e=!1,t=!1,i=!1){e&&(this.interactionArea=e),this.interactionArea&&(t&&(this.x=t),i&&(this.y=i),this.interactionLimits.left=this.x-this.interactionArea,this.interactionLimits.right=this.x+this.interactionArea,this.interactionLimits.up=this.y-this.interactionArea,this.interactionLimits.down=this.y+this.interactionArea)}isValidInteraction(e,t){return e>this.interactionLimits.left&&e<this.interactionLimits.right&&t>this.interactionLimits.up&&t<this.interactionLimits.down}getPosition(){return{x:this.x,y:this.y}}}},{}],"5l910":[function(e,t,i){let n=e("323fb244d0666aec"),r=e("67ee8372a6acd243");t.exports=class{constructor(e){this.schema=e}validate(e,t=!1){if(t||(t=this.schema),!n.isObject(t))return r.debug("No schema provided."),!1;for(let i of Object.keys(t)){let n=t[i];if(!this.isValidSchema(e[i],n,i)||n.nested&&!this.validate(e[i],n.nested))return!1}return!0}isValidSchema(e,t,i){if(!t||!t.type)return r.debug("No schema type provided.",t,e,i),!1;switch(t.type){case"string":if(!n.isString(e))return r.debug("Object is not a string.",i,e,t),!1;break;case"number":if(!n.isInt(e)&&!n.isFloat(e))return r.debug("Object is not a number.",i,e,t),!1;break;case"int":if(!n.isInt(e))return r.debug("Object is not an integer.",i,e,t),!1;break;case"float":if(!n.isFloat(e))return r.debug("Object is not a float.",i,e,t),!1;break;case"boolean":if(!n.isBoolean(e))return r.debug("Object is not a boolean.",i,e,t),!1;break;case"object":if(!n.isObject(e))return r.debug("Object is not an object.",i,e,t),!1;break;case"array":if(!n.isArray(e))return r.debug("Object is not an array.",i,e,t),!1;if(t.valuesType){for(let n of e)if(!this.isValidSchema(n,{type:t.valuesType},i))return r.debug("Invalid array value.",n,t),!1}break;default:return r.debug("Invalid schema type provided.",t.type),!1}return!0}}},{"323fb244d0666aec":"2vvao","67ee8372a6acd243":"lJWkj"}],fVZ41:[function(e,t,i){let n=e("ba5852f7a848a882"),{Game:r,Input:s}=e("de87093dc78fab7a"),{FPSCounter:a}=e("cb52d956827ba0f7"),{GameConst:o}=e("ef9f208014f49bfb"),{ObjectsConst:h}=e("74f28c3d4fc67c29"),{Logger:c,sc:l}=e("2aadc4f845e0da5b");t.exports.GameEngine=class extends r{constructor(e){super(e.config),c.debug("Game Engine configuration.",e.config),this.uiScene=!1,this.TemplateEngine=n,this.eventsManager=e.events,this.eventsManager.on("reldens.beforeReconnectGameClient",()=>{this.clearTarget()}),this.eventsManager.on("reldens.beforeSceneDynamicCreate",e=>{this.setupTabTarget(e)})}parseTemplate(e,t,i,n){return this.TemplateEngine.render(e,t,i,n)}updateGameSize(e){let{newWidth:t,newHeight:i}=this.getCurrentScreenSize(e);setTimeout(()=>{for(let e of(this.eventsManager.emit("reldens.updateGameSizeBefore",this,t,i),this.scale.setGameSize(t,i),Object.keys(this.uiScene.elementsUi))){let n=this.uiScene.elementsUi[e],r=l.get(this.uiScene.userInterfaces[e],"uiPositionKey",e),{uiX:s,uiY:a}=this.uiScene.getUiConfig(r,t,i);n.x=s,n.y=a}this.eventsManager.emit("reldens.updateGameSizeAfter",this,t,i)},e.config.getWithoutLogs("client/general/gameEngine/updateGameSizeTimeOut",500))}getCurrentScreenSize(e){let t=e.gameDom.getElement(".game-container").offsetWidth,i=e.gameDom.getElement(".game-container").offsetHeight,n=t,r=i,s=e.getActiveScene();return s&&s.map&&(n=Math.min(t,s.map.width*s.map.tileWidth),r=Math.min(i,s.map.height*s.map.tileHeight)),{newWidth:n=Math.min(n,Number(e.config.get("client/ui/maximum/x"))),newHeight:r=Math.min(r,Number(e.config.get("client/ui/maximum/y")))}}showTarget(e,t,i){l.hasOwn(this.uiScene,"uiTarget")&&(this.uiScene.uiTarget.getChildByID("box-target").style.display="block",this.uiScene.uiTarget.getChildByID("target-container").innerHTML=this.targetDisplay(e,t)),this.eventsManager.emit("reldens.gameEngineShowTarget",this,t,i,e)}targetDisplay(e,t){let i=e;return o.TYPE_PLAYER===t.type&&(i+=this.generateTargetPlayedTime(t)),i}generateTargetPlayedTime(e){let t="",i=this.uiScene.gameManager.config.getWithoutLogs("client/players/playedTime/show",o.SHOW_PLAYER_TIME.ONLY_OWN_PLAYER);if(o.SHOW_PLAYER_TIME.NONE===i)return t;let n=this.uiScene.gameManager.getCurrentPlayer();if(o.SHOW_PLAYER_TIME.ALL_PLAYERS===i||n.playerId===e.id){let i=this.obtainPlayedTime(e,n);t+=this.createPlayedTimeLabel(i)}return t}createPlayedTimeLabel(e){let t=this.uiScene.gameManager.gameDom.createElement("p");return t.innerHTML=this.uiScene.gameManager.config.get("client/players/playedTime/label").replace("%playedTimeInHs",e),t.outerHTML}obtainPlayedTime(e,t){return(t.players[e.id].playedTime/60/60).toFixed(1)}clearTarget(){let e=this.uiScene.gameManager.activeRoomEvents.getActiveScene(),t=Object.assign({},e.player.currentTarget);l.hasOwn(this.uiScene,"uiTarget")&&(e.player.currentTarget=!1,this.uiScene.uiTarget.getChildByID("box-target").style.display="none",this.uiScene.uiTarget.getChildByID("target-container").innerHTML=""),this.eventsManager.emit("reldens.gameEngineClearTarget",this,t)}setupTabTarget(e){e.keyTab=e.input.keyboard.addKey(s.Keyboard.KeyCodes.TAB),e.input.keyboard.addCapture(s.Keyboard.KeyCodes.TAB),e.input.keyboard.on("keydown",e=>{9===e.keyCode&&this.tabTarget()})}tabTarget(){let e=this.uiScene.gameManager.getCurrentPlayer(),t=this.uiScene.gameManager.getActiveScene().objectsAnimations,i=e.players,n=!1,r="",s=!!e.currentTarget&&Object.assign({},e.currentTarget);for(let i of Object.keys(t)){if(!t[i].targetName)continue;let s=Math.hypot(t[i].x-e.state.x,t[i].y-e.state.y);e.currentTarget.id!==t[i].key&&(!n||n.dist>s)&&(n={id:t[i].key,type:h.TYPE_OBJECT,dist:s},r=t[i].targetName)}for(let t of Object.keys(i)){if(e.playerName===i[t].playerName)continue;let s=Math.hypot(i[t].x-e.state.x,i[t].y-e.state.y);e.currentTarget.id!==i[t].id&&(!n||n.dist>s)&&(n={id:t,type:o.TYPE_PLAYER,dist:s},r=i[t].playerName)}e.currentTarget=n,this.showTarget(r,n,s),this.eventsManager.emit("reldens.gameEngineTabTarget",this,n,s)}showFPS(){this.fpsCounter=new a(this.uiScene.gameManager.gameDom),this.fpsCounter.start()}}},{ba5852f7a848a882:"kOY07",de87093dc78fab7a:"8S6DV",cb52d956827ba0f7:"e7OdC",ef9f208014f49bfb:"93TbC","74f28c3d4fc67c29":"izuLV","2aadc4f845e0da5b":"3lwy5"}],kOY07:[function(e,t,i){var n;n=function(){/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test,a=/\S/,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},h=/\s*/,c=/\s+/,l=/\s*=/,u=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},f.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case -1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t=this.cache;if(t.hasOwnProperty(e))a=t[e];else{for(var n,s,a,o,h,c,l=this,u=!1;l;){if(e.indexOf(".")>0)for(o=l.view,h=e.split("."),c=0;null!=o&&c<h.length;)c===h.length-1&&(u=r(o,h[c])||(n=o,s=h[c],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(s))),o=o[h[c++]];else o=l.view[e],u=r(l.view,e);if(u){a=o;break}l=l.parent}t[e]=a}return i(a)&&(a=a.call(this.view)),a},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(e,i){var r=this.templateCache,o=e+":"+(i||m.tags).join(":"),p=void 0!==r,g=p?r.get(o):void 0;return void 0==g&&(g=function(e,i){if(!e)return[];var r,o,p,g,v,y,b,x,E,w=!1,T=[],S=[],A=[],C=!1,_=!1,I="",O=0;function P(){if(C&&!_)for(;A.length;)delete S[A.pop()];else A=[];C=!1,_=!1}function M(e){if("string"==typeof e&&(e=e.split(c,2)),!t(e)||2!==e.length)throw Error("Invalid tags: "+e);r=RegExp(n(e[0])+"\\s*"),o=RegExp("\\s*"+n(e[1])),p=RegExp("\\s*"+n("}"+e[1]))}M(i||m.tags);for(var R=new f(e);!R.eos();){if(g=R.pos,y=R.scanUntil(r))for(var L,D=0,k=y.length;D<k;++D){(L=b=y.charAt(D),s.call(a,L))?(_=!0,w=!0,I+=" "):(A.push(S.length),I+=b),S.push(["text",b,g,g+1]),g+=1,"\n"===b&&(P(),I="",O=0,w=!1)}if(!R.scan(r))break;if(C=!0,v=R.scan(d)||"name",R.scan(h),"="===v?(y=R.scanUntil(l),R.scan(l),R.scanUntil(o)):"{"===v?(y=R.scanUntil(p),R.scan(u),R.scanUntil(o),v="&"):y=R.scanUntil(o),!R.scan(o))throw Error("Unclosed tag at "+R.pos);if(x=">"==v?[v,y,g,R.pos,I,O,w]:[v,y,g,R.pos],O++,S.push(x),"#"===v||"^"===v)T.push(x);else if("/"===v){if(!(E=T.pop()))throw Error('Unopened section "'+y+'" at '+g);if(E[1]!==y)throw Error('Unclosed section "'+E[1]+'" at '+g)}else"name"===v||"{"===v||"&"===v?_=!0:"="===v&&M(y)}if(P(),E=T.pop())throw Error('Unclosed section "'+E[1]+'" at '+R.pos);return function(e){for(var t,i=[],n=i,r=[],s=0,a=e.length;s<a;++s)switch((t=e[s])[0]){case"#":case"^":n.push(t),r.push(t),n=t[4]=[];break;case"/":r.pop()[5]=t[2],n=r.length>0?r[r.length-1][4]:i;break;default:n.push(t)}return i}(function(e){for(var t,i,n=[],r=0,s=e.length;r<s;++r)(t=e[r])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}(S))}(e,i),p&&r.set(o,g)),g},g.prototype.render=function(e,t,i,n){var r=this.getConfigTags(n),s=this.parse(e,r),a=t instanceof p?t:new p(t,void 0);return this.renderTokens(s,a,i,e,n)},g.prototype.renderTokens=function(e,t,i,n,r){for(var s,a,o,h="",c=0,l=e.length;c<l;++c)o=void 0,"#"===(a=(s=e[c])[0])?o=this.renderSection(s,t,i,n,r):"^"===a?o=this.renderInverted(s,t,i,n,r):">"===a?o=this.renderPartial(s,t,i,r):"&"===a?o=this.unescapedValue(s,t):"name"===a?o=this.escapedValue(s,t,r):"text"===a&&(o=this.rawValue(s)),void 0!==o&&(h+=o);return h},g.prototype.renderSection=function(e,n,r,s,a){var o=this,h="",c=n.lookup(e[1]);if(c){if(t(c))for(var l=0,u=c.length;l<u;++l)h+=this.renderTokens(e[4],n.push(c[l]),r,s,a);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)h+=this.renderTokens(e[4],n.push(c),r,s,a);else if(i(c)){if("string"!=typeof s)throw Error("Cannot use higher-order sections without the original template");null!=(c=c.call(n.view,s.slice(e[3],e[5]),function(e){return o.render(e,n,r,a)}))&&(h+=c)}else h+=this.renderTokens(e[4],n,r,s,a);return h}},g.prototype.renderInverted=function(e,i,n,r,s){var a=i.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],i,n,r,s)},g.prototype.indentPartial=function(e,t,i){for(var n=t.replace(/[^ \t]/g,""),r=e.split("\n"),s=0;s<r.length;s++)r[s].length&&(s>0||!i)&&(r[s]=n+r[s]);return r.join("\n")},g.prototype.renderPartial=function(e,t,n,r){if(n){var s=this.getConfigTags(r),a=i(n)?n(e[1]):n[e[1]];if(null!=a){var o=e[6],h=e[5],c=e[4],l=a;0==h&&c&&(l=this.indentPartial(a,c,o));var u=this.parse(l,s);return this.renderTokens(u,t,n,l,r)}}},g.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},g.prototype.escapedValue=function(e,t,i){var n=this.getConfigEscape(i)||m.escape,r=t.lookup(e[1]);if(null!=r)return"number"==typeof r&&n===m.escape?String(r):n(r)},g.prototype.rawValue=function(e){return e[1]},g.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},g.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var m={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(cache){v.templateCache=cache},get templateCache(){return v.templateCache}},v=new g;return m.clearCache=function(){return v.clearCache()},m.parse=function(e,t){return v.parse(e,t)},m.render=function(e,i,n,r){if("string"!=typeof e)throw TypeError('Invalid template! Template should be a "string" but "'+(t(e)?"array":typeof e)+'" was given as the first argument for mustache#render(template, view, partials)');return v.render(e,i,n,r)},m.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return o[e]})},m.Scanner=f,m.Context=p,m.Writer=g,m},t.exports=n()},{}],"8S6DV":[function(e,t,i){var n,r=e("57a99fe9b8471a10");n=()=>(()=>{var e={50792:e=>{var t=Object.prototype.hasOwnProperty,i="~";function n(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new r(n,s||e,a),h=i?i+t:t;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],o]:e._events[h].push(o):(e._events[h]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1)),o.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,a=Array(s);r<s;r++)a[r]=n[r].fn;return a},o.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,r,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var h,c,l=this._events[o],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,s),!0;case 6:return l.fn.call(l.context,t,n,r,s,a),!0}for(c=1,h=Array(u-1);c<u;c++)h[c-1]=arguments[c];l.fn.apply(l.context,h)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!h)for(d=1,h=Array(u-1);d<u;d++)h[d-1]=arguments[d];l[c].fn.apply(l[c].context,h)}}return!0},o.prototype.on=function(e,t,i){return s(this,e,t,i,!1)},o.prototype.once=function(e,t,i){return s(this,e,t,i,!0)},o.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||a(this,s);else{for(var h=0,c=[],l=o.length;h<l;h++)(o[h].fn!==t||r&&!o[h].once||n&&o[h].context!==n)&&c.push(o[h]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o},11517:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38829);e.exports=function(e,t,i,r){for(var s=e[0],a=1;a<e.length;a++){var o=e[a];n(o,s,t,i,r),s=o}return e}},80318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"angle",t,i,r,s)}},60757:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];t.call(i,r)}return e}},69927:e=>{e.exports=function(e,t,i){void 0===i&&(i=0);for(var n=i;n<e.length;n++){var r=e[n],s=!0;for(var a in t)r[a]!==t[a]&&(s=!1);if(s)return r}return null}},32265:e=>{e.exports=function(e,t,i){void 0===i&&(i=0);for(var n=e.length-1;n>=i;n--){var r=e[n],s=!0;for(var a in t)r[a]!==t[a]&&(s=!1);if(s)return r}return null}},94420:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(11879),r=i(60461),s=i(95540),a=i(29747),o=new(i(41481))({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0);e.exports=function(e,t){void 0===t&&(t={});var i=t.hasOwnProperty("width"),a=t.hasOwnProperty("height"),h=s(t,"width",-1),c=s(t,"height",-1),l=s(t,"cellWidth",1),u=s(t,"cellHeight",l),d=s(t,"position",r.TOP_LEFT),f=s(t,"x",0),p=s(t,"y",0),g=0,m=0,v=h*l,y=c*u;o.setPosition(f,p),o.setSize(l,u);for(var b=0;b<e.length;b++)if(n(e[b],o,d),i&&-1===h)o.x+=l;else if(a&&-1===c)o.y+=u;else if(a&&!i){if(m+=u,o.y+=u,m===y&&(m=0,g+=l,o.y=p,o.x+=l,g===v))break}else if(g+=l,o.x+=l,g===v&&(g=0,m+=u,o.x=f,o.y+=u,m===y))break;return e}},41721:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"alpha",t,i,r,s)}},67285:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"x",t,i,r,s)}},9074:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"x",t,r,a,o),n(e,"y",i,s,a,o)}},75222:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"y",t,i,r,s)}},22983:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/e.length,a=t.x,o=t.y,h=t.radius,c=0;c<e.length;c++)e[c].x=a+h*Math.cos(r),e[c].y=o+h*Math.sin(r),r+=s;return e}},95253:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/e.length,a=t.width/2,o=t.height/2,h=0;h<e.length;h++)e[h].x=t.x+a*Math.cos(r),e[h].y=t.y+o*Math.sin(r),r+=s;return e}},88505:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15258),r=i(26708);e.exports=function(e,t,i){var s;s=i?r(t,i,e.length):n(t,e.length);for(var a=0;a<e.length;a++){var o=e[a],h=s[a];o.x=h.x,o.y=h.y}return e}},41346:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14649),r=i(86003),s=i(49498);e.exports=function(e,t,i){void 0===i&&(i=0);var a=n(t,!1,e.length);i>0?r(a,i):i<0&&s(a,Math.abs(i));for(var o=0;o<e.length;o++)e[o].x=a[o].x,e[o].y=a[o].y;return e}},11575:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84993);e.exports=function(e,t,i){var r=n({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},i),s=n({x1:t.x2,y1:t.y2,x2:t.x3,y2:t.y3},i),a=n({x1:t.x3,y1:t.y3,x2:t.x1,y2:t.y1},i);r.pop(),s.pop(),a.pop();for(var o=(r=r.concat(s,a)).length/e.length,h=0,c=0;c<e.length;c++){var l=e[c],u=r[Math.floor(h)];l.x=u.x,l.y=u.y,h+=o}return e}},29953:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];r.anims&&r.anims.play(t,i)}return e}},66979:e=>{e.exports=function(e,t,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a,o=0,h=e.length;if(1===s)for(a=r;a<h;a++)e[a][t]+=i+o*n,o++;else for(a=r;a>=0;a--)e[a][t]+=i+o*n,o++;return e}},43967:e=>{e.exports=function(e,t,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a,o=0,h=e.length;if(1===s)for(a=r;a<h;a++)e[a][t]=i+o*n,o++;else for(a=r;a>=0;a--)e[a][t]=i+o*n,o++;return e}},88926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28176);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},33286:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(24820);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},96e3:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65822);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},28789:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26597);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},97154:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90260);e.exports=function(e,t){for(var i=0;i<e.length;i++)n(t,e[i]);return e}},20510:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"rotation",t,i,r,s)}},91051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1163),r=i(20339);e.exports=function(e,t,i){for(var s=t.x,a=t.y,o=0;o<e.length;o++){var h=e[o];n(h,s,a,i,Math.max(1,r(h.x,h.y,s,a)))}return e}},76332:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1163);e.exports=function(e,t,i,r){var s=t.x,a=t.y;if(0===r)return e;for(var o=0;o<e.length;o++)n(e[o],s,a,i,r);return e}},61619:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"scaleX",t,i,r,s)}},94868:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scaleX",t,r,a,o),n(e,"scaleY",i,s,a,o)}},95532:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66979);e.exports=function(e,t,i,r,s){return n(e,"scaleY",t,i,r,s)}},8689:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"alpha",t,i,r,s)}},2645:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r){return n(e,"blendMode",t,0,i,r)}},32372:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"depth",t,i,r,s)}},85373:e=>{e.exports=function(e,t,i){for(var n=0;n<e.length;n++)e[n].setInteractive(t,i);return e}},81583:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"originX",t,r,a,o),n(e,"originY",i,s,a,o),e.forEach(function(e){e.updateDisplayOrigin()}),e}},79939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"rotation",t,i,r,s)}},2699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scaleX",t,r,a,o),n(e,"scaleY",i,s,a,o)}},98739:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scaleX",t,i,r,s)}},98476:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scaleY",t,i,r,s)}},6207:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"scrollFactorX",t,r,a,o),n(e,"scrollFactorY",i,s,a,o)}},6607:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scrollFactorX",t,i,r,s)}},72248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"scrollFactorY",t,i,r,s)}},14036:e=>{e.exports=function(e,t,i,n,r){for(var s=0;s<e.length;s++)e[s].setTint(t,i,n,r);return e}},50159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r){return n(e,"visible",t,0,i,r)}},77597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"x",t,i,r,s)}},83194:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s,a,o){return null==i&&(i=t),n(e,"x",t,r,a,o),n(e,"y",i,s,a,o)}},67678:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43967);e.exports=function(e,t,i,r,s){return n(e,"y",t,i,r,s)}},35850:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=new n);var a,o,h=e.length;if(1===h)a=e[0].x,o=e[0].y,e[0].x=t,e[0].y=i;else{var c=1,l=0;0===r&&(l=h-1,c=h-2),a=e[l].x,o=e[l].y,e[l].x=t,e[l].y=i;for(var u=0;u<h;u++)if(!(c>=h)&&-1!==c){var d=e[c],f=d.x,p=d.y;d.x=a,d.y=o,a=f,o=p,0===r?c--:c++}}return s.x=a,s.y=o,s}},8628:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33680);e.exports=function(e){return n(e)}},21837:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7602);e.exports=function(e,t,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/e.length;if(s)for(a=0;a<e.length;a++)e[a][t]+=n(a*o,i,r);else for(a=0;a<e.length;a++)e[a][t]=n(a*o,i,r);return e}},21910:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54261);e.exports=function(e,t,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/e.length;if(s)for(a=0;a<e.length;a++)e[a][t]+=n(a*o,i,r);else for(a=0;a<e.length;a++)e[a][t]=n(a*o,i,r);return e}},62054:e=>{e.exports=function(e,t,i,n,r){if(void 0===r&&(r=!1),0===e.length)return e;if(1===e.length)return r?e[0][t]+=(n+i)/2:e[0][t]=(n+i)/2,e;var s,a=Math.abs(n-i)/(e.length-1);if(r)for(s=0;s<e.length;s++)e[s][t]+=s*a+i;else for(s=0;s<e.length;s++)e[s][t]=s*a+i;return e}},79815:e=>{e.exports=function(e){for(var t=0;t<e.length;t++)e[t].visible=!e[t].visible;return e}},39665:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e,t,i){void 0===i&&(i=0);for(var r=0;r<e.length;r++){var s=e[r];s.x=n(s.x,t.left-i,t.right+i),s.y=n(s.y,t.top-i,t.bottom+i)}return e}},61061:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(74943),a=i(81957),o=i(41138),h=i(35154),c=i(90126),l=new r({initialize:function(e,t,i){this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,h(i,"frames",[]),h(i,"defaultTextureKey",null),h(i,"sortFrames",!0)),this.frameRate=h(i,"frameRate",null),this.duration=h(i,"duration",null),this.msPerFrame,this.skipMissedFrames=h(i,"skipMissedFrames",!0),this.delay=h(i,"delay",0),this.repeat=h(i,"repeat",0),this.repeatDelay=h(i,"repeatDelay",0),this.yoyo=h(i,"yoyo",!1),this.showBeforeDelay=h(i,"showBeforeDelay",!1),this.showOnStart=h(i,"showOnStart",!1),this.hideOnComplete=h(i,"hideOnComplete",!1),this.randomFrame=h(i,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(e,t,i,n){null===i&&null===n?(e.frameRate=24,e.duration=24/t*1e3):i&&null===n?(e.duration=i,e.frameRate=t/(i/1e3)):(e.frameRate=n,e.duration=t/n*1e3),e.msPerFrame=1e3/e.frameRate},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var i=this.getFrames(this.manager.textureManager,t);if(i.length>0){if(0===e)this.frames=i.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(i);else{var n=this.frames.slice(0,e),r=this.frames.slice(e);this.frames=n.concat(i,r)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},getFirstTick:function(e){e.accumulator=0,e.nextTick=e.currentFrame.duration?e.currentFrame.duration:e.msPerFrame},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,i,n){void 0===n&&(n=!0);var r,s,a,l,u=[],d=1;if("string"==typeof t){if(l=t,!e.exists(l))return console.warn('Texture "%s" not found',l),u;var f=e.get(l).getFrameNames();n&&c(f),t=[],f.forEach(function(e){t.push({key:l,frame:e})})}if(!Array.isArray(t)||0===t.length)return u;for(a=0;a<t.length;a++){var p=t[a],g=h(p,"key",i);if(g){var m=h(p,"frame",0),v=e.getFrame(g,m);if(!v){console.warn('Texture "%s" not found',g);continue}(s=new o(g,m,d,v)).duration=h(p,"duration",0),s.isFirst=!r,r&&(r.nextFrame=s,s.prevFrame=r),u.push(s),r=s,d++}}if(u.length>0){s.isLast=!0,s.nextFrame=u[0],u[0].prevFrame=s;var y=1/(u.length-1);for(a=0;a<u.length;a++)u[a].progress=a*y}return u},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.currentFrame.duration?e.currentFrame.duration:e.msPerFrame},getFrameByProgress:function(e){return a(e=n(e,0,1),this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e.yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e.inReverse&&e.forward?e.forward=!1:this.repeatAnimation(e):e.complete():this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),!t===e.inReverse&&e.repeatCounter>0){(0===e.repeatDelay||e.pendingRepeat)&&(e.forward=t),this.repeatAnimation(e);return}if(e.inReverse!==t&&0===e.repeatCounter){e.complete();return}e.forward=t;var i=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e.yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?(e.inReverse&&!e.forward||(e.forward=!0),this.repeatAnimation(e)):e.complete():this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.setCurrentFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return -1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop){if(0===e._pendingStopValue)return e.stop();e._pendingStopValue--}e.repeatDelay>0&&!e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e.repeatDelay):(e.repeatCounter--,e.forward?e.setCurrentFrame(e.currentFrame.nextFrame):e.setCurrentFrame(e.currentFrame.prevFrame),e.isPlaying&&(this.getNextTick(e),e.handleRepeat()))},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(t){e.frames.push(t.toJSON())}),e},updateFrameSequence:function(){for(var e,t=this.frames.length,i=1/(t-1),n=0;n<t;n++)(e=this.frames[n]).index=n+1,e.isFirst=!1,e.isLast=!1,e.progress=n*i,0===n?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[n+1])):n===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[n-1],e.nextFrame=this.frames[n+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});e.exports=l},41138:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r){void 0===r&&(r=!1),this.textureKey=e,this.textureFrame=t,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=r},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});e.exports=n},60848:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42099),r=i(83419),s=i(90330),a=i(50792),o=i(74943),h=i(8443),c=i(95540),l=i(35154),u=i(36383),d=i(20283),f=i(41836),p=new r({Extends:a,initialize:function(e){a.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",e.events.once(h.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(h.DESTROY,this.destroy,this)},addMix:function(e,t,i){var n=this.anims,r=this.mixes,s="string"==typeof e?e:e.key,a="string"==typeof t?t:t.key;if(n.has(s)&&n.has(a)){var o=r.get(s);o||(o={}),o[a]=i,r.set(s,o)}return this},removeMix:function(e,t){var i=this.mixes,n="string"==typeof e?e:e.key,r=i.get(n);if(r){if(t){var s="string"==typeof t?t:t.key;r.hasOwnProperty(s)&&delete r[s]}else t||i.delete(n)}return this},getMix:function(e,t){var i=this.mixes,n="string"==typeof e?e:e.key,r="string"==typeof t?t:t.key,s=i.get(n);return s&&s.hasOwnProperty(r)?s[r]:0},add:function(e,t){return this.anims.has(e)?console.warn("Animation key exists: "+e):(t.key=e,this.anims.set(e,t),this.emit(o.ADD_ANIMATION,e,t)),this},exists:function(e){return this.anims.has(e)},createFromAseprite:function(e,t,i){var n=[],r=this.game.cache.json.get(e);if(!r)return console.warn("No Aseprite data found for: "+e),n;var s=this,a=l(r,"meta",null),o=l(r,"frames",null);return a&&o&&l(a,"frameTags",[]).forEach(function(r){var a=[],h=c(r,"name",null),l=c(r,"from",0),d=c(r,"to",0),f=c(r,"direction","forward");if(h&&(!t||t&&t.indexOf(h)>-1)){for(var p,g=0,m=l;m<=d;m++){var v=m.toString(),y=o[v];if(y){var b=c(y,"duration",u.MAX_SAFE_INTEGER);a.push({key:e,frame:v,duration:b}),g+=b}}"reverse"===f&&(a=a.reverse());var x={key:h,frames:a,duration:g,yoyo:"pingpong"===f};i?i.anims&&(p=i.anims.create(x)):p=s.create(x),p&&n.push(p)}}),n},create:function(e){var t=e.key,i=!1;return t&&((i=this.get(t))?console.warn("AnimationManager key already exists: "+t):(i=new n(this,t,e),this.anims.set(t,i),this.emit(o.ADD_ANIMATION,t,i))),i},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"==typeof e&&(e=JSON.parse(e));var i=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var n=0;n<e.anims.length;n++)i.push(this.create(e.anims[n]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&i.push(this.create(e));return i},generateFrameNames:function(e,t){var i,n=l(t,"prefix",""),r=l(t,"start",0),s=l(t,"end",0),a=l(t,"suffix",""),o=l(t,"zeroPad",0),h=l(t,"outputArray",[]),c=l(t,"frames",!1);if(!this.textureManager.exists(e))return console.warn('Texture "%s" not found',e),h;var u=this.textureManager.get(e);if(!u)return h;if(t)for(c||(c=d(r,s)),i=0;i<c.length;i++){var p=n+f(c[i],o,"0",1)+a;u.has(p)?h.push({key:e,frame:p}):console.warn('Frame "%s" not found in texture "%s"',p,e)}else for(i=0,c=u.getFrameNames();i<c.length;i++)h.push({key:e,frame:c[i]});return h},generateFrameNumbers:function(e,t){var i=l(t,"start",0),n=l(t,"end",-1),r=l(t,"first",!1),s=l(t,"outputArray",[]),a=l(t,"frames",!1);if(!this.textureManager.exists(e))return console.warn('Texture "%s" not found',e),s;var o=this.textureManager.get(e);if(!o)return s;r&&o.has(r)&&s.push({key:e,frame:r}),a||(-1===n&&(n=o.frameTotal-2),a=d(i,n));for(var h=0;h<a.length;h++){var c=a[h];o.has(c)?s.push({key:e,frame:c}):console.warn('Frame "%s" not found in texture "%s"',c,e)}return s},get:function(e){return this.anims.get(e)},getAnimsFromTexture:function(e){for(var t=this.textureManager.get(e).key,i=this.anims.getArray(),n=[],r=0;r<i.length;r++)for(var s=i[r],a=s.frames,o=0;o<a.length;o++)if(a[o].textureKey===t){n.push(s.key);break}return n},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)t[i].anims.play(e);return this},staggerPlay:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=!0),Array.isArray(t)||(t=[t]);var r=t.length;!n&&r--;for(var s=0;s<t.length;s++){var a=i<0?Math.abs(i)*(r-s):i*s;t[s].anims.playAfterDelay(e,a)}return this},remove:function(e){var t=this.get(e);return t&&(this.emit(o.REMOVE_ANIMATION,e,t),this.anims.delete(e),this.removeMix(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(e){var t={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==e&&""!==e?t.anims.push(this.anims.get(e).toJSON()):this.anims.each(function(e,i){t.anims.push(i.toJSON())}),t},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});e.exports=p},9674:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42099),r=i(30976),s=i(83419),a=i(90330),o=i(74943),h=i(95540),c=new s({initialize:function(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(e){var t=this.parent;if(void 0===e)return this.nextAnimsQueue.length=0,this.nextAnim=null,t;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];this.nextAnim?this.nextAnimsQueue.push(n):this.nextAnim=n}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(e){this.isPlaying&&this.stop();var t=this.animationManager,i="string"==typeof e?e:h(e,"key",null),n=this.exists(i)?this.get(i):t.get(i);if(n){this.currentAnim=n;var s=n.getTotalFrames(),a=h(e,"frameRate",n.frameRate),o=h(e,"duration",n.duration);n.calculateDuration(this,s,o,a),this.delay=h(e,"delay",n.delay),this.repeat=h(e,"repeat",n.repeat),this.repeatDelay=h(e,"repeatDelay",n.repeatDelay),this.yoyo=h(e,"yoyo",n.yoyo),this.showBeforeDelay=h(e,"showBeforeDelay",n.showBeforeDelay),this.showOnStart=h(e,"showOnStart",n.showOnStart),this.hideOnComplete=h(e,"hideOnComplete",n.hideOnComplete),this.skipMissedFrames=h(e,"skipMissedFrames",n.skipMissedFrames),this.randomFrame=h(e,"randomFrame",n.randomFrame),this.timeScale=h(e,"timeScale",this.timeScale);var c=h(e,"startFrame",0);c>s&&(c=0),this.randomFrame&&(c=r(0,s-1));var l=n.frames[c];0!==c||this.forward||(l=n.getLastFrame()),this.currentFrame=l}else console.warn("Missing animation: "+i);return this.parent},pause:function(e){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==e&&this.setCurrentFrame(e),this.parent},resume:function(e){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==e&&this.setCurrentFrame(e),this.parent},playAfterDelay:function(e,t){if(this.isPlaying){var i=this.nextAnim,n=this.nextAnimsQueue;i&&n.unshift(i),this.nextAnim=e,this._pendingStop=1,this._pendingStopValue=t}else this.delayCounter=t,this.play(e,!0);return this.parent},playAfterRepeat:function(e,t){if(void 0===t&&(t=1),this.isPlaying){var i=this.nextAnim,n=this.nextAnimsQueue;i&&n.unshift(i),-1!==this.repeatCounter&&t>this.repeatCounter&&(t=this.repeatCounter),this.nextAnim=e,this._pendingStop=2,this._pendingStopValue=t}else this.play(e);return this.parent},play:function(e,t){void 0===t&&(t=!1);var i=this.currentAnim,n=this.parent,r="string"==typeof e?e:e.key;if(t&&this.isPlaying&&i.key===r)return n;if(i&&this.isPlaying){var s=this.animationManager.getMix(i.key,e);if(s>0)return this.playAfterDelay(e,s)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e)},playReverse:function(e,t){void 0===t&&(t=!1);var i="string"==typeof e?e:e.key;return t&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e))},startAnimation:function(e){this.load(e);var t=this.currentAnim,i=this.parent;return t&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,t.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),i},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(e,t){var i=this.currentAnim;if(i){var n=this.currentFrame,r=this.parent,s=n.textureFrame;r.emit(e,i,n,r,s),t&&r.emit(t+i.key,i,n,r,s)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var e=this.currentFrame;if(!e)return 0;var t=e.progress;return this.inReverse&&(t*=-1),t},setProgress:function(e){return this.forward||(e=1-e),this.setCurrentFrame(this.currentAnim.getFrameByProgress(e)),this.parent},setRepeat:function(e){return this.repeatCounter=-1===e?Number.MAX_VALUE:e,this.parent},globalRemove:function(e,t){void 0===t&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this.currentAnim,n=this.parent;return i?(t&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),i.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!e,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(i.frames[0]),this.parent):n},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(e)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(e)}return this.parent},stopAfterDelay:function(e){return this._pendingStop=1,this._pendingStopValue=e,this.parent},stopAfterRepeat:function(e){return void 0===e&&(e=1),-1!==this.repeatCounter&&e>this.repeatCounter&&(e=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=e,this.parent},stopOnFrame:function(e){return this._pendingStop=3,this._pendingStopValue=e,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(e,t){var i=this.currentAnim;if(this.isPlaying&&i&&!i.paused){if(this.accumulator+=t*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=t,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?i.nextFrame(this):i.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var n=0;do this.forward?i.nextFrame(this):i.previousFrame(this),n++;while(this.isPlaying&&this.accumulator>this.nextTick&&n<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(e){var t=this.parent;return this.currentFrame=e,t.texture=e.frame.texture,t.frame=e.frame,t.isCropped&&t.frame.updateCropUVs(t._crop,t.flipX,t.flipY),e.setAlpha&&(t.alpha=e.alpha),t.setSizeToFrame(),t._originComponent&&(e.frame.customPivot?t.setOrigin(e.frame.pivotX,e.frame.pivotY):t.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===e&&this.stop()),t},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(e){return this.anims?this.anims.get(e):null},exists:function(e){return!!this.anims&&this.anims.has(e)},create:function(e){var t=e.key,i=!1;return t&&((i=this.get(t))?console.warn("Animation key already exists: "+t):(i=new n(this,t,e),this.anims||(this.anims=new a),this.anims.set(t,i))),i},createFromAseprite:function(e,t){return this.animationManager.createFromAseprite(e,t,this.parent)},generateFrameNames:function(e,t){return this.animationManager.generateFrameNames(e,t)},generateFrameNumbers:function(e,t){return this.animationManager.generateFrameNumbers(e,t)},remove:function(e){var t=this.get(e);return t&&(this.currentAnim===t&&this.stop(),this.anims.delete(e)),t},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});e.exports=c},57090:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},25312:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationcomplete"},89580:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationcomplete-"},52860:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationrepeat"},63850:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationrestart"},99085:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationstart"},28087:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationstop"},1794:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="animationupdate"},52562:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pauseall"},57953:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},68339:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resumeall"},74943:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(90330),s=i(50792),a=i(24736),o=new n({initialize:function(){this.entries=new r,this.events=new s},add:function(e,t){return this.entries.set(e,t),this.events.emit(a.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(a.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});e.exports=o},24047:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2161),r=i(83419),s=i(8443),a=new r({initialize:function(e){this.game=e,this.binary=new n,this.bitmapFont=new n,this.json=new n,this.physics=new n,this.shader=new n,this.audio=new n,this.video=new n,this.text=new n,this.html=new n,this.obj=new n,this.tilemap=new n,this.xml=new n,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(e){return this.custom.hasOwnProperty(e)||(this.custom[e]=new n),this.custom[e]},destroy:function(){for(var e=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<e.length;t++)this[e[t]].destroy(),this[e[t]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});e.exports=a},51464:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},59261:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},24736:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(39506),a=i(50792),o=i(19715),h=i(87841),c=i(61340),l=i(80333),u=i(26099),d=new n({Extends:a,Mixins:[r.AlphaSingle,r.Visible],initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new h,this.dirty=!0,this._x=e,this._y=t,this._width=i,this._height=n,this._bounds=new h,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new c,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(i/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(e){this.renderList.push(e)},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this},getScroll:function(e,t,i){void 0===i&&(i=new u);var n=.5*this.width,r=.5*this.height;return i.x=e-n,i.y=t-r,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(e){var t=.5*this.width;return this.midPoint.x=e,this.scrollX=e-t,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(e){var t=.5*this.height;return this.midPoint.y=e,this.scrollY=e-t,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(e,t){return this.centerOnX(e),this.centerOnY(t),this},centerToBounds:function(){if(this.useBounds){var e=this._bounds,t=.5*this.width,i=.5*this.height;this.midPoint.set(e.centerX,e.centerY),this.scrollX=e.centerX-t,this.scrollY=e.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(e){if(this.disableCull)return e;var t=this.matrix.matrix,i=t[0],n=t[1],r=t[2],s=t[3],a=i*s-n*r;if(!a)return e;var o=t[4],h=t[5],c=this.scrollX,l=this.scrollY,u=this.width,d=this.height,f=this.y,p=f+d,g=this.x,m=g+u,v=this.culledObjects,y=e.length;a=1/a,v.length=0;for(var b=0;b<y;++b){var x=e[b];if(!x.hasOwnProperty("width")||x.parentContainer){v.push(x);continue}var E=x.width,w=x.height,T=x.x-c*x.scrollFactorX-E*x.originX,S=x.y-l*x.scrollFactorY-w*x.originY,A=T*i+S*r+o,C=T*n+S*s+h,_=(T+E)*i+(S+w)*r+o,I=(T+E)*n+(S+w)*s+h;_>g&&A<m&&I>f&&C<p&&v.push(x)}return v},getWorldPoint:function(e,t,i){void 0===i&&(i=new u);var n=this.matrix.matrix,r=n[0],s=n[1],a=n[2],o=n[3],h=n[4],c=n[5],l=r*o-s*a;if(!l)return i.x=e,i.y=t,i;var d=o*(l=1/l),f=-s*l,p=-a*l,g=r*l,m=(a*c-o*h)*l,v=(s*h-r*c)*l,y=Math.cos(this.rotation),b=Math.sin(this.rotation),x=this.zoomX,E=this.zoomY,w=this.scrollX,T=this.scrollY,S=e+(w*y-T*b)*x,A=t+(w*b+T*y)*E;return i.x=S*d+A*p+m,i.y=S*f+A*g+v,i},ignore:function(e){var t=this.id;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];Array.isArray(n)?this.ignore(n):n.isParent?this.ignore(n.getChildren()):n.cameraFilter|=t}return this},clampX:function(e){var t=this._bounds,i=this.displayWidth,n=t.x+(i-this.width)/2,r=Math.max(n,n+t.width-i);return e<n?e=n:e>r&&(e=r),e},clampY:function(e){var t=this._bounds,i=this.displayHeight,n=t.y+(i-this.height)/2,r=Math.max(n,n+t.height-i);return e<n?e=n:e>r&&(e=r),e},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(e){return void 0===e&&(e=0),this.rotation=s(e),this},setBackgroundColor:function(e){return void 0===e&&(e="rgba(0,0,0,0)"),this.backgroundColor=l(e),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(e,t,i,n,r){return void 0===r&&(r=!1),this._bounds.setTo(e,t,i,n),this.dirty=!0,this.useBounds=!0,r?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(e){void 0===e&&(e=new h);var t=this._bounds;return e.setTo(t.x,t.y,t.width,t.height),e},setName:function(e){return void 0===e&&(e=""),this.name=e,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setRoundPixels:function(e){return this.roundPixels=e,this},setScene:function(e,t){void 0===t&&(t=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=e,this.isSceneCamera=t;var i=e.sys;return this.sceneManager=i.game.scene,this.scaleManager=i.scale,this.cameraManager=i.cameras,this.updateSystem(),this},setScroll:function(e,t){return void 0===t&&(t=e),this.scrollX=e,this.scrollY=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},setViewport:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setZoom:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),0===e&&(e=.001),0===t&&(t=.001),this.zoomX=e,this.zoomY=t,this},setMask:function(e,t){return void 0===t&&(t=!0),this.mask=e,this._maskCamera=t?this.cameraManager.default:this,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var e={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(e.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),e},update:function(){},setIsSceneCamera:function(e){return this.isSceneCamera=e,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var e=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,t=this.sceneManager;e&&!this._customViewport?t.customViewports++:!e&&this._customViewport&&t.customViewports--,this.dirty=!0,this._customViewport=e}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(e){this._x=e,this.updateSystem()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.updateSystem()}},width:{get:function(){return this._width},set:function(e){this._width=e,this.updateSystem()}},height:{get:function(){return this._height},set:function(e){this._height=e,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(e){e!==this._scrollX&&(this._scrollX=e,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(e){e!==this._scrollY&&(this._scrollY=e,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(e){this._zoomX=e,this._zoomY=e,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(e){this._zoomX=e,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(e){this._zoomY=e,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});e.exports=d},38058:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71911),r=i(67502),s=i(45319),a=i(83419),o=i(31401),h=i(20052),c=i(19715),l=i(28915),u=i(87841),d=i(26099),f=new a({Extends:n,Mixins:[o.PostPipeline],initialize:function(e,t,i,r){n.call(this,e,t,i,r),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.rotateToEffect=new h.RotateTo(this),this.zoomEffect=new h.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(e,t){if(void 0===e)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=e,this.deadzone.height=t):this.deadzone=new u(0,0,e,t),this._follow){var i=this.width/2,n=this.height/2,s=this._follow.x-this.followOffset.x,a=this._follow.y-this.followOffset.y;this.midPoint.set(s,a),this.scrollX=s-i,this.scrollY=a-n}r(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(e,t,i,n,r,s){return this.fadeEffect.start(!1,e,t,i,n,!0,r,s)},fadeOut:function(e,t,i,n,r,s){return this.fadeEffect.start(!0,e,t,i,n,!0,r,s)},fadeFrom:function(e,t,i,n,r,s,a){return this.fadeEffect.start(!1,e,t,i,n,r,s,a)},fade:function(e,t,i,n,r,s,a){return this.fadeEffect.start(!0,e,t,i,n,r,s,a)},flash:function(e,t,i,n,r,s,a){return this.flashEffect.start(e,t,i,n,r,s,a)},shake:function(e,t,i,n,r){return this.shakeEffect.start(e,t,i,n,r)},pan:function(e,t,i,n,r,s,a){return this.panEffect.start(e,t,i,n,r,s,a)},rotateTo:function(e,t,i,n,r,s,a){return this.rotateToEffect.start(e,t,i,n,r,s,a)},zoomTo:function(e,t,i,n,r,s){return this.zoomEffect.start(e,t,i,n,r,s)},preRender:function(){this.renderList.length=0;var e=this.width,t=this.height,i=this.zoomX,n=this.zoomY,s=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(i)&&Number.isInteger(n);var a=e*this.originX,o=t*this.originY,h=this._follow,u=this.deadzone,d=this.scrollX,f=this.scrollY;u&&r(u,this.midPoint.x,this.midPoint.y);var p=!1;if(h&&!this.panEffect.isRunning){var g=this.lerp,m=h.x-this.followOffset.x,v=h.y-this.followOffset.y;u?(m<u.x?d=l(d,d-(u.x-m),g.x):m>u.right&&(d=l(d,d+(m-u.right),g.x)),v<u.y?f=l(f,f-(u.y-v),g.y):v>u.bottom&&(f=l(f,f+(v-u.bottom),g.y))):(d=l(d,m-a,g.x),f=l(f,v-o,g.y)),p=!0}this.roundPixels&&(d=Math.floor(d),f=Math.floor(f)),this.useBounds&&(d=this.clampX(d),f=this.clampY(f)),this.scrollX=d,this.scrollY=f;var y=d+.5*e,b=f+.5*t;this.midPoint.set(y,b);var x=Math.floor(e/i+.5),E=Math.floor(t/n+.5),w=Math.floor(y-x/2+.5),T=Math.floor(b-E/2+.5);this.worldView.setTo(w,T,x,E),s.applyITRS(Math.floor(this.x+a+.5),Math.floor(this.y+o+.5),this.rotation,i,n),s.translate(-a,-o),this.shakeEffect.preRender(),p&&this.emit(c.FOLLOW_UPDATE,this,h)},setLerp:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.lerp.set(e,t),this},setFollowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.followOffset.set(e,t),this},startFollow:function(e,t,i,n,r,a){void 0===t&&(t=!1),void 0===i&&(i=1),void 0===n&&(n=i),void 0===r&&(r=0),void 0===a&&(a=r),this._follow=e,this.roundPixels=t,i=s(i,0,1),n=s(n,0,1),this.lerp.set(i,n),this.followOffset.set(r,a);var o=this.width/2,h=this.height/2,c=e.x-r,l=e.y-a;return this.midPoint.set(c,l),this.scrollX=c-o,this.scrollY=l-h,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(e,t){this.visible&&(this.rotateToEffect.update(e,t),this.panEffect.update(e,t),this.zoomEffect.update(e,t),this.shakeEffect.update(e,t),this.flashEffect.update(e,t),this.fadeEffect.update(e,t))},destroy:function(){this.resetFX(),n.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});e.exports=f},32743:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38058),r=i(83419),s=i(95540),a=i(37277),o=i(37303),h=i(97480),c=i(44594),l=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.roundPixels=e.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,e.sys.events.once(c.BOOT,this.boot,this),e.sys.events.on(c.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new n(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(h.RESIZE,this.onResize,this),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var t=this.systems.events;t.on(c.UPDATE,this.update,this),t.once(c.SHUTDOWN,this.shutdown,this)},add:function(e,t,i,r,s,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),void 0===s&&(s=!1),void 0===a&&(a="");var o=new n(e,t,i,r);return o.setName(a),o.setScene(this.scene),o.setRoundPixels(this.roundPixels),o.id=this.getNextID(),this.cameras.push(o),s&&(this.main=o),o},addExisting:function(e,t){return(void 0===t&&(t=!1),-1===this.cameras.indexOf(e))?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),t&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,t=1,i=0;i<32;i++){for(var n=!1,r=0;r<e.length;r++){var s=e[r];if(s&&s.id===t){n=!0;continue}}if(!n)return t;t<<=1}return 0},getTotal:function(e){void 0===e&&(e=!1);for(var t=0,i=this.cameras,n=0;n<i.length;n++){var r=i[n];(!e||e&&r.visible)&&t++}return t},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var t=this.scene.sys.scale.width,i=this.scene.sys.scale.height,n=0;n<e.length;n++){var r=e[n],a=s(r,"x",0),o=s(r,"y",0),h=s(r,"width",t),c=s(r,"height",i),l=this.add(a,o,h,c);l.name=s(r,"name",""),l.zoom=s(r,"zoom",1),l.rotation=s(r,"rotation",0),l.scrollX=s(r,"scrollX",0),l.scrollY=s(r,"scrollY",0),l.roundPixels=s(r,"roundPixels",!1),l.visible=s(r,"visible",!0);var u=s(r,"backgroundColor",!1);u&&l.setBackgroundColor(u);var d=s(r,"bounds",null);if(d){var f=s(d,"x",0),p=s(d,"y",0),g=s(d,"width",t),m=s(d,"height",i);l.setBounds(f,p,g,m)}}return this},getCamera:function(e){for(var t=this.cameras,i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null},getCamerasBelowPointer:function(e){for(var t=this.cameras,i=e.x,n=e.y,r=[],s=0;s<t.length;s++){var a=t[s];a.visible&&a.inputEnabled&&o(a,i,n)&&r.unshift(a)}return r},remove:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0,n=this.cameras,r=0;r<e.length;r++){var s=n.indexOf(e[r]);-1!==s&&(t?n[s].destroy():n[s].renderList=[],n.splice(s,1),i++)}return!this.main&&n[0]&&(this.main=n[0]),i},render:function(e,t){for(var i=this.scene,n=this.cameras,r=0;r<n.length;r++){var s=n[r];if(s.visible&&s.alpha>0){s.preRender();var a=this.getVisibleChildren(t.getChildren(),s);e.render(i,a,s)}}},getVisibleChildren:function(e,t){return e.filter(function(e){return e.willRender(t)})},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(e,t)},onResize:function(e,t,i,n,r){for(var s=0;s<this.cameras.length;s++){var a=this.cameras[s];0===a._x&&0===a._y&&a._width===n&&a._height===r&&a.setSize(t.width,t.height)}},resize:function(e,t){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(e,t)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var t=this.systems.events;t.off(c.UPDATE,this.update,this),t.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(c.START,this.start,this),this.systems.events.off(c.DESTROY,this.destroy,this),this.systems.game.scale.off(h.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),e.exports=l},5020:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,a,o,h){if(void 0===e&&(e=!0),void 0===t&&(t=1e3),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=!1),void 0===o&&(o=null),void 0===h&&(h=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=e,this.progress=0,this.red=i,this.green=n,this.blue=r,this.alpha=e?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h;var c=e?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(c,this.camera,this,t,i,n,r),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(e){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,n=this.red/255,r=this.green/255,s=this.blue/255;return e.drawFillRect(i.x,i.y,i.width,i.height,t(s,r,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var e=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(e,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},10662:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,a,o){return void 0===e&&(e=250),void 0===t&&(t=255),void 0===i&&(i=255),void 0===n&&(n=255),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===o&&(o=this.camera.scene),!r&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.red=t,this.green=i,this.blue=n,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=o,this.camera.emit(s.FLASH_START,this.camera,this,e,t,i,n)),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(e){if(!this.isRunning)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning)return!1;var i=this.camera,n=this.red/255,r=this.green/255,s=this.blue/255;return e.drawFillRect(i.x,i.y,i.width,i.height,t(s,r,n,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},20359:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(62640),a=i(19715),o=i(26099),h=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,o,h){void 0===i&&(i=1e3),void 0===n&&(n=s.Linear),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===h&&(h=this.camera.scene);var c=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(e,t),c.getScroll(e,t,this.current),"string"==typeof n&&s.hasOwnProperty(n)?this.ease=s[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(a.PAN_START,this.camera,this,i,e,t)),c},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=n(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);r.getScroll(this.destination.x,this.destination.y,this.current);var a=this.source.x+(this.current.x-this.source.x)*s,o=this.source.y+(this.current.y-this.source.y)*s;r.setScroll(a,o),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,a,o)}else r.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,r.scrollX,r.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=h},34208:(e,t,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=i(62640),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,t,i,n,r,o,h){void 0===i&&(i=1e3),void 0===n&&(n=a.Linear),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===h&&(h=this.camera.scene),void 0===t&&(t=!1),this.shortestPath=t;var c=e;e<0?(c=-1*e,this.clockwise=!1):this.clockwise=!0;var l=360*Math.PI/180;c-=Math.floor(c/l)*l;var u=this.camera;if(!r&&this.isRunning)return u;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=u.rotation,this.destination=c,"string"==typeof n&&a.hasOwnProperty(n)?this.ease=a[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=h,this.shortestPath){var d=0,f=0;(d=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+l)-this.source)<(f=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+l)-this.destination)?this.clockwise=!0:d>f&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,i,c),u},update:function(e,t){if(this.isRunning){this._elapsed+=t;var i=n(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);this.current=r.rotation;var a=0,o=360*Math.PI/180,h=this.destination,c=this.current;!1===this.clockwise&&(h=this.current,c=this.destination),a=h>=c?Math.abs(h-c):Math.abs(h+o)-c;var l=0;l=this.clockwise?r.rotation+a*s:r.rotation-a*s,r.rotation=l,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,l)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=o},30330:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(19715),a=i(26099),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r){return void 0===e&&(e=100),void 0===t&&(t=.05),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,"number"==typeof t?this.intensity.set(t):this.intensity.set(t.x,t.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=r,this.camera.emit(s.SHAKE_START,this.camera,this,e,t)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,t){if(this.isRunning){if(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,r=this.camera.width,s=this.camera.height,a=this.camera.zoom;this._offsetX=(Math.random()*i.x*r*2-i.x*r)*a,this._offsetY=(Math.random()*i.y*s*2-i.y*s)*a,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()}},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});e.exports=o},45641:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(62640),a=i(19715),o=new r({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,i,n,r,o){void 0===t&&(t=1e3),void 0===i&&(i=s.Linear),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.source=h.zoom,this.destination=e,"string"==typeof i&&s.hasOwnProperty(i)?this.ease=s[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit(a.ZOOM_START,this.camera,this,t,e)),h},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=n(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=o},20052:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameradestroy"},32726:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeincomplete"},87807:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeinstart"},45917:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeoutcomplete"},95666:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerafadeoutstart"},47056:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameraflashcomplete"},91261:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="cameraflashstart"},45047:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="followupdate"},81927:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerapancomplete"},74264:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerapanstart"},54419:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},79330:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},93183:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerarotatecomplete"},80112:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerarotatestart"},62252:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerashakecomplete"},86017:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerashakestart"},539:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerazoomcomplete"},51892:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="camerazoomstart"},19715:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=new n({initialize:function(e){this.camera=r(e,"camera",null),this.left=r(e,"left",null),this.right=r(e,"right",null),this.up=r(e,"up",null),this.down=r(e,"down",null),this.zoomIn=r(e,"zoomIn",null),this.zoomOut=r(e,"zoomOut",null),this.zoomSpeed=r(e,"zoomSpeed",.01),this.minZoom=r(e,"minZoom",.001),this.maxZoom=r(e,"maxZoom",1e3),this.speedX=0,this.speedY=0;var t=r(e,"speed",null);"number"==typeof t?(this.speedX=t,this.speedY=t):(this.speedX=r(e,"speed.x",0),this.speedY=r(e,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this.up&&this.up.isDown?t.scrollY-=this.speedY*e|0:this.down&&this.down.isDown&&(t.scrollY+=this.speedY*e|0),this.left&&this.left.isDown?t.scrollX-=this.speedX*e|0:this.right&&this.right.isDown&&(t.scrollX+=this.speedX*e|0),this.zoomIn&&this.zoomIn.isDown?(t.zoom-=this.zoomSpeed,t.zoom<this.minZoom&&(t.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(t.zoom+=this.zoomSpeed,t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=s},58818:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=new n({initialize:function(e){this.camera=r(e,"camera",null),this.left=r(e,"left",null),this.right=r(e,"right",null),this.up=r(e,"up",null),this.down=r(e,"down",null),this.zoomIn=r(e,"zoomIn",null),this.zoomOut=r(e,"zoomOut",null),this.zoomSpeed=r(e,"zoomSpeed",.01),this.minZoom=r(e,"minZoom",.001),this.maxZoom=r(e,"maxZoom",1e3),this.accelX=0,this.accelY=0;var t=r(e,"acceleration",null);"number"==typeof t?(this.accelX=t,this.accelY=t):(this.accelX=r(e,"acceleration.x",0),this.accelY=r(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=r(e,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=r(e,"drag.x",0),this.dragY=r(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var n=r(e,"maxSpeed",null);"number"==typeof n?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=r(e,"maxSpeed.x",0),this.maxSpeedY=r(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(t.scrollX-=this._speedX*e|0),0!==this._speedY&&(t.scrollY-=this._speedY*e|0),0!==this._zoom&&(t.zoom+=this._zoom,t.zoom<this.minZoom?t.zoom=this.minZoom:t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=s},38865:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};e.exports=n},69547:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8054),s=i(42363),a=i(82264),o=i(95540),h=i(35154),c=i(41212),l=i(29747),u=i(75508),d=i(36060),f=i(80333),p=new n({initialize:function(e){void 0===e&&(e={});var t=h(e,"scale",null);this.width=h(t,"width",1024,e),this.height=h(t,"height",768,e),this.zoom=h(t,"zoom",1,e),this.parent=h(t,"parent",void 0,e),this.scaleMode=h(t,t?"mode":"scaleMode",0,e),this.expandParent=h(t,"expandParent",!0,e),this.autoRound=h(t,"autoRound",!1,e),this.autoCenter=h(t,"autoCenter",0,e),this.resizeInterval=h(t,"resizeInterval",500,e),this.fullscreenTarget=h(t,"fullscreenTarget",null,e),this.minWidth=h(t,"min.width",0,e),this.maxWidth=h(t,"max.width",0,e),this.minHeight=h(t,"min.height",0,e),this.maxHeight=h(t,"max.height",0,e),this.snapWidth=h(t,"snap.width",0,e),this.snapHeight=h(t,"snap.height",0,e),this.renderType=h(e,"type",r.AUTO),this.canvas=h(e,"canvas",null),this.context=h(e,"context",null),this.canvasStyle=h(e,"canvasStyle",null),this.customEnvironment=h(e,"customEnvironment",!1),this.sceneConfig=h(e,"scene",null),this.seed=h(e,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=h(e,"title",""),this.gameURL=h(e,"url","https://phaser.io/"+r.LOG_VERSION),this.gameVersion=h(e,"version",""),this.autoFocus=h(e,"autoFocus",!0),this.stableSort=h(e,"stableSort",-1),-1===this.stableSort&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=h(e,"dom.createContainer",!1),this.domPointerEvents=h(e,"dom.pointerEvents","none"),this.inputKeyboard=h(e,"input.keyboard",!0),this.inputKeyboardEventTarget=h(e,"input.keyboard.target",window),this.inputKeyboardCapture=h(e,"input.keyboard.capture",[]),this.inputMouse=h(e,"input.mouse",!0),this.inputMouseEventTarget=h(e,"input.mouse.target",null),this.inputMousePreventDefaultDown=h(e,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=h(e,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=h(e,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=h(e,"input.mouse.preventDefaultWheel",!0),this.inputTouch=h(e,"input.touch",a.input.touch),this.inputTouchEventTarget=h(e,"input.touch.target",null),this.inputTouchCapture=h(e,"input.touch.capture",!0),this.inputActivePointers=h(e,"input.activePointers",1),this.inputSmoothFactor=h(e,"input.smoothFactor",0),this.inputWindowEvents=h(e,"input.windowEvents",!0),this.inputGamepad=h(e,"input.gamepad",!1),this.inputGamepadEventTarget=h(e,"input.gamepad.target",window),this.disableContextMenu=h(e,"disableContextMenu",!1),this.audio=h(e,"audio",{}),this.hideBanner=!1===h(e,"banner",null),this.hidePhaser=h(e,"banner.hidePhaser",!1),this.bannerTextColor=h(e,"banner.text","#ffffff"),this.bannerBackgroundColor=h(e,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=h(e,"fps",null),this.disablePreFX=h(e,"disablePreFX",!1),this.disablePostFX=h(e,"disablePostFX",!1);var i=h(e,"render",null);this.pipeline=h(i,"pipeline",null,e),this.autoMobilePipeline=h(i,"autoMobilePipeline",!0,e),this.defaultPipeline=h(i,"defaultPipeline",d.MULTI_PIPELINE,e),this.antialias=h(i,"antialias",!0,e),this.antialiasGL=h(i,"antialiasGL",!0,e),this.mipmapFilter=h(i,"mipmapFilter","",e),this.desynchronized=h(i,"desynchronized",!1,e),this.roundPixels=h(i,"roundPixels",!1,e),this.pixelArt=h(i,"pixelArt",1!==this.zoom,e),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=h(i,"transparent",!1,e),this.clearBeforeRender=h(i,"clearBeforeRender",!0,e),this.preserveDrawingBuffer=h(i,"preserveDrawingBuffer",!1,e),this.premultipliedAlpha=h(i,"premultipliedAlpha",!0,e),this.failIfMajorPerformanceCaveat=h(i,"failIfMajorPerformanceCaveat",!1,e),this.powerPreference=h(i,"powerPreference","default",e),this.batchSize=h(i,"batchSize",4096,e),this.maxTextures=h(i,"maxTextures",-1,e),this.maxLights=h(i,"maxLights",10,e);var n=h(e,"backgroundColor",0);this.backgroundColor=f(n),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=h(e,"callbacks.preBoot",l),this.postBoot=h(e,"callbacks.postBoot",l),this.physics=h(e,"physics",{}),this.defaultPhysicsSystem=h(this.physics,"default",!1),this.loaderBaseURL=h(e,"loader.baseURL",""),this.loaderPath=h(e,"loader.path",""),this.loaderMaxParallelDownloads=h(e,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=h(e,"loader.crossOrigin",void 0),this.loaderResponseType=h(e,"loader.responseType",""),this.loaderAsync=h(e,"loader.async",!0),this.loaderUser=h(e,"loader.user",""),this.loaderPassword=h(e,"loader.password",""),this.loaderTimeout=h(e,"loader.timeout",0),this.loaderMaxRetries=h(e,"loader.maxRetries",2),this.loaderWithCredentials=h(e,"loader.withCredentials",!1),this.loaderImageLoadType=h(e,"loader.imageLoadType","XHR"),this.loaderLocalScheme=h(e,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=h(e,"fx.glow.quality",.1),this.glowFXDistance=h(e,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=h(e,"plugins",null),g=s.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:c(p)&&(this.installGlobalPlugins=o(p,"global",[]),this.installScenePlugins=o(p,"scene",[]),Array.isArray(p.default)?g=p.default:Array.isArray(p.defaultMerge)&&(g=g.concat(p.defaultMerge)))),this.defaultPlugins=g;var m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=h(e,"images.default",m+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=h(e,"images.missing",m+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=h(e,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=r.WEBGL:window.FORCE_CANVAS&&(this.renderType=r.CANVAS))}});e.exports=p},86054:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20623),r=i(27919),s=i(8054),a=i(89357);e.exports=function(e){var t,o,h=e.config;if((h.customEnvironment||h.canvas)&&h.renderType===s.AUTO)throw Error("Must set explicit renderType in custom environment");if(!h.customEnvironment&&!h.canvas&&h.renderType!==s.HEADLESS){if(h.renderType===s.AUTO&&(h.renderType=a.webGL?s.WEBGL:s.CANVAS),h.renderType===s.WEBGL){if(!a.webGL)throw Error("Cannot create WebGL context, aborting.")}else if(h.renderType===s.CANVAS){if(!a.canvas)throw Error("Cannot create Canvas context, aborting.")}else throw Error("Unknown value for renderer type: "+h.renderType)}h.antialias||r.disableSmoothing();var c=e.scale.baseSize,l=c.width,u=c.height;h.canvas?(e.canvas=h.canvas,e.canvas.width=l,e.canvas.height=u):e.canvas=r.create(e,l,u,h.renderType),h.canvasStyle&&(e.canvas.style=h.canvasStyle),h.antialias||n.setCrisp(e.canvas),h.renderType!==s.HEADLESS&&(t=i(68627),o=i(74797),h.renderType===s.WEBGL?e.renderer=new o(e):(e.renderer=new t(e),e.context=e.renderer.gameContext))}},96391:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8054);e.exports=function(e){var t=e.config;if(!t.hideBanner){var i="WebGL";t.renderType===n.CANVAS?i="Canvas":t.renderType===n.HEADLESS&&(i="Headless");var r=t.audio,s=e.device.audio;if(a=s.webAudio&&!r.disableWebAudio?"Web Audio":!r.noAudio&&(s.webAudio||s.audioData)?"HTML5 Audio":"No Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+n.VERSION+" / https://phaser.io");else{var a,o,h="",c=[h];Array.isArray(t.bannerBackgroundColor)?(t.bannerBackgroundColor.forEach(function(e){h=h.concat("%c "),c.push("background: "+e),o=e}),c[c.length-1]="color: "+t.bannerTextColor+"; background: "+o):(h=h.concat("%c "),c.push("color: "+t.bannerTextColor+"; background: "+t.bannerBackgroundColor)),c.push("background: transparent"),t.gameTitle&&(h=h.concat(t.gameTitle),t.gameVersion&&(h=h.concat(" v"+t.gameVersion)),t.hidePhaser||(h=h.concat(" / "))),t.hidePhaser||(h=h.concat("Phaser v"+n.VERSION+" ("+i+" | "+a+")")),h=h.concat(" %c "+t.gameURL),c[0]=h,console.log.apply(console,c)}}}},50127:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366),r=i(60848),s=i(24047),a=i(27919),o=i(83419),h=i(69547),c=i(83719),l=i(86054),u=i(45893),d=i(96391),f=i(82264),p=i(57264),g=i(50792),m=i(8443),v=i(7003),y=i(37277),b=i(77332),x=i(76531),E=i(60903),w=i(69442),T=i(17130),S=i(65898),A=i(51085),C=i(14747),_=new o({initialize:function(e){this.config=new h(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new r(this),this.textures=new T(this),this.cache=new s(this),this.registry=new u(this,new g),this.input=new v(this,this.config),this.scene=new E(this,this.config.sceneConfig),this.device=f,this.scale=new x(this,this.config),this.sound=null,this.sound=C.create(this),this.loop=new S(this,this.config.fps),this.plugins=new b(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),c(this),d(this),n(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var e=this.events;e.on(m.HIDDEN,this.onHidden,this),e.on(m.VISIBLE,this.onVisible,this),e.on(m.BLUR,this.onBlur,this),e.on(m.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(m.PRE_STEP,e,t),i.emit(m.STEP,e,t),this.scene.update(e,t),i.emit(m.POST_STEP,e,t);var n=this.renderer;n.preRender(),i.emit(m.PRE_RENDER,n,e,t),this.scene.render(n),n.postRender(),i.emit(m.POST_RENDER,n,e,t)}},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(m.PRE_STEP,e,t),i.emit(m.STEP,e,t),this.scene.update(e,t),i.emit(m.POST_STEP,e,t),this.scene.isProcessing=!1,i.emit(m.PRE_RENDER,null,e,t),i.emit(m.POST_RENDER,null,e,t)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var e=this.isPaused;this.isPaused=!0,e||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME,this.loop.pauseDuration)},resume:function(){var e=this.isPaused;this.isPaused=!1,e&&this.events.emit(m.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){void 0===t&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});e.exports=_},65898:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(35154),s=i(29747),a=i(43092),o=new n({initialize:function(e,t){this.game=e,this.raf=new a,this.started=!1,this.running=!1,this.minFps=r(t,"min",5),this.targetFps=r(t,"target",60),this.fpsLimit=r(t,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=r(t,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=r(t,"deltaHistory",10),this.panicMax=r(t,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=r(t,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var t=this.deltaIndex,i=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=Math.min(e=i[t],this._min)),i[t]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var r=0,s=0;s<n;s++)r+=i[s];return r/n},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var t=Math.max(0,e-this.lastTime);this.rawDelta=t,this.time+=this.rawDelta,this.smoothStep&&(t=this.smoothDelta(t)),this.delta+=t,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var t=Math.max(0,e-this.lastTime);this.rawDelta=t,this.time+=this.rawDelta,this.smoothStep&&(t=this.smoothDelta(t)),this.delta=t,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,t),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){void 0===e&&(e=!1);var t=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+t));var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});e.exports=o},51085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8443);e.exports=function(e){var t,i=e.events;void 0!==document.hidden?t="visibilitychange":["webkit","moz","ms"].forEach(function(e){void 0!==document[e+"Hidden"]&&(document.hidden=function(){return document[e+"Hidden"]},t=e+"visibilitychange")}),t&&document.addEventListener(t,function(e){document.hidden||"pause"===e.type?i.emit(n.HIDDEN):i.emit(n.VISIBLE)},!1),window.onblur=function(){i.emit(n.BLUR)},window.onfocus=function(){i.emit(n.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()}},97217:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="blur"},47548:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},19814:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="contextlost"},68446:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},41700:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="focus"},25432:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="hidden"},65942:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},59211:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},47789:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="poststep"},39066:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},460:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prestep"},16175:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},42331:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},11966:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="step"},32969:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="systemready"},94830:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="visible"},8443:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(5290),r=i(27919),s=i(35154);e.exports=function(e){var t=s(e,"data",[]),i=s(e,"canvas",null),a=s(e,"palette",n),o=s(e,"pixelWidth",1),h=s(e,"pixelHeight",o),c=s(e,"resizeCanvas",!0),l=s(e,"clearCanvas",!0),u=s(e,"preRender",null),d=s(e,"postRender",null),f=Math.floor(Math.abs(t[0].length*o)),p=Math.floor(Math.abs(t.length*h));i||(i=r.create2D(this,f,p),c=!1,l=!1),c&&(i.width=f,i.height=p);var g=i.getContext("2d",{willReadFrequently:!0});l&&g.clearRect(0,0,f,p),u&&u(i,g);for(var m=0;m<t.length;m++)for(var v=t[m],y=0;y<v.length;y++){var b=v[y];"."!==b&&" "!==b&&(g.fillStyle=a[b],g.fillRect(y*o,m*h,o,h))}return d&&d(i,g),i}},15822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36316),s=i(80021),a=i(26099),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,"CubicBezierCurve"),Array.isArray(e)&&(n=new a(e[6],e[7]),i=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i,this.p3=n},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.p0,n=this.p1,s=this.p2,o=this.p3;return t.set(r(e,i.x,n.x,s.x,o.x),r(e,i.y,n.y,s.y,o.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)e.lineTo(i[n].x,i[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(e){var t=e.points;return new o(new a(t[0],t[1]),new a(t[2],t[3]),new a(t[4],t[5]),new a(t[6],t[7]))},e.exports=o},80021:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(19217),s=i(87841),a=i(26099),o=new n({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(e,t){return void 0===t&&(t=32),e.strokePoints(this.getPoints(t))},getBounds:function(e,t){e||(e=new s),void 0===t&&(t=16);var i=this.getLength();t>i&&(t=i/2);var n=Math.max(1,Math.round(i/t));return r(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var t=Math.max(1,this.getLength()/e);return this.getSpacedPoints(t)},getEndPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i=[],n=this.getPoint(0,this._tmpVec2A),r=0;i.push(0);for(var s=1;s<=e;s++)i.push(r+=(t=this.getPoint(s/e,this._tmpVec2B)).distance(n)),n.copy(t);return this.cacheArcLengths=i,i},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var n=0;n<=e;n++)i.push(this.getPoint(n/e));return i},getRandomPoint:function(e){return void 0===e&&(e=new a),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,t,i){void 0===i&&(i=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var n=0;n<=e;n++){var r=this.getUtoTmapping(n/e,null,e);i.push(this.getPoint(r))}return i},getStartPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(0,e)},getTangent:function(e,t){void 0===t&&(t=new a);var i=e-1e-4,n=e+1e-4;return i<0&&(i=0),n>1&&(n=1),this.getPoint(i,this._tmpVec2A),this.getPoint(n,t),t.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,t){var i=this.getUtoTmapping(e);return this.getTangent(i,t)},getTFromDistance:function(e,t){return e<=0?0:this.getUtoTmapping(0,e,t)},getUtoTmapping:function(e,t,i){var n,r,s=this.getLengths(i),a=0,o=s.length;n=t?Math.min(t,s[o-1]):e*s[o-1];for(var h=0,c=o-1;h<=c;)if((r=s[a=Math.floor(h+(c-h)/2)]-n)<0)h=a+1;else if(r>0)c=a-1;else{c=a;break}if(s[a=c]===n)return a/(o-1);var l=s[a],u=s[a+1];return(a+(n-l)/(u-l))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});e.exports=o},73825:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(39506),a=i(35154),o=i(43396),h=i(26099),c=new n({Extends:r,initialize:function(e,t,i,n,o,c,l,u){if("object"==typeof e){var d=e;e=a(d,"x",0),t=a(d,"y",0),i=a(d,"xRadius",0),n=a(d,"yRadius",i),o=a(d,"startAngle",0),c=a(d,"endAngle",360),l=a(d,"clockwise",!1),u=a(d,"rotation",0)}else void 0===n&&(n=i),void 0===o&&(o=0),void 0===c&&(c=360),void 0===l&&(l=!1),void 0===u&&(u=0);r.call(this,"EllipseCurve"),this.p0=new h(e,t),this._xRadius=i,this._yRadius=n,this._startAngle=s(o),this._endAngle=s(c),this._clockwise=l,this._rotation=s(u)},getStartPoint:function(e){return void 0===e&&(e=new h),this.getPoint(0,e)},getResolution:function(e){return 2*e},getPoint:function(e,t){void 0===t&&(t=new h);for(var i=2*Math.PI,n=this._endAngle-this._startAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(n=r?0:i),this._clockwise&&!r&&(n===i?n=-i:n-=i);var s=this._startAngle+e*n,a=this.p0.x+this._xRadius*Math.cos(s),o=this.p0.y+this._yRadius*Math.sin(s);if(0!==this._rotation){var c=Math.cos(this._rotation),l=Math.sin(this._rotation),u=a-this.p0.x,d=o-this.p0.y;a=u*c-d*l+this.p0.x,o=u*l+d*c+this.p0.y}return t.set(a,o)},setXRadius:function(e){return this.xRadius=e,this},setYRadius:function(e){return this.yRadius=e,this},setWidth:function(e){return this.xRadius=e/2,this},setHeight:function(e){return this.yRadius=e/2,this},setStartAngle:function(e){return this.startAngle=e,this},setEndAngle:function(e){return this.endAngle=e,this},setClockwise:function(e){return this.clockwise=e,this},setRotation:function(e){return this.rotation=e,this},x:{get:function(){return this.p0.x},set:function(e){this.p0.x=e}},y:{get:function(){return this.p0.y},set:function(e){this.p0.y=e}},xRadius:{get:function(){return this._xRadius},set:function(e){this._xRadius=e}},yRadius:{get:function(){return this._yRadius},set:function(e){this._yRadius=e}},startAngle:{get:function(){return o(this._startAngle)},set:function(e){this._startAngle=s(e)}},endAngle:{get:function(){return o(this._endAngle)},set:function(e){this._endAngle=s(e)}},clockwise:{get:function(){return this._clockwise},set:function(e){this._clockwise=e}},angle:{get:function(){return o(this._rotation)},set:function(e){this._rotation=s(e)}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});c.fromJSON=function(e){return new c(e)},e.exports=c},33951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(19217),a=i(87841),o=i(26099),h=new n({Extends:r,initialize:function(e,t){r.call(this,"LineCurve"),Array.isArray(e)&&(t=new o(e[2],e[3]),e=new o(e[0],e[1])),this.p0=e,this.p1=t,this.arcLengthDivisions=1},getBounds:function(e){return void 0===e&&(e=new a),s([this.p0,this.p1],e)},getStartPoint:function(e){return void 0===e&&(e=new o),e.copy(this.p0)},getResolution:function(e){return void 0===e&&(e=1),e},getPoint:function(e,t){return(void 0===t&&(t=new o),1===e)?t.copy(this.p1):(t.copy(this.p1).subtract(this.p0).scale(e).add(this.p0),t)},getPointAt:function(e,t){return this.getPoint(e,t)},getTangent:function(e,t){return void 0===t&&(t=new o),t.copy(this.p1).subtract(this.p0).normalize(),t},getUtoTmapping:function(e,t,i){var n;if(t){var r=this.getLengths(i),s=r[r.length-1];n=Math.min(t,s)/s}else n=e;return n},draw:function(e){return e.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});h.fromJSON=function(e){var t=e.points;return new h(new o(t[0],t[1]),new o(t[2],t[3]))},e.exports=h},14744:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(80021),s=i(32112),a=i(26099),o=new n({Extends:r,initialize:function(e,t,i){r.call(this,"QuadraticBezierCurve"),Array.isArray(e)&&(i=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=i},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.p0,n=this.p1,r=this.p2;return t.set(s(e,i.x,n.x,r.x),s(e,i.y,n.y,r.y))},draw:function(e,t){void 0===t&&(t=32);var i=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)e.lineTo(i[n].x,i[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(e){var t=e.points;return new o(new a(t[0],t[1]),new a(t[2],t[3]),new a(t[4],t[5]))},e.exports=o},42534:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87842),r=i(83419),s=i(80021),a=i(26099),o=new r({Extends:s,initialize:function(e){void 0===e&&(e=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(e){for(var t=0;t<e.length;t++){var i=new a;"number"==typeof e[t]?(i.x=e[t],i.y=e[t+1],t++):Array.isArray(e[t])?(i.x=e[t][0],i.y=e[t][1]):(i.x=e[t].x,i.y=e[t].y),this.points.push(i)}return this},addPoint:function(e,t){var i=new a(e,t);return this.points.push(i),i},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,t){void 0===t&&(t=new a);var i=this.points,r=(i.length-1)*e,s=Math.floor(r),o=r-s,h=i[0===s?s:s-1],c=i[s],l=i[s>i.length-2?i.length-1:s+1],u=i[s>i.length-3?i.length-1:s+2];return t.set(n(o,h.x,c.x,l.x,u.x),n(o,h.y,c.y,l.y,u.y))},toJSON:function(){for(var e=[],t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});o.fromJSON=function(e){return new o(e.points)},e.exports=o},25410:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e,t){this.active=!1,this.p0=new r(e,t)},getPoint:function(e,t){return void 0===t&&(t=new r),t.copy(this.p0)},getPointAt:function(e,t){return this.getPoint(e,t)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});e.exports=s},46669:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(46728),s=i(73825),a=i(39429),o=i(33951),h=i(68618),c=i(14744),l=i(87841),u=i(42534),d=i(26099),f=i(36383),p=new n({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,"object"==typeof e?this.fromJSON(e):this.startPoint.set(e,t)},add:function(e){return this.curves.push(e),this},circleTo:function(e,t,i){return void 0===t&&(t=!1),this.ellipseTo(e,e,0,360,t,i)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new o(t,e)),this},cubicBezierTo:function(e,t,i,n,s,a){var o,h,c,l=this.getEndPoint();return e instanceof d?(o=e,h=t,c=i):(o=new d(i,n),h=new d(s,a),c=new d(e,t)),this.add(new r(l,o,h,c))},quadraticBezierTo:function(e,t,i,n){var r,s,a=this.getEndPoint();return e instanceof d?(r=e,s=t):(r=new d(i,n),s=new d(e,t)),this.add(new c(a,r,s))},draw:function(e,t){for(var i=0;i<this.curves.length;i++){var n=this.curves[i];n.active&&n.draw(e,t)}return e},ellipseTo:function(e,t,i,n,r,a){var o=new s(0,0,e,t,i,n,r,a),h=this.getEndPoint(this._tmpVec2A),c=o.getStartPoint(this._tmpVec2B);return h.subtract(c),o.x=h.x,o.y=h.y,this.add(o)},fromJSON:function(e){this.curves=[],this.cacheLengths=[],this.startPoint.set(e.x,e.y),this.autoClose=e.autoClose;for(var t=0;t<e.curves.length;t++){var i=e.curves[t];switch(i.type){case"LineCurve":this.add(o.fromJSON(i));break;case"EllipseCurve":this.add(s.fromJSON(i));break;case"SplineCurve":this.add(u.fromJSON(i));break;case"CubicBezierCurve":this.add(r.fromJSON(i));break;case"QuadraticBezierCurve":this.add(c.fromJSON(i))}}return this},getBounds:function(e,t){void 0===e&&(e=new l),void 0===t&&(t=16),e.x=Number.MAX_VALUE,e.y=Number.MAX_VALUE;for(var i=new l,n=f.MIN_SAFE_INTEGER,r=f.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var a=this.curves[s];a.active&&(a.getBounds(i,t),e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),n=Math.max(n,i.right),r=Math.max(r,i.bottom))}return e.right=n,e.bottom=r,e},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0;i<this.curves.length;i++)e.push(t+=this.curves[i].getLength());return this.cacheLengths=e,e},getCurveAt:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=t)return this.curves[n];n++}return null},getEndPoint:function(e){return void 0===e&&(e=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,e):e.copy(this.startPoint),e},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},getPoint:function(e,t){void 0===t&&(t=new d);for(var i=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,a=this.curves[r],o=a.getLength(),h=0===o?0:1-s/o;return a.getPointAt(h,t)}r++}return null},getPoints:function(e,t){e||t||(e=this.defaultDivisions);for(var i,n=[],r=0;r<this.curves.length;r++){var s=this.curves[r];if(s.active)for(var a=s.getResolution(e),o=s.getPoints(a,t),h=0;h<o.length;h++){var c=o[h];i&&i.equals(c)||(n.push(c),i=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},getRandomPoint:function(e){return void 0===e&&(e=new d),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getStartPoint:function(e){return void 0===e&&(e=new d),e.copy(this.startPoint)},getTangent:function(e,t){void 0===t&&(t=new d);for(var i=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,a=this.curves[r],o=a.getLength(),h=0===o?0:1-s/o;return a.getTangentAt(h,t)}r++}return null},lineTo:function(e,t){e instanceof d?this._tmpVec2B.copy(e):"object"==typeof e?this._tmpVec2B.setFromObject(e):this._tmpVec2B.set(e,t);var i=this.getEndPoint(this._tmpVec2A);return this.add(new o([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(e){return e.unshift(this.getEndPoint()),this.add(new u(e))},moveTo:function(e,t){return e instanceof d?this.add(new h(e.x,e.y)):this.add(new h(e,t))},toJSON:function(){for(var e=[],t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(e,t){return new p(e,t)}),e.exports=p},45893:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(24882),s=new n({initialize:function(e,t){this.parent=e,this.events=t,t||(this.events=e.events?e.events:e),this.list={},this.values={},this._frozen=!1,!e.hasOwnProperty("sys")&&this.events&&this.events.once(r.DESTROY,this.destroy,this)},get:function(e){var t=this.list;if(!Array.isArray(e))return t[e];for(var i=[],n=0;n<e.length;n++)i.push(t[e[n]]);return i},getAll:function(){var e={};for(var t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(e){var t={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(e)&&(t[i]=this.list[i]);return t},set:function(e,t){if(this._frozen)return this;if("string"==typeof e)return this.setValue(e,t);for(var i in e)this.setValue(i,e[i]);return this},inc:function(e,t){if(this._frozen)return this;void 0===t&&(t=1);var i=this.get(e);return void 0===i&&(i=0),this.set(e,i+t),this},toggle:function(e){return this._frozen||this.set(e,!this.get(e)),this},setValue:function(e,t){if(this._frozen)return this;if(this.has(e))this.values[e]=t;else{var i=this,n=this.list,s=this.events,a=this.parent;Object.defineProperty(this.values,e,{enumerable:!0,configurable:!0,get:function(){return n[e]},set:function(t){if(!i._frozen){var o=n[e];n[e]=t,s.emit(r.CHANGE_DATA,a,e,t,o),s.emit(r.CHANGE_DATA_KEY+e,a,t,o)}}}),n[e]=t,s.emit(r.SET_DATA,a,e,t)}return this},each:function(e,t){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[1]=r,i[2]=this.list[r],e.apply(t,i);return this},merge:function(e,t){for(var i in void 0===t&&(t=!0),e)e.hasOwnProperty(i)&&(t||!t&&!this.has(i))&&this.setValue(i,e[i]);return this},remove:function(e){if(this._frozen)return this;if(!Array.isArray(e))return this.removeValue(e);for(var t=0;t<e.length;t++)this.removeValue(e[t]);return this},removeValue:function(e){if(this.has(e)){var t=this.list[e];delete this.list[e],delete this.values[e],this.events.emit(r.REMOVE_DATA,this.parent,e,t)}return this},pop:function(e){var t=void 0;return!this._frozen&&this.has(e)&&(t=this.list[e],delete this.list[e],delete this.values[e],this.events.emit(r.REMOVE_DATA,this.parent,e,t)),t},has:function(e){return this.list.hasOwnProperty(e)},setFreeze:function(e){return this._frozen=e,this},reset:function(){for(var e in this.list)delete this.list[e],delete this.values[e];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(r.CHANGE_DATA),this.events.off(r.SET_DATA),this.events.off(r.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(e){this._frozen=!!e}},count:{get:function(){var e=0;for(var t in this.list)void 0!==this.list[t]&&e++;return e}}});e.exports=s},63646:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45893),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){r.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){r.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",o,"data"),e.exports=o},10700:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="changedata"},93608:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="changedata-"},60883:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},69780:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedata"},22166:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="setdata"},24882:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84148),r={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};e.exports=function(){if("function"==typeof importScripts)return r;r.audioData=!!window.Audio,r.webAudio=!!(window.AudioContext||window.webkitAudioContext);var e=document.createElement("audio"),t=!!e.canPlayType;try{if(t){var i=function(t,i){var n=e.canPlayType("audio/"+t).replace(/^no$/,"");return i?!!(n||e.canPlayType("audio/"+i).replace(/^no$/,"")):!!n};if(r.ogg=i('ogg; codecs="vorbis"'),r.opus=i('ogg; codecs="opus"',"opus"),r.mp3=i("mpeg"),r.wav=i("wav"),r.m4a=i("x-m4a"),r.aac=i("aac"),r.flac=i("flac","x-flac"),r.webm=i('webm; codecs="vorbis"'),""!==e.canPlayType('audio/mp4; codecs="ec-3"')){if(n.edge)r.dolby=!0;else if(n.safari&&n.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),a=parseInt(RegExp.$2,10);(10===s&&a>=11||s>10)&&(r.dolby=!0)}}}}catch(e){}return r}()},84148:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n,r=i(25892),s={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};e.exports=(n=navigator.userAgent,/Edg\/\d+/.test(n)?(s.edge=!0,s.es2019=!0):/OPR/.test(n)?(s.opera=!0,s.es2019=!0):/Chrome\/(\d+)/.test(n)&&!r.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10),s.es2019=s.chromeVersion>69):/Firefox\D+(\d+)/.test(n)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10),s.es2019=s.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(n)&&r.iOS?(s.mobileSafari=!0,s.es2019=!0):/MSIE (\d+\.\d+);/.test(n)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(n)&&!r.windowsPhone?(s.safari=!0,s.safariVersion=parseInt(RegExp.$1,10),s.es2019=s.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(s.silk=!0),s)},89289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r={supportInverseAlpha:!1,supportNewBlendModes:!1};e.exports=function(){if("function"!=typeof importScripts&&void 0!==document){var e,t,i;r.supportNewBlendModes=(e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(i=new Image).onload=function(){var s=new Image;s.onload=function(){var e=n.create2D(s,6).getContext("2d",{willReadFrequently:!0});if(e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(s,2,0),!e.getImageData(2,0,1,1))return!1;var t=e.getImageData(2,0,1,1).data;n.remove(s),r.supportNewBlendModes=255===t[0]&&0===t[1]&&0===t[2]},s.src=e+"/wCKxvRF"+t},i.src=e+"AP804Oa6"+t,!1),r.supportInverseAlpha=function(){var e=n.create2D(this,2).getContext("2d",{willReadFrequently:!0});e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var i=e.getImageData(1,0,1,1),r=i.data[0]===t.data[0]&&i.data[1]===t.data[1]&&i.data[2]===t.data[2]&&i.data[3]===t.data[3];return n.remove(this),r}()}return r}()},89357:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25892),r=i(84148),s=i(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};e.exports=function(){if("function"==typeof importScripts)return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch(e){a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var e,t,i,o=!1;return a.webGL=function(){if(window.WebGLRenderingContext)try{var e=s.createWebGL(this),t=e.getContext("webgl")||e.getContext("experimental-webgl"),i=s.create2D(this);return o=i.getContext("2d",{willReadFrequently:!0}).createImageData(1,1).data instanceof Uint8ClampedArray,s.remove(e),s.remove(i),!!t}catch(e){}return!1}(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,r.firefox&&r.firefoxVersion<21&&(a.getUserMedia=!1),!n.iOS&&(r.ie||r.firefox||r.chrome)&&(a.canvasBitBltShift=!0),(r.safari||r.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(a.littleEndian=(t=new Uint8Array(e=new ArrayBuffer(4)),i=new Uint32Array(e),t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===i[0]||2712847316!==i[0]&&null)),a.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==a.littleEndian&&o,a}()},91639:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};e.exports=function(){if("function"==typeof importScripts)return t;var e,i="Fullscreen",n="FullScreen",r=["request"+i,"request"+n,"webkitRequest"+i,"webkitRequest"+n,"msRequest"+i,"msRequest"+n,"mozRequest"+n,"mozRequest"+i];for(e=0;e<r.length;e++)if(document.documentElement[r[e]]){t.available=!0,t.request=r[e];break}var s=["cancel"+n,"exit"+i,"webkitCancel"+n,"webkitExit"+i,"msCancel"+n,"msExit"+i,"mozCancel"+n,"mozExit"+i];if(t.available){for(e=0;e<s.length;e++)if(document[s[e]]){t.cancel=s[e];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}()},31784:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84148),r={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};e.exports=("function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(r.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(r.mspointer=!0),navigator.getGamepads&&(r.gamepads=!0),"onwheel"in window||n.ie&&"WheelEvent"in window?r.wheelEvent="wheel":"onmousewheel"in window?r.wheelEvent="mousewheel":n.firefox&&"MouseScrollEvent"in window&&(r.wheelEvent="DOMMouseScroll")),r)},25892:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};e.exports=function(){if("function"==typeof importScripts)return t;var e=navigator.userAgent;/Windows/.test(e)?t.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(t.iOS=!0,t.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),t.iOSVersion=parseInt(RegExp.$1,10)):t.macOS=!0:/Android/.test(e)?t.android=!0:/Linux/.test(e)?t.linux=!0:/iP[ao]d|iPhone/i.test(e)?(t.iOS=!0,navigator.appVersion.match(/OS (\d+)/),t.iOSVersion=parseInt(RegExp.$1,10),t.iPhone=-1!==e.toLowerCase().indexOf("iphone"),t.iPad=-1!==e.toLowerCase().indexOf("ipad")):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?t.kindle=!0:/CrOS/.test(e)&&(t.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(t.android=!1,t.iOS=!1,t.macOS=!1,t.windows=!0,t.windowsPhone=!0);var i=/Silk/.test(e);return(t.windows||t.macOS||t.linux&&!i||t.chromeOS)&&(t.desktop=!0),(t.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(t.desktop=!1),navigator.standalone&&(t.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(t.cordova=!0),void 0!==window.ejecta&&(t.ejecta=!0)),void 0!==r&&r.versions&&r.versions.node&&(t.node=!0),t.node&&"object"==typeof r.versions&&(t.nodeWebkit=!!r.versions["node-webkit"],t.electron=!!r.versions.electron),/Crosswalk/.test(e)&&(t.crosswalk=!0),t.pixelRatio=window.devicePixelRatio||1,t}()},43267:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};e.exports=function(){if("function"==typeof importScripts)return r;var e=document.createElement("video"),t=!!e.canPlayType,i=/^no$/;try{t&&(e.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(r.ogg=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(r.h264=!0,r.mp4=!0),e.canPlayType("video/x-m4v").replace(i,"")&&(r.m4v=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(r.webm=!0),e.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(r.vp9=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(r.hls=!0))}catch(e){}return e.parentNode&&e.parentNode.removeChild(e),r.getVideoURL=function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i,s=n(e[t],"url",e[t]);if(0===s.indexOf("blob:"))return{url:s,type:""};if(i=0===s.indexOf("data:")?s.split(",")[0].match(/\/(.*?);/):s.match(/\.([a-zA-Z0-9]+)($|\?)/),r[i=n(e[t],"type",i?i[1]:"").toLowerCase()])return{url:s,type:i}}return null},r}()},82264:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=new Float32Array(20),s=new n({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(e){return this._matrix.set(e),this._dirty=!0,this},reset:function(){var e=this._matrix;return e.fill(0),e[0]=1,e[6]=1,e[12]=1,e[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var e=this._data;return this._dirty&&(e.set(this._matrix),e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,this._dirty=!1),e},brightness:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=e;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],t)},saturate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=2*e/3+1,n=-((i-1)*.5);return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],t)},desaturate:function(e){return void 0===e&&(e=!1),this.saturate(-1,e)},hue:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=Math.cos(e=e/180*Math.PI),n=Math.sin(e);return this.multiply([.213+.787*i+-(.213*n),.715+-(.715*i)+-(.715*n),.072+-(.072*i)+.928*n,0,0,.213+-(.213*i)+.143*n,.715+.28500000000000003*i+.14*n,.072+-(.072*i)+-.283*n,0,0,.213+-(.213*i)+-(.787*n),.715+-(.715*i)+.715*n,.072+.928*i+.072*n,0,0,0,0,0,1,0],t)},grayscale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!1),this.saturate(-e,t)},blackWhite:function(e){return void 0===e&&(e=!1),this.multiply(s.BLACK_WHITE,e)},contrast:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var i=e+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],t)},negative:function(e){return void 0===e&&(e=!1),this.multiply(s.NEGATIVE,e)},desaturateLuminance:function(e){return void 0===e&&(e=!1),this.multiply(s.DESATURATE_LUMINANCE,e)},sepia:function(e){return void 0===e&&(e=!1),this.multiply(s.SEPIA,e)},night:function(e,t){return void 0===e&&(e=.1),void 0===t&&(t=!1),this.multiply([-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)},lsd:function(e){return void 0===e&&(e=!1),this.multiply(s.LSD,e)},brown:function(e){return void 0===e&&(e=!1),this.multiply(s.BROWN,e)},vintagePinhole:function(e){return void 0===e&&(e=!1),this.multiply(s.VINTAGE,e)},kodachrome:function(e){return void 0===e&&(e=!1),this.multiply(s.KODACHROME,e)},technicolor:function(e){return void 0===e&&(e=!1),this.multiply(s.TECHNICOLOR,e)},polaroid:function(e){return void 0===e&&(e=!1),this.multiply(s.POLAROID,e)},shiftToBGR:function(e){return void 0===e&&(e=!1),this.multiply(s.SHIFT_BGR,e)},multiply:function(e,t){void 0===t&&(t=!1),t||this.reset();var i=this._matrix;return r.set(i),i.set([r[0]*e[0]+r[1]*e[5]+r[2]*e[10]+r[3]*e[15],r[0]*e[1]+r[1]*e[6]+r[2]*e[11]+r[3]*e[16],r[0]*e[2]+r[1]*e[7]+r[2]*e[12]+r[3]*e[17],r[0]*e[3]+r[1]*e[8]+r[2]*e[13]+r[3]*e[18],r[0]*e[4]+r[1]*e[9]+r[2]*e[14]+r[3]*e[19]+r[4],r[5]*e[0]+r[6]*e[5]+r[7]*e[10]+r[8]*e[15],r[5]*e[1]+r[6]*e[6]+r[7]*e[11]+r[8]*e[16],r[5]*e[2]+r[6]*e[7]+r[7]*e[12]+r[8]*e[17],r[5]*e[3]+r[6]*e[8]+r[7]*e[13]+r[8]*e[18],r[5]*e[4]+r[6]*e[9]+r[7]*e[14]+r[8]*e[19]+r[9],r[10]*e[0]+r[11]*e[5]+r[12]*e[10]+r[13]*e[15],r[10]*e[1]+r[11]*e[6]+r[12]*e[11]+r[13]*e[16],r[10]*e[2]+r[11]*e[7]+r[12]*e[12]+r[13]*e[17],r[10]*e[3]+r[11]*e[8]+r[12]*e[13]+r[13]*e[18],r[10]*e[4]+r[11]*e[9]+r[12]*e[14]+r[13]*e[19]+r[14],r[15]*e[0]+r[16]*e[5]+r[17]*e[10]+r[18]*e[15],r[15]*e[1]+r[16]*e[6]+r[17]*e[11]+r[18]*e[16],r[15]*e[2]+r[16]*e[7]+r[17]*e[12]+r[18]*e[17],r[15]*e[3]+r[16]*e[8]+r[17]*e[13]+r[18]*e[18],r[15]*e[4]+r[16]*e[9]+r[17]*e[14]+r[18]*e[19]+r[19]]),this._dirty=!0,this}});s.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e.exports=s},51767:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(29747),s=new n({initialize:function(e,t,i){this._rgb=[0,0,0],this.onChangeCallback=r,this.dirty=!1,this.set(e,t,i)},set:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this._rgb=[e,t,i],this.onChange(),this},equals:function(e,t,i){var n=this._rgb;return n[0]===e&&n[1]===t&&n[2]===i},onChange:function(){this.dirty=!0;var e=this._rgb;this.onChangeCallback.call(this,e[0],e[1],e[2])},r:{get:function(){return this._rgb[0]},set:function(e){this._rgb[0]=e,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(e){this._rgb[1]=e,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(e){this._rgb[2]=e,this.onChange()}},destroy:function(){this.onChangeCallback=null}});e.exports=s},60461:e=>{e.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(35893),s=i(86327),a=i(88417);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},46768:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},35827:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},46871:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66786),r=i(35893),s=i(7702);e.exports=function(e,t,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),n(e,r(t)+i,s(t)+a),e}},5198:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(26541),s=i(20786),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},11879:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=[];r[n.BOTTOM_CENTER]=i(54312),r[n.BOTTOM_LEFT]=i(46768),r[n.BOTTOM_RIGHT]=i(35827),r[n.CENTER]=i(46871),r[n.LEFT_CENTER]=i(5198),r[n.RIGHT_CENTER]=i(80503),r[n.TOP_CENTER]=i(89698),r[n.TOP_LEFT]=i(922),r[n.TOP_RIGHT]=i(21373),r[n.LEFT_BOTTOM]=r[n.BOTTOM_LEFT],r[n.LEFT_TOP]=r[n.TOP_LEFT],r[n.RIGHT_BOTTOM]=r[n.BOTTOM_RIGHT],r[n.RIGHT_TOP]=r[n.TOP_RIGHT],e.exports=function(e,t,i,n,s){return r[i](e,t,n,s)}},80503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(54380),s=i(20786),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},89698:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35893),r=i(17717),s=i(88417),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)-i),a(e,r(t)-o),e}},21373:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},91660:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=i(79291),s={In:i(91660),To:i(16694)};s=r(!1,s,n),e.exports=s},21578:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(35893),s=i(88417),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)+i),a(e,n(t)+o),e}},10210:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)-i),a(e,n(t)+o),e}},82341:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,r(t)+i),a(e,n(t)+o),e}},87958:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},40080:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(26541),s=i(20786),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)-i),s(e,n(t)+o),e}},88466:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(40136),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)-i),a(e,r(t)-o),e}},38829:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=[];r[n.BOTTOM_CENTER]=i(21578),r[n.BOTTOM_LEFT]=i(10210),r[n.BOTTOM_RIGHT]=i(82341),r[n.LEFT_BOTTOM]=i(87958),r[n.LEFT_CENTER]=i(40080),r[n.LEFT_TOP]=i(88466),r[n.RIGHT_BOTTOM]=i(19211),r[n.RIGHT_CENTER]=i(34609),r[n.RIGHT_TOP]=i(48741),r[n.TOP_CENTER]=i(49440),r[n.TOP_LEFT]=i(81288),r[n.TOP_RIGHT]=i(61323),e.exports=function(e,t,i,n,s){return r[i](e,t,n,s)}},19211:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(54380),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},34609:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7702),r=i(54380),s=i(20786),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,r(t)+i),s(e,n(t)+o),e}},48741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(385),a=i(66737);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(e,n(t)+i),a(e,r(t)-o),e}},49440:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35893),r=i(17717),s=i(86327),a=i(88417);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),s(e,r(t)-o),e}},81288:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26541),r=i(17717),s=i(86327),a=i(385);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)-i),s(e,r(t)-o),e}},61323:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54380),r=i(17717),s=i(86327),a=i(40136);e.exports=function(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),a(e,n(t)+i),s(e,r(t)-o),e}},16694:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(88417),r=i(20786);e.exports=function(e,t,i){return n(e,t),r(e,i)}},62235:e=>{e.exports=function(e){return e.y+e.height-e.height*e.originY}},72873:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62235),r=i(26541),s=i(54380),a=i(17717),o=i(87841);e.exports=function(e,t){void 0===t&&(t=new o);var i=r(e),h=a(e);return t.x=i,t.y=h,t.width=s(e)-i,t.height=n(e)-h,t}},35893:e=>{e.exports=function(e){return e.x-e.width*e.originX+.5*e.width}},7702:e=>{e.exports=function(e){return e.y-e.height*e.originY+.5*e.height}},26541:e=>{e.exports=function(e){return e.x-e.width*e.originX}},87431:e=>{e.exports=function(e){return e.width*e.originX}},46928:e=>{e.exports=function(e){return e.height*e.originY}},54380:e=>{e.exports=function(e){return e.x+e.width-e.width*e.originX}},17717:e=>{e.exports=function(e){return e.y-e.height*e.originY}},86327:e=>{e.exports=function(e,t){return e.y=t-e.height+e.height*e.originY,e}},88417:e=>{e.exports=function(e,t){var i=e.width*e.originX;return e.x=t+i-.5*e.width,e}},20786:e=>{e.exports=function(e,t){var i=e.height*e.originY;return e.y=t+i-.5*e.height,e}},385:e=>{e.exports=function(e,t){return e.x=t+e.width*e.originX,e}},40136:e=>{e.exports=function(e,t){return e.x=t-e.width+e.width*e.originX,e}},66737:e=>{e.exports=function(e,t){return e.y=t+e.height*e.originY,e}},58724:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:e=>{e.exports={setCrisp:function(e){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(t){e.style["image-rendering"]=t}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}}},27919:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n,r,s,a=i(8054),o=i(68703),h=[],c=!1;e.exports=(n=function(e,t,i,n,s){void 0===t&&(t=1),void 0===i&&(i=1),void 0===n&&(n=a.CANVAS),void 0===s&&(s=!1);var l,u=r(n);return null===u?(u={parent:e,canvas:document.createElement("canvas"),type:n},n===a.CANVAS&&h.push(u)):u.parent=e,l=u.canvas,s&&(u.parent=l),l.width=t,l.height=i,c&&n===a.CANVAS&&o.disable(l.getContext("2d",{willReadFrequently:!1})),l},r=function(e){if(void 0===e&&(e=a.CANVAS),e===a.WEBGL)return null;for(var t=0;t<h.length;t++){var i=h[t];if(!i.parent&&i.type===e)return i}return null},s=function(){var e=0;return h.forEach(function(t){t.parent&&e++}),e},{create2D:function(e,t,i){return n(e,t,i,a.CANVAS)},create:n,createWebGL:function(e,t,i){return n(e,t,i,a.WEBGL)},disableSmoothing:function(){c=!0},enableSmoothing:function(){c=!1},first:r,free:function(){return h.length-s()},pool:h,remove:function(e){var t=e instanceof HTMLCanvasElement;h.forEach(function(i){(t&&i.canvas===e||!t&&i.parent===e)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},total:s})},68703:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,i="";e.exports={disable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!1),e},enable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!0),e},getPrefix:t=function(e){for(var t=["i","webkitI","msI","mozI","oI"],i=0;i<t.length;i++){var n=t[i]+"mageSmoothingEnabled";if(n in e)return n}return null},isEnabled:function(e){return null!==i?e[i]:null}}},65208:e=>{e.exports=function(e,t){return void 0===t&&(t="none"),e.style.msTouchAction=t,e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e}},91610:e=>{e.exports=function(e,t){return void 0===t&&(t="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){e.style[i+"user-select"]=t}),e.style["-webkit-touch-callout"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e}},26253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37589),s=i(1e3),a=i(7537),o=i(87837),h=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(e,t,i,n)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,t,i,n,r){return void 0===n&&(n=255),void 0===r&&(r=!0),this._locked=!0,this.red=e,this.green=t,this.blue=i,this.alpha=n,this._locked=!1,this.update(r)},setGLTo:function(e,t,i,n){return void 0===n&&(n=1),this._locked=!0,this.redGL=e,this.greenGL=t,this.blueGL=i,this.alphaGL=n,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,t,i){return a(e,t,i,this)},update:function(e){if(void 0===e&&(e=!1),this._locked)return this;var t=this.r,i=this.g,n=this.b,a=this.a;return this._color=r(t,i,n),this._color32=s(t,i,n,a),this._rgba="rgba("+t+","+i+","+n+","+a/255+")",e&&o(t,i,n,this),this},updateHSV:function(){return o(this.r,this.g,this.b,this),this},clone:function(){return new h(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e)),n=Math.floor(e+Math.random()*(t-e)),r=Math.floor(e+Math.random()*(t-e));return this.setTo(i,n,r)},randomGray:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var i=Math.floor(e+Math.random()*(t-e));return this.setTo(i,i,i)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var t=this.r,i=this.g,n=this.b;return t=Math.max(0,Math.min(255,t-Math.round(-(e/100*255)))),i=Math.max(0,Math.min(255,i-Math.round(-(e/100*255)))),n=Math.max(0,Math.min(255,n-Math.round(-(e/100*255)))),this.setTo(t,i,n)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,a(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,a(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,a(this._h,this._s,e,this)}}});e.exports=h},92728:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);e.exports=function(e){void 0===e&&(e=1024);var t,i=[],r=255,s=0,a=0;for(t=0;t<=255;t++)i.push({r:r,g:t,b:a,color:n(r,t,a)});for(t=255,s=255;t>=0;t--)i.push({r:t,g:s,b:a,color:n(t,s,a)});for(t=0,r=0;t<=255;t++,s--)i.push({r:r,g:s,b:t,color:n(r,s,t)});for(t=0,s=0,a=255;t<=255;t++,a--,r++)i.push({r:r,g:s,b:a,color:n(r,s,a)});if(1024===e)return i;var o=[],h=0,c=1024/e;for(t=0;t<e;t++)o.push(i[Math.floor(h)]),h+=c;return o}},91588:e=>{e.exports=function(e){var t={r:e>>16&255,g:e>>8&255,b:255&e,a:255};return e>16777215&&(t.a=e>>>24),t}},62957:e=>{e.exports=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}},37589:e=>{e.exports=function(e,t,i){return e<<16|t<<8|i}},1e3:e=>{e.exports=function(e,t,i,n){return n<<24|e<<16|t<<8|i}},62183:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987),r=i(89528);e.exports=function(e,t,i){var s=i,a=i,o=i;if(0!==t){var h=i<.5?i*(1+t):i+t-i*t,c=2*i-h;s=r(c,h,e+1/3),a=r(c,h,e),o=r(c,h,e-1/3)}return new n().setGLTo(s,a,o,1)}},27939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7537);e.exports=function(e,t){void 0===e&&(e=1),void 0===t&&(t=1);for(var i=[],r=0;r<=359;r++)i.push(n(r/359,e,t));return i}},7537:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);function r(e,t,i,n){var r=(e+6*t)%6;return Math.round(255*(n-n*i*Math.max(0,Math.min(r,4-r,1))))}e.exports=function(e,t,i,s){void 0===t&&(t=1),void 0===i&&(i=1);var a=r(5,e,t,i),o=r(3,e,t,i),h=r(1,e,t,i);return s?s.setTo?s.setTo(a,o,h,s.alpha,!0):(s.r=a,s.g=o,s.b=h,s.color=n(a,o,h),s):{r:a,g:o,b:h,color:n(a,o,h)}}},70238:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){var t=new n;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(i){var r=parseInt(i[1],16),s=parseInt(i[2],16),a=parseInt(i[3],16);t.setTo(r,s,a)}return t}},89528:e=>{e.exports=function(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}},30100:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987),r=i(90664);e.exports=function(e){var t=r(e);return new n(t.r,t.g,t.b,t.a)}},90664:e=>{e.exports=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:255&e}:{a:255,r:e>>16&255,g:e>>8&255,b:255&e}}},13699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28915),r=function(e,t,i,r,s,a,o,h){void 0===o&&(o=100),void 0===h&&(h=0);var c=h/o;return{r:n(e,r,c),g:n(t,s,c),b:n(i,a,c)}};e.exports={RGBWithRGB:r,ColorWithRGB:function(e,t,i,n,s,a){return void 0===s&&(s=100),void 0===a&&(a=0),r(e.r,e.g,e.b,t,i,n,s,a)},ColorWithColor:function(e,t,i,n){return void 0===i&&(i=100),void 0===n&&(n=0),r(e.r,e.g,e.b,t.r,t.g,t.b,i,n)}}},68957:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){return new n(e.r,e.g,e.b,e.a)}},87388:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);e.exports=function(e){var t=new n,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase());if(i){var r=parseInt(i[1],10),s=parseInt(i[2],10),a=parseInt(i[3],10),o=void 0!==i[4]?parseFloat(i[4]):1;t.setTo(r,s,a,255*o)}return t}},87837:e=>{e.exports=function(e,t,i,n){void 0===n&&(n={h:0,s:0,v:0});var r=Math.min(e/=255,t/=255,i/=255),s=Math.max(e,t,i),a=s-r,o=0,h=0===s?0:a/s;return s!==r&&(s===e?o=(t-i)/a+(t<i?6:0):s===t?o=(i-e)/a+2:s===i&&(o=(e-t)/a+4),o/=6),n.hasOwnProperty("_h")?(n._h=o,n._s=h,n._v=s):(n.h=o,n.s=h,n.v=s),n}},75723:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62957);e.exports=function(e,t,i,r,s){return(void 0===r&&(r=255),void 0===s&&(s="#"),"#"===s)?"#"+(16777216+(e<<16)+(t<<8)+i).toString(16).slice(1,7):"0x"+n(r)+n(e)+n(t)+n(i)}},85386:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(40987);e.exports=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=255),new r(n(e,t),n(e,t),n(e,t))}},80333:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70238),r=i(30100),s=i(68957),a=i(87388);e.exports=function(e){switch(typeof e){case"string":if("rgb"===e.substr(0,3).toLowerCase())return a(e);return n(e);case"number":return r(e);case"object":return s(e)}}},3956:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40987);n.ColorSpectrum=i(92728),n.ColorToRGBA=i(91588),n.ComponentToHex=i(62957),n.GetColor=i(37589),n.GetColor32=i(1e3),n.HexStringToColor=i(70238),n.HSLToColor=i(62183),n.HSVColorWheel=i(27939),n.HSVToRGB=i(7537),n.HueToComponent=i(89528),n.IntegerToColor=i(30100),n.IntegerToRGB=i(90664),n.Interpolate=i(13699),n.ObjectToColor=i(68957),n.RandomRGB=i(85386),n.RGBStringToColor=i(87388),n.RGBToHSV=i(87837),n.RGBToString=i(75723),n.ValueToColor=i(80333),e.exports=n},27460:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39429),s=new n({initialize:function(e,t,i,n,r,s){t||(t=e.sys.make.image({x:i,y:n,key:r,frame:s,add:!1})),this.bitmapMask=t,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,i){e.pipelines.BITMAPMASK_PIPELINE.beginMask(this,t,i)},postRenderWebGL:function(e,t,i){e.pipelines.BITMAPMASK_PIPELINE.endMask(this,t,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});r.register("bitmapMask",function(e,t,i,n,r){return new s(this.scene,e,t,i,n,r)}),e.exports=s},80661:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.geometryMask=t,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return void 0===e&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,i){var n=e.gl;e.flush(),0===e.maskStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:i}),this.applyStencil(e,i,!0),e.maskCount++},applyStencil:function(e,t,i){var n=e.gl,r=this.geometryMask,s=e.maskCount;n.colorMask(!1,!1,!1,!1),i?(n.stencilFunc(n.EQUAL,s,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR),s++):(n.stencilFunc(n.EQUAL,s+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=s,r.renderWebGL(e,r,t),e.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,s,255):n.stencilFunc(n.EQUAL,s,255)},postRenderWebGL:function(e){var t=e.gl;e.maskStack.pop(),e.maskCount--,e.flush();var i=e.currentMask;if(0===e.maskStack.length)i.mask=null,t.disable(t.STENCIL_TEST);else{var n=e.maskStack[e.maskStack.length-1];n.mask.applyStencil(e,n.camera,!1),e.currentCameraMask.mask!==n.mask?(i.mask=n.mask,i.camera=n.camera):i.mask=null}},preRenderCanvas:function(e,t,i){var n=this.geometryMask;e.currentContext.save(),n.renderCanvas(e,n,i,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});e.exports=n},69781:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){t&&""!==t||(t="precision mediump float;\nuniform vec2 resolution;\nvarying vec2 fragCoord;\nvoid main () {\n    vec2 uv = fragCoord / resolution.xy;\n    gl_FragColor = vec4(uv.xyx, 1.0);\n}"),i&&""!==i||(i="precision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nvarying vec2 fragCoord;\nvarying vec2 outTexCoord;\nvoid main () {\n   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);\n   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);\n   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);\n}"),void 0===n&&(n=null),this.key=e,this.fragmentSrc=t,this.vertexSrc=i,this.uniforms=n}});e.exports=n},40366:e=>{e.exports=function(e,t){var i;if(t)"string"==typeof t?i=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(i=t);else if(e.parentElement||null===t)return e;return i||(i=document.body),i.appendChild(e),e}},83719:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366);e.exports=function(e){var t=e.config;if(t.parent&&t.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+e.scale.width+"px;","height: "+e.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+t.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),e.domContainer=i,n(i,t.parent)}}},57264:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25892);e.exports=function(e){if("complete"===document.readyState||"interactive"===document.readyState){e();return}var t=function(){document.removeEventListener("deviceready",t,!0),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0),e()};document.body?n.cordova?document.addEventListener("deviceready",t,!1):(document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)):window.setTimeout(t,20)}},57811:e=>{e.exports=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),i={w:0,h:0},n=document.createElement("div");return(n.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(n),i.w=90===t?n.offsetHeight:window.innerWidth,i.h=90===t?window.innerWidth:n.offsetHeight,document.documentElement.removeChild(n),n=null,90!==Math.abs(window.orientation))?i.h:i.w}},45818:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13560);e.exports=function(e,t){var i=window.screen,r=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);return r&&"string"==typeof r.type?r.type:"string"==typeof r?r:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?n.ORIENTATION.PORTRAIT:n.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?n.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?n.ORIENTATION.LANDSCAPE:void 0:t>e?n.ORIENTATION.PORTRAIT:n.ORIENTATION.LANDSCAPE}},74403:e=>{e.exports=function(e){var t;return""!==e&&("string"==typeof e?t=document.getElementById(e):e&&1===e.nodeType&&(t=e)),t||(t=document.body),t}},56836:e=>{e.exports=function(e){var t="";try{window.DOMParser?t=new DOMParser().parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(e){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null}},35846:e=>{e.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},43092:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(29747),s=new n({initialize:function(){this.isRunning=!1,this.callback=r,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var e=this;this.step=function t(i){e.callback(i),e.isRunning&&(e.timeOutID=window.requestAnimationFrame(t))},this.stepTimeout=function t(){e.isRunning&&(e.timeOutID=window.setTimeout(t,e.delay)),e.callback(window.performance.now())}},start:function(e,t,i){this.isRunning||(this.callback=e,this.isSetTimeOut=t,this.delay=i,this.isRunning=!0,this.timeOutID=t?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=r}});e.exports=s},84902:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};e.exports=n},47565:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(37277),a=new n({Extends:r,initialize:function(){r.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",a,"events"),e.exports=a},93055:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={EventEmitter:i(47565)}},20122:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t){void 0===t&&(t=1),r.call(this,s.BARREL,e),this.amount=t}});e.exports=a},32251:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h){void 0===i&&(i=1),void 0===n&&(n=1),void 0===a&&(a=1),void 0===o&&(o=1),void 0===h&&(h=4),r.call(this,s.BLOOM,e),this.steps=h,this.offsetX=i,this.offsetY=n,this.blurStrength=a,this.strength=o,this.glcolor=[1,1,1],null!=t&&(this.color=t)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},9047:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h){void 0===t&&(t=0),void 0===i&&(i=2),void 0===n&&(n=2),void 0===a&&(a=1),void 0===h&&(h=4),r.call(this,s.BLUR,e),this.quality=t,this.x=i,this.y=n,this.steps=h,this.strength=a,this.glcolor=[1,1,1],null!=o&&(this.color=o)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},27885:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h,c){void 0===t&&(t=.5),void 0===i&&(i=1),void 0===n&&(n=.2),void 0===a&&(a=!1),void 0===o&&(o=1),void 0===h&&(h=1),void 0===c&&(c=1),r.call(this,s.BOKEH,e),this.radius=t,this.amount=i,this.contrast=n,this.isTiltShift=a,this.strength=c,this.blurX=o,this.blurY=h}});e.exports=a},12578:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o){void 0===t&&(t=8),void 0===a&&(a=1),void 0===o&&(o=.005),r.call(this,s.CIRCLE,e),this.scale=a,this.feather=o,this.thickness=t,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=i&&(this.color=i),null!=n&&(this.backgroundColor=n)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}},backgroundColor:{get:function(){var e=this.glcolor2;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor2;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(e){this.glcolor2[3]=e}}});e.exports=a},15802:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89422),s=i(14811),a=new n({Extends:r,initialize:function(e){r.call(this),this.type=s.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});e.exports=a},72898:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.type=e,this.gameObject=t,this.active=!0},setActive:function(e){return this.active=e,this},destroy:function(){this.gameObject=null,this.active=!1}});e.exports=n},44553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n){void 0===t&&(t="__WHITE"),void 0===i&&(i=.005),void 0===n&&(n=.005),r.call(this,s.DISPLACEMENT,e),this.x=i,this.y=n,this.glTexture,this.setTexture(t)},setTexture:function(e){var t=this.gameObject.scene.sys.textures.getFrame(e);return t&&(this.glTexture=t.glTexture),this}});e.exports=a},68531:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===i&&(i=4),void 0===n&&(n=0),void 0===a&&(a=!1),r.call(this,s.GLOW,e),this.outerStrength=i,this.innerStrength=n,this.knockout=a,this.glcolor=[1,1,1,1],void 0!==t&&(this.color=t)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},37102:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h,c,l){void 0===n&&(n=.2),void 0===a&&(a=0),void 0===o&&(o=0),void 0===h&&(h=0),void 0===c&&(c=1),void 0===l&&(l=0),r.call(this,s.GRADIENT,e),this.alpha=n,this.size=l,this.fromX=a,this.fromY=o,this.toX=h,this.toY=c,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=t&&(this.color1=t),null!=i&&(this.color2=i)},color1:{get:function(){var e=this.glcolor1;return(e[0]<<16)+(e[1]<<8)+(0|e[2])},set:function(e){var t=this.glcolor1;t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e}},color2:{get:function(){var e=this.glcolor2;return(e[0]<<16)+(e[1]<<8)+(0|e[2])},set:function(e){var t=this.glcolor2;t[0]=e>>16&255,t[1]=e>>8&255,t[2]=255&e}}});e.exports=a},86886:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t){void 0===t&&(t=1),r.call(this,s.PIXELATE,e),this.amount=t}});e.exports=a},92322:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=.1),void 0===a&&(a=1),void 0===h&&(h=6),void 0===c&&(c=1),r.call(this,s.SHADOW,e),this.x=t,this.y=i,this.decay=n,this.power=a,this.glcolor=[0,0,0,1],this.samples=h,this.intensity=c,void 0!==o&&(this.color=o)},color:{get:function(){var e=this.glcolor;return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},set:function(e){var t=this.glcolor;t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255}}});e.exports=a},39563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.5),void 0===i&&(i=.5),void 0===n&&(n=3),void 0===a&&(a=!1),r.call(this,s.SHINE,e),this.speed=t,this.lineWidth=i,this.gradient=n,this.reveal=a}});e.exports=a},56448:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.5),void 0===i&&(i=.5),void 0===n&&(n=.5),void 0===a&&(a=.5),r.call(this,s.VIGNETTE,e),this.x=t,this.y=i,this.radius=n,this.strength=a}});e.exports=a},38433:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72898),s=i(14811),a=new n({Extends:r,initialize:function(e,t,i,n,a){void 0===t&&(t=.1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=!1),r.call(this,s.WIPE,e),this.progress=0,this.wipeWidth=t,this.direction=i,this.axis=n,this.reveal=a}});e.exports=a},14811:e=>{e.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(14811),s={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};s=n(!1,s,r),e.exports=s},25305:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(23568);e.exports=function(e,t,i){t.x=r(i,"x",0),t.y=r(i,"y",0),t.depth=r(i,"depth",0),t.flipX=r(i,"flipX",!1),t.flipY=r(i,"flipY",!1);var s=r(i,"scale",null);"number"==typeof s?t.setScale(s):null!==s&&(t.scaleX=r(s,"x",1),t.scaleY=r(s,"y",1));var a=r(i,"scrollFactor",null);"number"==typeof a?t.setScrollFactor(a):null!==a&&(t.scrollFactorX=r(a,"x",1),t.scrollFactorY=r(a,"y",1)),t.rotation=r(i,"rotation",0);var o=r(i,"angle",null);null!==o&&(t.angle=o),t.alpha=r(i,"alpha",1);var h=r(i,"origin",null);if("number"==typeof h)t.setOrigin(h);else if(null!==h){var c=r(h,"x",.5),l=r(h,"y",.5);t.setOrigin(c,l)}return t.blendMode=r(i,"blendMode",n.NORMAL),t.visible=r(i,"visible",!0),r(i,"add",!0)&&e.sys.displayList.add(t),t.preUpdate&&e.sys.updateList.add(t),t}},13059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23568);e.exports=function(e,t){var i=n(t,"anims",null);if(null===i)return e;if("string"==typeof i)e.anims.play(i);else if("object"==typeof i){var r=e.anims,s=n(i,"key",void 0);if(s){var a=n(i,"startFrame",void 0),o=n(i,"delay",0),h=n(i,"repeat",0),c=n(i,"repeatDelay",0),l=n(i,"yoyo",!1),u=n(i,"play",!1),d=n(i,"delayedPlay",0),f={key:s,delay:o,repeat:h,repeatDelay:c,yoyo:l,startFrame:a};u?r.play(f):d>0?r.playAfterDelay(f,d):r.load(f)}}return e}},8050:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(73162),s=i(37277),a=i(51708),o=i(44594),h=i(19186),c=new n({Extends:r,initialize:function(e){r.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(e){e.displayList&&e.displayList!==this&&e.removeFromDisplayList(),e.parentContainer&&e.parentContainer.remove(e),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(a.ADDED_TO_SCENE,e,this.scene),this.events.emit(o.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(a.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,e,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(h(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list;e.length;)e[0].destroy(!0);this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",c,"displayList"),e.exports=c},95643:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(53774),s=i(45893),a=i(50792),o=i(51708),h=i(44594),c=new n({Extends:a,initialize:function(e,t){a.call(this),this.scene=e,this.displayList=null,this.type=t,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(e,t){return this.data||(this.data=new s(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new s(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new s(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new s(this)),this.data.get(e)},setInteractive:function(e,t,i){return this.scene.sys.input.enable(this,e,t,i),this},disableInteractive:function(e){return void 0===e&&(e=!1),this.scene.sys.input.disable(this,e),this},removeInteractive:function(e){return void 0===e&&(e=!1),this.scene.sys.input.clear(this),e&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(e){return!(!(!this.displayList||!this.displayList.active||this.displayList.willRender(e))||c.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t;)if(i.unshift(t.getIndex(e)),e=t,t.parentContainer)t=t.parentContainer;else break;return this.displayList?i.unshift(this.displayList.getIndex(e)):i.unshift(this.scene.sys.displayList.getIndex(e)),i},addToDisplayList:function(e){return void 0===e&&(e=this.scene.sys.displayList),this.displayList&&this.displayList!==e&&this.removeFromDisplayList(),e.exists(this)||(this.displayList=e,e.add(this,!0),e.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),e.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var e=this.displayList||this.scene.sys.displayList;return e&&e.exists(this)&&(e.remove(this,!0),e.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),e.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var e=null;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e},destroy:function(e){this.scene&&!this.ignoreDestroy&&(void 0===e&&(e=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,e),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});c.RENDER_MASK=15,e.exports=c},44603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},r.register("GameObjectCreator",a,"make"),e.exports=a},39429:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(e){return(e.renderCanvas||e.renderWebGL)&&this.displayList.add(e),e.preUpdate&&this.updateList.add(e),e},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},r.register("GameObjectFactory",a,"add"),e.exports=a},91296:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=new n,s=new n,a=new n,o={camera:r,sprite:s,calc:a};e.exports=function(e,t,i){return s.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(t.matrix),i?(r.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),s.e=e.x,s.f=e.y):(s.e-=t.scrollX*e.scrollFactorX,s.f-=t.scrollY*e.scrollFactorY),r.multiply(s,a),o}},45027:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(25774),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){r.call(this),this.checkQueue=!0,this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.update,this),e.on(a.UPDATE,this.sceneUpdate,this),e.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,t){for(var i=this._active,n=i.length,r=0;r<n;r++){var s=i[r];s.active&&s.preUpdate.call(s,e,t)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(a.PRE_UPDATE,this.update,this),t.off(a.UPDATE,this.sceneUpdate,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",o,"updateList"),e.exports=o},3217:e=>{e.exports=function(e,t,i,n,r,s,a,o,h,c,l,u,d,f,p){var g=i.x-t.displayOriginX+r,m=i.y-t.displayOriginY+s,v=g+i.w,y=m+i.h,b=a.a,x=a.b,E=a.c,w=a.d,T=a.e,S=a.f,A=g*b+m*E+T,C=g*x+m*w+S,_=g*b+y*E+T,I=g*x+y*w+S,O=v*b+y*E+T,P=v*x+y*w+S,M=v*b+m*E+T,R=v*x+m*w+S;o&&(A=Math.round(A),C=Math.round(C),_=Math.round(_),I=Math.round(I),O=Math.round(O),P=Math.round(P),M=Math.round(M),R=Math.round(R)),e.batchQuad(t,A,C,_,I,O,P,M,R,n.u0,n.v0,n.u1,n.v1,h,c,l,u,d,f,p)}},53048:e=>{e.exports=function(e,t,i,n){if(void 0===i&&(i=!1),void 0===n)return n={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var r,s,a,o=e.text,h=o.length,c=e.maxWidth,l=e.wordWrapCharCode,u=Number.MAX_VALUE,d=Number.MAX_VALUE,f=0,p=0,g=e.fontData.chars,m=e.fontData.lineHeight,v=e.letterSpacing,y=e.lineSpacing,b=0,x=0,E=0,w=null,T=e._align,S=0,A=0,C=e.fontSize/e.fontData.size,_=C*e.scaleX,I=C*e.scaleY,O=null,P=0,M=[],R=Number.MAX_VALUE,L=0,D=0,k=0,N=[],F=[],B=null;if(c>0){a=o.split("\n");var U=[];for(r=0;r<a.length;r++){var V=a[r],G="",j="",W="",Y="";for(s=0;s<V.length;s++)E=V.charCodeAt(s),G+=V[s],(E===l||s===V.length-1)&&(function(e,t){for(var i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n),s=t.chars[r];s&&(i+=s.xAdvance)}return i*_}(Y=W+G,e.fontData)<=c?W=Y:(j=j.slice(0,-1),j+=(j?"\n":"")+W,W=G),G="");j=j.slice(0,-1),j+=(j?"\n":"")+W,U.push(j)}o=U.join("\n"),n.wrappedText=o,h=o.length}var H=0;for(r=0;r<h;r++){if(10===(E=o.charCodeAt(r))){null!==B&&(N.push({word:B.word,i:B.i,x:B.x*_,y:B.y*I,w:B.w*_,h:B.h*I}),B=null),O=null,M[D]=k,k>L&&(L=k),k<R&&(R=k),k=0,b=0,x=(m+y)*++D;continue}if(w=g[E]){if(S=b,A=x,null!==O){var z=w.kerning[P];S+=void 0!==z?z:0}u>S&&(u=S),d>A&&(d=A);var X=S+w.xAdvance,K=A+m;f<X&&(f=X),p<K&&(p=K);var q=w.xOffset+w.xAdvance+(void 0!==z?z:0);E===l?null!==B&&(N.push({word:B.word,i:B.i,x:B.x*_,y:B.y*I,w:B.w*_,h:B.h*I}),B=null):(null===B&&(B={word:"",i:H,x:b,y:x,w:0,h:m}),B.word=B.word.concat(o[r]),B.w+=q),F.push({i:H,idx:r,char:o[r],code:E,x:(w.xOffset+S)*C,y:(w.yOffset+x)*C,w:w.width*C,h:w.height*C,t:x*C,r:X*C,b:m*C,line:D,glyph:w}),b+=w.xAdvance+v+(void 0!==z?z:0),O=w,P=E,k=X*C,H++}}if(null!==B&&N.push({word:B.word,i:B.i,x:B.x*_,y:B.y*I,w:B.w*_,h:B.h*I}),M[D]=k,k>L&&(L=k),k<R&&(R=k),T>0)for(var J=0;J<F.length;J++){var $=F[J];if(1===T){var Q=(L-M[$.line])/2;$.x+=Q,$.r+=Q}else if(2===T){var Z=L-M[$.line];$.x+=Z,$.r+=Z}}var ee=n.local,et=n.global;return a=n.lines,ee.x=u*C,ee.y=d*C,ee.width=f*C,ee.height=p*C,et.x=e.x-e._displayOriginX+u*_,et.y=e.y-e._displayOriginY+d*I,et.width=f*_,et.height=p*I,a.shortest=R,a.longest=L,a.lengths=M,t&&(ee.x=Math.ceil(ee.x),ee.y=Math.ceil(ee.y),ee.width=Math.ceil(ee.width),ee.height=Math.ceil(ee.height),et.x=Math.ceil(et.x),et.y=Math.ceil(et.y),et.width=Math.ceil(et.width),et.height=Math.ceil(et.height),a.shortest=Math.ceil(R),a.longest=Math.ceil(L)),i&&(e._displayOriginX=e.originX*ee.width,e._displayOriginY=e.originY*ee.height,et.x=e.x-e._displayOriginX*e.scaleX,et.y=e.y-e._displayOriginY*e.scaleY,t&&(et.x=Math.ceil(et.x),et.y=Math.ceil(et.y))),n.words=N,n.characters=F,n.lines.height=m,n.scale=C,n.scaleX=e.scaleX,n.scaleY=e.scaleY,n}},61327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21859);e.exports=function(e,t,i,r,s,a,o){var h=e.sys.textures.get(i),c=h.get(r),l=e.sys.cache.xml.get(s);if(!c||!l)return!1;var u=n(l,c,a,o,h);return e.sys.cache.bitmapFont.add(t,{data:u,texture:i,frame:r,fromAtlas:!0}),!0}},6925:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154);e.exports=function(e,t){var i=t.width,r=t.height,s=Math.floor(i/2),a=Math.floor(r/2),o=n(t,"chars","");if(""!==o){var h=n(t,"image",""),c=e.sys.textures.getFrame(h),l=c.cutX,u=c.cutY,d=c.source.width,f=c.source.height,p=n(t,"offset.x",0),g=n(t,"offset.y",0),m=n(t,"spacing.x",0),v=n(t,"spacing.y",0),y=n(t,"lineSpacing",0),b=n(t,"charsPerRow",null);null===b&&(b=d/i)>o.length&&(b=o.length);for(var x=p,E=g,w={retroFont:!0,font:h,size:i,lineHeight:r+y,chars:{}},T=0,S=0;S<o.length;S++){var A=o.charCodeAt(S),C=(l+x)/d,_=(u+E)/f,I=(l+x+i)/d,O=(u+E+r)/f;w.chars[A]={x:x,y:E,width:i,height:r,centerX:s,centerY:a,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:C,v0:_,u1:I,v1:O},++T===b?(T=0,x=p,E+=r+v):x+=i+m}return{data:w,frame:null,texture:h}}}},21859:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t){return parseInt(e.getAttribute(t),10)}e.exports=function(e,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0);var a=i.cutX,o=i.cutY,h=i.source.width,c=i.source.height,l=i.sourceIndex,u={},d=e.getElementsByTagName("info")[0],f=e.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=t(d,"size"),u.lineHeight=t(f,"lineHeight")+r,u.chars={};var p=e.getElementsByTagName("char"),g=void 0!==i&&i.trimmed;if(g)var m=i.height,v=i.width;for(var y=0;y<p.length;y++){var b=p[y],x=t(b,"id"),E=String.fromCharCode(x),w=t(b,"x"),T=t(b,"y"),S=t(b,"width"),A=t(b,"height");g&&(w<v&&(v=w),T<m&&(m=T)),g&&0!==m&&0!==v&&(w-=i.x,T-=i.y);var C=(a+w)/h,_=(o+T)/c,I=(a+w+S)/h,O=(o+T+A)/c;if(u.chars[x]={x:w,y:T,width:S,height:A,centerX:Math.floor(S/2),centerY:Math.floor(A/2),xOffset:t(b,"xoffset"),yOffset:t(b,"yoffset"),xAdvance:t(b,"xadvance")+n,data:{},kerning:{},u0:C,v0:_,u1:I,v1:O},s&&0!==S&&0!==A){var P=s.add(E,l,w,T,S,A);P&&P.setUVs(S,A,C,_,I,O)}}var M=e.getElementsByTagName("kerning");for(y=0;y<M.length;y++){var R=M[y],L=t(R,"first"),D=t(R,"second"),k=t(R,"amount");u.chars[D].kerning[L]=k}return u}},196:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87662),r=i(79291),s={Parse:i(6925)};s=r(!1,s,n),e.exports=s},87662:e=>{e.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186),r=new(i(83419))({Extends:n,Mixins:[i(12310)],initialize:function(e,t,i,r,s,a,o){n.call(this,e,t,i,r,s,a,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(e,t){return this.cropWidth=e,this.cropHeight=t,this},setDisplayCallback:function(e){return this.displayCallback=e,this},setScrollX:function(e){return this.scrollX=e,this},setScrollY:function(e){return this.scrollY=e,this}});e.exports=r},86741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20926);e.exports=function(e,t,i,r){var s=t._text,a=s.length,o=e.currentContext;if(0!==a&&n(e,o,t,i,r)){i.addToRenderList(t);var h=t.fromAtlas?t.frame:t.texture.frames.__BASE,c=t.displayCallback,l=t.callbackData,u=t.fontData.chars,d=t.fontData.lineHeight,f=t._letterSpacing,p=0,g=0,m=0,v=null,y=0,b=0,x=0,E=0,w=0,T=0,S=null,A=0,C=t.frame.source.image,_=h.cutX,I=h.cutY,O=0,P=0,M=t._fontSize/t.fontData.size,R=t._align,L=0,D=0;t.getTextBounds(!1);var k=t._bounds.lines;1===R?D=(k.longest-k.lengths[0])/2:2===R&&(D=k.longest-k.lengths[0]),o.translate(-t.displayOriginX,-t.displayOriginY);var N=i.roundPixels;t.cropWidth>0&&t.cropHeight>0&&(o.beginPath(),o.rect(0,0,t.cropWidth,t.cropHeight),o.clip());for(var F=0;F<a;F++){if(P=M,O=0,10===(m=s.charCodeAt(F))){L++,1===R?D=(k.longest-k.lengths[L])/2:2===R&&(D=k.longest-k.lengths[L]),p=0,g+=d,S=null;continue}if(v=u[m]){if(y=_+v.x,b=I+v.y,x=v.width,E=v.height,w=v.xOffset+p-t.scrollX,T=v.yOffset+g-t.scrollY,null!==S){var B=v.kerning[A];w+=void 0!==B?B:0}if(c){l.index=F,l.charCode=m,l.x=w,l.y=T,l.scale=P,l.rotation=O,l.data=v.data;var U=c(l);w=U.x,T=U.y,P=U.scale,O=U.rotation}w*=P,T*=P,w+=D,p+=v.xAdvance+f+(void 0!==B?B:0),S=v,A=m,0!==x&&0!==E&&32!==m&&(N&&(w=Math.round(w),T=Math.round(T)),o.save(),o.translate(w,T),o.rotate(O),o.scale(P,P),o.drawImage(C,y,b,x,E,0,0,x,E),o.restore())}}o.restore()}}},11164:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2638),r=i(25305),s=i(44603),a=i(23568);s.register("dynamicBitmapText",function(e,t){void 0===e&&(e={});var i=a(e,"font",""),s=a(e,"text",""),o=a(e,"size",!1),h=new n(this.scene,0,0,i,s,o);return void 0!==t&&(e.add=t),r(this.scene,h,e),h})},72566:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2638);i(39429).register("dynamicBitmapText",function(e,t,i,r,s){return this.displayList.add(new n(this.scene,e,t,i,r,s))})},12310:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(73482),s=i(86741),e.exports={renderWebGL:r,renderCanvas:s}},73482:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(61340),s=i(70554),a=new r;e.exports=function(e,t,i,r){var o,h,c=t.text,l=c.length;if(0!==l){i.addToRenderList(t);var u=e.pipelines.set(t.pipeline,t),d=n(t,i,r);e.pipelines.preBatch(t);var f=d.sprite,p=d.calc,g=t.cropWidth>0||t.cropHeight>0;g&&(u.flush(),e.pushScissor(p.tx,p.ty,t.cropWidth*p.scaleX,t.cropHeight*p.scaleY));var m=t.frame.glTexture,v=t.tintFill,y=s.getTintAppendFloatAlpha(t.tintTopLeft,i.alpha*t._alphaTL),b=s.getTintAppendFloatAlpha(t.tintTopRight,i.alpha*t._alphaTR),x=s.getTintAppendFloatAlpha(t.tintBottomLeft,i.alpha*t._alphaBL),E=s.getTintAppendFloatAlpha(t.tintBottomRight,i.alpha*t._alphaBR),w=u.setGameObject(t),T=0,S=0,A=0,C=0,_=t.letterSpacing,I=0,O=0,P=t.scrollX,M=t.scrollY,R=t.fontData,L=R.chars,D=R.lineHeight,k=t.fontSize/R.size,N=0,F=t._align,B=0,U=0,V=t.getTextBounds(!1);t.maxWidth>0&&(l=(c=V.wrappedText).length);var G=t._bounds.lines;1===F?U=(G.longest-G.lengths[0])/2:2===F&&(U=G.longest-G.lengths[0]);for(var j=i.roundPixels,W=t.displayCallback,Y=t.callbackData,H=0;H<l;H++){if(10===(A=c.charCodeAt(H))){B++,1===F?U=(G.longest-G.lengths[B])/2:2===F&&(U=G.longest-G.lengths[B]),T=0,S+=D,h=null;continue}if(o=L[A]){I=o.width,O=o.height;var z=o.xOffset+T-P,X=o.yOffset+S-M;if(null!==h){var K=o.kerning[C]||0;z+=K,T+=K}if(T+=o.xAdvance+_,h=o,C=A,0!==I&&0!==O&&32!==A){if(k=t.fontSize/t.fontData.size,N=0,W){Y.color=0,Y.tint.topLeft=y,Y.tint.topRight=b,Y.tint.bottomLeft=x,Y.tint.bottomRight=E,Y.index=H,Y.charCode=A,Y.x=z,Y.y=X,Y.scale=k,Y.rotation=N,Y.data=o.data;var q=W(Y);z=q.x,X=q.y,k=q.scale,N=q.rotation,q.color?(y=q.color,b=q.color,x=q.color,E=q.color):(y=q.tint.topLeft,b=q.tint.topRight,x=q.tint.bottomLeft,E=q.tint.bottomRight),y=s.getTintAppendFloatAlpha(y,i.alpha*t._alphaTL),b=s.getTintAppendFloatAlpha(b,i.alpha*t._alphaTR),x=s.getTintAppendFloatAlpha(x,i.alpha*t._alphaBL),E=s.getTintAppendFloatAlpha(E,i.alpha*t._alphaBR)}z*=k,X*=k,z-=t.displayOriginX,X-=t.displayOriginY,z+=U,a.applyITRS(z,X,N,k,k),p.multiply(a,f);var J=o.u0,$=o.v0,Q=o.u1,Z=o.v1,ee=I,et=O,ei=f.e,en=f.f,er=et*f.c+f.e,es=et*f.d+f.f,ea=ee*f.a+et*f.c+f.e,eo=ee*f.b+et*f.d+f.f,eh=ee*f.a+f.e,ec=ee*f.b+f.f;j&&(ei=Math.round(ei),en=Math.round(en),er=Math.round(er),es=Math.round(es),ea=Math.round(ea),eo=Math.round(eo),eh=Math.round(eh),ec=Math.round(ec)),u.shouldFlush(6)&&(u.flush(),w=u.setGameObject(t)),u.batchQuad(t,ei,en,er,es,ea,eo,eh,ec,J,$,Q,Z,y,b,x,E,v,m,w)}}}g&&(u.flush(),e.popScissor()),e.pipelines.postBatch(t)}}},22186:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(31401),a=i(95643),o=i(53048),h=i(61327),c=i(21859),l=i(87841),u=i(18658),d=new n({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,u],initialize:function(e,t,i,n,r,s,h){void 0===r&&(r=""),void 0===h&&(h=0),a.call(this,e,"BitmapText"),this.font=n;var c=this.scene.sys.cache.bitmapFont.get(n);if(!c)throw Error("Invalid BitmapText key: "+n);this.fontData=c.data,this._text="",this._fontSize=s||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=h,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=c.fromAtlas,this.setTexture(c.texture,c.frame),this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(r)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(e){return this._fontSize=e,this._dirty=!0,this},setLetterSpacing:function(e){return void 0===e&&(e=0),this._letterSpacing=e,this._dirty=!0,this},setLineSpacing:function(e){return void 0===e&&(e=0),this.lineSpacing=e,this},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this.text&&(this._text=e.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=.5),this.dropShadowX=e,this.dropShadowY=t,this.dropShadowColor=i,this.dropShadowAlpha=n,this},setCharacterTint:function(e,t,i,n,s,a,o){void 0===e&&(e=0),void 0===t&&(t=1),void 0===i&&(i=!1),void 0===n&&(n=-1),void 0===s&&(s=n,a=n,o=n);var h=this.text.length;-1===t&&(t=h),e<0&&(e=h+e),e=r(e,0,h-1);for(var c=r(e+t,e,h),l=this.charColors,u=e;u<c;u++){var d=l[u];if(-1===n)l[u]=null;else{var f=i?1:0;d?(d.tintEffect=f,d.tintTL=n,d.tintTR=s,d.tintBL=a,d.tintBR=o):l[u]={tintEffect:f,tintTL:n,tintTR:s,tintBL:a,tintBR:o}}}return this},setWordTint:function(e,t,i,n,r,s,a){void 0===t&&(t=1);for(var o=this.getTextBounds().words,h="number"==typeof e,c=0,l=0;l<o.length;l++){var u=o[l];if((h&&l===e||!h&&u.word===e)&&(this.setCharacterTint(u.i,u.word.length,i,n,r,s,a),++c===t))break}return this},getTextBounds:function(e){var t=this._bounds;return(this._dirty||e||this.scaleX!==t.scaleX||this.scaleY!==t.scaleY)&&(o(this,e,!0,t),this._dirty=!1),t},getCharacterAt:function(e,t,i){for(var n=this.getLocalPoint(e,t,null,i),r=this.getTextBounds().characters,s=new l,a=0;a<r.length;a++){var o=r[a];if(s.setTo(o.x,o.t,o.r-o.x,o.b),s.contains(n.x,n.y))return o}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(e,t,i){void 0===t&&(t=this._fontSize),void 0===i&&(i=this._align);var n=this.scene.sys.cache.bitmapFont.get(e);return n&&(this.font=e,this.fontData=n.data,this._fontSize=t,this._align=i,this.fromAtlas=!0===n.fromAtlas,this.setTexture(n.texture,n.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(e,t){return this._maxWidth=e,this._dirty=!0,void 0!==t&&(this.wordWrapCharCode=t),this},align:{set:function(e){this._align=e,this._dirty=!0},get:function(){return this._align}},text:{set:function(e){this.setText(e)},get:function(){return this._text}},fontSize:{set:function(e){this._fontSize=e,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(e){this._letterSpacing=e,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(e){this._lineSpacing=e,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(e){this._maxWidth=e,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var e=s.ToJSON(this),t={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return e.data=t,e},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=h,d.ParseXMLBitmapFont=c,e.exports=d},37289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20926);e.exports=function(e,t,i,r){var s=t._text,a=s.length,o=e.currentContext;if(0!==a&&n(e,o,t,i,r)){i.addToRenderList(t);var h=t.fromAtlas?t.frame:t.texture.frames.__BASE,c=t.fontData.chars,l=t.fontData.lineHeight,u=t._letterSpacing,d=t._lineSpacing,f=0,p=0,g=0,m=null,v=0,y=0,b=0,x=0,E=0,w=0,T=null,S=0,A=h.source.image,C=h.cutX,_=h.cutY,I=t._fontSize/t.fontData.size,O=t._align,P=0,M=0,R=t.getTextBounds(!1);t.maxWidth>0&&(a=(s=R.wrappedText).length);var L=t._bounds.lines;1===O?M=(L.longest-L.lengths[0])/2:2===O&&(M=L.longest-L.lengths[0]),o.translate(-t.displayOriginX,-t.displayOriginY);for(var D=i.roundPixels,k=0;k<a;k++){if(10===(g=s.charCodeAt(k))){P++,1===O?M=(L.longest-L.lengths[P])/2:2===O&&(M=L.longest-L.lengths[P]),f=0,p+=l+d,T=null;continue}if(m=c[g]){if(v=C+m.x,y=_+m.y,b=m.width,x=m.height,E=m.xOffset+f,w=m.yOffset+p,null!==T){var N=m.kerning[S];E+=void 0!==N?N:0}E*=I,w*=I,E+=M,f+=m.xAdvance+u+(void 0!==N?N:0),T=m,S=g,0!==b&&0!==x&&32!==g&&(D&&(E=Math.round(E),w=Math.round(w)),o.save(),o.translate(E,w),o.scale(I,I),o.drawImage(A,v,y,b,x,0,0,b,x),o.restore())}}o.restore()}}},57336:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186),r=i(25305),s=i(44603),a=i(23568),o=i(35154);s.register("bitmapText",function(e,t){void 0===e&&(e={});var i=o(e,"font",""),s=a(e,"text",""),h=a(e,"size",!1),c=o(e,"align",0),l=new n(this.scene,0,0,i,s,h,c);return void 0!==t&&(e.add=t),r(this.scene,l,e),l})},34914:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22186);i(39429).register("bitmapText",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},18658:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(33590),s=i(37289),e.exports={renderWebGL:r,renderCanvas:s}},33590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3217),r=i(91296),s=i(70554);e.exports=function(e,t,i,a){var o,h,c;if(0!==t._text.length){i.addToRenderList(t);var l=e.pipelines.set(t.pipeline,t),u=r(t,i,a).calc;e.pipelines.preBatch(t);var d=i.roundPixels,f=i.alpha,p=t.charColors,g=t.tintFill,m=s.getTintAppendFloatAlpha,v=m(t.tintTopLeft,f*t._alphaTL),y=m(t.tintTopRight,f*t._alphaTR),b=m(t.tintBottomLeft,f*t._alphaBL),x=m(t.tintBottomRight,f*t._alphaBR),E=t.frame.glTexture,w=l.setGameObject(t),T=t.getTextBounds(!1).characters,S=t.dropShadowX,A=t.dropShadowY;if(0!==S||0!==A){var C=t.dropShadowColor,_=t.dropShadowAlpha,I=m(C,f*_*t._alphaTL),O=m(C,f*_*t._alphaTR),P=m(C,f*_*t._alphaBL),M=m(C,f*_*t._alphaBR);for(o=0;o<T.length;o++)c=(h=T[o]).glyph,32!==h.code&&0!==c.width&&0!==c.height&&n(l,t,h,c,S,A,u,d,I,O,P,M,1,E,w)}for(o=0;o<T.length;o++)if(c=(h=T[o]).glyph,32!==h.code&&0!==c.width&&0!==c.height){if(l.shouldFlush(6)&&(l.flush(),w=l.setGameObject(t)),p[h.i]){var R=p[h.i],L=R.tintEffect,D=m(R.tintTL,f*t._alphaTL),k=m(R.tintTR,f*t._alphaTR),N=m(R.tintBL,f*t._alphaBL),F=m(R.tintBR,f*t._alphaBR);n(l,t,h,c,0,0,u,d,D,k,N,F,L,E,w)}else n(l,t,h,c,0,0,u,d,v,y,b,x,g,E,w)}e.pipelines.postBatch(t)}}},6107:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(48011),r=i(46590),s=i(83419),a=i(31401),o=i(4327),h=i(95643),c=i(73162),l=new s({Extends:h,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,n],initialize:function(e,t,i,n,r){h.call(this,e,"Blitter"),this.setTexture(n,r),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(),this.children=new c,this.renderList=[],this.dirty=!1},create:function(e,t,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=this.children.length),void 0===i?i=this.frame:i instanceof o||(i=this.texture.get(i));var a=new r(this,e,t,i,n);return this.children.addAt(a,s,!1),this.dirty=!0,a},createFromCallback:function(e,t,i,n){for(var r=this.createMultiple(t,i,n),s=0;s<r.length;s++){var a=r[s];e.call(this,a,s)}return r},createMultiple:function(e,t,i){void 0===t&&(t=this.frame.name),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);var n=[],r=this;return t.forEach(function(t){for(var s=0;s<e;s++)n.push(r.create(0,0,t,i))}),n},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});e.exports=l},72396:e=>{e.exports=function(e,t,i,n){var r=t.getRenderList();if(0!==r.length){var s=e.currentContext,a=i.alpha*t.alpha;if(0!==a){i.addToRenderList(t),s.globalCompositeOperation=e.blendModes[t.blendMode],s.imageSmoothingEnabled=!t.frame.source.scaleMode;var o=t.x-i.scrollX*t.scrollFactorX,h=t.y-i.scrollY*t.scrollFactorY;s.save(),n&&n.copyToContext(s);for(var c=i.roundPixels,l=0;l<r.length;l++){var u=r[l],d=u.flipX||u.flipY,f=u.frame,p=f.canvasData,g=f.x,m=f.y,v=1,y=1,b=u.alpha*a;0!==b&&(s.globalAlpha=b,d?(u.flipX&&(v=-1,g-=p.width),u.flipY&&(y=-1,m-=p.height),p.width>0&&p.height>0&&(s.save(),s.translate(u.x+o,u.y+h),s.scale(v,y),s.drawImage(f.source.image,p.x,p.y,p.width,p.height,g,m,p.width,p.height),s.restore())):(c&&(g=Math.round(g),m=Math.round(m)),p.width>0&&p.height>0&&s.drawImage(f.source.image,p.x,p.y,p.width,p.height,g+u.x+o,m+u.y+h,p.width,p.height)))}s.restore()}}}},9403:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6107),r=i(25305),s=i(44603),a=i(23568);s.register("blitter",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),o=new n(this.scene,0,0,i,s);return void 0!==t&&(e.add=t),r(this.scene,o,e),o})},12709:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6107);i(39429).register("blitter",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},48011:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99485),s=i(72396),e.exports={renderWebGL:r,renderCanvas:s}},99485:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=i(70554),s=new n;e.exports=function(e,t,i,n){var a=t.getRenderList(),o=i.alpha*t.alpha;if(0!==a.length&&0!==o){i.addToRenderList(t);var h=e.pipelines.set(this.pipeline,t),c=i.scrollX*t.scrollFactorX,l=i.scrollY*t.scrollFactorY,u=s.copyFrom(i.matrix);n&&(u.multiplyWithOffset(n,-c,-l),c=0,l=0);var d=t.x-c,f=t.y-l,p=-1,g=i.roundPixels;e.pipelines.preBatch(t);for(var m=0;m<a.length;m++){var v=a[m],y=v.frame,b=v.alpha*o;if(0!==b){var x=y.width,E=y.height,w=d+v.x+y.x,T=f+v.y+y.y;v.flipX&&(x*=-1,w+=y.width),v.flipY&&(E*=-1,T+=y.height);var S=u.setQuad(w,T,w+x,T+E,g),A=r.getTintAppendFloatAlpha(v.tint,b);if(y.sourceIndex!==p){var C=h.setGameObject(t,y);p=y.sourceIndex}h.batchQuad(t,S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],y.u0,y.v0,y.u1,y.v1,A,A,A,A,!1,y.glTexture,C)&&(p=-1)}}e.pipelines.postBatch(t)}}},46590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(4327),s=new n({initialize:function(e,t,i,n,r){this.parent=e,this.x=t,this.y=i,this.frame=n,this.data={},this.tint=16777215,this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(e){return void 0===e?this.frame=this.parent.frame:e instanceof r&&e.texture===this.parent.texture?this.frame=e:this.frame=this.parent.texture.get(e),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(e,t,i){return this.x=e,this.y=t,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(e,t){return this.x=e,this.y=t,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},setVisible:function(e){return this.visible=e,this},setAlpha:function(e){return this.alpha=e,this},setTint:function(e){return this.tint=e,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(e){this.parent.dirty|=this._visible!==e,this._visible=e}},alpha:{get:function(){return this._alpha},set:function(e){this.parent.dirty|=this._alpha>0!=e>0,this._alpha=e}}});e.exports=s},16005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,t,i,r){return void 0===e&&(e=1),void 0===t?this.alpha=e:(this._alphaTL=n(e,0,1),this._alphaTR=n(t,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var t=n(e,0,1);this._alpha=t,this._alphaTL=t,this._alphaTR=t,this._alphaBL=t,this._alphaBR=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var t=n(e,0,1);this._alphaTL=t,0!==t&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var t=n(e,0,1);this._alphaTR=t,0!==t&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var t=n(e,0,1);this._alphaBL=t,0!==t&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var t=n(e,0,1);this._alphaBR=t,0!==t&&(this.renderFlags|=2)}}}},88509:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e){return void 0===e&&(e=1),this.alpha=e,this},alpha:{get:function(){return this._alpha},set:function(e){var t=n(e,0,1);this._alpha=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){"string"==typeof e&&(e=n[e]),(e|=0)>=-1&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}};e.exports=r},94215:e=>{e.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},61683:e=>{e.exports={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,n){return void 0===e?this.isCropped=!1:this.frame&&("number"==typeof e?this.frame.setCropUVs(this._crop,e,t,i,n,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105);e.exports={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return void 0===e&&(e=0),this.depth=e,this},setToTop:function(){var e=this.getDisplayList();return e&&n.BringToTop(e,this),this},setToBack:function(){var e=this.getDisplayList();return e&&n.SendToBack(e,this),this},setAbove:function(e){var t=this.getDisplayList();return t&&e&&n.MoveAbove(t,this,e),this},setBelow:function(e){var t=this.getDisplayList();return t&&e&&n.MoveBelow(t,this,e),this}}},47059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(66064),s=i(19133),a=new n({initialize:function(e,t){this.gameObject=e,this.isPost=t,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(e){return void 0===e&&(e=0),this.padding=e,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(e){if(!this.isPost){var t=this.gameObject.scene.sys.renderer;t&&t.pipelines?(this.gameObject.pipeline=t.pipelines.FX_PIPELINE,void 0!==e&&(this.padding=e),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var e=this.list,t=0;t<e.length;t++)e[t].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(e){var t;if(this.isPost){var i=this.gameObject.getPostPipeline(String(e.type));for(Array.isArray(i)||(i=[i]),t=0;t<i.length;t++){var n=i[t];if(n.controller===e){this.gameObject.removePostPipeline(n),e.destroy();break}}}else{var r=this.list;for(t=0;t<r.length;t++)r[t]===e&&(s(r,t),e.destroy())}return this.gameObject},disable:function(e){return void 0===e&&(e=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,e&&this.clear(),this.gameObject},add:function(e,t){if(!this.isPost)return this.enabled||this.enable(),this.list.push(e),e;var i=String(e.type);this.gameObject.setPostPipeline(i,t);var n=this.gameObject.getPostPipeline(i);if(n)return Array.isArray(n)&&(n=n.pop()),n&&(n.controller=e),e},addGlow:function(e,t,i,n,s,a){return this.add(new r.Glow(this.gameObject,e,t,i,n),{quality:s,distance:a})},addShadow:function(e,t,i,n,s,a,o){return this.add(new r.Shadow(this.gameObject,e,t,i,n,s,a,o))},addPixelate:function(e){return this.add(new r.Pixelate(this.gameObject,e))},addVignette:function(e,t,i,n){return this.add(new r.Vignette(this.gameObject,e,t,i,n))},addShine:function(e,t,i,n){return this.add(new r.Shine(this.gameObject,e,t,i,n))},addBlur:function(e,t,i,n,s,a){return this.add(new r.Blur(this.gameObject,e,t,i,n,s,a))},addGradient:function(e,t,i,n,s,a,o,h){return this.add(new r.Gradient(this.gameObject,e,t,i,n,s,a,o,h))},addBloom:function(e,t,i,n,s,a){return this.add(new r.Bloom(this.gameObject,e,t,i,n,s,a))},addColorMatrix:function(){return this.add(new r.ColorMatrix(this.gameObject))},addCircle:function(e,t,i,n,s){return this.add(new r.Circle(this.gameObject,e,t,i,n,s))},addBarrel:function(e){return this.add(new r.Barrel(this.gameObject,e))},addDisplacement:function(e,t,i){return this.add(new r.Displacement(this.gameObject,e,t,i))},addWipe:function(e,t,i){return this.add(new r.Wipe(this.gameObject,e,t,i))},addReveal:function(e,t,i){return this.add(new r.Wipe(this.gameObject,e,t,i,!0))},addBokeh:function(e,t,i){return this.add(new r.Bokeh(this.gameObject,e,t,i))},addTiltShift:function(e,t,i,n,s,a){return this.add(new r.Bokeh(this.gameObject,e,t,i,!0,n,s,a))},destroy:function(){this.clear(),this.gameObject=null}});e.exports=a},54434:e=>{e.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(11520),s=i(26099);e.exports={prepareBoundsOutput:function(e,t){return void 0===t&&(t=!1),0!==this.rotation&&r(e,this.x,this.y,this.rotation),t&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(e.x,e.y,e),e},getCenter:function(e,t){return void 0===e&&(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getTopLeft:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopRight:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getLeftCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getRightCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getBottomLeft:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomCenter:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomRight:function(e,t){return e||(e=new s),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBounds:function(e){if(void 0===e&&(e=new n),this.parentContainer){var t,i,r,s,a,o,h,c,l=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(e),l.transformPoint(e.x,e.y,e),t=e.x,i=e.y,this.getTopRight(e),l.transformPoint(e.x,e.y,e),r=e.x,s=e.y,this.getBottomLeft(e),l.transformPoint(e.x,e.y,e),a=e.x,o=e.y,this.getBottomRight(e),l.transformPoint(e.x,e.y,e),h=e.x,c=e.y}else this.getTopLeft(e),t=e.x,i=e.y,this.getTopRight(e),r=e.x,s=e.y,this.getBottomLeft(e),a=e.x,o=e.y,this.getBottomRight(e),h=e.x,c=e.y;return e.x=Math.min(t,r,a,h),e.y=Math.min(i,s,o,c),e.width=Math.max(t,r,a,h)-e.x,e.height=Math.max(i,s,o,c)-e.y,e}}},8573:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6858),r=i(80661);e.exports={mask:null,setMask:function(e){return this.mask=e,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(e,t,i,r,s){return void 0===e&&(this.texture||this.shader||this.geom)&&(e=this),new n(this.scene,e,t,i,r,s)},createGeometryMask:function(e){return void 0===e&&("Graphics"===this.type||this.geom)&&(e=this),new r(this.scene,e)}}},27387:e=>{e.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displayOriginX=e,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39506),r=i(57355),s=i(35154),a=i(86353),o=i(26099),h={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(e,t){void 0===t&&(t=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=e,t&&this.startFollow(t),this},setRotateToPath:function(e,t){return void 0===t&&(t=0),this.rotateToPath=e,this.pathRotationOffset=t,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,t){void 0===e&&(e={}),void 0===t&&(t=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof e&&(e={duration:e}),e.from=s(e,"from",0),e.to=s(e,"to",1);var h=r(e,"positionOnPath",!1);this.rotateToPath=r(e,"rotateToPath",!1),this.pathRotationOffset=s(e,"rotationOffset",0);var c=s(e,"startAt",t);if(c&&(e.onStart=function(e){var t=e.data[0];t.progress=c,t.elapsed=t.duration*c;var i=t.ease(t.progress);t.current=t.start+(t.end-t.start)*i,t.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),e.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var l=this.path.getPoint(.1);this.rotation=Math.atan2(l.y-this.y,l.x-this.x)+n(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e&&e.data){var t=e.data[0],i=this.pathDelta,r=this.pathVector;if(i.copy(r).negate(),t.state===a.COMPLETE){this.path.getPoint(t.end,r),i.add(r),r.add(this.pathOffset),this.setPosition(r.x,r.y);return}if(t.state!==a.PLAYING_FORWARD&&t.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),r),i.add(r),r.add(this.pathOffset);var s=this.x,o=this.y;this.setPosition(r.x,r.y);var h=this.x-s,c=this.y-o;if(0===h&&0===c)return;if(t.state!==this._prevDirection){this._prevDirection=t.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,h)+n(this.pathRotationOffset))}}};e.exports=h},72699:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644);e.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(e){this.pipelineData={};var t=this.scene.sys.renderer;if(!t)return!1;var i=t.pipelines;if(i){void 0===e&&(e=i.default);var n=i.get(e);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(e,t,i){var r=this.scene.sys.renderer;if(!r)return this;var s=r.pipelines;if(s){var a=s.get(e);a&&(this.pipeline=a),t&&(this.pipelineData=i?n(t):t)}return this},setPipelineData:function(e,t){var i=this.pipelineData;return void 0===t?delete i[e]:i[e]=t,this},resetPipeline:function(e){return void 0===e&&(e=!1),this.pipeline=this.defaultPipeline,e&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644),r=i(47059),s=i(19133);e.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(e){this.postPipelines=[],this.postPipelineData={},this.postFX=new r(this,!0),e&&(this.preFX=new r(this,!1))},setPostPipeline:function(e,t,i){var r=this.scene.sys.renderer;if(!r)return this;var s=r.pipelines;if(s){Array.isArray(e)||(e=[e]);for(var a=0;a<e.length;a++){var o=s.getPostPipeline(e[a],this,t);o&&this.postPipelines.push(o)}t&&(this.postPipelineData=i?n(t):t)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(e,t){var i=this.postPipelineData;return void 0===t?delete i[e]:i[e]=t,this},getPostPipeline:function(e){for(var t="string"==typeof e,i=this.postPipelines,n=[],r=0;r<i.length;r++){var s=i[r];(t&&s.name===e||!t&&s instanceof e)&&n.push(s)}return 1===n.length?n[0]:n},resetPostPipeline:function(e){void 0===e&&(e=!1);for(var t=this.postPipelines,i=0;i<t.length;i++)t[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,e&&(this.postPipelineData={})},removePostPipeline:function(e){for(var t="string"==typeof e,i=this.postPipelines,n=i.length-1;n>=0;n--){var r=i[n];(t&&r.name===e||!t&&r===e)&&(r.destroy(),s(i,n))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:e=>{e.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,t){return void 0===t&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this}}},16736:e=>{e.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var t=this.input;return t&&!t.customHitArea&&(t.hitArea.width=this.width,t.hitArea.height=this.height),this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},37726:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4327);e.exports={texture:null,frame:null,isCropped:!1,setTexture:function(e,t,i,n){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t,i,n)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),e instanceof n?(this.texture=this.scene.sys.textures.get(e.texture.key),this.frame=e):this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4327);e.exports={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,i,n){return void 0===e?this.isCropped=!1:this.frame&&("number"==typeof e?this.frame.setCropUVs(this._crop,e,t,i,n,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),e instanceof n?(this.texture=this.scene.sys.textures.get(e.texture.key),this.frame=e):this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:e=>{e.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,t,i,n){return void 0===e&&(e=16777215),void 0===t&&(t=e,i=e,n=e),this.tintTopLeft=e,this.tintTopRight=t,this.tintBottomLeft=i,this.tintBottomRight=n,this.tintFill=!1,this},setTintFill:function(e,t,i,n){return this.setTint(e,t,i,n),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){return this.tintFill||16777215!==this.tintTopLeft||16777215!==this.tintTopRight||16777215!==this.tintBottomLeft||16777215!==this.tintBottomRight}}}},53774:e=>{e.exports=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t}},16901:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(61340),s=i(85955),a=i(86554),o=i(30954),h=i(26099);e.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,0===e?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,0===e?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return o(this._rotation*n.RAD_TO_DEG)},set:function(e){this.rotation=o(e)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=a(e)}},setPosition:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=i,this.w=n,this},copyPosition:function(e){return void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.z&&(this.z=e.z),void 0!==e.w&&(this.w=e.w),this},setRandomPosition:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),this.x=e+Math.random()*i,this.y=t+Math.random()*n,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,this},setScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.scaleX=e,this.scaleY=t,this},setX:function(e){return void 0===e&&(e=0),this.x=e,this},setY:function(e){return void 0===e&&(e=0),this.y=e,this},setZ:function(e){return void 0===e&&(e=0),this.z=e,this},setW:function(e){return void 0===e&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return void 0===e&&(e=new r),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,t){void 0===e&&(e=new r);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(e);for(t||(t=new r),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)t.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),t.multiply(e,e),i=i.parentContainer;return e},getLocalPoint:function(e,t,i,n){i||(i=new h),n||(n=this.scene.sys.cameras.main);var r=n.scrollX,a=n.scrollY,o=e+r*this.scrollFactorX-r,c=t+a*this.scrollFactorY-a;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(o,c,i):s(o,c,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i),this._originComponent&&(i.x+=this._displayOriginX,i.y+=this._displayOriginY),i},getParentRotation:function(){for(var e=0,t=this.parentContainer;t;)e+=t.rotation,t=t.parentContainer;return e}}},61340:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36383),s=i(26099),a=new n({initialize:function(e,t,i,n,r,s){void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.matrix=new Float32Array([e,t,i,n,r,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(e){this.matrix[0]=e}},b:{get:function(){return this.matrix[1]},set:function(e){this.matrix[1]=e}},c:{get:function(){return this.matrix[2]},set:function(e){this.matrix[2]=e}},d:{get:function(){return this.matrix[3]},set:function(e){this.matrix[3]=e}},e:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},f:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},tx:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},ty:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(0>Math.atan(-this.c/this.a)?-1:1)}},rotationNormalized:{get:function(){var e=this.matrix,t=e[0],i=e[1],n=e[2],s=e[3];return t||i?i>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):n||s?r.TAU-(s>0?Math.acos(-n/this.scaleY):-Math.acos(n/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var e=this.matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},translate:function(e,t){var i=this.matrix;return i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this},scale:function(e,t){var i=this.matrix;return i[0]*=e,i[1]*=e,i[2]*=t,i[3]*=t,this},rotate:function(e){var t=Math.sin(e),i=Math.cos(e),n=this.matrix,r=n[0],s=n[1],a=n[2],o=n[3];return n[0]=r*i+a*t,n[1]=s*i+o*t,n[2]=-(r*t)+a*i,n[3]=-(s*t)+o*i,this},multiply:function(e,t){var i=this.matrix,n=e.matrix,r=i[0],s=i[1],a=i[2],o=i[3],h=i[4],c=i[5],l=n[0],u=n[1],d=n[2],f=n[3],p=n[4],g=n[5],m=void 0===t?i:t.matrix;return m[0]=l*r+u*a,m[1]=l*s+u*o,m[2]=d*r+f*a,m[3]=d*s+f*o,m[4]=p*r+g*a+h,m[5]=p*s+g*o+c,m},multiplyWithOffset:function(e,t,i){var n=this.matrix,r=e.matrix,s=n[0],a=n[1],o=n[2],h=n[3],c=n[4],l=n[5],u=r[0],d=r[1],f=r[2],p=r[3],g=r[4],m=r[5];return n[0]=u*s+d*o,n[1]=u*a+d*h,n[2]=f*s+p*o,n[3]=f*a+p*h,n[4]=g*s+m*o+(t*s+i*o+c),n[5]=g*a+m*h+(t*a+i*h+l),this},transform:function(e,t,i,n,r,s){var a=this.matrix,o=a[0],h=a[1],c=a[2],l=a[3],u=a[4],d=a[5];return a[0]=e*o+t*c,a[1]=e*h+t*l,a[2]=i*o+n*c,a[3]=i*h+n*l,a[4]=r*o+s*c+u,a[5]=r*h+s*l+d,this},transformPoint:function(e,t,i){void 0===i&&(i={x:0,y:0});var n=this.matrix,r=n[0],s=n[1],a=n[2],o=n[3],h=n[4],c=n[5];return i.x=e*r+t*a+h,i.y=e*s+t*o+c,i},invert:function(){var e=this.matrix,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=t*r-i*n;return e[0]=r/o,e[1]=-i/o,e[2]=-n/o,e[3]=t/o,e[4]=(n*a-r*s)/o,e[5]=-(t*a-i*s)/o,this},copyFrom:function(e){var t=this.matrix;return t[0]=e.a,t[1]=e.b,t[2]=e.c,t[3]=e.d,t[4]=e.e,t[5]=e.f,this},copyFromArray:function(e){var t=this.matrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},copyToContext:function(e){var t=this.matrix;return e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e},setToContext:function(e){return e.setTransform(this),e},copyToArray:function(e){var t=this.matrix;return void 0===e?e=[t[0],t[1],t[2],t[3],t[4],t[5]]:(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]),e},setTransform:function(e,t,i,n,r,s){var a=this.matrix;return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=r,a[5]=s,this},decomposeMatrix:function(){var e=this.decomposedMatrix,t=this.matrix,i=t[0],n=t[1],r=t[2],s=t[3],a=i*s-n*r;if(e.translateX=t[4],e.translateY=t[5],i||n){var o=Math.sqrt(i*i+n*n);e.rotation=n>0?Math.acos(i/o):-Math.acos(i/o),e.scaleX=o,e.scaleY=a/o}else if(r||s){var h=Math.sqrt(r*r+s*s);e.rotation=.5*Math.PI-(s>0?Math.acos(-r/h):-Math.acos(r/h)),e.scaleX=a/h,e.scaleY=h}else e.rotation=0,e.scaleX=0,e.scaleY=0;return e},applyITRS:function(e,t,i,n,r){var s=this.matrix,a=Math.sin(i),o=Math.cos(i);return s[4]=e,s[5]=t,s[0]=o*n,s[1]=a*n,s[2]=-a*r,s[3]=o*r,this},applyInverse:function(e,t,i){void 0===i&&(i=new s);var n=this.matrix,r=n[0],a=n[1],o=n[2],h=n[3],c=n[4],l=n[5],u=1/(r*h+-(o*a));return i.x=h*u*e+-o*u*t+(l*o-c*h)*u,i.y=r*u*t+-a*u*e+(-l*r+c*a)*u,i},setQuad:function(e,t,i,n,r,s){void 0===r&&(r=!1),void 0===s&&(s=this.quad);var a=this.matrix,o=a[0],h=a[1],c=a[2],l=a[3],u=a[4],d=a[5],f=e*o+t*c+u,p=e*h+t*l+d,g=e*o+n*c+u,m=e*h+n*l+d,v=i*o+n*c+u,y=i*h+n*l+d,b=i*o+t*c+u,x=i*h+t*l+d;if(r){var E=Math.floor(f+.5),w=Math.floor(p+.5),T=E-f,S=w-p;s[0]=E,s[1]=w,s[2]=g+T,s[3]=m+S,s[4]=v+T,s[5]=y+S,s[6]=b+T,s[7]=x+S}else s[0]=f,s[1]=p,s[2]=g,s[3]=m,s[4]=v,s[5]=y,s[6]=b,s[7]=x;return s},getX:function(e,t){return e*this.a+t*this.c+this.e},getY:function(e,t){return e*this.b+t*this.d+this.f},getXRound:function(e,t,i){var n=this.getX(e,t);return i&&(n=Math.floor(n+.5)),n},getYRound:function(e,t,i){var n=this.getY(e,t);return i&&(n=Math.floor(n+.5)),n},getCSSMatrix:function(){var e=this.matrix;return"matrix("+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});e.exports=a},59715:e=>{e.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(e){e?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(e){return this.visible=e,this}}},31401:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105),r=i(10312),s=i(83419),a=i(31401),o=i(51708),h=i(95643),c=i(87841),l=i(29959),u=i(36899),d=i(26099),f=new a.TransformMatrix,p=new s({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,l],initialize:function(e,t,i,n){h.call(this,e,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=e.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(t,i),this.setBlendMode(r.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return .5*this.width}},displayOriginY:{get:function(){return .5*this.height}},setExclusive:function(e){return void 0===e&&(e=!0),this.exclusive=e,this},getBounds:function(e){if(void 0===e&&(e=new c),e.setTo(this.x,this.y,0,0),this.parentContainer){var t=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);e.setTo(t.x,t.y,0,0)}if(this.list.length>0){var i=this.list,n=new c,r=!1;e.setEmpty();for(var s=0;s<i.length;s++){var a=i[s];a.getBounds&&(a.getBounds(n),r?u(n,e,e):(e.setTo(n.x,n.y,n.width,n.height),r=!0))}}return e},addHandler:function(e){e.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(e.parentContainer&&e.parentContainer.remove(e),e.parentContainer=this,e.removeFromDisplayList(),e.addedToScene())},removeHandler:function(e){e.off(o.DESTROY,this.remove,this),this.exclusive&&(e.parentContainer=null,e.removedFromScene(),e.addToDisplayList())},pointToContainer:function(e,t){return void 0===t&&(t=new d),this.parentContainer?this.parentContainer.pointToContainer(e,t):(t.x=e.x,t.y=e.y),f.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),f.invert(),f.transformPoint(e.x,e.y,t),t},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(e){return n.Add(this.list,e,this.maxSize,this.addHandler,this),this},addAt:function(e,t){return n.AddAt(this.list,e,t,this.maxSize,this.addHandler,this),this},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e&&(void 0===t&&(t=function(t,i){return t[e]-i[e]}),n.StableSort(this.list,t)),this},getByName:function(e){return n.GetFirst(this.list,"name",e)},getRandom:function(e,t){return n.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return n.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return n.GetAll(this.list,e,t,i,r)},count:function(e,t,i,r){return n.CountAllMatching(this.list,e,t,i,r)},swap:function(e,t){return n.Swap(this.list,e,t),this},moveTo:function(e,t){return n.MoveTo(this.list,e,t),this},moveAbove:function(e,t){return n.MoveAbove(this.list,e,t),this},moveBelow:function(e,t){return n.MoveBelow(this.list,e,t),this},remove:function(e,t){var i=n.Remove(this.list,e,this.removeHandler,this);if(t&&i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)i[r].destroy()}return this},removeAt:function(e,t){var i=n.RemoveAt(this.list,e,this.removeHandler,this);return t&&i&&i.destroy(),this},removeBetween:function(e,t,i){var r=n.RemoveBetween(this.list,e,t,this.removeHandler,this);if(i)for(var s=0;s<r.length;s++)r[s].destroy();return this},removeAll:function(e){var t=this.list;if(e){for(var i=0;i<t.length;i++)t[i]&&t[i].scene&&(t[i].off(o.DESTROY,this.onChildDestroyed,this),t[i].destroy());this.list=[]}else n.RemoveBetween(t,0,t.length,this.removeHandler,this);return this},bringToTop:function(e){return n.BringToTop(this.list,e),this},sendToBack:function(e){return n.SendToBack(this.list,e),this},moveUp:function(e){return n.MoveUp(this.list,e),this},moveDown:function(e){return n.MoveDown(this.list,e),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(e,t,i){return n.Replace(this.list,e,t)&&(this.addHandler(t),this.removeHandler(e),i&&e.destroy()),this},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return n.SetAll(this.list,e,t,i,r),this},each:function(e,t){var i,n=[null],r=this.list.slice(),s=r.length;for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<s;i++)n[0]=r[i],e.apply(t,n);return this},iterate:function(e,t){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],e.apply(t,n);return this},setScrollFactor:function(e,t,i){return void 0===t&&(t=e),void 0===i&&(i=!1),this.scrollFactorX=e,this.scrollFactorY=t,i&&(n.SetAll(this.list,"scrollFactorX",e),n.SetAll(this.list,"scrollFactorY",t)),this},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0,this.list.length>0)?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(e){n.Remove(this.list,e),this.exclusive&&(e.parentContainer=null,e.removedFromScene())}});e.exports=p},53584:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t);var r=t.list;if(0!==r.length){var s=t.localTransform;n?(s.loadIdentity(),s.multiply(n),s.translate(t.x,t.y),s.rotate(t.rotation),s.scale(t.scaleX,t.scaleY)):s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var a=-1!==t.blendMode;a||e.setBlendMode(0);var o=t._alpha,h=t.scrollFactorX,c=t.scrollFactorY;t.mask&&t.mask.preRenderCanvas(e,null,i);for(var l=0;l<r.length;l++){var u=r[l];if(u.willRender(i)){var d=u.alpha,f=u.scrollFactorX,p=u.scrollFactorY;a||u.blendMode===e.currentBlendMode||e.setBlendMode(u.blendMode),u.setScrollFactor(f*h,p*c),u.setAlpha(d*o),u.renderCanvas(e,u,i,s),u.setAlpha(d),u.setScrollFactor(f,p)}}t.mask&&t.mask.postRenderCanvas(e)}}},77143:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(31559),s=i(44603),a=i(23568),o=i(95540);s.register("container",function(e,t){void 0===e&&(e={});var i=a(e,"x",0),s=a(e,"y",0),h=o(e,"children",null),c=new r(this.scene,i,s,h);return void 0!==t&&(e.add=t),n(this.scene,c,e),c})},24961:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31559);i(39429).register("container",function(e,t,i){return this.displayList.add(new n(this.scene,e,t,i))})},29959:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(72249),s=i(53584),e.exports={renderWebGL:r,renderCanvas:s}},72249:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t);var r=t.list,s=r.length;if(0!==s){var a=t.localTransform;n?(a.loadIdentity(),a.multiply(n),a.translate(t.x,t.y),a.rotate(t.rotation),a.scale(t.scaleX,t.scaleY)):a.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),e.pipelines.preBatch(t);var o=-1!==t.blendMode;o||e.setBlendMode(0);for(var h=t.alpha,c=t.scrollFactorX,l=t.scrollFactorY,u=0;u<s;u++){var d,f,p,g,m=r[u];if(m.willRender(i)){if(void 0!==m.alphaTopLeft)d=m.alphaTopLeft,f=m.alphaTopRight,p=m.alphaBottomLeft,g=m.alphaBottomRight;else{var v=m.alpha;d=v,f=v,p=v,g=v}var y=m.scrollFactorX,b=m.scrollFactorY;o||m.blendMode===e.currentBlendMode||e.setBlendMode(m.blendMode);var x=m.mask;x&&x.preRenderWebGL(e,m,i);var E=m.type;E!==e.currentType&&(e.newType=!0,e.currentType=E),e.nextTypeMatch=u<s-1&&r[u+1].type===e.currentType,m.setScrollFactor(y*c,b*l),m.setAlpha(d*h,f*h,p*h,g*h),m.renderWebGL(e,m,i,a,t),m.setAlpha(d,f,p,g),m.setScrollFactor(y,b),x&&x.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(t)}}},47407:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(441),a=i(95643),o=i(41212),h=i(35846),c=i(44594),l=i(61369),u=new n({Extends:a,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Origin,r.ScrollFactor,r.Transform,r.Visible,s],initialize:function(e,t,i,n,r,s){a.call(this,e,"DOMElement"),this.parent=e.sys.game.domContainer,this.cache=e.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(t,i),"string"==typeof n?"#"===n[0]?this.setElement(n.substr(1),r,s):this.createElement(n,r,s):n&&this.setElement(n,r,s),e.sys.events.on(c.SLEEP,this.handleSceneEvent,this),e.sys.events.on(c.WAKE,this.handleSceneEvent,this),e.sys.events.on(c.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(e){var t=this.node,i=t.style;t&&(i.display=e.settings.visible?"block":"none")},setSkew:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,i){return this.setElement(document.createElement(e),t,i)},setElement:function(e,t,i){var n;if(this.removeElement(),"string"==typeof e?("#"===e[0]&&(e=e.substr(1)),n=document.getElementById(e)):"object"==typeof e&&1===e.nodeType&&(n=e),!n)return this;if(this.node=n,t&&o(t))for(var r in t)n.style[r]=t[r];else"string"==typeof t&&(n.style=t);return n.style.zIndex="0",n.style.display="inline",n.style.position="absolute",n.phaser=this,this.parent&&this.parent.appendChild(n),i&&(n.innerText=i),this.updateSize()},createFromCache:function(e,t){var i=this.cache.get(e);return i&&this.createFromHTML(i,t),this},createFromHTML:function(e,t){void 0===t&&(t="div"),this.removeElement();var i=document.createElement(t);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(h(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node){for(var i=this.node.querySelectorAll("*"),n=0;n<i.length;n++)if(i[n][e]===t)return i[n]}return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preRender:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(c.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(c.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(c.PRE_RENDER,this.preRender,this)}});e.exports=u},49381:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(47407),r=i(95643),s=i(61340),a=new s,o=new s,h=new s;e.exports=function(e,t,i,s){if(t.node){var c=t.node.style,l=t.scene.sys.settings;if(!c||!l.visible||r.RENDER_MASK!==t.renderFlags||0!==t.cameraFilter&&t.cameraFilter&i.id||t.parentContainer&&!t.parentContainer.willRender()){c.display="none";return}var u=t.parentContainer,d=i.alpha*t.alpha;u&&(d*=u.alpha);var f=0,p=0,g="0%",m="0%";s?(f=t.width*t.scaleX*t.originX,p=t.height*t.scaleY*t.originY,o.applyITRS(t.x-f,t.y-p,t.rotation,t.scaleX,t.scaleY),a.copyFrom(i.matrix),a.multiplyWithOffset(s,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),o.e=t.x-f,o.f=t.y-p,a.multiply(o,h)):(f=t.width*t.originX,p=t.height*t.originY,o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),a.copyFrom(i.matrix),g=100*t.originX+"%",m=100*t.originY+"%",o.e-=i.scrollX*t.scrollFactorX,o.f-=i.scrollY*t.scrollFactorY,a.multiply(o,h),h.e-=f,h.f-=p),t.transformOnly||(c.display="block",c.opacity=d,c.zIndex=t._depth,c.pointerEvents=t.pointerEvents,c.mixBlendMode=n[t._blendMode]),c.transform=h.getCSSMatrix()+" skew("+t.skewX+"rad, "+t.skewY+"rad) rotate3d("+t.rotate3d.x+","+t.rotate3d.y+","+t.rotate3d.z+","+t.rotate3d.w+t.rotate3dAngle+")",c.transformOrigin=g+" "+m}}},2611:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3069);i(39429).register("dom",function(e,t,i,r,s){var a=new n(this.scene,e,t,i,r,s);return this.displayList.add(a),a})},441:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(49381),s=i(49381),e.exports={renderWebGL:r,renderCanvas:s}},62980:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addedtoscene"},41337:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},44947:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedfromscene"},49358:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},35163:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="created"},97249:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="error"},19483:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="locked"},56059:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},26772:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="metadata"},64437:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="playing"},83411:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="play"},75780:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seeked"},67799:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seeking"},63500:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stalled"},55541:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},53208:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="textureready"},4992:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unlocked"},12:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unsupported"},51708:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(64993),o=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.Origin,r.ScrollFactor,r.Size,r.Texture,r.Tint,r.Transform,r.Visible,a],initialize:function(e){s.call(this,e,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});e.exports=o},70217:()=>{},56315:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42421);i(39429).register("extern",function(){var e=new n(this.scene);return this.displayList.add(e),e})},64993:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(80287),s=i(70217),e.exports={renderWebGL:r,renderCanvas:s}},80287:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){e.pipelines.clear();var s=n(t,i,r).calc;t.render.call(t,e,i,s),e.pipelines.rebind()}},85592:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71911),r=i(83419),s=i(85592),a=i(31401),o=i(8497),h=i(95643),c=i(95540),l=i(35154),u=i(36383),d=i(84503),f=new r({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,d],initialize:function(e,t){var i=l(t,"x",0),n=l(t,"y",0);h.call(this,e,"Graphics"),this.setPosition(i,n),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(t)},setDefaultStyles:function(e){return l(e,"lineStyle",null)&&(this.defaultStrokeWidth=l(e,"lineStyle.width",1),this.defaultStrokeColor=l(e,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(e,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(e,"fillStyle",null)&&(this.defaultFillColor=l(e,"fillStyle.color",16777215),this.defaultFillAlpha=l(e,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(e,t,i){return void 0===i&&(i=1),this.commandBuffer.push(s.LINE_STYLE,e,t,i),this._lineWidth=e,this},fillStyle:function(e,t){return void 0===t&&(t=1),this.commandBuffer.push(s.FILL_STYLE,e,t),this},fillGradientStyle:function(e,t,i,n,r,a,o,h){return void 0===r&&(r=1),void 0===a&&(a=r),void 0===o&&(o=r),void 0===h&&(h=r),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,r,a,o,h,e,t,i,n),this},lineGradientStyle:function(e,t,i,n,r,a){return void 0===a&&(a=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,e,a,t,i,n,r),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(e){return this.fillCircle(e.x,e.y,e.radius)},strokeCircleShape:function(e){return this.strokeCircle(e.x,e.y,e.radius)},fillCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,u.PI2),this.fillPath(),this},strokeCircle:function(e,t,i){return this.beginPath(),this.arc(e,t,i,0,u.PI2),this.strokePath(),this},fillRectShape:function(e){return this.fillRect(e.x,e.y,e.width,e.height)},strokeRectShape:function(e){return this.strokeRect(e.x,e.y,e.width,e.height)},fillRect:function(e,t,i,n){return this.commandBuffer.push(s.FILL_RECT,e,t,i,n),this},strokeRect:function(e,t,i,n){var r=this._lineWidth/2,s=e-r,a=e+r;return this.beginPath(),this.moveTo(e,t),this.lineTo(e,t+n),this.strokePath(),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+i,t+n),this.strokePath(),this.beginPath(),this.moveTo(s,t),this.lineTo(a+i,t),this.strokePath(),this.beginPath(),this.moveTo(s,t+n),this.lineTo(a+i,t+n),this.strokePath(),this},fillRoundedRect:function(e,t,i,n,r){void 0===r&&(r=20);var s=r,a=r,o=r,h=r;"number"!=typeof r&&(s=c(r,"tl",20),a=c(r,"tr",20),o=c(r,"bl",20),h=c(r,"br",20));var l=s>=0,d=a>=0,f=o>=0,p=h>=0;return s=Math.abs(s),a=Math.abs(a),o=Math.abs(o),h=Math.abs(h),this.beginPath(),this.moveTo(e+s,t),this.lineTo(e+i-a,t),d?this.arc(e+i-a,t+a,a,-u.TAU,0):this.arc(e+i,t,a,Math.PI,u.TAU,!0),this.lineTo(e+i,t+n-h),p?this.arc(e+i-h,t+n-h,h,0,u.TAU):this.arc(e+i,t+n,h,-u.TAU,Math.PI,!0),this.lineTo(e+o,t+n),f?this.arc(e+o,t+n-o,o,u.TAU,Math.PI):this.arc(e,t+n,o,0,-u.TAU,!0),this.lineTo(e,t+s),l?this.arc(e+s,t+s,s,-Math.PI,-u.TAU):this.arc(e,t,s,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(e,t,i,n,r){void 0===r&&(r=20);var s=r,a=r,o=r,h=r,l=Math.min(i,n)/2;"number"!=typeof r&&(s=c(r,"tl",20),a=c(r,"tr",20),o=c(r,"bl",20),h=c(r,"br",20));var d=s>=0,f=a>=0,p=o>=0,g=h>=0;return s=Math.min(Math.abs(s),l),a=Math.min(Math.abs(a),l),o=Math.min(Math.abs(o),l),h=Math.min(Math.abs(h),l),this.beginPath(),this.moveTo(e+s,t),this.lineTo(e+i-a,t),this.moveTo(e+i-a,t),f?this.arc(e+i-a,t+a,a,-u.TAU,0):this.arc(e+i,t,a,Math.PI,u.TAU,!0),this.lineTo(e+i,t+n-h),this.moveTo(e+i,t+n-h),g?this.arc(e+i-h,t+n-h,h,0,u.TAU):this.arc(e+i,t+n,h,-u.TAU,Math.PI,!0),this.lineTo(e+o,t+n),this.moveTo(e+o,t+n),p?this.arc(e+o,t+n-o,o,u.TAU,Math.PI):this.arc(e,t+n,o,0,-u.TAU,!0),this.lineTo(e,t+s),this.moveTo(e,t+s),d?this.arc(e+s,t+s,s,-Math.PI,-u.TAU):this.arc(e,t,s,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(e,t){return this.fillPoint(e.x,e.y,t)},fillPoint:function(e,t,i){return!i||i<1?i=1:(e-=i/2,t-=i/2),this.commandBuffer.push(s.FILL_RECT,e,t,i,i),this},fillTriangleShape:function(e){return this.fillTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},strokeTriangleShape:function(e){return this.strokeTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},fillTriangle:function(e,t,i,n,r,a){return this.commandBuffer.push(s.FILL_TRIANGLE,e,t,i,n,r,a),this},strokeTriangle:function(e,t,i,n,r,a){return this.commandBuffer.push(s.STROKE_TRIANGLE,e,t,i,n,r,a),this},strokeLineShape:function(e){return this.lineBetween(e.x1,e.y1,e.x2,e.y2)},lineBetween:function(e,t,i,n){return this.beginPath(),this.moveTo(e,t),this.lineTo(i,n),this.strokePath(),this},lineTo:function(e,t){return this.commandBuffer.push(s.LINE_TO,e,t),this},moveTo:function(e,t){return this.commandBuffer.push(s.MOVE_TO,e,t),this},strokePoints:function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var r=1;r<n;r++)this.lineTo(e[r].x,e[r].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var r=1;r<n;r++)this.lineTo(e[r].x,e[r].y);return t&&this.lineTo(e[0].x,e[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.strokePoints(i,!0)},strokeEllipse:function(e,t,i,n,r){void 0===r&&(r=32);var s=new o(e,t,i,n).getPoints(r);return this.strokePoints(s,!0)},fillEllipseShape:function(e,t){void 0===t&&(t=32);var i=e.getPoints(t);return this.fillPoints(i,!0)},fillEllipse:function(e,t,i,n,r){void 0===r&&(r=32);var s=new o(e,t,i,n).getPoints(r);return this.fillPoints(s,!0)},arc:function(e,t,i,n,r,a,o){return void 0===a&&(a=!1),void 0===o&&(o=0),this.commandBuffer.push(s.ARC,e,t,i,n,r,a,o),this},slice:function(e,t,i,n,r,a,o){return void 0===a&&(a=!1),void 0===o&&(o=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,e,t),this.commandBuffer.push(s.ARC,e,t,i,n,r,a,o),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(e,t){return this.commandBuffer.push(s.TRANSLATE,e,t),this},scaleCanvas:function(e,t){return this.commandBuffer.push(s.SCALE,e,t),this},rotateCanvas:function(e){return this.commandBuffer.push(s.ROTATE,e),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(e,t,i){var n,r,s=this.scene.sys,a=s.game.renderer;void 0===t&&(t=s.scale.width),void 0===i&&(i=s.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,t,i),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var o={willReadFrequently:!0};if("string"==typeof e){if(s.textures.exists(e)){var h=(n=s.textures.get(e)).getSourceImage();h instanceof HTMLCanvasElement&&(r=h.getContext("2d",o))}else r=(n=s.textures.createCanvas(e,t,i)).getSourceImage().getContext("2d",o)}else e instanceof HTMLCanvasElement&&(r=e.getContext("2d",o));return r&&(this.renderCanvas(a,this,f.TargetCamera,null,r,!1),n&&n.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new n,e.exports=f},32768:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85592),r=i(20926);e.exports=function(e,t,i,s,a,o){var h=t.commandBuffer,c=h.length,l=a||e.currentContext;if(0!==c&&r(e,l,t,i,s)){i.addToRenderList(t);var u=1,d=1,f=0,p=0,g=1,m=0,v=0,y=0;l.beginPath();for(var b=0;b<c;++b)switch(h[b]){case n.ARC:l.arc(h[b+1],h[b+2],h[b+3],h[b+4],h[b+5],h[b+6]),b+=7;break;case n.LINE_STYLE:g=h[b+1],f=h[b+2],u=h[b+3],m=(16711680&f)>>>16,v=(65280&f)>>>8,y=255&f,l.strokeStyle="rgba("+m+","+v+","+y+","+u+")",l.lineWidth=g,b+=3;break;case n.FILL_STYLE:p=h[b+1],d=h[b+2],m=(16711680&p)>>>16,v=(65280&p)>>>8,y=255&p,l.fillStyle="rgba("+m+","+v+","+y+","+d+")",b+=2;break;case n.BEGIN_PATH:l.beginPath();break;case n.CLOSE_PATH:l.closePath();break;case n.FILL_PATH:o||l.fill();break;case n.STROKE_PATH:o||l.stroke();break;case n.FILL_RECT:o?l.rect(h[b+1],h[b+2],h[b+3],h[b+4]):l.fillRect(h[b+1],h[b+2],h[b+3],h[b+4]),b+=4;break;case n.FILL_TRIANGLE:l.beginPath(),l.moveTo(h[b+1],h[b+2]),l.lineTo(h[b+3],h[b+4]),l.lineTo(h[b+5],h[b+6]),l.closePath(),o||l.fill(),b+=6;break;case n.STROKE_TRIANGLE:l.beginPath(),l.moveTo(h[b+1],h[b+2]),l.lineTo(h[b+3],h[b+4]),l.lineTo(h[b+5],h[b+6]),l.closePath(),o||l.stroke(),b+=6;break;case n.LINE_TO:l.lineTo(h[b+1],h[b+2]),b+=2;break;case n.MOVE_TO:l.moveTo(h[b+1],h[b+2]),b+=2;break;case n.LINE_FX_TO:l.lineTo(h[b+1],h[b+2]),b+=5;break;case n.MOVE_FX_TO:l.moveTo(h[b+1],h[b+2]),b+=5;break;case n.SAVE:l.save();break;case n.RESTORE:l.restore();break;case n.TRANSLATE:l.translate(h[b+1],h[b+2]),b+=2;break;case n.SCALE:l.scale(h[b+1],h[b+2]),b+=2;break;case n.ROTATE:l.rotate(h[b+1]),b+=1;break;case n.GRADIENT_FILL_STYLE:b+=5;break;case n.GRADIENT_LINE_STYLE:b+=6}l.restore()}}},87079:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(43831);n.register("graphics",function(e,t){void 0===e&&(e={}),void 0!==t&&(e.add=t);var i=new r(this.scene,e);return e.add&&this.scene.sys.displayList.add(i),i})},1201:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43831);i(39429).register("graphics",function(e){return this.displayList.add(new n(this.scene,e))})},84503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(77545),s=i(32768),s=i(32768),e.exports={renderWebGL:r,renderCanvas:s}},77545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85592),r=i(91296),s=i(61340),a=i(70554),o=function(e,t,i){this.x=e,this.y=t,this.width=i},h=function(e,t,i){this.points=[],this.pointsLength=1,this.points[0]=new o(e,t,i)},c=[],l=new s;e.exports=function(e,t,i,s){if(0!==t.commandBuffer.length){i.addToRenderList(t);var u=e.pipelines.set(t.pipeline,t);e.pipelines.preBatch(t);for(var d=r(t,i,s).calc,f=l.loadIdentity(),p=t.commandBuffer,g=i.alpha*t.alpha,m=1,v=u.fillTint,y=u.strokeTint,b=0,x=0,E=0,w=2*Math.PI,T=[],S=0,A=!0,C=null,_=a.getTintAppendFloatAlpha,I=0;I<p.length;I++)switch(p[I]){case n.BEGIN_PATH:T.length=0,C=null,A=!0;break;case n.CLOSE_PATH:A=!1,C&&C.points.length&&C.points.push(C.points[0]);break;case n.FILL_PATH:for(S=0;S<T.length;S++)u.batchFillPath(T[S].points,f,d);break;case n.STROKE_PATH:for(S=0;S<T.length;S++)u.batchStrokePath(T[S].points,m,A,f,d);break;case n.LINE_STYLE:m=p[++I];var O=_(p[++I],p[++I]*g);y.TL=O,y.TR=O,y.BL=O,y.BR=O;break;case n.FILL_STYLE:var P=_(p[++I],p[++I]*g);v.TL=P,v.TR=P,v.BL=P,v.BR=P;break;case n.GRADIENT_FILL_STYLE:var M=p[++I]*g,R=p[++I]*g,L=p[++I]*g,D=p[++I]*g;v.TL=_(p[++I],M),v.TR=_(p[++I],R),v.BL=_(p[++I],L),v.BR=_(p[++I],D);break;case n.GRADIENT_LINE_STYLE:m=p[++I];var k=p[++I]*g;y.TL=_(p[++I],k),y.TR=_(p[++I],k),y.BL=_(p[++I],k),y.BR=_(p[++I],k);break;case n.ARC:var N=0,F=p[++I],B=p[++I],U=p[++I],V=p[++I],G=p[++I],j=p[++I],W=p[++I];for(G-=V,j?G<-w?G=-w:G>0&&(G=-w+G%w):G>w?G=w:G<0&&(G=w+G%w),null===C&&(C=new h(F+Math.cos(V)*U,B+Math.sin(V)*U,m),T.push(C),N+=.01);N<1+W;)b=F+Math.cos(E=G*N+V)*U,x=B+Math.sin(E)*U,C.points.push(new o(b,x,m)),N+=.01;b=F+Math.cos(E=G+V)*U,x=B+Math.sin(E)*U,C.points.push(new o(b,x,m));break;case n.FILL_RECT:u.batchFillRect(p[++I],p[++I],p[++I],p[++I],f,d);break;case n.FILL_TRIANGLE:u.batchFillTriangle(p[++I],p[++I],p[++I],p[++I],p[++I],p[++I],f,d);break;case n.STROKE_TRIANGLE:u.batchStrokeTriangle(p[++I],p[++I],p[++I],p[++I],p[++I],p[++I],m,f,d);break;case n.LINE_TO:null!==C?C.points.push(new o(p[++I],p[++I],m)):(C=new h(p[++I],p[++I],m),T.push(C));break;case n.MOVE_TO:C=new h(p[++I],p[++I],m),T.push(C);break;case n.SAVE:c.push(f.copyToArray());break;case n.RESTORE:f.copyFromArray(c.pop());break;case n.TRANSLATE:F=p[++I],B=p[++I],f.translate(F,B);break;case n.SCALE:F=p[++I],B=p[++I],f.scale(F,B);break;case n.ROTATE:f.rotate(p[++I])}e.pipelines.postBatch(t)}}},26479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61061),r=i(83419),s=i(51708),a=i(50792),o=i(46710),h=i(95540),c=i(35154),l=i(97022),u=i(41212),d=i(88492),f=i(35072),p=i(68287),g=new r({Extends:a,initialize:function(e,t,i){a.call(this),i?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?u(t[0])&&(i=t,t=null):u(t)&&(i=t,t=null),this.scene=e,this.children=new f,this.isParent=!0,this.type="Group",this.classType=h(i,"classType",p),this.name=h(i,"name",""),this.active=h(i,"active",!0),this.maxSize=h(i,"maxSize",-1),this.defaultKey=h(i,"defaultKey",null),this.defaultFrame=h(i,"defaultFrame",null),this.runChildUpdate=h(i,"runChildUpdate",!1),this.createCallback=h(i,"createCallback",null),this.removeCallback=h(i,"removeCallback",null),this.createMultipleCallback=h(i,"createMultipleCallback",null),this.internalCreateCallback=h(i,"internalCreateCallback",null),this.internalRemoveCallback=h(i,"internalRemoveCallback",null),t&&this.addMultiple(t),i&&this.createMultiple(i),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(e,t,i,n,r,s){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.defaultKey),void 0===n&&(n=this.defaultFrame),void 0===r&&(r=!0),void 0===s&&(s=!0),this.isFull())return null;var a=new this.classType(this.scene,e,t,i,n);return a.addToDisplayList(this.scene.sys.displayList),a.addToUpdateList(),a.visible=r,a.setActive(s),this.add(a),a},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var i=0;i<e.length;i++){var n=this.createFromConfig(e[i]);t=t.concat(n)}return t},createFromConfig:function(e){if(this.isFull())return[];this.classType=h(e,"classType",this.classType);var t=h(e,"key",void 0),i=h(e,"frame",null),r=h(e,"visible",!0),s=h(e,"active",!0),a=[];if(void 0===t)return a;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);var o=h(e,"repeat",0),u=h(e,"randomKey",!1),f=h(e,"randomFrame",!1),p=h(e,"yoyo",!1),g=h(e,"quantity",!1),m=h(e,"frameQuantity",1),v=d(t,i,{max:h(e,"max",0),qty:g||m,random:u,randomB:f,repeat:o,yoyo:p});e.createCallback&&(this.createCallback=e.createCallback),e.removeCallback&&(this.removeCallback=e.removeCallback),e.internalCreateCallback&&(this.internalCreateCallback=e.internalCreateCallback),e.internalRemoveCallback&&(this.internalRemoveCallback=e.internalRemoveCallback);for(var y=0;y<v.length;y++){var b=this.create(0,0,v[y].a,v[y].b,r,s);if(!b)break;a.push(b)}if(l(e,"setXY")){var x=c(e,"setXY.x",0),E=c(e,"setXY.y",0),w=c(e,"setXY.stepX",0),T=c(e,"setXY.stepY",0);n.SetXY(a,x,E,w,T)}if(l(e,"setRotation")){var S=c(e,"setRotation.value",0),A=c(e,"setRotation.step",0);n.SetRotation(a,S,A)}if(l(e,"setScale")){var C=c(e,"setScale.x",1),_=c(e,"setScale.y",C),I=c(e,"setScale.stepX",0),O=c(e,"setScale.stepY",0);n.SetScale(a,C,_,I,O)}if(l(e,"setOrigin")){var P=c(e,"setOrigin.x",.5),M=c(e,"setOrigin.y",P),R=c(e,"setOrigin.stepX",0),L=c(e,"setOrigin.stepY",0);n.SetOrigin(a,P,M,R,L)}if(l(e,"setAlpha")){var D=c(e,"setAlpha.value",1),k=c(e,"setAlpha.step",0);n.SetAlpha(a,D,k)}if(l(e,"setDepth")){var N=c(e,"setDepth.value",0),F=c(e,"setDepth.step",0);n.SetDepth(a,N,F)}if(l(e,"setScrollFactor")){var B=c(e,"setScrollFactor.x",1),U=c(e,"setScrollFactor.y",B),V=c(e,"setScrollFactor.stepX",0),G=c(e,"setScrollFactor.stepY",0);n.SetScrollFactor(a,B,U,V,G)}var j=h(e,"hitArea",null),W=h(e,"hitAreaCallback",null);j&&n.SetHitArea(a,j,W);var Y=h(e,"gridAlign",!1);return Y&&n.GridAlign(a,Y),this.createMultipleCallback&&this.createMultipleCallback.call(this,a),a},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),n=0;n<i.length;n++){var r=i[n];r.active&&r.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()||(this.children.set(e),this.internalCreateCallback&&this.internalCreateCallback.call(this,e),this.createCallback&&this.createCallback.call(this,e),t&&(e.addToDisplayList(this.scene.sys.displayList),e.addToUpdateList()),e.on(s.DESTROY,this.remove,this)),this},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return this},remove:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.children.contains(e)&&(this.children.delete(e),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,e),this.removeCallback&&this.removeCallback.call(this,e),e.off(s.DESTROY,this.remove,this),i?e.destroy():t&&(e.removeFromDisplayList(),e.removeFromUpdateList())),this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.children,n=0;n<i.size;n++){var r=i.entries[n];r.off(s.DESTROY,this.remove,this),t?r.destroy():e&&(r.removeFromDisplayList(),r.removeFromUpdateList())}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(e,t,i,n){return o(this.children.entries,e,t,i,n)},getFirst:function(e,t,i,n,r,s,a){return this.getHandler(!0,1,e,t,i,n,r,s,a)},getFirstNth:function(e,t,i,n,r,s,a,o){return this.getHandler(!0,e,t,i,n,r,s,a,o)},getLast:function(e,t,i,n,r,s,a){return this.getHandler(!1,1,e,t,i,n,r,s,a)},getLastNth:function(e,t,i,n,r,s,a,o){return this.getHandler(!1,e,t,i,n,r,s,a,o)},getHandler:function(e,t,i,n,r,s,a,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1);var c,l,u=0,d=this.children.entries;if(e)for(l=0;l<d.length;l++)if((c=d[l]).active===i){if(++u===t)break}else c=null;else for(l=d.length-1;l>=0;l--)if((c=d[l]).active===i){if(++u===t)break}else c=null;return c?("number"==typeof r&&(c.x=r),"number"==typeof s&&(c.y=s),c):n?this.create(r,s,a,o,h):null},get:function(e,t,i,n,r){return this.getFirst(!1,!0,e,t,i,n,r)},getFirstAlive:function(e,t,i,n,r,s){return this.getFirst(!0,e,t,i,n,r,s)},getFirstDead:function(e,t,i,n,r,s){return this.getFirst(!1,e,t,i,n,r,s)},playAnimation:function(e,t){return n.PlayAnimation(this.children.entries,e,t),this},isFull:function(){return -1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,i=0;i<this.children.size;i++)this.children.entries[i].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-e},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},propertyValueSet:function(e,t,i,r,s){return n.PropertyValueSet(this.children.entries,e,t,i,r,s),this},propertyValueInc:function(e,t,i,r,s){return n.PropertyValueInc(this.children.entries,e,t,i,r,s),this},setX:function(e,t){return n.SetX(this.children.entries,e,t),this},setY:function(e,t){return n.SetY(this.children.entries,e,t),this},setXY:function(e,t,i,r){return n.SetXY(this.children.entries,e,t,i,r),this},incX:function(e,t){return n.IncX(this.children.entries,e,t),this},incY:function(e,t){return n.IncY(this.children.entries,e,t),this},incXY:function(e,t,i,r){return n.IncXY(this.children.entries,e,t,i,r),this},shiftPosition:function(e,t,i){return n.ShiftPosition(this.children.entries,e,t,i),this},angle:function(e,t){return n.Angle(this.children.entries,e,t),this},rotate:function(e,t){return n.Rotate(this.children.entries,e,t),this},rotateAround:function(e,t){return n.RotateAround(this.children.entries,e,t),this},rotateAroundDistance:function(e,t,i){return n.RotateAroundDistance(this.children.entries,e,t,i),this},setAlpha:function(e,t){return n.SetAlpha(this.children.entries,e,t),this},setTint:function(e,t,i,r){return n.SetTint(this.children.entries,e,t,i,r),this},setOrigin:function(e,t,i,r){return n.SetOrigin(this.children.entries,e,t,i,r),this},scaleX:function(e,t){return n.ScaleX(this.children.entries,e,t),this},scaleY:function(e,t){return n.ScaleY(this.children.entries,e,t),this},scaleXY:function(e,t,i,r){return n.ScaleXY(this.children.entries,e,t,i,r),this},setDepth:function(e,t){return n.SetDepth(this.children.entries,e,t),this},setBlendMode:function(e){return n.SetBlendMode(this.children.entries,e),this},setHitArea:function(e,t){return n.SetHitArea(this.children.entries,e,t),this},shuffle:function(){return n.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(e,t,i){return n.SetVisible(this.children.entries,e,t,i),this},toggleVisible:function(){return n.ToggleVisible(this.children.entries),this},destroy:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(t,e),this.scene=void 0,this.children=void 0)}});e.exports=g},94975:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(26479);n.register("group",function(e){return new r(this.scene,null,e)})},3385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26479);i(39429).register("group",function(e,t){return this.updateList.add(new n(this.scene,e,t))})},88571:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(59819),o=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,a],initialize:function(e,t,i,n,r){s.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,r),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=o},40652:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},82459:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(88571);r.register("image",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),o=new a(this.scene,0,0,i,r);return void 0!==t&&(e.add=t),n(this.scene,o,e),o})},2117:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(88571);i(39429).register("image",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},59819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99517),s=i(40652),e.exports={renderWebGL:r,renderCanvas:s}},99517:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),this.pipeline.batchSprite(t,i,n)}},77856:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};n.Shader=i(20071),n.Mesh=i(4703),n.NineSlice=i(28103),n.PointLight=i(80321),n.Plane=i(33663),n.Factories.Shader=i(74177),n.Factories.Mesh=i(9225),n.Factories.NineSlice=i(47521),n.Factories.PointLight=i(71255),n.Factories.Plane=i(30985),n.Creators.Shader=i(54935),n.Creators.Mesh=i(20527),n.Creators.NineSlice=i(28279),n.Creators.PointLight=i(39829),n.Creators.Plane=i(56015),n.Light=i(41432),n.LightsManager=i(61356),n.LightsPlugin=i(88992),e.exports=n},93595:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(83419),s=i(31401),a=i(53774),o=i(45893),h=i(50792),c=i(51708),l=i(73162),u=i(33963),d=i(44594),f=i(19186),p=new r({Extends:l,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.PostPipeline,s.Visible,h,u],initialize:function(e,t){l.call(this,e),h.call(this),this.scene=e,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=e.sys,this.events=e.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(n.SKIP_CHECK),t&&this.add(t),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(e,t){return this.data||(this.data=new o(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new o(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new o(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new o(this)),this.data.get(e)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(e){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,i=[];t;)if(i.unshift(t.getIndex(e)),e=t,t.parentContainer)t=t.parentContainer;else break;return i.unshift(this.displayList.getIndex(e)),i},addChildCallback:function(e){var t=e.displayList;t&&t!==this&&e.removeFromDisplayList(),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(c.ADDED_TO_SCENE,e,this.scene),this.events.emit(d.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(c.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,e,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},addToDisplayList:function(e){return void 0===e&&(e=this.scene.sys.displayList),this.displayList&&this.displayList!==e&&this.removeFromDisplayList(),e.exists(this)||(this.displayList=e,e.add(this,!0),e.queueDepthSort(),this.emit(c.ADDED_TO_SCENE,this,this.scene),e.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var e=this.displayList||this.scene.sys.displayList;return e.exists(this)&&(e.remove(this,!0),e.queueDepthSort(),this.displayList=null,this.emit(c.REMOVED_FROM_SCENE,this,this.scene),e.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(e){if(this.scene&&!this.ignoreDestroy){this.emit(c.DESTROY,this);for(var t=this.list;t.length;)t[0].destroy(e);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});e.exports=p},2956:e=>{e.exports=function(e,t,i){var n=t.list;if(0!==n.length){t.depthSort();var r=-1!==t.blendMode;r||e.setBlendMode(0);var s=t._alpha;t.mask&&t.mask.preRenderCanvas(e,null,i);for(var a=0;a<n.length;a++){var o=n[a];if(o.willRender(i)){var h=o.alpha;r||o.blendMode===e.currentBlendMode||e.setBlendMode(o.blendMode),o.setAlpha(h*s),o.renderCanvas(e,o,i),o.setAlpha(h)}}t.mask&&t.mask.postRenderCanvas(e)}}},25179:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(93595),s=i(44603),a=i(23568);s.register("layer",function(e,t){void 0===e&&(e={});var i=a(e,"children",null),s=new r(this.scene,i);return void 0!==t&&(e.add=t),n(this.scene,s,e),s})},20005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(93595);i(39429).register("layer",function(e){return this.displayList.add(new n(this.scene,e))})},33963:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(15869),s=i(2956),e.exports={renderWebGL:r,renderCanvas:s}},15869:e=>{e.exports=function(e,t,i){var n=t.list,r=n.length;if(0!==r){t.depthSort(),e.pipelines.preBatch(t);var s=-1!==t.blendMode;s||e.setBlendMode(0);for(var a=t.alpha,o=0;o<r;o++){var h,c,l,u,d=n[o];if(d.willRender(i)){if(void 0!==d.alphaTopLeft)h=d.alphaTopLeft,c=d.alphaTopRight,l=d.alphaBottomLeft,u=d.alphaBottomRight;else{var f=d.alpha;h=f,c=f,l=f,u=f}s||d.blendMode===e.currentBlendMode||e.setBlendMode(d.blendMode);var p=d.mask;p&&p.preRenderWebGL(e,d,i);var g=d.type;g!==e.currentType&&(e.newType=!0,e.currentType=g),e.nextTypeMatch=o<r-1&&n[o+1].type===e.currentType,d.setAlpha(h*a,c*a,l*a,u*a),d.renderWebGL(e,d,i),d.setAlpha(h,c,l,u),p&&p.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(t)}}},41432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503),r=i(83419),s=i(31401),a=i(51767),o=i(70554),h=new r({Extends:n,Mixins:[s.Origin,s.ScrollFactor,s.Visible],initialize:function(e,t,i,r,s,o,h){n.call(this,e,t,i),this.color=new a(r,s,o),this.intensity=h,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(i)},displayWidth:{get:function(){return this.diameter},set:function(e){this.diameter=e}},displayHeight:{get:function(){return this.diameter},set:function(e){this.diameter=e}},width:{get:function(){return this.diameter},set:function(e){this.diameter=e}},height:{get:function(){return this.diameter},set:function(e){this.diameter=e}},willRender:function(e){return!(h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setColor:function(e){var t=o.getFloatsFromUintRGB(e);return this.color.set(t[0],t[1],t[2]),this},setIntensity:function(e){return this.intensity=e,this},setRadius:function(e){return this.radius=e,this}});h.RENDER_MASK=15,e.exports=h},61356:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81491),r=i(83419),s=i(20339),a=i(41432),o=i(80321),h=i(51767),c=i(19133),l=i(19186),u=i(70554),d=new r({initialize:function(){this.lights=[],this.ambientColor=new h(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(e,t,i,n,r,s){return this.systems.displayList.add(new o(this.scene,e,t,i,n,r,s))},enable:function(){return -1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(e){for(var t=this.lights,i=e.worldView,r=[],a=0;a<t.length;a++){var o=t[a];o.willRender(e)&&n(o,i)&&r.push({light:o,distance:s(o.x,o.y,i.centerX,i.centerY)})}return r.length>this.maxLights&&(l(r,this.sortByDistance),r=r.slice(0,this.maxLights)),this.visibleLights=r.length,r},sortByDistance:function(e,t){return e.distance>=t.distance},setAmbientColor:function(e){var t=u.getFloatsFromUintRGB(e);return this.ambientColor.set(t[0],t[1],t[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=128),void 0===n&&(n=16777215),void 0===r&&(r=1);var s=u.getFloatsFromUintRGB(n),o=new a(e,t,i,s[0],s[1],s[2],r);return this.lights.push(o),o},removeLight:function(e){var t=this.lights.indexOf(e);return t>=0&&c(this.lights,t),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});e.exports=d},88992:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(61356),s=i(37277),a=i(44594),o=new n({Extends:r,initialize:function(e){this.scene=e,this.systems=e.sys,e.sys.settings.isBooted||e.sys.events.once(a.BOOT,this.boot,this),r.call(this)},boot:function(){var e=this.systems.events;e.on(a.SHUTDOWN,this.shutdown,this),e.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",o,"lights"),e.exports=o},4703:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(39506),a=i(83997),o=i(95643),h=i(34684),c=i(92515),l=i(91296),u=i(37867),d=i(29807),f=i(43396),p=i(19186),g=i(25836),m=i(39318),v=new n({Extends:o,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,d],initialize:function(e,t,i,n,r,s,a,h,c,l,d,f){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n="__WHITE"),o.call(this,e,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new g,this.modelScale=new g(1,1,1),this.modelRotation=new g,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new g,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var p=e.sys.renderer;this.setPosition(t,i),this.setTexture(n,r),this.setSize(p.width,p.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(p.width,p.height),s&&this.addVertices(s,a,h,c,l,d,f)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(e){return this.viewPosition.addScale(g.LEFT,e),this.dirtyCache[10]=1,this},panY:function(e){return this.viewPosition.y+=g.DOWN.y*e,this.dirtyCache[10]=1,this},panZ:function(e){return this.viewPosition.z+=e,this.dirtyCache[10]=1,this},setPerspective:function(e,t,i,n,r){return void 0===i&&(i=45),void 0===n&&(n=.01),void 0===r&&(r=1e3),this.fov=i,this.projectionMatrix.perspective(s(i),e/t,n,r),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(e,t,i,n){return void 0===e&&(e=this.scene.sys.renderer.getAspectRatio()),void 0===t&&(t=1),void 0===i&&(i=-1e3),void 0===n&&(n=1e3),this.fov=0,this.projectionMatrix.ortho(-e,e,-t,t,i,n),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(e){e.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(e,t,i,n,r,s,a,o,c){var l,u=this.scene.sys.cache.obj.get(e);return u&&(l=h(u,this,t,i,n,r,s,a,o,c)),l&&0!==l.verts.length||console.warn("Mesh.addVerticesFromObj data empty:",e),this},sortByDepth:function(e,t){return e.depth-t.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(e,t,i,n,r,s,a){var o=new m(e,t,i,n,r,s,a);return this.vertices.push(o),o},addFace:function(e,t,i){var n=new a(e,t,i);return this.faces.push(n),this.dirtyCache[9]=-1,n},addVertices:function(e,t,i,n,r,s,a){var o=c(e,t,i,n,r,s,a);return o?(this.faces=this.faces.concat(o.faces),this.vertices=this.vertices.concat(o.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(e){return this.faces[e]},hasFaceAt:function(e,t,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var n=l(this,i).calc,r=this.faces,s=0;s<r.length;s++)if(r[s].contains(e,t,n))return!0;return!1},getFaceAt:function(e,t,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var n=l(this,i).calc,r=this.faces,s=[],a=0;a<r.length;a++){var o=r[a];o.contains(e,t,n)&&s.push(o)}return p(s,this.sortByDepth)},setDebug:function(e,t){return this.debugGraphic=e,e||t?t?this.debugCallback=t:this.debugCallback=this.renderDebug:this.debugCallback=null,this},isDirty:function(){var e=this.modelPosition,t=this.modelRotation,i=this.modelScale,n=this.dirtyCache,r=e.x,s=e.y,a=e.z,o=t.x,h=t.y,c=t.z,l=i.x,u=i.y,d=i.z,f=this.getFaceCount(),p=n[0],g=n[1],m=n[2],v=n[3],y=n[4],b=n[5],x=n[6],E=n[7],w=n[8],T=n[9];return n[0]=r,n[1]=s,n[2]=a,n[3]=o,n[4]=h,n[5]=c,n[6]=l,n[7]=u,n[8]=d,n[9]=f,p!==r||g!==s||m!==a||v!==o||y!==h||b!==c||x!==l||E!==u||w!==d||T!==f},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var e=this.dirtyCache;if(this.ignoreDirtyCache||e[10]||this.isDirty()){var t=this.width,i=this.height,n=this.viewMatrix,r=this.viewPosition;e[10]&&(n.identity(),n.translate(r),n.invert(),e[10]=0);var s=this.transformMatrix;s.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var a=r.z,o=this.faces,h=0;h<o.length;h++)o[h].transformCoordinatesLocal(s,t,i,a);this.depthSort()}},renderDebug:function(e,t){for(var i=e.debugGraphic,n=0;n<t.length;n++){var r=t[n],s=r.vertex1.tx,a=r.vertex1.ty,o=r.vertex2.tx,h=r.vertex2.ty,c=r.vertex3.tx,l=r.vertex3.ty;i.strokeTriangle(s,a,o,h,c,l)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(e){void 0===e&&(e={});var t=(function(e,t,i){for(var n=this.faces,r=0;r<n.length;r++)if(n[r].contains(t,i))return!0;return!1}).bind(this);return this.scene.sys.input.enable(this,e,t),this},setTint:function(e){void 0===e&&(e=16777215);for(var t=this.vertices,i=0;i<t.length;i++)t[i].color=e;return this},uvScroll:function(e,t){for(var i=this.faces,n=0;n<i.length;n++)i[n].scrollUV(e,t);return this},uvScale:function(e,t){for(var i=this.faces,n=0;n<i.length;n++)i[n].scaleUV(e,t);return this},tint:{set:function(e){this.setTint(e)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(e){this.modelRotation.x=s(e)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(e){this.modelRotation.y=s(e)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(e){this.modelRotation.z=s(e)}}});e.exports=v},36488:e=>{e.exports=function(){}},20527:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(4703);r.register("mesh",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),h=a(e,"vertices",[]),c=a(e,"uvs",[]),l=a(e,"indicies",[]),u=a(e,"containsZ",!1),d=a(e,"normals",[]),f=a(e,"colors",16777215),p=a(e,"alphas",1),g=new o(this.scene,0,0,i,r,h,c,l,u,d,f,p);return void 0!==t&&(e.add=t),n(this.scene,g,e),g})},9225:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4703);i(39429).register("mesh",function(e,t,i,r,s,a,o,h,c,l,u){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,h,c,l,u))})},29807:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(48833),s=i(36488),e.exports={renderWebGL:r,renderCanvas:s}},48833:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){var s=t.faces,a=s.length;if(0!==a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline,t),h=n(t,i,r).calc;e.pipelines.preBatch(t);for(var c=o.setGameObject(t),l=o.vertexViewF32,u=o.vertexViewU32,d=o.vertexCount*o.currentShader.vertexComponentCount-1,f=t.tintFill,p=[],g=t.debugCallback,m=h.a,v=h.b,y=h.c,b=h.d,x=h.e,E=h.f,w=t.viewPosition.z,T=t.hideCCW,S=i.roundPixels,A=i.alpha*t.alpha,C=0,_=0;_<a;_++){var I=s[_];I.isInView(i,T,w,A,m,v,y,b,x,E,S)&&(o.shouldFlush(3)&&(o.flush(),c=o.setGameObject(t),d=o.vertexCount*o.currentShader.vertexComponentCount-1),d=I.load(l,u,d,c,f),C++,o.vertexCount+=3,o.currentBatch.count=o.vertexCount-o.currentBatch.start,g&&p.push(I))}t.totalFrame+=C,g&&g.call(t,t,p),e.pipelines.postBatch(t)}}},28103:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(78023),o=i(39318),h=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Transform,r.Visible,a],initialize:function(e,t,i,n,r,a,h,c,l,u,d){s.call(this,e,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var f=e.textures.getFrame(n,r);this.is3Slice=!u&&!d,f&&f.scale9&&(this.is3Slice=f.is3Slice);for(var p=this.is3Slice?18:54,g=0;g<p;g++)this.vertices.push(new o);this.setPosition(t,i),this.setTexture(n,r),this.setSlices(a,h,c,l,u,d,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(e,t,i,n,r,s,a){void 0===i&&(i=10),void 0===n&&(n=10),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=!1);var o=this.frame,h=!1;if(this.is3Slice&&a&&0!==r&&0!==s&&(h=!0),h)console.warn("Cannot change 9 slice to 3 slice");else{if(o&&o.scale9&&!a){var c=o.data.scale9Borders,l=c.x,u=c.y;i=l,n=o.width-c.w-l,r=u,s=o.height-c.h-u,void 0===e&&(e=o.width),void 0===t&&(t=o.height)}else void 0===e&&(e=256),void 0===t&&(t=256);this._width=e,this._height=t,this.leftWidth=i,this.rightWidth=n,this.topHeight=r,this.bottomHeight=s,this.is3Slice&&(t=o.height,this._height=t,this.topHeight=t,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var e=this.leftWidth,t=this.rightWidth,i=this.topHeight,n=this.bottomHeight,r=this.frame.width,s=this.frame.height;this.updateQuadUVs(0,0,0,e/r,i/s),this.updateQuadUVs(6,e/r,0,1-t/r,i/s),this.updateQuadUVs(12,1-t/r,0,1,i/s),this.is3Slice||(this.updateQuadUVs(18,0,i/s,e/r,1-n/s),this.updateQuadUVs(24,e/r,i/s,1-t/r,1-n/s),this.updateQuadUVs(30,1-t/r,i/s,1,1-n/s),this.updateQuadUVs(36,0,1-n/s,e/r,1),this.updateQuadUVs(42,e/r,1-n/s,1-t/r,1),this.updateQuadUVs(48,1-t/r,1-n/s,1,1))},updateVertices:function(){var e=this.leftWidth,t=this.rightWidth,i=this.topHeight,n=this.bottomHeight,r=this.width,s=this.height;this.updateQuad(0,-.5,.5,-.5+e/r,.5-i/s),this.updateQuad(6,-.5+e/r,.5,.5-t/r,.5-i/s),this.updateQuad(12,.5-t/r,.5,.5,.5-i/s),this.is3Slice||(this.updateQuad(18,-.5,.5-i/s,-.5+e/r,-.5+n/s),this.updateQuad(24,-.5+e/r,.5-i/s,.5-t/r,-.5+n/s),this.updateQuad(30,.5-t/r,.5-i/s,.5,-.5+n/s),this.updateQuad(36,-.5,-.5+n/s,-.5+e/r,-.5),this.updateQuad(42,-.5+e/r,-.5+n/s,.5-t/r,-.5),this.updateQuad(48,.5-t/r,-.5+n/s,.5,-.5))},updateQuad:function(e,t,i,n,r){var s=this.width,a=this.height,o=this.originX,h=this.originY,c=this.vertices;c[e+0].resize(t,i,s,a,o,h),c[e+1].resize(t,r,s,a,o,h),c[e+2].resize(n,i,s,a,o,h),c[e+3].resize(t,r,s,a,o,h),c[e+4].resize(n,r,s,a,o,h),c[e+5].resize(n,i,s,a,o,h)},updateQuadUVs:function(e,t,i,n,r){var s=this.vertices,a=this.frame,o=a.u0,h=a.v0,c=a.u1,l=a.v1;if(0!==o||1!==c){var u=c-o;t=o+t*u,n=o+n*u}if(0!==h||1!==l){var d=l-h;i=h+i*d,r=h+r*d}s[e+0].setUVs(t,i),s[e+1].setUVs(t,r),s[e+2].setUVs(n,i),s[e+3].setUVs(t,r),s[e+4].setUVs(n,r),s[e+5].setUVs(n,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(e){return void 0===e&&(e=16777215),this.tint=e,this.tintFill=!1,this},setTintFill:function(e){return this.setTint(e),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(e){this._width=Math.max(e,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(e){this.is3Slice||(this._height=Math.max(e,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},originX:{get:function(){return this._originX},set:function(e){this._originX=e,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(e){this._originY=e,this.updateVertices()}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this._originX=e,this._originY=t,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var e=this.frame.height;this._height=e,this.topHeight=e,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});e.exports=h},28279:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(28103);r.register("nineslice",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),h=a(e,"width",256),c=a(e,"height",256),l=a(e,"leftWidth",10),u=a(e,"rightWidth",10),d=a(e,"topHeight",0),f=a(e,"bottomHeight",0),p=new o(this.scene,0,0,i,r,h,c,l,u,d,f);return void 0!==t&&(e.add=t),n(this.scene,p,e),p})},47521:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28103);i(39429).register("nineslice",function(e,t,i,r,s,a,o,h,c,l){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,h,c,l))})},78023:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n;r=i(52230),e.exports={renderWebGL:r,renderCanvas:n}},52230:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){var a=t.vertices,o=a.length;if(0!==o){i.addToRenderList(t);var h=e.pipelines.set(t.pipeline,t),c=n(t,i,s,!1).calc;e.pipelines.preBatch(t);var l=h.setGameObject(t),u=h.vertexViewF32,d=h.vertexViewU32,f=h.vertexCount*h.currentShader.vertexComponentCount-1,p=i.roundPixels,g=t.tintFill,m=i.alpha*t.alpha,v=r.getTintAppendFloatAlpha(t.tint,m),y=h.vertexAvailable(),b=-1;y<o&&(b=y);for(var x=0;x<o;x++){var E=a[x];x===b&&(h.flush(),l=h.setGameObject(t),f=0),u[++f]=c.getXRound(E.vx,E.vy,p),u[++f]=c.getYRound(E.vx,E.vy,p),u[++f]=E.u,u[++f]=E.v,u[++f]=l,u[++f]=g,d[++f]=v,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}e.pipelines.postBatch(t)}}},76472:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(44777),s=i(37589),a=i(6113),o=i(91389),h=i(90664),c=new n({Extends:r,initialize:function(e){r.call(this,e,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var e=this.propertyValue,t=e,i=this.defaultEmit,n=this.defaultUpdate;if(9===this.method){this.start=e[0],this.ease=a("Linear"),this.interpolation=o("linear"),i=this.easedValueEmit,n=this.easeValueUpdate,t=e[0],this.active=!0;for(var r=0;r<e.length;r++){var s=h(e[r]);this.r.push(s.r),this.g.push(s.g),this.b.push(s.b)}}return this.onEmit=i,this.onUpdate=n,this.current=t,this},setEase:function(e){this.easeName=e,this.ease=a(e)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(e,t,i){var n=this.ease(i),r=s(this.interpolation(this.r,n),this.interpolation(this.g,n),this.interpolation(this.b,n));return this.current=r,r}});e.exports=c},44777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(45319),s=i(83419),a=i(99472),o=i(6113),h=i(95540),c=i(91389),l=i(77720),u=i(15994),d=new s({initialize:function(e,t,i){void 0===i&&(i=!1),this.propertyKey=e,this.propertyValue=t,this.defaultValue=t,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=i,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(e,t){void 0===e&&(e={}),t&&(this.propertyKey=t),this.propertyValue=h(e,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(e){var t;switch(this.method){case 1:case 3:case 8:t=e;break;case 2:this.propertyValue.indexOf(e)>=0&&(t=e);break;case 4:t=l(e,(this.end-this.start)/this.steps),this.counter=t;break;case 5:case 6:case 7:t=r(e,this.start,this.end);break;case 9:t=this.start[0]}return this.current=t,this},getMethod:function(){var e=this.propertyValue;if(null===e)return 0;var t=typeof e;if("number"===t)return 1;if(Array.isArray(e))return 2;if("function"===t)return 3;if("object"===t){if(this.hasBoth(e,"start","end"))return this.has(e,"steps")?4:5;if(this.hasBoth(e,"min","max"))return 6;if(this.has(e,"random"))return 7;if(this.hasEither(e,"onEmit","onUpdate"))return 8;else if(this.hasEither(e,"values","interpolation"))return 9}return 0},setMethods:function(){var e=this.propertyValue,t=e,i=this.defaultEmit,n=this.defaultUpdate;switch(this.method){case 1:i=this.staticValueEmit;break;case 2:i=this.randomStaticValueEmit,t=e[0];break;case 3:this._onEmit=e,i=this.proxyEmit;break;case 4:this.start=e.start,this.end=e.end,this.steps=e.steps,this.counter=this.start,this.yoyo=!!this.has(e,"yoyo")&&e.yoyo,this.direction=0,i=this.steppedEmit,t=this.start;break;case 5:this.start=e.start,this.end=e.end;var r=this.has(e,"ease")?e.ease:"Linear";this.ease=o(r,e.easeParams),i=this.has(e,"random")&&e.random?this.randomRangedValueEmit:this.easedValueEmit,n=this.easeValueUpdate,t=this.start;break;case 6:this.start=e.min,this.end=e.max,i=this.has(e,"int")&&e.int?this.randomRangedIntEmit:this.randomRangedValueEmit,t=this.start;break;case 7:var s=e.random;Array.isArray(s)&&(this.start=s[0],this.end=s[1]),i=this.randomRangedIntEmit,t=this.start;break;case 8:this._onEmit=this.has(e,"onEmit")?e.onEmit:this.defaultEmit,this._onUpdate=this.has(e,"onUpdate")?e.onUpdate:this.defaultUpdate,i=this.proxyEmit,n=this.proxyUpdate;break;case 9:this.start=e.values;var a=this.has(e,"ease")?e.ease:"Linear";this.ease=o(a,e.easeParams),this.interpolation=c(e.interpolation),i=this.easedValueEmit,n=this.easeValueUpdate,t=this.start[0]}return this.onEmit=i,this.onUpdate=n,this.current=t,this},has:function(e,t){return e.hasOwnProperty(t)},hasBoth:function(e,t,i){return e.hasOwnProperty(t)&&e.hasOwnProperty(i)},hasEither:function(e,t,i){return e.hasOwnProperty(t)||e.hasOwnProperty(i)},defaultEmit:function(e,t,i){return i},defaultUpdate:function(e,t,i,n){return n},proxyEmit:function(e,t,i){var n=this._onEmit(e,t,i);return this.current=n,n},proxyUpdate:function(e,t,i,n){var r=this._onUpdate(e,t,i,n);return this.current=r,r},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[e],this.current},randomRangedValueEmit:function(e,t){var i=a(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i,e.data[t].max=this.end),this.current=i,i},randomRangedIntEmit:function(e,t){var i=n(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=i,e.data[t].max=this.end),this.current=i,i},steppedEmit:function(){var e,t=this.counter,i=t,n=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(i+=n)>=this.end&&(e=i-this.end,i=this.end-e,this.direction=1):(i-=n)<=this.start&&(e=this.start-i,i=this.start+e,this.direction=0),this.counter=i):this.counter=u(i+n,this.start,this.end),this.current=t,t},easedValueEmit:function(e,t){if(e&&e.data[t]){var i=e.data[t];i.min=this.start,i.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(e,t,i){var n,r=e.data[t],s=this.ease(i);return n=this.interpolation?this.interpolation(this.start,s):(r.max-r.min)*s+r.min,this.current=n,n},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});e.exports=d},24502:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(20286),a=new n({Extends:s,initialize:function(e,t,i,n,a){if("object"==typeof e){var o=e;e=r(o,"x",0),t=r(o,"y",0),i=r(o,"power",0),n=r(o,"epsilon",100),a=r(o,"gravity",50)}else void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=100),void 0===a&&(a=50);s.call(this,e,t,!0),this._gravity=a,this._power=i*a,this._epsilon=n*n},update:function(e,t){var i=this.x-e.x,n=this.y-e.y,r=i*i+n*n;if(0!==r){var s=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var a=this._power*t/(r*s)*100;e.velocityX+=i*a,e.velocityY+=n*a}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(e){this._epsilon=e*e}},power:{get:function(){return this._power/this._gravity},set:function(e){this._power=e*this._gravity}},gravity:{get:function(){return this._gravity},set:function(e){var t=this.power;this._gravity=e,this.power=t}}});e.exports=a},56480:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(45319),s=i(83419),a=i(39506),o=i(87841),h=i(11520),c=i(26099),l=new s({initialize:function(e){this.emitter=e,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new c,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=e.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new n(this)),this.bounds=new o},emit:function(e,t,i,n,r,s){return this.emitter.emit(e,t,i,n,r,s)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t},fire:function(e,t){var i=this.emitter,n=i.ops,r=i.getAnim();if(r?this.anims.play(r):(this.frame=i.getFrame(),this.texture=this.frame.texture),!this.frame)throw Error("Particle has no texture frame");if(i.getEmitZone(this),void 0===e?this.x+=n.x.onEmit(this,"x"):n.x.steps>0?this.x+=e+n.x.onEmit(this,"x"):this.x+=e,void 0===t?this.y+=n.y.onEmit(this,"y"):n.y.steps>0?this.y+=t+n.y.onEmit(this,"y"):this.y+=t,this.life=n.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=n.delay.onEmit(this,"delay"),this.holdCurrent=n.hold.onEmit(this,"hold"),this.scaleX=n.scaleX.onEmit(this,"scaleX"),this.scaleY=n.scaleY.active?n.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=n.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&i.getDeathZone(this))return this.lifeCurrent=0,!1;var s=n.speedX.onEmit(this,"speedX"),o=n.speedY.active?n.speedY.onEmit(this,"speedY"):s;if(i.radial){var h=a(n.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(s),this.velocityY=Math.sin(h)*Math.abs(o)}else if(i.moveTo){var c=n.moveToX.onEmit(this,"moveToX"),l=n.moveToY.onEmit(this,"moveToY"),u=this.life/1e3;this.velocityX=(c-this.x)/u,this.velocityY=(l-this.y)/u}else this.velocityX=s,this.velocityY=o;return i.acceleration&&(this.accelerationX=n.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=n.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=n.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=n.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=n.bounce.onEmit(this,"bounce"),this.alpha=n.alpha.onEmit(this,"alpha"),n.color.active?this.tint=n.color.onEmit(this,"tint"):this.tint=n.tint.onEmit(this,"tint"),!0},update:function(e,t,i){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=e,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=e,!1;this.anims&&this.anims.update(0,e);var n=this.emitter,s=n.ops,o=1-this.lifeCurrent/this.life;if(this.lifeT=o,this.x=s.x.onUpdate(this,"x",o,this.x),this.y=s.y.onUpdate(this,"y",o,this.y),n.moveTo){var h=s.moveToX.onUpdate(this,"moveToX",o,n.moveToX),c=s.moveToY.onUpdate(this,"moveToY",o,n.moveToY),l=this.lifeCurrent/1e3;this.velocityX=(h-this.x)/l,this.velocityY=(c-this.y)/l}return(this.computeVelocity(n,e,t,i,o),this.scaleX=s.scaleX.onUpdate(this,"scaleX",o,this.scaleX),s.scaleY.active?this.scaleY=s.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=s.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=a(this.angle),n.getDeathZone(this))?(this.lifeCurrent=0,!0):(this.alpha=r(s.alpha.onUpdate(this,"alpha",o,this.alpha),0,1),s.color.active?this.tint=s.color.onUpdate(this,"color",o,this.tint):this.tint=s.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(e,t,i,n,s){var a=e.ops,o=this.velocityX,h=this.velocityY,c=a.accelerationX.onUpdate(this,"accelerationX",s,this.accelerationX),l=a.accelerationY.onUpdate(this,"accelerationY",s,this.accelerationY),u=a.maxVelocityX.onUpdate(this,"maxVelocityX",s,this.maxVelocityX),d=a.maxVelocityY.onUpdate(this,"maxVelocityY",s,this.maxVelocityY);this.bounce=a.bounce.onUpdate(this,"bounce",s,this.bounce),o+=e.gravityX*i+c*i,h+=e.gravityY*i+l*i,o=r(o,-u,u),h=r(h,-d,d),this.velocityX=o,this.velocityY=h,this.x+=o*i,this.y+=h*i,e.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var f=0;f<n.length;f++){var p=n[f];p.active&&p.update(this,t,i,s)}},setSizeToFrame:function(){},getBounds:function(e){void 0===e&&(e=this.emitter.getWorldTransformMatrix());var t=Math.abs(e.scaleX)*this.scaleX,i=Math.abs(e.scaleY)*this.scaleY,n=this.x,r=this.y,s=this.rotation,a=this.frame.width*t/2,o=this.frame.height*i/2,l=this.bounds,u=new c(n-a,r-o),d=new c(n+a,r-o),f=new c(n-a,r+o),p=new c(n+a,r+o);return 0!==s&&(h(u,n,r,s),h(d,n,r,s),h(f,n,r,s),h(p,n,r,s)),e.transformPoint(u.x,u.y,u),e.transformPoint(d.x,d.y,d),e.transformPoint(f.x,f.y,f),e.transformPoint(p.x,p.y,p),l.x=Math.min(u.x,d.x,f.x,p.x),l.y=Math.min(u.y,d.y,f.y,p.y),l.width=Math.max(u.x,d.x,f.x,p.x)-l.x,l.height=Math.max(u.y,d.y,f.y,p.y)-l.y,l},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});e.exports=l},69601:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(20286),s=i(87841),a=new n({Extends:r,initialize:function(e,t,i,n,a,o,h,c){void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===h&&(h=!0),void 0===c&&(c=!0),r.call(this,e,t,!0),this.bounds=new s(e,t,i,n),this.collideLeft=a,this.collideRight=o,this.collideTop=h,this.collideBottom=c},update:function(e){var t=this.bounds,i=-e.bounce,n=e.worldPosition;n.x<t.x&&this.collideLeft?(e.x+=t.x-n.x,e.velocityX*=i):n.x>t.right&&this.collideRight&&(e.x-=n.x-t.right,e.velocityX*=i),n.y<t.y&&this.collideTop?(e.y+=t.y-n.y,e.velocityY*=i):n.y>t.bottom&&this.collideBottom&&(e.y-=n.y-t.bottom,e.velocityY*=i)}});e.exports=a},31600:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(53774),a=i(43459),o=i(26388),h=i(19909),c=i(76472),l=i(44777),u=i(20696),d=i(95643),f=i(95540),p=i(26546),g=i(24502),m=i(1985),v=i(97022),y=i(86091),b=i(73162),x=i(20074),E=i(269),w=i(56480),T=i(69601),S=i(68875),A=i(87841),C=i(59996),_=i(72905),I=i(90668),O=i(19186),P=i(61340),M=i(26099),R=i(15994),L=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],D=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],k=new n({Extends:d,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Transform,r.Visible,I],initialize:function(e,t,i,n,r){d.call(this,e,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new c("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new M,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new P,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new b(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(t,i),this.setTexture(n),r&&this.setConfig(r)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(e){if(!e)return this;this.config=e;var t=0,i="",n=this.ops;for(t=0;t<D.length;t++)n[i=D[t]].loadConfig(e);for(t=0;t<L.length;t++)v(e,i=L[t])&&(this[i]=f(e,i));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,v(e,"speed")&&(n.speedX.loadConfig(e,"speed"),n.speedY.active=!1),(m(e,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),v(e,"scale")&&(n.scaleX.loadConfig(e,"scale"),n.scaleY.active=!1),v(e,"callbackScope")){var r=f(e,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}if(v(e,"emitZone")&&this.addEmitZone(e.emitZone),v(e,"deathZone")&&this.addDeathZone(e.deathZone),v(e,"bounds")){var s=this.addParticleBounds(e.bounds);s.collideLeft=f(e,"collideLeft",!0),s.collideRight=f(e,"collideRight",!0),s.collideTop=f(e,"collideTop",!0),s.collideBottom=f(e,"collideBottom",!0)}return v(e,"followOffset")&&this.followOffset.setFromObject(f(e,"followOffset",0)),v(e,"texture")&&this.setTexture(e.texture),v(e,"frame")?this.setEmitterFrame(e.frame):v(e,"anim")&&this.setAnim(e.anim),v(e,"reserve")&&this.reserve(e.reserve),v(e,"advance")&&this.fastForward(e.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(e){return e&&(this.config?this.setConfig(E(this.config,e)):this.setConfig(e)),this},toJSON:function(){var e=s(this),t=0,i="";for(t=0;t<L.length;t++)e[i=L[t]]=this[i];var n=this.ops;for(t=0;t<D.length;t++)n[i=D[t]]&&(e[i]=n[i].toJSON());return n.speedY.active||(delete e.speedX,e.speed=n.speedX.toJSON()),this.scaleX===this.scaleY&&(delete e.scaleX,delete e.scaleY,e.scale=n.scaleX.toJSON()),e},resetCounters:function(e,t){var i=this.counters;i.fill(0),i[0]=e,t&&(i[5]=1)},startFollow:function(e,t,i,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=!1),this.follow=e,this.followOffset.set(t,i),this.trackVisible=n,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var e,t=this.frames,i=t.length;return 1===i?e=t[0]:this.randomFrame?e=p(t):(e=t[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===i&&(this.currentFrame=0))),this.texture.get(e)},setEmitterFrame:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=1),this.randomFrame=t,this.frameQuantity=i,this.currentFrame=0;var n=typeof e;if(this.frames.length=0,Array.isArray(e))this.frames=this.frames.concat(e);else if("string"===n||"number"===n)this.frames.push(e);else if("object"===n){var r=e;(e=f(r,"frames",null))&&(this.frames=this.frames.concat(e));var s=f(r,"cycle",!1);this.randomFrame=!s,this.frameQuantity=f(r,"quantity",i)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var e=this.anims,t=e.length;if(0===t)return null;if(1===t)return e[0];if(this.randomAnim)return p(e);var i=e[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=R(this.currentAnim+1,0,t)),i},setAnim:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=1),this.randomAnim=t,this.animQuantity=i,this.currentAnim=0;var n=typeof e;if(this.anims.length=0,Array.isArray(e))this.anims=this.anims.concat(e);else if("string"===n)this.anims.push(e);else if("object"===n){var r=e;(e=f(r,"anims",null))&&(this.anims=this.anims.concat(e));var s=f(r,"cycle",!1);this.randomAnim=!s,this.animQuantity=f(r,"quantity",i)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(e){return void 0===e&&(e=!0),this.radial=e,this},addParticleBounds:function(e,t,i,n,r,s,a,o){if("object"==typeof e){var h=e;e=h.x,t=h.y,i=v(h,"w")?h.w:h.width,n=v(h,"h")?h.h:h.height}return this.addParticleProcessor(new T(e,t,i,n,r,s,a,o))},setParticleSpeed:function(e,t){return void 0===t&&(t=e),this.ops.speedX.onChange(e),e===t?this.ops.speedY.active=!1:this.ops.speedY.onChange(t),this.radial=!0,this},setParticleScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.ops.scaleX.onChange(e),this.ops.scaleY.onChange(t),this},setParticleGravity:function(e,t){return this.gravityX=e,this.gravityY=t,this},setParticleAlpha:function(e){return this.ops.alpha.onChange(e),this},setParticleTint:function(e){return this.ops.tint.onChange(e),this},setEmitterAngle:function(e){return this.ops.angle.onChange(e),this},setParticleLifespan:function(e){return this.ops.lifespan.onChange(e),this},setQuantity:function(e){return this.quantity=e,this},setFrequency:function(e,t){return this.frequency=e,this.flowCounter=e>0?e:0,t&&(this.quantity=t),this},addDeathZone:function(e){Array.isArray(e)||(e=[e]);for(var t,i=[],n=0;n<e.length;n++)if((t=e[n])instanceof o)i.push(t);else if("function"==typeof t.contains)t=new o(t,!0),i.push(t);else{var r=f(t,"type","onEnter"),s=f(t,"source",null);s&&"function"==typeof s.contains&&(t=new o(s,"onEnter"===r),i.push(t))}return this.deathZones=this.deathZones.concat(i),i},removeDeathZone:function(e){return _(this.deathZones,e),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(e){Array.isArray(e)||(e=[e]);for(var t,i=[],n=0;n<e.length;n++)if((t=e[n])instanceof S||t instanceof h)i.push(t);else{var r=f(t,"source",null);if(r){var s=f(t,"type","random");"random"===s&&"function"==typeof r.getRandomPoint?(t=new S(r),i.push(t)):"edge"===s&&"function"==typeof r.getPoints&&(t=new h(r,f(t,"quantity",1),f(t,"stepRate",0),f(t,"yoyo",!1),f(t,"seamless",!0),f(t,"total",-1)),i.push(t))}}return this.emitZones=this.emitZones.concat(i),i},removeEmitZone:function(e){return _(this.emitZones,e),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(e){var t=this.emitZones,i=t.length;if(0!==i){var n=t[this.zoneIndex];n.getPoint(e),n.total>-1&&(this.zoneTotal++,this.zoneTotal===n.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===i&&(this.zoneIndex=0)))}},getDeathZone:function(e){for(var t=this.deathZones,i=0;i<t.length;i++){var n=t[i];if(n.willKill(e))return this.emit(u.DEATH_ZONE,this,e,n),!0}return!1},setEmitZone:function(e){var t;return(t=isFinite(e)?e:this.emitZones.indexOf(e))>=0&&(this.zoneIndex=t),this},addParticleProcessor:function(e){return this.processors.exists(e)||(e.emitter&&e.emitter.removeParticleProcessor(e),this.processors.add(e),e.emitter=this),e},removeParticleProcessor:function(e){return this.processors.exists(e)&&(this.processors.remove(e,!0),e.emitter=null),e},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(e){return this.addParticleProcessor(new g(e))},reserve:function(e){var t=this.dead;if(this.maxParticles>0){var i=this.getParticleCount();i+e>this.maxParticles&&(e=this.maxParticles-(i+e))}for(var n=0;n<e;n++)t.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return!!(this.maxParticles>0&&this.getParticleCount()>=this.maxParticles)||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(e,t){return void 0===e?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof e&&(this.emitCallback=e,t&&(this.emitCallbackScope=t)),this},onParticleDeath:function(e,t){return void 0===e?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof e&&(this.deathCallback=e,t&&(this.deathCallbackScope=t)),this},killAll:function(){for(var e=this.dead,t=this.alive;t.length>0;)e.push(t.pop());return this},forEachAlive:function(e,t){for(var i=this.alive,n=i.length,r=0;r<n;r++)e.call(t,i[r],this);return this},forEachDead:function(e,t){for(var i=this.dead,n=i.length,r=0;r<n;r++)e.call(t,i[r],this);return this},start:function(e,t){return void 0===e&&(e=0),this.emitting||(e>0&&this.fastForward(e),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==t&&(this.duration=Math.abs(t)),this.emit(u.START,this)),this},stop:function(e){return void 0===e&&(e=!1),this.emitting&&(this.emitting=!1,e&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(e,t){return void 0===e&&(e=""),void 0===t&&(t=this.true),this.sortProperty=e,this.sortOrderAsc=t,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(e){return e=""!==this.sortProperty?this.depthSortCallback:null,this.sortCallback=e,this},depthSort:function(){return O(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(e,t){var i=this.sortProperty;return this.sortOrderAsc?e[i]-t[i]:t[i]-e[i]},flow:function(e,t,i){return void 0===t&&(t=1),this.emitting=!1,this.frequency=e,this.quantity=t,void 0!==i&&(this.stopAfter=i),this.start()},explode:function(e,t,i){this.frequency=-1,this.resetCounters(-1,!0);var n=this.emitParticle(e,t,i);return this.emit(u.EXPLODE,this,n),n},emitParticleAt:function(e,t,i){return this.emitParticle(i,e,t)},emitParticle:function(e,t,i){if(!this.atLimit()){void 0===e&&(e=this.ops.quantity.onEmit());for(var n=this.dead,r=this.stopAfter,s=this.follow?this.follow.x+this.followOffset.x:t,a=this.follow?this.follow.y+this.followOffset.y:i,o=0;o<e;o++){var h=n.pop();if(h||(h=new this.particleClass(this)),h.fire(s,a)?(this.particleBringToTop?this.alive.push(h):this.alive.unshift(h),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,h,this)):this.dead.push(h),r>0&&(this.stopCounter++,this.stopCounter>=r)||this.atLimit())break}return h}},fastForward:function(e,t){void 0===t&&(t=1e3/60);var i=0;for(this.skipping=!0;i<Math.abs(e);)this.preUpdate(0,t),i+=t;return this.skipping=!1,this},preUpdate:function(e,t){var i=(t*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var n=this.getProcessors(),r=this.alive,s=this.dead,a=0,o=[],h=r.length;for(a=0;a<h;a++){var c=r[a];c.update(t,i,n)&&o.push({index:a,particle:c})}if((h=o.length)>0){var l=this.deathCallback,d=this.deathCallbackScope;for(a=h-1;a>=0;a--){var f=o[a];r.splice(f.index,1),s.push(f.particle),l&&l.call(d,f.particle),f.particle.setPosition()}}if(!this.emitting&&!this.skipping){1===this.completeFlag&&0===r.length&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=t;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;!this.skipping&&(this.duration>0&&(this.elapsed+=t,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(e){for(var t=this.getWorldTransformMatrix(),i=this.alive,n=i.length,r=[],s=0;s<n;s++){var a=i[s];C(e,a.getBounds(t))&&r.push(a)}return r},getBounds:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=1e3/60),void 0===n&&(n=new A);var r,s,o=this.getWorldTransformMatrix(),h=this.alive,c=!1;if(n.setTo(0,0,0,0),t>0){var l=0;for(this.skipping=!0;l<Math.abs(t);){for(this.preUpdate(0,i),r=0;r<h.length;r++)s=h[r].getBounds(o),c?x(n,s):(c=!0,a(s,n));l+=i}this.skipping=!1}else for(r=0;r<h.length;r++)s=h[r].getBounds(o),c?x(n,s):(c=!0,a(s,n));return e>0&&y(n,e,e),n},createEmitter:function(){throw Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(e){this.ops.x.onChange(e)}},particleY:{get:function(){return this.ops.y.current},set:function(e){this.ops.y.onChange(e)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(e){this.ops.accelerationX.onChange(e)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(e){this.ops.accelerationY.onChange(e)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(e){this.ops.maxVelocityX.onChange(e)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(e){this.ops.maxVelocityY.onChange(e)}},speed:{get:function(){return this.ops.speedX.current},set:function(e){this.ops.speedX.onChange(e),this.ops.speedY.onChange(e)}},speedX:{get:function(){return this.ops.speedX.current},set:function(e){this.ops.speedX.onChange(e)}},speedY:{get:function(){return this.ops.speedY.current},set:function(e){this.ops.speedY.onChange(e)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(e){this.ops.moveToX.onChange(e)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(e){this.ops.moveToY.onChange(e)}},bounce:{get:function(){return this.ops.bounce.current},set:function(e){this.ops.bounce.onChange(e)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(e){this.ops.scaleX.onChange(e)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(e){this.ops.scaleY.onChange(e)}},particleColor:{get:function(){return this.ops.color.current},set:function(e){this.ops.color.onChange(e)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(e){this.ops.color.setEase(e)}},particleTint:{get:function(){return this.ops.tint.current},set:function(e){this.ops.tint.onChange(e)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(e){this.ops.alpha.onChange(e)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(e){this.ops.lifespan.onChange(e)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(e){this.ops.angle.onChange(e)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(e){this.ops.rotate.onChange(e)}},quantity:{get:function(){return this.ops.quantity.current},set:function(e){this.ops.quantity.onChange(e)}},delay:{get:function(){return this.ops.delay.current},set:function(e){this.ops.delay.onChange(e)}},hold:{get:function(){return this.ops.hold.current},set:function(e){this.ops.hold.onChange(e)}},flowCounter:{get:function(){return this.counters[0]},set:function(e){this.counters[0]=e}},frameCounter:{get:function(){return this.counters[1]},set:function(e){this.counters[1]=e}},animCounter:{get:function(){return this.counters[2]},set:function(e){this.counters[2]=e}},elapsed:{get:function(){return this.counters[3]},set:function(e){this.counters[3]=e}},stopCounter:{get:function(){return this.counters[4]},set:function(e){this.counters[4]=e}},completeFlag:{get:function(){return this.counters[5]},set:function(e){this.counters[5]=e}},zoneIndex:{get:function(){return this.counters[6]},set:function(e){this.counters[6]=e}},zoneTotal:{get:function(){return this.counters[7]},set:function(e){this.counters[7]=e}},currentFrame:{get:function(){return this.counters[8]},set:function(e){this.counters[8]=e}},currentAnim:{get:function(){return this.counters[9]},set:function(e){this.counters[9]=e}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var e,t=this.ops;for(e=0;e<D.length;e++)t[D[e]].destroy();for(e=0;e<this.alive.length;e++)this.alive[e].destroy();for(e=0;e<this.dead.length;e++)this.dead[e].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});e.exports=k},9871:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(59996),r=i(61340),s=new r,a=new r,o=new r,h=new r;e.exports=function(e,t,i,r){r?(h.loadIdentity(),h.multiply(r),h.translate(t.x,t.y),h.rotate(t.rotation),h.scale(t.scaleX,t.scaleY)):h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var c=e.currentContext,l=i.roundPixels,u=i.alpha,d=t.alpha,f=t.alive,p=f.length,g=t.viewBounds;if(t.visible&&0!==p&&(!g||n(g,i.worldView))){t.sortCallback&&t.depthSort(),i.addToRenderList(t);var m=t.scrollFactorX,v=t.scrollFactorY;c.save(),c.globalCompositeOperation=e.blendModes[t.blendMode];for(var y=0;y<p;y++){var b=f[y],x=b.alpha*d*u;if(!(x<=0)&&0!==b.scaleX&&0!==b.scaleY){o.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),s.copyFrom(i.matrix),s.multiplyWithOffset(h,-i.scrollX*m,-i.scrollY*v),o.e=b.x,o.f=b.y,s.multiply(o,a);var E=b.frame,w=E.canvasData;if(w.width>0&&w.height>0){var T=-E.halfWidth,S=-E.halfHeight;c.globalAlpha=x,c.save(),a.setToContext(c),l&&(T=Math.round(T),S=Math.round(S)),c.imageSmoothingEnabled=!E.source.scaleMode,c.drawImage(E.source.image,w.x,w.y,w.width,w.height,T,S,w.width,w.height),c.restore()}}}c.restore()}}},92730:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(95540),o=i(31600);r.register("particles",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=a(e,"config",null),h=new o(this.scene,0,0,i);return void 0!==t&&(e.add=t),n(this.scene,h,e),r&&h.setConfig(r),h})},676:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(31600);n.register("particles",function(e,t,i,n){return void 0!==e&&"string"==typeof e&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new r(this.scene,e,t,i,n))})},90668:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(21188),s=i(9871),e.exports={renderWebGL:r,renderCanvas:s}},21188:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(59996),r=i(61340),s=i(70554),a=new r,o=new r,h=new r,c=new r;e.exports=function(e,t,i,r){var l,u,d=e.pipelines.set(t.pipeline);r?(c.loadIdentity(),c.multiply(r),c.translate(t.x,t.y),c.rotate(t.rotation),c.scale(t.scaleX,t.scaleY)):c.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var f=s.getTintAppendFloatAlpha,p=i.alpha,g=t.alpha;e.pipelines.preBatch(t);var m=t.alive,v=m.length,y=t.viewBounds;if(0!==v&&(!y||n(y,i.worldView))){t.sortCallback&&t.depthSort(),i.addToRenderList(t),a.copyFrom(i.matrix),a.multiplyWithOffset(c,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),e.setBlendMode(t.blendMode),t.mask&&(t.mask.preRenderWebGL(e,t,i),e.pipelines.set(t.pipeline));for(var b=t.tintFill,x=0;x<v;x++){var E=m[x],w=E.alpha*g*p;if(!(w<=0)&&0!==E.scaleX&&0!==E.scaleY){h.applyITRS(E.x,E.y,E.rotation,E.scaleX,E.scaleY),h.e=E.x,h.f=E.y,a.multiply(h,o);var T=E.frame;T.glTexture!==u&&(u=T.glTexture,l=d.setGameObject(t,T));var S=-T.halfWidth,A=-T.halfHeight,C=o.setQuad(S,A,S+T.width,A+T.height),_=f(E.tint,w);d.shouldFlush(6)&&(d.flush(),l=d.setGameObject(t,T)),d.batchQuad(t,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],T.u0,T.v0,T.u1,T.v1,_,_,_,_,b,u,l)}}t.mask&&t.mask.postRenderWebGL(e,i),e.pipelines.postBatch(t)}}},20286:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!0),this.emitter,this.x=e,this.y=t,this.active=i},update:function(){},destroy:function(){this.emitter=null}});e.exports=n},9774:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},812:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="deathzone"},30522:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="explode"},96695:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},18677:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},20696:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.source=e,this.killOnEnter=t},willKill:function(e){var t=this.source.contains(e.x,e.y);return t&&this.killOnEnter||!t&&!this.killOnEnter}});e.exports=n},19909:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s){void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===s&&(s=-1),this.source=e,this.points=[],this.quantity=t,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=r,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var e=this.points[0],t=this.points[this.points.length-1];e.x===t.x&&e.y===t.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(e){return this.source=e,this.updateSource()},getPoint:function(e){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var t=this.points[this.counter];t&&(e.x=t.x,e.y=t.y)}});e.exports=n},68875:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e){this.source=e,this._tempVec=new r,this.total=-1},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});e.exports=s},21024:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(68287),a=new n({Extends:s,Mixins:[r.PathFollower],initialize:function(e,t,i,n,r,a){s.call(this,e,i,n,r,a),this.path=t},preUpdate:function(e,t){this.anims.update(e,t),this.pathUpdate(e)}});e.exports=a},90145:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(1159);n.register("follower",function(e,t,i,n,s){var a=new r(this.scene,e,t,i,n,s);return this.displayList.add(a),this.updateList.add(a),a})},33663:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(48803),a=i(90664),o=i(4703),h=i(45650),c=new r({Extends:o,initialize:function(e,t,i,r,s,a,h,c){r||(r="__DEFAULT"),o.call(this,e,t,i,r,s),this.type="Plane",this.anims=new n(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(a,h,c),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(e,t,i){void 0===e&&(e=8),void 0===t&&(t=8),void 0===i&&(i=!1);var n=!1;return i&&(n=!0),this.gridWidth=e,this.gridHeight=t,this.isTiled=i,this.clear(),s({mesh:this,widthSegments:e,heightSegments:t,isOrtho:!1,tile:i,flipY:n}),this},setSizeToFrame:function(e){void 0===e&&(e=!0);var t,i,n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!e)return this;var r=this.gridWidth,s=this.gridHeight,a=this.vertices,o=n.u0,h=n.u1,c=n.v0,l=n.v1,u=0;if(this.isTiled)for(i=0,c=n.v1,l=n.v0;i<s;i++)for(t=0;t<r;t++)a[u++].setUVs(o,l),a[u++].setUVs(o,c),a[u++].setUVs(h,l),a[u++].setUVs(o,c),a[u++].setUVs(h,c),a[u++].setUVs(h,l);else{var d=r+1,f=s+1,p=h-o,g=l-c,m=[];for(i=0;i<f;i++)for(t=0;t<d;t++){var v=o+t/r*p,y=c+i/s*g;m.push(v,y)}for(i=0;i<s;i++)for(t=0;t<r;t++){var b=(t+d*i)*2,x=(t+d*(i+1))*2,E=(t+1+d*(i+1))*2,w=(t+1+d*i)*2;a[u++].setUVs(m[b],m[b+1]),a[u++].setUVs(m[x],m[x+1]),a[u++].setUVs(m[w],m[w+1]),a[u++].setUVs(m[x],m[x+1]),a[u++].setUVs(m[E],m[E+1]),a[u++].setUVs(m[w],m[w+1])}}return this},setViewHeight:function(e){void 0===e&&(e=this.frame.height);var t=this.fov*(Math.PI/180);this.viewPosition.z=this.height/e/Math.tan(t/2),this.dirtyCache[10]=1},createCheckerboard:function(e,t,i,n,r){void 0===e&&(e=16777215),void 0===t&&(t=255),void 0===i&&(i=255),void 0===n&&(n=255),void 0===r&&(r=128);for(var s=a(e),o=a(t),c=[],l=0;l<16;l++)for(var u=0;u<16;u++)l<8&&u<8||l>7&&u>7?c.push(s.r,s.g,s.b,i):c.push(o.r,o.g,o.b,n);var d=this.scene.sys.textures.addUint8Array(h(),new Uint8Array(c),16,16);return this.removeCheckerboard(),this.setTexture(d),this.setSizeToFrame(),this.setViewHeight(r),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(e,t){return this.anims.play(e,t)},playReverse:function(e,t){return this.anims.playReverse(e,t)},playAfterDelay:function(e,t){return this.anims.playAfterDelay(e,t)},playAfterRepeat:function(e,t){return this.anims.playAfterRepeat(e,t)},stop:function(){return this.anims.stop()},stopAfterDelay:function(e){return this.anims.stopAfterDelay(e)},stopAfterRepeat:function(e){return this.anims.stopAfterRepeat(e)},stopOnFrame:function(e){return this.anims.stopOnFrame(e)},preUpdate:function(e,t){o.prototype.preUpdate.call(this,e,t),this.anims.update(e,t)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});e.exports=c},56015:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(13059),s=i(44603),a=i(23568),o=i(35154),h=i(33663);s.register("plane",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),c=o(e,"width",8),l=o(e,"height",8),u=o(e,"tile",!1),d=new h(this.scene,0,0,i,s,c,l,u);void 0!==t&&(e.add=t);var f=o(e,"checkerboard",null);if(f){var p=o(f,"color1",16777215),g=o(f,"color2",255),m=o(f,"alpha1",255),v=o(f,"alpha2",255),y=o(f,"height",128);d.createCheckerboard(p,g,m,v,y)}return n(this.scene,d,e),r(d,e),d})},30985:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33663);i(39429).register("plane",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},80321:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(30100),o=i(36060),h=i(67277),c=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Transform,r.Visible,h],initialize:function(e,t,i,n,r,h,c){void 0===n&&(n=16777215),void 0===r&&(r=128),void 0===h&&(h=1),void 0===c&&(c=.1),s.call(this,e,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(t,i),this.color=a(n),this.intensity=h,this.attenuation=c,this.width=2*r,this.height=2*r,this._radius=r},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this.width=2*e,this.height=2*e}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});e.exports=c},39829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(80321);r.register("pointlight",function(e,t){void 0===e&&(e={});var i=s(e,"color",16777215),r=s(e,"radius",128),o=s(e,"intensity",1),h=s(e,"attenuation",.1),c=new a(this.scene,0,0,i,r,o,h);return void 0!==t&&(e.add=t),n(this.scene,c,e),c})},71255:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(80321);n.register("pointlight",function(e,t,i,n,s,a){return this.displayList.add(new r(this.scene,e,t,i,n,s,a))})},67277:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n;r=i(57787),e.exports={renderWebGL:r,renderCanvas:n}},57787:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){i.addToRenderList(t);var s=e.pipelines.set(t.pipeline),a=n(t,i,r).calc,o=t.width,h=t.height,c=-t._radius,l=-t._radius,u=c+o,d=l+h,f=a.getX(0,0),p=a.getY(0,0),g=a.getX(c,l),m=a.getY(c,l),v=a.getX(c,d),y=a.getY(c,d),b=a.getX(u,d),x=a.getY(u,d),E=a.getX(u,l),w=a.getY(u,l);e.pipelines.preBatch(t),s.batchPointLight(t,i,g,m,v,y,b,x,E,w,f,p),e.pipelines.postBatch(t)}},591:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(81320),s=i(88571),a=new n({Extends:s,initialize:function(e,t,i,n,a){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=32),void 0===a&&(a=32);var o=new r(e.sys.textures,"",n,a);s.call(this,e,t,i,o),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(e,t){this.width=e,this.height=t,this.texture.setSize(e,t),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},resize:function(e,t){return this.setSize(e,t),this},saveTexture:function(e){var t=this.texture;return t.key=e,t.manager.addDynamicTexture(t)&&(this._saved=!0),t},fill:function(e,t,i,n,r,s){return this.texture.fill(e,t,i,n,r,s),this},clear:function(){return this.texture.clear(),this},stamp:function(e,t,i,n,r){return this.texture.stamp(e,t,i,n,r),this},erase:function(e,t,i){return this.texture.erase(e,t,i),this},draw:function(e,t,i,n,r){return this.texture.draw(e,t,i,n,r),this},drawFrame:function(e,t,i,n,r,s){return this.texture.drawFrame(e,t,i,n,r,s),this},repeat:function(e,t,i,n,r,s,a,o,h){return this.texture.repeat(e,t,i,n,r,s,a,o,h),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(e,t,i,n,r){return this.texture.batchDraw(e,t,i,n,r),this},batchDrawFrame:function(e,t,i,n,r,s){return this.texture.batchDrawFrame(e,t,i,n,r,s),this},endDraw:function(e){return this.texture.endDraw(e),this},snapshotArea:function(e,t,i,n,r,s,a){return this.texture.snapshotArea(e,t,i,n,r,s,a),this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.width,this.height,e,t,i)},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});e.exports=a},34495:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(591);r.register("renderTexture",function(e,t){void 0===e&&(e={});var i=s(e,"x",0),r=s(e,"y",0),o=s(e,"width",32),h=s(e,"height",32),c=new a(this.scene,i,r,o,h);return void 0!==t&&(e.add=t),n(this.scene,c,e),c})},60505:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(591);n.register("renderTexture",function(e,t,i,n){return this.displayList.add(new r(this.scene,e,t,i,n))})},77757:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31401),a=i(95643),o=i(36060),h=i(38745),c=i(26099),l=new r({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.PostPipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(e,t,i,r,s,h,l,u,d){void 0===r&&(r="__DEFAULT"),void 0===h&&(h=2),void 0===l&&(l=!0),a.call(this,e,"Rope"),this.anims=new n(this),this.points=h,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===r,this.dirty=!1,this.horizontal=l,this._flipX=!1,this._flipY=!1,this._perp=new c,this.debugCallback=null,this.debugGraphic=null,this.setTexture(r,s),this.setPosition(t,i),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(h)&&this.resizeArrays(h.length),this.setPoints(h,u,d),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){var i=this.anims.currentFrame;this.anims.update(e,t),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(e,t,i){return this.anims.play(e,t,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,t,i){return(void 0===e&&(e=this.points.length),this.horizontal)?this:(this.horizontal=!0,this.setPoints(e,t,i))},setVertical:function(e,t,i){return(void 0===e&&(e=this.points.length),this.horizontal)?(this.horizontal=!1,this.setPoints(e,t,i)):this},setTintFill:function(e){return void 0===e&&(e=!1),this.tintFill=e,this},setAlphas:function(e,t){var i,n=this.points.length;if(n<1)return this;var r=this.alphas;void 0===e?e=[1]:Array.isArray(e)||void 0!==t||(e=[e]);var s=0;if(void 0!==t)for(i=0;i<n;i++)r[s=2*i]=e,r[s+1]=t;else if(e.length===n)for(i=0;i<n;i++)r[s=2*i]=e[i],r[s+1]=e[i];else{var a=e[0];for(i=0;i<n;i++)s=2*i,e.length>s&&(a=e[s]),r[s]=a,e.length>s+1&&(a=e[s+1]),r[s+1]=a}return this},setColors:function(e){var t,i=this.points.length;if(i<1)return this;var n=this.colors;void 0===e?e=[16777215]:Array.isArray(e)||(e=[e]);var r=0;if(e.length===i)for(t=0;t<i;t++)n[r=2*t]=e[t],n[r+1]=e[t];else{var s=e[0];for(t=0;t<i;t++)r=2*t,e.length>r&&(s=e[r]),n[r]=s,e.length>r+1&&(s=e[r+1]),n[r+1]=s}return this},setPoints:function(e,t,i){if(void 0===e&&(e=2),"number"==typeof e){var n,r,s,a=e;if(a<2&&(a=2),e=[],this.horizontal)for(n=0,s=-this.frame.halfWidth,r=this.frame.width/(a-1);n<a;n++)e.push({x:s+n*r,y:0});else for(n=0,s=-this.frame.halfHeight,r=this.frame.height/(a-1);n<a;n++)e.push({x:0,y:s+n*r})}var o=e.length,h=this.points.length;return o<1?console.warn("Rope: Not enough points given"):(1===o&&(e.unshift({x:0,y:0}),o++),h!==o&&this.resizeArrays(o),this.dirty=!0,this.points=e,this.updateUVs(),null!=t&&this.setColors(t),null!=i&&this.setAlphas(i)),this},updateUVs:function(){for(var e=this.uv,t=this.points.length,i=this.frame.u0,n=this.frame.v0,r=this.frame.u1,s=this.frame.v1,a=(r-i)/(t-1),o=(s-n)/(t-1),h=0;h<t;h++){var c,l,u,d,f=4*h;this.horizontal?(this._flipX?(c=r-h*a,u=r-h*a):(c=i+h*a,u=i+h*a),this._flipY?(l=s,d=n):(l=n,d=s)):(this._flipX?(c=i,u=r):(c=r,u=i),this._flipY?(l=s-h*o,d=s-h*o):(l=n+h*o,d=n+h*o)),e[f+0]=c,e[f+1]=l,e[f+2]=u,e[f+3]=d}return this},resizeArrays:function(e){var t=this.colors,i=this.alphas;this.vertices=new Float32Array(4*e),this.uv=new Float32Array(4*e),t=new Uint32Array(2*e),i=new Float32Array(2*e);for(var n=0;n<2*e;n++)t[n]=16777215,i[n]=1;return this.colors=t,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var e,t=this._perp,i=this.points,n=this.vertices,r=i.length;if(this.dirty=!1,!(r<1)){for(var s=i[0],a=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,o=0;o<r;o++){var h=i[o],c=4*o;e=o<r-1?i[o+1]:h,t.x=e.y-s.y,t.y=-(e.x-s.x);var l=t.length();t.x/=l,t.y/=l,t.x*=a,t.y*=a,n[c]=h.x+t.x,n[c+1]=h.y+t.y,n[c+2]=h.x-t.x,n[c+3]=h.y-t.y,s=h}return this}},setDebug:function(e,t){return this.debugGraphic=e,e||t?t?this.debugCallback=t:this.debugCallback=this.renderDebugVerts:this.debugCallback=null,this},renderDebugVerts:function(e,t,i){var n=e.debugGraphic,r=i[0],s=i[1],a=i[2],o=i[3];n.lineBetween(r,s,a,o);for(var h=4;h<t;h+=4){var c=i[h+0],l=i[h+1],u=i[h+2],d=i[h+3];n.lineBetween(r,s,c,l),n.lineBetween(a,o,u,d),n.lineBetween(a,o,c,l),n.lineBetween(c,l,u,d),r=c,s=l,a=u,o=d}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});e.exports=l},95262:e=>{e.exports=function(){}},26209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(35154),o=i(77757);r.register("rope",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"frame",null),h=s(e,"horizontal",!0),c=a(e,"points",void 0),l=a(e,"colors",void 0),u=a(e,"alphas",void 0),d=new o(this.scene,0,0,i,r,c,h,l,u);return void 0!==t&&(e.add=t),n(this.scene,d,e),d})},96819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(77757);i(39429).register("rope",function(e,t,i,r,s,a,o,h){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,h))})},38745:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(20439),s=i(95262),e.exports={renderWebGL:r,renderCanvas:s}},20439:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.pipelines.set(t.pipeline,t),o=n(t,i,s).calc,h=t.vertices,c=t.uv,l=t.colors,u=t.alphas,d=t.alpha,f=r.getTintAppendFloatAlpha,p=i.roundPixels,g=h.length,m=Math.floor(.5*g);a.flush(),e.pipelines.preBatch(t);var v=a.setGameObject(t),y=a.vertexViewF32,b=a.vertexViewU32,x=a.vertexCount*a.currentShader.vertexComponentCount-1,E=0,w=t.tintFill;t.dirty&&t.updateVertices();for(var T=t.debugCallback,S=[],A=0;A<g;A+=2){var C=h[A+0],_=h[A+1],I=C*o.a+_*o.c+o.e,O=C*o.b+_*o.d+o.f;p&&(I=Math.round(I),O=Math.round(O)),y[++x]=I,y[++x]=O,y[++x]=c[A+0],y[++x]=c[A+1],y[++x]=v,y[++x]=w,b[++x]=f(l[E],i.alpha*(u[E]*d)),E++,T&&(S[A+0]=I,S[A+1]=O)}T&&T.call(t,t,g,S),a.vertexCount+=m,a.currentBatch.count=a.vertexCount-a.currentBatch.start,e.pipelines.postBatch(t)}},20071:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(95540),o=i(79291),h=i(61622),c=i(25479),l=i(61340),u=i(95428),d=i(92503),f=new n({Extends:s,Mixins:[r.ComputedSize,r.Depth,r.GetBounds,r.Mask,r.Origin,r.ScrollFactor,r.Transform,r.Visible,c],initialize:function(e,t,i,n,r,a,o,h){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===a&&(a=128),s.call(this,e,"Shader"),this.blendMode=-1,this.shader;var c=e.sys.renderer;this.renderer=c,this.gl=c.gl,this.vertexData=new ArrayBuffer(6*(2*Float32Array.BYTES_PER_ELEMENT)),this.vertexBuffer=c.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=c.width,this._rendererHeight=c.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,n),this.setSize(r,a),this.setOrigin(.5,.5),this.setShader(t,o,h),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(e){return!!this.renderToTexture||!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setRenderToTexture:function(e,t){if(void 0===t&&(t=!1),!this.renderToTexture){var i=this.width,n=this.height,r=this.renderer;this.glTexture=r.createTextureFromSource(null,i,n,0),this.framebuffer=r.createFramebuffer(i,n,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=n,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),e&&(this.texture=this.scene.sys.textures.addGLTexture(e,this.glTexture))}return this.shader&&(r.pipelines.clear(),this.load(),this.flush(),r.pipelines.rebind()),this},setShader:function(e,t,i){if(this.renderer.contextLost)return this._deferSetShader={key:e,textures:t,textureData:i},this;if(void 0===t&&(t=[]),"string"==typeof e){var n=this.scene.sys.cache.shader;if(!n.has(e))return console.warn("Shader missing: "+e),this;this.shader=n.get(e)}else this.shader=e;var r=this.gl,s=this.renderer;this.program&&s.deleteProgram(this.program);var a=s.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);r.uniformMatrix4fv(r.getUniformLocation(a.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),r.uniformMatrix4fv(r.getUniformLocation(a.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),r.uniform2f(r.getUniformLocation(a.webGLProgram,"uResolution"),this.width,this.height),this.program=a;var h=new Date,c={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[h.getFullYear(),h.getMonth(),h.getDate(),3600*h.getHours()+60*h.getMinutes()+h.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,c):this.uniforms=c;for(var l=0;l<4;l++)t[l]&&this.setSampler2D("iChannel"+l,t[l],l,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(e){return this.pointer=e,this},projOrtho:function(e,t,i,n){if(this.renderer.contextLost){this._deferProjOrtho={left:e,right:t,bottom:i,top:n};return}var r=1/(e-t),s=1/(i-n),a=this.projectionMatrix;a[0]=-2*r,a[5]=-2*s,a[10]=-.001,a[12]=(e+t)*r,a[13]=(n+i)*s,a[14]=-0;var o=this.program,h=this.gl;this.renderer.setProgram(o),h.uniformMatrix4fv(h.getUniformLocation(o.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=t,this._rendererHeight=i},initUniforms:function(){var e=this.renderer.glFuncMap,t=this.program;for(var i in this._textureCount=0,this.uniforms){var n=this.uniforms[i],r=n.type,s=e[r];n.uniformLocation=this.renderer.createUniformLocation(t,i),"sampler2D"!==r&&(n.glMatrix=s.matrix,n.glValueLength=s.length,n.glFunc=s.func)}},setSampler2DBuffer:function(e,t,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s={});var a=this.uniforms[e];return a.value=t,s.width=i,s.height=n,a.textureData=s,this._textureCount=r,this.initSampler2D(a),this},setSampler2D:function(e,t,i,n){void 0===i&&(i=0);var r=this.scene.sys.textures;if(r.exists(t)){var s=r.getFrame(t);if(s.glTexture&&s.glTexture.isRenderTexture)return this.setSampler2DBuffer(e,s.glTexture,s.width,s.height,i,n);var a=this.uniforms[e],o=s.source;a.textureKey=t,a.source=o.image,a.value=s.glTexture,o.isGLTexture&&(n||(n={}),n.width=o.width,n.height=o.height),n&&(a.textureData=n),this._textureCount=i,this.initSampler2D(a)}return this},setUniform:function(e,t){return h(this.uniforms,e,t),this},getUniform:function(e){return a(this.uniforms,e,null)},setChannel0:function(e,t){return this.setSampler2D("iChannel0",e,0,t)},setChannel1:function(e,t){return this.setSampler2D("iChannel1",e,1,t)},setChannel2:function(e,t){return this.setSampler2D("iChannel2",e,2,t)},setChannel3:function(e,t){return this.setSampler2D("iChannel3",e,3,t)},initSampler2D:function(e){if(e.value){var t=e.textureData;if(t&&!e.value.isRenderTexture){var i=this.gl,n=e.value,r=i[a(t,"magFilter","linear").toUpperCase()],s=i[a(t,"minFilter","linear").toUpperCase()],o=i[a(t,"wrapS","repeat").toUpperCase()],h=i[a(t,"wrapT","repeat").toUpperCase()],c=i[a(t,"format","rgba").toUpperCase()],l=a(t,"flipY",!1),u=a(t,"width",n.width),d=a(t,"height",n.height),f=a(t,"source",n.pixels);t.repeat&&(o=i.REPEAT,h=i.REPEAT),t.width&&(f=null),n.update(f,u,d,l,o,h,s,r,c)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var e,t,i,n,r,s=this.gl,a=this.uniforms,o=0;for(var h in a)i=(e=a[h]).glFunc,t=e.glValueLength,n=e.uniformLocation,null!==(r=e.value)&&(1===t?e.glMatrix?i.call(s,n.webGLUniformLocation,e.transpose,r):i.call(s,n.webGLUniformLocation,r):2===t?i.call(s,n.webGLUniformLocation,r.x,r.y):3===t?i.call(s,n.webGLUniformLocation,r.x,r.y,r.z):4===t?i.call(s,n.webGLUniformLocation,r.x,r.y,r.z,r.w):"sampler2D"===e.type&&(s.activeTexture(s.TEXTURE0+o),s.bindTexture(s.TEXTURE_2D,r.webGLTexture),s.uniform1i(n.webGLUniformLocation,o),o++))},load:function(e){var t=this.gl,i=this.width,n=this.height,r=this.renderer,s=this.program,a=this.viewMatrix;if(!this.renderToTexture){var o=-this._displayOriginX,h=-this._displayOriginY;a[0]=e[0],a[1]=e[1],a[4]=e[2],a[5]=e[3],a[8]=e[4],a[9]=e[5],a[12]=a[0]*o+a[4]*h,a[13]=a[1]*o+a[5]*h}t.useProgram(s.webGLProgram),t.uniformMatrix4fv(t.getUniformLocation(s.webGLProgram,"uViewMatrix"),!1,a),t.uniformMatrix4fv(t.getUniformLocation(s.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),t.uniform2f(t.getUniformLocation(s.webGLProgram,"uResolution"),this.width,this.height);var c=this.uniforms,l=c.resolution;l.value.x=i,l.value.y=n,c.time.value=r.game.loop.getDuration();var u=this.pointer;if(u){var d=c.mouse,f=u.x/i,p=1-u.y/n;d.value.x=f.toFixed(2),d.value.y=p.toFixed(2)}this.syncUniforms()},flush:function(){var e=this.width,t=this.height,i=this.program,n=this.gl,r=this.vertexBuffer,s=this.renderer,a=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(s.setFramebuffer(this.framebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)),n.bindBuffer(n.ARRAY_BUFFER,r.webGLBuffer);var o=n.getAttribLocation(i.webGLProgram,"inPosition");-1!==o&&(n.enableVertexAttribArray(o),n.vertexAttribPointer(o,2,n.FLOAT,!1,a,0));var h=this.vertexViewF32;h[3]=t,h[4]=e,h[5]=t,h[8]=e,h[9]=t,h[10]=e,n.bufferSubData(n.ARRAY_BUFFER,0,this.bytes.subarray(0,6*a)),n.drawArrays(n.TRIANGLES,0,6),this.renderToTexture&&s.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var e=this._deferSetShader.key,t=this._deferSetShader.textures,i=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(e,t,i)}if(null!==this._deferProjOrtho){var n=this._deferProjOrtho.left,r=this._deferProjOrtho.right,s=this._deferProjOrtho.bottom,a=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(n,r,s,a)}},preDestroy:function(){var e=this.renderer;e.off(d.RESTORE_WEBGL,this.onContextRestored,this),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(e.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(t){e.deleteUniformLocation(t.uniformLocation),t.uniformLocation=null})}});e.exports=f},80464:e=>{e.exports=function(){}},54935:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(20071);r.register("shader",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=s(e,"x",0),o=s(e,"y",0),h=s(e,"width",128),c=s(e,"height",128),l=new a(this.scene,i,r,o,h,c);return void 0!==t&&(e.add=t),n(this.scene,l,e),l})},74177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20071);i(39429).register("shader",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},25479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(19257),s=i(80464),e.exports={renderWebGL:r,renderCanvas:s}},19257:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r){if(t.shader){if(i.addToRenderList(t),e.pipelines.clear(),t.renderToTexture)t.load(),t.flush();else{var s=n(t,i,r).calc;(e.width!==t._rendererWidth||e.height!==t._rendererHeight)&&t.projOrtho(0,e.width,e.height,0),t.load(s.matrix),t.flush()}e.pipelines.rebind()}}},10441:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r,s,a){for(var o=n.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*r),h=i.pathData,c=i.pathIndexes,l=0;l<c.length;l+=3){var u=2*c[l],d=2*c[l+1],f=2*c[l+2],p=h[u+0]-s,g=h[u+1]-a,m=h[d+0]-s,v=h[d+1]-a,y=h[f+0]-s,b=h[f+1]-a,x=t.getX(p,g),E=t.getY(p,g),w=t.getX(m,v),T=t.getY(m,v),S=t.getX(y,b),A=t.getY(y,b);e.batchTri(i,x,E,w,T,S,A,0,0,1,1,o,o,o,2)}}},65960:e=>{e.exports=function(e,t,i,n){var r=i||t.fillColor,s=n||t.fillAlpha;e.fillStyle="rgba("+((16711680&r)>>>16)+","+((65280&r)>>>8)+","+(255&r)+","+s+")"}},75177:e=>{e.exports=function(e,t,i,n){var r=i||t.strokeColor,s=n||t.strokeAlpha;e.strokeStyle="rgba("+((16711680&r)>>>16)+","+((65280&r)>>>8)+","+(255&r)+","+s+")",e.lineWidth=t.lineWidth}},17803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(95643),a=i(23031),o=new n({Extends:s,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Transform,r.Visible],initialize:function(e,t,i){void 0===t&&(t="Shape"),s.call(this,e,t),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(e,t,i){return void 0===i&&(i=1),void 0===e?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});e.exports=o},34682:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r,s){var a=e.strokeTint,o=n.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);a.TL=o,a.TR=o,a.BL=o,a.BR=o;var h=t.pathData,c=h.length-1,l=t.lineWidth,u=l/2,d=h[0]-r,f=h[1]-s;t.closePath||(c-=2);for(var p=2;p<c;p+=2){var g=h[p]-r,m=h[p+1]-s;e.batchLine(d,f,g,m,u,u,l,p-2,!!t.closePath&&p===c-1),d=g,f=m}}},23629:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13609),r=i(83419),s=i(39506),a=i(94811),o=i(96503),h=i(36383),c=i(17803),l=new r({Extends:c,Mixins:[n],initialize:function(e,t,i,n,r,s,a,h,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===r&&(r=0),void 0===s&&(s=360),void 0===a&&(a=!1),c.call(this,e,"Arc",new o(0,0,n)),this._startAngle=r,this._endAngle=s,this._anticlockwise=a,this._iterations=.01,this.setPosition(t,i);var u=2*this.geom.radius;this.setSize(u,u),void 0!==h&&this.setFillStyle(h,l),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var t=2*e;this.setSize(t,t),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return void 0===e&&(e=.01),this.iterations=e,this},setStartAngle:function(e,t){return this._startAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},setEndAngle:function(e,t){return this._endAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},updateData:function(){var e,t=this._iterations,i=t,n=this.geom.radius,r=s(this._startAngle),o=s(this._endAngle),c=this._anticlockwise;o-=r,c?o<-h.PI2?o=-h.PI2:o>0&&(o=-h.PI2+o%h.PI2):o>h.PI2?o=h.PI2:o<0&&(o=h.PI2+o%h.PI2);for(var l=[n+Math.cos(r)*n,n+Math.sin(r)*n];i<1;)e=o*i+r,l.push(n+Math.cos(e)*n,n+Math.sin(e)*n),i+=t;return e=o+r,l.push(n+Math.cos(e)*n,n+Math.sin(e)*n),l.push(n+Math.cos(r)*n,n+Math.sin(r)*n),this.pathIndexes=a(l),this.pathData=l,this}});e.exports=l},42542:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39506),r=i(65960),s=i(75177),a=i(20926);e.exports=function(e,t,i,o){i.addToRenderList(t);var h=e.currentContext;if(a(e,h,t,i,o)){var c=t.radius;h.beginPath(),h.arc(c-t.originX*(2*c),c-t.originY*(2*c),c,n(t._startAngle),n(t._endAngle),t.anticlockwise),t.closePath&&h.closePath(),t.isFilled&&(r(h,t),h.fill()),t.isStroked&&(s(h,t),h.stroke()),h.restore()}}},42563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23629),r=i(39429);r.register("arc",function(e,t,i,r,s,a,o,h){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o,h))}),r.register("circle",function(e,t,i,r,s){return this.displayList.add(new n(this.scene,e,t,i,0,360,!1,r,s))})},13609:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(41447),s=i(42542),e.exports={renderWebGL:r,renderCanvas:s}},41447:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(10441),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=n(t,i,a),c=o.calcMatrix.copyFrom(h.calc),l=t._displayOriginX,u=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(o,c,t,d,l,u),t.isStroked&&s(o,t,d,l,u),e.pipelines.postBatch(t)}},89:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(33141),s=i(94811),a=i(87841),o=i(17803),h=new n({Extends:o,Mixins:[r],initialize:function(e,t,i,n,r,s){void 0===t&&(t=0),void 0===i&&(i=0),o.call(this,e,"Curve",n),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(t,i),void 0!==r&&this.setFillStyle(r,s),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,t=this._smoothness;this.geom.getBounds(e,t),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var i=[],n=this.geom.getPoints(t),r=0;r<n.length;r++)i.push(n[r].x,n[r].y);return i.push(n[0].x,n[0].y),this.pathIndexes=s(i),this.pathData=i,this}});e.exports=h},3170:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX+t._curveBounds.x,c=t._displayOriginY+t._curveBounds.y,l=t.pathData,u=l.length-1,d=l[0]-h,f=l[1]-c;o.beginPath(),o.moveTo(d,f),t.closePath||(u-=2);for(var p=2;p<u;p+=2){var g=l[p]-h,m=l[p+1]-c;o.lineTo(g,m)}t.closePath&&o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},40511:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(89);n.register("curve",function(e,t,i,n,s){return this.displayList.add(new r(this.scene,e,t,i,n,s))})},33141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(53987),s=i(3170),e.exports={renderWebGL:r,renderCanvas:s}},53987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=r(t,i,a),c=o.calcMatrix.copyFrom(h.calc),l=t._displayOriginX+t._curveBounds.x,u=t._displayOriginY+t._curveBounds.y,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,c,t,d,l,u),t.isStroked&&s(o,t,d,l,u),e.pipelines.postBatch(t)}},19921:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94811),s=i(54205),a=i(8497),o=i(17803),h=new n({Extends:o,Mixins:[s],initialize:function(e,t,i,n,r,s,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===r&&(r=128),o.call(this,e,"Ellipse",new a(n/2,r/2,n,r)),this._smoothness=64,this.setPosition(t,i),this.width=n,this.height=r,void 0!==s&&this.setFillStyle(s,h),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,t){return this.width=e,this.height=t,this.geom.setPosition(e/2,t/2),this.geom.setSize(e,t),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],t=this.geom.getPoints(this._smoothness),i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=r(e),this.pathData=e,this}});e.exports=h},7930:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX,c=t._displayOriginY,l=t.pathData,u=l.length-1,d=l[0]-h,f=l[1]-c;o.beginPath(),o.moveTo(d,f),t.closePath||(u-=2);for(var p=2;p<u;p+=2){var g=l[p]-h,m=l[p+1]-c;o.lineTo(g,m)}o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},1543:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19921);i(39429).register("ellipse",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},54205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(19467),s=i(7930),e.exports={renderWebGL:r,renderCanvas:s}},19467:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=r(t,i,a),c=o.calcMatrix.copyFrom(h.calc),l=t._displayOriginX,u=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,c,t,d,l,u),t.isStroked&&s(o,t,d,l,u),e.pipelines.postBatch(t)}},30479:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=new n({Extends:r,Mixins:[i(26015)],initialize:function(e,t,i,n,s,a,o,h,c,l,u){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===s&&(s=128),void 0===a&&(a=32),void 0===o&&(o=32),r.call(this,e,"Grid",null),this.cellWidth=a,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(t,i),this.setSize(n,s),this.setFillStyle(h,c),void 0!==l&&this.setOutlineStyle(l,u),this.updateDisplayOrigin()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showCells=!1:(this.fillColor=e,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showAltCells=!1:(this.altFillColor=e,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showOutline=!1:(this.outlineFillColor=e,this.outlineFillAlpha=t,this.showOutline=!0),this}});e.exports=s},49912:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=-t._displayOriginX,c=-t._displayOriginY,l=i.alpha*t.alpha,u=t.width,d=t.height,f=t.cellWidth,p=t.cellHeight,g=Math.ceil(u/f),m=Math.ceil(d/p),v=f,y=p,b=f-(g*f-u),x=p-(m*p-d),E=t.showCells,w=t.showAltCells,T=t.showOutline,S=0,A=0,C=0,_=0,I=0;if(T&&(v--,y--,b===f&&b--,x===p&&x--),E&&t.fillAlpha>0)for(n(o,t),A=0;A<m;A++)for(w&&(C=A%2),S=0;S<g;S++){if(w&&C){C=0;continue}C++,_=S<g-1?v:b,I=A<m-1?y:x,o.fillRect(h+S*f,c+A*p,_,I)}if(w&&t.altFillAlpha>0)for(n(o,t,t.altFillColor,t.altFillAlpha*l),A=0;A<m;A++)for(w&&(C=A%2),S=0;S<g;S++){if(w&&!C){C=1;continue}C=0,_=S<g-1?v:b,I=A<m-1?y:x,o.fillRect(h+S*f,c+A*p,_,I)}if(T&&t.outlineFillAlpha>0){for(r(o,t,t.outlineFillColor,t.outlineFillAlpha*l),S=1;S<g;S++){var O=S*f;o.beginPath(),o.moveTo(O+h,c),o.lineTo(O+h,d+c),o.stroke()}for(A=1;A<m;A++){var P=A*p;o.beginPath(),o.moveTo(h,P+c),o.lineTo(h+u,P+c),o.stroke()}}o.restore()}}},34137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(30479);n.register("grid",function(e,t,i,n,s,a,o,h,c,l){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,h,c,l))})},26015:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(46161),s=i(49912),e.exports={renderWebGL:r,renderCanvas:s}},46161:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,h=e.pipelines.set(t.pipeline),c=n(t,i,s);h.calcMatrix.copyFrom(c.calc).translate(-t._displayOriginX,-t._displayOriginY);var l=i.alpha*t.alpha,u=t.width,d=t.height,f=t.cellWidth,p=t.cellHeight,g=Math.ceil(u/f),m=Math.ceil(d/p),v=f,y=p,b=f-(g*f-u),x=p-(m*p-d),E=t.showCells,w=t.showAltCells,T=t.showOutline,S=0,A=0,C=0,_=0,I=0;if(T&&(v--,y--,b===f&&b--,x===p&&x--),e.pipelines.preBatch(t),E&&t.fillAlpha>0)for(A=0,a=h.fillTint,o=r.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*l),a.TL=o,a.TR=o,a.BL=o,a.BR=o;A<m;A++)for(w&&(C=A%2),S=0;S<g;S++){if(w&&C){C=0;continue}C++,_=S<g-1?v:b,I=A<m-1?y:x,h.batchFillRect(S*f,A*p,_,I)}if(w&&t.altFillAlpha>0)for(A=0,a=h.fillTint,o=r.getTintAppendFloatAlpha(t.altFillColor,t.altFillAlpha*l),a.TL=o,a.TR=o,a.BL=o,a.BR=o;A<m;A++)for(w&&(C=A%2),S=0;S<g;S++){if(w&&!C){C=1;continue}C=0,_=S<g-1?v:b,I=A<m-1?y:x,h.batchFillRect(S*f,A*p,_,I)}if(T&&t.outlineFillAlpha>0){var O=h.strokeTint,P=r.getTintAppendFloatAlpha(t.outlineFillColor,t.outlineFillAlpha*l);for(S=1,O.TL=P,O.TR=P,O.BL=P,O.BR=P;S<g;S++){var M=S*f;h.batchLine(M,0,M,d,1,1,1,0,!1)}for(A=1;A<m;A++){var R=A*p;h.batchLine(0,R,u,R,1,1,1,0,!1)}}e.pipelines.postBatch(t)}},61475:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99651),r=i(83419),s=i(17803),a=new r({Extends:s,Mixins:[n],initialize:function(e,t,i,n,r,a,o,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=48),void 0===r&&(r=32),void 0===a&&(a=15658734),void 0===o&&(o=10066329),void 0===h&&(h=13421772),s.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=a,this.fillLeft=o,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(t,i),this.setSize(n,r),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=a},11508:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)&&t.isFilled){var o=t.width,h=t.height,c=o/2,l=o/t.projection;t.showTop&&(n(a,t,t.fillTop),a.beginPath(),a.moveTo(-c,-h),a.lineTo(0,-l-h),a.lineTo(c,-h),a.lineTo(c,-1),a.lineTo(0,l-1),a.lineTo(-c,-1),a.lineTo(-c,-h),a.fill()),t.showLeft&&(n(a,t,t.fillLeft),a.beginPath(),a.moveTo(-c,0),a.lineTo(0,l),a.lineTo(0,l-h),a.lineTo(-c,-h),a.lineTo(-c,0),a.fill()),t.showRight&&(n(a,t,t.fillRight),a.beginPath(),a.moveTo(c,0),a.lineTo(0,l),a.lineTo(0,l-h),a.lineTo(c,-h),a.lineTo(c,0),a.fill()),a.restore()}}},3933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(61475);n.register("isobox",function(e,t,i,n,s,a,o){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o))})},99651:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(68149),s=i(11508),e.exports={renderWebGL:r,renderCanvas:s}},68149:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,h,c,l,u,d,f,p,g=e.pipelines.set(t.pipeline),m=n(t,i,s),v=g.calcMatrix.copyFrom(m.calc),y=t.width,b=t.height,x=y/2,E=y/t.projection,w=i.alpha*t.alpha;t.isFilled&&(e.pipelines.preBatch(t),t.showTop&&(a=r.getTintAppendFloatAlpha(t.fillTop,w),o=v.getX(-x,-b),h=v.getY(-x,-b),c=v.getX(0,-E-b),l=v.getY(0,-E-b),u=v.getX(x,-b),d=v.getY(x,-b),f=v.getX(0,E-b),p=v.getY(0,E-b),g.batchQuad(t,o,h,c,l,u,d,f,p,0,0,1,1,a,a,a,a,2)),t.showLeft&&(a=r.getTintAppendFloatAlpha(t.fillLeft,w),o=v.getX(-x,0),h=v.getY(-x,0),c=v.getX(0,E),l=v.getY(0,E),u=v.getX(0,E-b),d=v.getY(0,E-b),f=v.getX(-x,-b),p=v.getY(-x,-b),g.batchQuad(t,o,h,c,l,u,d,f,p,0,0,1,1,a,a,a,a,2)),t.showRight&&(a=r.getTintAppendFloatAlpha(t.fillRight,w),o=v.getX(x,0),h=v.getY(x,0),c=v.getX(0,E),l=v.getY(0,E),u=v.getX(0,E-b),d=v.getY(0,E-b),f=v.getX(x,-b),p=v.getY(x,-b),g.batchQuad(t,o,h,c,l,u,d,f,p,0,0,1,1,a,a,a,a,2)),e.pipelines.postBatch(t))}},16933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(60561),s=i(17803),a=new n({Extends:s,Mixins:[r],initialize:function(e,t,i,n,r,a,o,h,c){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=48),void 0===r&&(r=32),void 0===a&&(a=!1),void 0===o&&(o=15658734),void 0===h&&(h=10066329),void 0===c&&(c=13421772),s.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=h,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=a,this.isFilled=!0,this.setPosition(t,i),this.setSize(n,r),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setReversed:function(e){return this.isReversed=e,this},setFaces:function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this.showTop=e,this.showLeft=t,this.showRight=i,this},setFillStyle:function(e,t,i){return this.fillTop=e,this.fillLeft=t,this.fillRight=i,this.isFilled=!0,this}});e.exports=a},79590:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)&&t.isFilled){var o=t.width,h=t.height,c=o/2,l=o/t.projection,u=t.isReversed;t.showTop&&u&&(n(a,t,t.fillTop),a.beginPath(),a.moveTo(-c,-h),a.lineTo(0,-l-h),a.lineTo(c,-h),a.lineTo(0,l-h),a.fill()),t.showLeft&&(n(a,t,t.fillLeft),a.beginPath(),u?a.moveTo(-c,-h):a.moveTo(-c,0),a.lineTo(0,l),a.lineTo(0,l-h),a.fill()),t.showRight&&(n(a,t,t.fillRight),a.beginPath(),u?a.moveTo(c,-h):a.moveTo(c,0),a.lineTo(0,l),a.lineTo(0,l-h),a.fill()),a.restore()}}},49803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(16933);n.register("isotriangle",function(e,t,i,n,s,a,o,h){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,h))})},60561:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(51503),s=i(79590),e.exports={renderWebGL:r,renderCanvas:s}},51503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a,o,h,c,l,u,d,f=e.pipelines.set(t.pipeline),p=n(t,i,s),g=f.calcMatrix.copyFrom(p.calc),m=t.width,v=t.height,y=m/2,b=m/t.projection,x=t.isReversed,E=i.alpha*t.alpha;if(t.isFilled){if(e.pipelines.preBatch(t),t.showTop&&x){a=r.getTintAppendFloatAlpha(t.fillTop,E),o=g.getX(-y,-v),h=g.getY(-y,-v),c=g.getX(0,-b-v),l=g.getY(0,-b-v),u=g.getX(y,-v),d=g.getY(y,-v);var w=g.getX(0,b-v),T=g.getY(0,b-v);f.batchQuad(t,o,h,c,l,u,d,w,T,0,0,1,1,a,a,a,a,2)}t.showLeft&&(a=r.getTintAppendFloatAlpha(t.fillLeft,E),x?(o=g.getX(-y,-v),h=g.getY(-y,-v)):(o=g.getX(-y,0),h=g.getY(-y,0)),c=g.getX(0,b),l=g.getY(0,b),u=g.getX(0,b-v),d=g.getY(0,b-v),f.batchTri(t,o,h,c,l,u,d,0,0,1,1,a,a,a,2)),t.showRight&&(a=r.getTintAppendFloatAlpha(t.fillRight,E),x?(o=g.getX(y,-v),h=g.getY(y,-v)):(o=g.getX(y,0),h=g.getY(y,0)),c=g.getX(0,b),l=g.getY(0,b),u=g.getX(0,b-v),d=g.getY(0,b-v),f.batchTri(t,o,h,c,l,u,d,0,0,1,1,a,a,a,2)),e.pipelines.postBatch(t)}}},57847:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=i(23031),a=new n({Extends:r,Mixins:[i(36823)],initialize:function(e,t,i,n,a,o,h,c,l){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=128),void 0===h&&(h=0),r.call(this,e,"Line",new s(n,a,o,h));var u=Math.max(1,this.geom.right-this.geom.left),d=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(t,i),this.setSize(u,d),void 0!==c&&this.setStrokeStyle(1,c,l),this.updateDisplayOrigin()},setLineWidth:function(e,t){return void 0===t&&(t=e),this._startWidth=e,this._endWidth=t,this.lineWidth=e,this},setTo:function(e,t,i,n){return this.geom.setTo(e,t,i,n),this}});e.exports=a},17440:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(75177),r=i(20926);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.currentContext;if(r(e,a,t,i,s)){var o=t._displayOriginX,h=t._displayOriginY;t.isStroked&&(n(a,t),a.beginPath(),a.moveTo(t.geom.x1-o,t.geom.y1-h),a.lineTo(t.geom.x2-o,t.geom.y2-h),a.stroke()),a.restore()}}},2481:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(57847);n.register("line",function(e,t,i,n,s,a,o,h){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,h))})},36823:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(77385),s=i(17440),e.exports={renderWebGL:r,renderCanvas:s}},77385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(70554);e.exports=function(e,t,i,s){i.addToRenderList(t);var a=e.pipelines.set(t.pipeline),o=n(t,i,s);a.calcMatrix.copyFrom(o.calc);var h=t._displayOriginX,c=t._displayOriginY,l=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isStroked){var u=a.strokeTint,d=r.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*l);u.TL=d,u.TR=d,u.BL=d,u.BR=d,a.batchLine(t.geom.x1-h,t.geom.y1-c,t.geom.x2-h,t.geom.y2-c,t._startWidth/2,t._endWidth/2,1,0,!1,o.sprite,o.camera)}e.pipelines.postBatch(t)}},24949:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90273),r=i(83419),s=i(94811),a=i(13829),o=i(25717),h=i(17803),c=i(5469),l=new r({Extends:h,Mixins:[n],initialize:function(e,t,i,n,r,s){void 0===t&&(t=0),void 0===i&&(i=0),h.call(this,e,"Polygon",new o(n));var c=a(this.geom);this.setPosition(t,i),this.setSize(c.width,c.height),void 0!==r&&this.setFillStyle(r,s),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)c(this.geom);return this.updateData()},setTo:function(e){this.geom.setTo(e);var t=a(this.geom);return this.setSize(t.width,t.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,i=0;i<t.length;i++)e.push(t[i].x,t[i].y);return e.push(t[0].x,t[0].y),this.pathIndexes=s(e),this.pathData=e,this}});e.exports=l},38710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX,c=t._displayOriginY,l=t.pathData,u=l.length-1,d=l[0]-h,f=l[1]-c;o.beginPath(),o.moveTo(d,f),t.closePath||(u-=2);for(var p=2;p<u;p+=2){var g=l[p]-h,m=l[p+1]-c;o.lineTo(g,m)}t.closePath&&o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},64827:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(24949);n.register("polygon",function(e,t,i,n,s){return this.displayList.add(new r(this.scene,e,t,i,n,s))})},90273:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(73695),s=i(38710),e.exports={renderWebGL:r,renderCanvas:s}},73695:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=r(t,i,a),c=o.calcMatrix.copyFrom(h.calc),l=t._displayOriginX,u=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,c,t,d,l,u),t.isStroked&&s(o,t,d,l,u),e.pipelines.postBatch(t)}},74561:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87841),s=i(17803),a=new n({Extends:s,Mixins:[i(95597)],initialize:function(e,t,i,n,a,o,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=128),void 0===a&&(a=128),s.call(this,e,"Rectangle",new r(0,0,n,a)),this.setPosition(t,i),this.setSize(n,a),void 0!==o&&this.setFillStyle(o,h),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,t){this.width=e,this.height=t,this.geom.setSize(e,t),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),t.getLineD(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=a},48682:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX,c=t._displayOriginY;t.isFilled&&(n(o,t),o.fillRect(-h,-c,t.width,t.height)),t.isStroked&&(r(o,t),o.beginPath(),o.rect(-h,-c,t.width,t.height),o.stroke()),o.restore()}}},87959:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(74561);n.register("rectangle",function(e,t,i,n,s,a){return this.displayList.add(new r(this.scene,e,t,i,n,s,a))})},95597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(52059),s=i(48682),e.exports={renderWebGL:r,renderCanvas:s}},52059:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(34682),s=i(70554);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=n(t,i,a);o.calcMatrix.copyFrom(h.calc);var c=t._displayOriginX,l=t._displayOriginY,u=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var d=o.fillTint,f=s.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*u);d.TL=f,d.TR=f,d.BL=f,d.BR=f,o.batchFillRect(-c,-l,t.width,t.height)}t.isStroked&&r(o,t,u,c,l),e.pipelines.postBatch(t)}},55911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81991),r=i(83419),s=i(94811),a=i(17803),o=new r({Extends:a,Mixins:[n],initialize:function(e,t,i,n,r,s,o,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=5),void 0===r&&(r=32),void 0===s&&(s=64),a.call(this,e,"Star",null),this._points=n,this._innerRadius=r,this._outerRadius=s,this.setPosition(t,i),this.setSize(2*s,2*s),void 0!==o&&this.setFillStyle(o,h),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],t=this._points,i=this._innerRadius,n=this._outerRadius,r=Math.PI/2*3,a=Math.PI/t;e.push(n,n+-n);for(var o=0;o<t;o++)e.push(n+Math.cos(r)*n,n+Math.sin(r)*n),r+=a,e.push(n+Math.cos(r)*i,n+Math.sin(r)*i),r+=a;return e.push(n,n+-n),this.pathIndexes=s(e),this.pathData=e,this}});e.exports=o},64272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX,c=t._displayOriginY,l=t.pathData,u=l.length-1,d=l[0]-h,f=l[1]-c;o.beginPath(),o.moveTo(d,f),t.closePath||(u-=2);for(var p=2;p<u;p+=2){var g=l[p]-h,m=l[p+1]-c;o.lineTo(g,m)}o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},93697:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55911);i(39429).register("star",function(e,t,i,r,s,a,o){return this.displayList.add(new n(this.scene,e,t,i,r,s,a,o))})},81991:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(57017),s=i(64272),e.exports={renderWebGL:r,renderCanvas:s}},57017:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10441),r=i(91296),s=i(34682);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=r(t,i,a),c=o.calcMatrix.copyFrom(h.calc),l=t._displayOriginX,u=t._displayOriginY,d=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&n(o,c,t,d,l,u),t.isStroked&&s(o,t,d,l,u),e.pipelines.postBatch(t)}},36931:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(17803),s=i(16483),a=new n({Extends:r,Mixins:[i(96195)],initialize:function(e,t,i,n,a,o,h,c,l,u,d){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=128),void 0===o&&(o=64),void 0===h&&(h=0),void 0===c&&(c=128),void 0===l&&(l=128),r.call(this,e,"Triangle",new s(n,a,o,h,c,l));var f=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top;this.setPosition(t,i),this.setSize(f,p),void 0!==u&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,t,i,n,r,s){return this.geom.setTo(e,t,i,n,r,s),this.updateData()},updateData:function(){var e=[],t=this.geom,i=this._tempLine;return t.getLineA(i),e.push(i.x1,i.y1,i.x2,i.y2),t.getLineB(i),e.push(i.x2,i.y2),t.getLineC(i),e.push(i.x2,i.y2),this.pathData=e,this}});e.exports=a},85172:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(65960),r=i(75177),s=i(20926);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.currentContext;if(s(e,o,t,i,a)){var h=t._displayOriginX,c=t._displayOriginY,l=t.geom.x1-h,u=t.geom.y1-c,d=t.geom.x2-h,f=t.geom.y2-c,p=t.geom.x3-h,g=t.geom.y3-c;o.beginPath(),o.moveTo(l,u),o.lineTo(d,f),o.lineTo(p,g),o.closePath(),t.isFilled&&(n(o,t),o.fill()),t.isStroked&&(r(o,t),o.stroke()),o.restore()}}},45245:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(36931);n.register("triangle",function(e,t,i,n,s,a,o,h,c,l){return this.displayList.add(new r(this.scene,e,t,i,n,s,a,o,h,c,l))})},96195:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(83253),s=i(85172),e.exports={renderWebGL:r,renderCanvas:s}},83253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296),r=i(34682),s=i(70554);e.exports=function(e,t,i,a){i.addToRenderList(t);var o=e.pipelines.set(t.pipeline),h=n(t,i,a);o.calcMatrix.copyFrom(h.calc);var c=t._displayOriginX,l=t._displayOriginY,u=i.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var d=o.fillTint,f=s.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*u);d.TL=f,d.TR=f,d.BL=f,d.BR=f;var p=t.geom.x1-c,g=t.geom.y1-l,m=t.geom.x2-c,v=t.geom.y2-l,y=t.geom.x3-c,b=t.geom.y3-l;o.batchFillTriangle(p,g,m,v,y,b,h.sprite,h.camera)}t.isStroked&&r(o,t,u,c,l),e.pipelines.postBatch(t)}},68287:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31401),a=i(95643),o=i(92751),h=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,o],initialize:function(e,t,i,r,s){a.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n(this),this.setTexture(r,s),this.setPosition(t,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){this.anims.update(e,t)},play:function(e,t){return this.anims.play(e,t)},playReverse:function(e,t){return this.anims.playReverse(e,t)},playAfterDelay:function(e,t){return this.anims.playAfterDelay(e,t)},playAfterRepeat:function(e,t){return this.anims.playAfterRepeat(e,t)},chain:function(e){return this.anims.chain(e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(e){return this.anims.stopAfterDelay(e)},stopAfterRepeat:function(e){return this.anims.stopAfterRepeat(e)},stopOnFrame:function(e){return this.anims.stopOnFrame(e)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});e.exports=h},76552:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},15567:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(13059),s=i(44603),a=i(23568),o=i(68287);s.register("sprite",function(e,t){void 0===e&&(e={});var i=a(e,"key",null),s=a(e,"frame",null),h=new o(this.scene,0,0,i,s);return void 0!==t&&(e.add=t),n(this.scene,h,e),r(h,e),h})},46409:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(68287);n.register("sprite",function(e,t,i,n){return this.displayList.add(new r(this.scene,e,t,i,n))})},92751:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(9409),s=i(76552),e.exports={renderWebGL:r,renderCanvas:s}},9409:e=>{e.exports=function(e,t,i,n){i.addToRenderList(t),t.pipeline.batchSprite(t,i,n)}},14220:e=>{e.exports=function(e,t,i){var n=e.canvas,r=e.context,s=e.style,a=[],o=0,h=i.length;s.maxLines>0&&s.maxLines<i.length&&(h=s.maxLines),s.syncFont(n,r);for(var c=e.letterSpacing,l=0;l<h;l++){var u=s.strokeThickness;if(0===c)u+=r.measureText(i[l]).width;else{for(var d=i[l],f=0;f<d.length;f++)u+=r.measureText(d[f]).width;d.length>1&&(u+=c*(d.length-1))}s.wordWrap&&(u-=r.measureText(" ").width),a[l]=Math.ceil(u),o=Math.max(o,a[l])}var p=t.fontSize+s.strokeThickness,g=p*h,m=e.lineSpacing;return h>1&&(g+=m*(h-1)),{width:o,height:g,lines:h,lineWidths:a,lineSpacing:m,lineHeight:p}}},79557:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919);e.exports=function(e){var t,i,r=n.create(this),s=r.getContext("2d",{willReadFrequently:!0});e.syncFont(r,s);var a=s.measureText(e.testString);if("actualBoundingBoxAscent"in a){var o=a.actualBoundingBoxAscent,h=a.actualBoundingBoxDescent;return n.remove(r),{ascent:o,descent:h,fontSize:o+h}}var c=Math.ceil(a.width*e.baselineX),l=c,u=2*l;l=l*e.baselineY|0,r.width=c,r.height=u,s.fillStyle="#f00",s.fillRect(0,0,c,u),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,l);var d={ascent:0,descent:0,fontSize:0},f=s.getImageData(0,0,c,u);if(!f)return d.ascent=l,d.descent=l+6,d.fontSize=d.ascent+d.descent,n.remove(r),d;var p=f.data,g=p.length,m=4*c,v=0,y=!1;for(t=0;t<l;t++){for(i=0;i<m;i+=4)if(255!==p[v+i]){y=!0;break}if(y)break;v+=m}for(d.ascent=l-t,v=g-m,y=!1,t=u;t>l;t--){for(i=0;i<m;i+=4)if(255!==p[v+i]){y=!0;break}if(y)break;v-=m}return d.descent=t-l,d.fontSize=d.ascent+d.descent,n.remove(r),d}},50171:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(40366),r=i(27919),s=i(83419),a=i(31401),o=i(95643),h=i(14220),c=i(35154),l=i(35846),u=i(61771),d=i(35762),f=i(45650),p=new s({Extends:o,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,u],initialize:function(e,t,i,n,s){void 0===t&&(t=0),void 0===i&&(i=0),o.call(this,e,"Text"),this.renderer=e.sys.renderer,this.setPosition(t,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=r.create(this),this.context,this.style=new d(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=e.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(n),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&this.setLineSpacing(s.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(e){var t=this.style;if(t.wordWrapCallback){var i=t.wordWrapCallback.call(t.wordWrapCallbackScope,e,this);return Array.isArray(i)&&(i=i.join("\n")),i}return t.wordWrapWidth?t.wordWrapUseAdvanced?this.advancedWordWrap(e,this.context,this.style.wordWrapWidth):this.basicWordWrap(e,this.context,this.style.wordWrapWidth):e},advancedWordWrap:function(e,t,i){for(var n="",r=e.replace(/ +/gi," ").split(this.splitRegExp),s=r.length,a=0;a<s;a++){var o=r[a],h="";if(o=o.replace(/^ *|\s*$/gi,""),t.measureText(o).width<i){n+=o+"\n";continue}for(var c=i,l=o.split(" "),u=0;u<l.length;u++){var d=l[u],f=d+" ",p=t.measureText(f).width;if(p>c){if(0===u){for(var g=f;g.length&&(g=g.slice(0,-1),!((p=t.measureText(g).width)<=c)););if(!g.length)throw Error("wordWrapWidth < a single character");var m=d.substr(g.length);l[u]=m,h+=g}var v=l[u].length?u:u+1,y=l.slice(v).join(" ").replace(/[ \n]*$/gi,"");r.splice(a+1,0,y),s=r.length;break}h+=f,c-=p}n+=h.replace(/[ \n]*$/gi,"")+"\n"}return n.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(e,t,i){for(var n="",r=e.split(this.splitRegExp),s=r.length-1,a=t.measureText(" ").width,o=0;o<=s;o++){for(var h=i,c=r[o].split(" "),l=c.length-1,u=0;u<=l;u++){var d=c[u],f=t.measureText(d).width,p=f;u<l&&(p+=a),p>h&&u>0&&(n+="\n",h=i),n+=d,u<l?(n+=" ",h-=p):h-=f}o<s&&(n+="\n")}return n},getWrappedText:function(e){return void 0===e&&(e=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(e).split(this.splitRegExp)},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this._text&&(this._text=e.toString(),this.updateText()),this},appendText:function(e,t){void 0===t&&(t=!0),e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e=e.toString();var i=this._text.concat(t?"\n"+e:e);return i!==this._text&&(this._text=i,this.updateText()),this},setStyle:function(e){return this.style.setStyle(e)},setFont:function(e){return this.style.setFont(e)},setFontFamily:function(e){return this.style.setFontFamily(e)},setFontSize:function(e){return this.style.setFontSize(e)},setFontStyle:function(e){return this.style.setFontStyle(e)},setFixedSize:function(e,t){return this.style.setFixedSize(e,t)},setBackgroundColor:function(e){return this.style.setBackgroundColor(e)},setFill:function(e){return this.style.setFill(e)},setColor:function(e){return this.style.setColor(e)},setStroke:function(e,t){return this.style.setStroke(e,t)},setShadow:function(e,t,i,n,r,s){return this.style.setShadow(e,t,i,n,r,s)},setShadowOffset:function(e,t){return this.style.setShadowOffset(e,t)},setShadowColor:function(e){return this.style.setShadowColor(e)},setShadowBlur:function(e){return this.style.setShadowBlur(e)},setShadowStroke:function(e){return this.style.setShadowStroke(e)},setShadowFill:function(e){return this.style.setShadowFill(e)},setWordWrapWidth:function(e,t){return this.style.setWordWrapWidth(e,t)},setWordWrapCallback:function(e,t){return this.style.setWordWrapCallback(e,t)},setAlign:function(e){return this.style.setAlign(e)},setResolution:function(e){return this.style.setResolution(e)},setLineSpacing:function(e){return this.lineSpacing=e,this.updateText()},setLetterSpacing:function(e){return this.letterSpacing=e,this.updateText()},setPadding:function(e,t,i,n){if("object"==typeof e){var r=e,s=c(r,"x",null);null!==s?(e=s,i=s):(e=c(r,"left",0),i=c(r,"right",e));var a=c(r,"y",null);null!==a?(t=a,n=a):(t=c(r,"top",0),n=c(r,"bottom",t))}else void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=e),void 0===n&&(n=t);return this.padding.left=e,this.padding.top=t,this.padding.right=i,this.padding.bottom=n,this.updateText()},setMaxLines:function(e){return this.style.setMaxLines(e)},setRTL:function(e){void 0===e&&(e=!0);var t=this.style;return t.rtl===e||(t.rtl=e,e?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===t.align?t.align="right":"right"===t.align&&(t.align="left")),this},updateText:function(){var e,t,i,n=this.canvas,r=this.context,s=this.style,a=s.resolution,o=s.metrics;s.syncFont(n,r);var c=this._text;(s.wordWrapWidth||s.wordWrapCallback)&&(c=this.runWordWrap(this._text));var l=c.split(this.splitRegExp),u=h(this,o,l),d=this.padding;0===s.fixedWidth?(this.width=u.width+d.left+d.right,e=u.width):(this.width=s.fixedWidth,(e=this.width-d.left-d.right)<u.width&&(e=u.width)),0===s.fixedHeight?this.height=u.height+d.top+d.bottom:this.height=s.fixedHeight;var f=this.width,p=this.height;this.updateDisplayOrigin(),f*=a,p*=a,f=Math.max(f,1),p=Math.max(p,1),n.width!==f||n.height!==p?(n.width=f,n.height=p,this.frame.setSize(f,p),s.syncFont(n,r),s.rtl&&(r.direction="rtl")):r.clearRect(0,0,f,p),r.save(),r.scale(a,a),s.backgroundColor&&(r.fillStyle=s.backgroundColor,r.fillRect(0,0,f,p)),s.syncStyle(n,r),r.translate(d.left,d.top);for(var g=0;g<u.lines;g++){if(t=s.strokeThickness/2,i=s.strokeThickness/2+g*u.lineHeight+o.ascent,g>0&&(i+=u.lineSpacing*g),s.rtl)t=f-t-d.left-d.right;else if("right"===s.align)t+=e-u.lineWidths[g];else if("center"===s.align)t+=(e-u.lineWidths[g])/2;else if("justify"===s.align&&u.lineWidths[g]/u.width>=.85){for(var m=u.width-u.lineWidths[g],v=r.measureText(" ").width,y=l[g].trim(),b=y.split(" "),x=Math.floor((m+=(l[g].length-y.length)*v)/v),E=0;x>0;)b[E]+=" ",E=(E+1)%(b.length-1||1),--x;l[g]=b.join(" ")}this.autoRound&&(t=Math.round(t),i=Math.round(i));var w=this.letterSpacing;if(s.strokeThickness&&0===w&&(s.syncShadow(r,s.shadowStroke),r.strokeText(l[g],t,i)),s.color){if(s.syncShadow(r,s.shadowFill),0!==w)for(var T=0,S=l[g].split(""),A=0;A<S.length;A++)s.strokeThickness&&(s.syncShadow(r,s.shadowStroke),r.strokeText(S[A],t+T,i),s.syncShadow(r,s.shadowFill)),r.fillText(S[A],t+T,i),T+=r.measureText(S[A]).width+w;else r.fillText(l[g],t,i)}}r.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(n,this.frame.source.glTexture,!0));var C=this.input;return C&&!C.customHitArea&&(C.hitArea.width=this.width,C.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(e){this.setText(e)}},toJSON:function(){var e=a.ToJSON(this),t={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return e.data=t,e},preDestroy:function(){l(this.canvas),r.remove(this.canvas);var e=this.texture;e&&e.destroy()}});e.exports=p},79724:e=>{e.exports=function(e,t,i,n){0!==t.width&&0!==t.height&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))}},71259:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(50171);r.register("text",function(e,t){void 0===e&&(e={});var i=s(e,"text",""),r=s(e,"style",null),o=s(e,"padding",null);null!==o&&(r.padding=o);var h=new a(this.scene,0,0,i,r);return void 0!==t&&(e.add=t),n(this.scene,h,e),h.autoRound=s(e,"autoRound",!0),h.resolution=s(e,"resolution",1),h})},68005:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(50171);i(39429).register("text",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},61771:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(34397),s=i(79724),e.exports={renderWebGL:r,renderCanvas:s}},35762:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23568),s=i(35154),a=i(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},h=new n({initialize:function(e,t){this.parent=e,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(t,!1,!0)},setStyle:function(e,t,i){for(var n in void 0===t&&(t=!0),void 0===i&&(i=!1),o){var h=i?o[n][1]:this[n];"wordWrapCallback"===n||"wordWrapCallbackScope"===n?this[n]=s(e,o[n][0],h):e&&"fontSize"===n&&"number"==typeof e.fontSize?this[n]=e.fontSize.toString()+"px":this[n]=r(e,o[n][0],h)}var c=s(e,"font",null);null!==c&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var l=s(e,"fill",null);null!==l&&(this.color=l);var u=s(e,"metrics",!1);return(u?this.metrics={ascent:s(u,"ascent",0),descent:s(u,"descent",0),fontSize:s(u,"fontSize",0)}:(t||!this.metrics)&&(this.metrics=a(this)),t)?this.parent.updateText():this.parent},syncFont:function(e,t){t.font=this._font},syncStyle:function(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"},syncShadow:function(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(e,t){void 0===t&&(t=!0);var i=e,n="",r="";if("string"!=typeof e)i=s(e,"fontFamily","Courier"),n=s(e,"fontSize","16px"),r=s(e,"fontStyle","");else{var a=e.split(" "),o=0;r=a.length>2?a[o++]:"",n=a[o++]||"16px",i=a[o++]||"Courier"}return(i!==this.fontFamily||n!==this.fontSize||r!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=n,this.fontStyle=r,t&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return"number"==typeof e&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,t){return void 0===t&&(t=this.strokeThickness),void 0===e&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==e||this.strokeThickness!==t)&&(this.stroke=e,this.strokeThickness=t,this.update(!0)),this.parent},setShadow:function(e,t,i,n,r,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)},setShadowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)},setShadowColor:function(e){return void 0===e&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return void 0===e&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,t){return void 0===t&&(t=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=t,this.update(!1)},setWordWrapCallback:function(e,t){return void 0===t&&(t=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=t,this.update(!1)},setAlign:function(e){return void 0===e&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return void 0===e&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var t in o)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}});e.exports=h},34397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r){if(0!==t.width&&0!==t.height){i.addToRenderList(t);var s=t.frame,a=s.width,o=s.height,h=n.getTintAppendFloatAlpha,c=e.pipelines.set(t.pipeline,t),l=c.setTexture2D(s.glTexture,t);c.batchTexture(t,s.glTexture,a,o,t.x,t.y,a/t.style.resolution,o/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,a,o,h(t.tintTopLeft,i.alpha*t._alphaTL),h(t.tintTopRight,i.alpha*t._alphaTR),h(t.tintBottomLeft,i.alpha*t._alphaBL),h(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,l)}}},20839:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(83419),s=i(31401),a=i(95643),o=i(98439),h=i(68703),c=i(56295),l=i(45650),u=i(26099),d=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,c],initialize:function(e,t,i,r,s,h,c){var d=e.sys.renderer;a.call(this,e,"TileSprite");var f=e.sys.textures.get(h),p=f.get(c);p.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),p=(f=e.sys.textures.get("__MISSING")).get()),"DynamicTexture"===f.type&&(console.warn("TileSprite cannot use Dynamic Texture"),p=(f=e.sys.textures.get("__MISSING")).get()),r&&s?(r=Math.floor(r),s=Math.floor(s)):(r=r||p.width,s=s||p.height),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=d,this.canvas=n.create(this,r,s),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=f,this.displayFrame=p,this._crop=this.resetCropObject(),this._textureKey=l(),this.texture=e.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(p.width),this.potHeight=o(p.height),this.fillCanvas=n.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(t,i),this.setSize(r,s),this.setFrame(c),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(e,t){return this.displayTexture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){var t=this.displayTexture.get(e);return this.potWidth=o(t.width),this.potHeight=o(t.height),this.canvas.width=0,t.cutWidth&&t.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=t,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(e,t){return void 0!==e&&(this.tilePositionX=e),void 0!==t&&(this.tilePositionY=t),this},setTileScale:function(e,t){return void 0===e&&(e=this.tileScaleX),void 0===t&&(t=e),this.tileScaleX=e,this.tileScaleY=t,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var e=this.displayFrame;if(e.source.isRenderTexture||e.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var t=this.fillContext,i=this.fillCanvas,n=this.potWidth,r=this.potHeight;this.renderer&&this.renderer.gl||(n=e.cutWidth,r=e.cutHeight),t.clearRect(0,0,n,r),i.width=n,i.height=r,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,n,r),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=t.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var e=this.canvas;if((e.width!==this.width||e.height!==this.height)&&(e.width=this.width,e.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var t=this.context;this.scene.sys.game.config.antialias||h.disable(t);var i=this._tileScale.x,n=this._tileScale.y,r=this._tilePosition.x,s=this._tilePosition.y;t.clearRect(0,0,this.width,this.height),t.save(),t.scale(i,n),t.translate(-r,-s),t.fillStyle=this.fillPattern,t.fillRect(r,s,this.width/i,this.height/n),t.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),n.remove(this.canvas),n.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var e=this.texture;e&&e.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(e){this._tilePosition.x=e,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(e){this._tilePosition.y=e,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(e){this._tileScale.x=e,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(e){this._tileScale.y=e,this.dirty=!0}}});e.exports=d},46992:e=>{e.exports=function(e,t,i,n){t.updateCanvas(),i.addToRenderList(t),e.batchSprite(t,t.frame,i,n)}},14167:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(20839);r.register("tileSprite",function(e,t){void 0===e&&(e={});var i=s(e,"x",0),r=s(e,"y",0),o=s(e,"width",512),h=s(e,"height",512),c=s(e,"key",""),l=s(e,"frame",""),u=new a(this.scene,i,r,o,h,c,l);return void 0!==t&&(e.add=t),n(this.scene,u,e),u})},91681:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20839);i(39429).register("tileSprite",function(e,t,i,r,s,a){return this.displayList.add(new n(this.scene,e,t,i,r,s,a))})},56295:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(18553),s=i(46992),e.exports={renderWebGL:r,renderCanvas:s}},18553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i,r){t.updateCanvas();var s=t.width,a=t.height;if(0!==s&&0!==a){i.addToRenderList(t);var o=n.getTintAppendFloatAlpha,h=e.pipelines.set(t.pipeline,t),c=h.setTexture2D(t.fillPattern,t);h.batchTexture(t,t.fillPattern,t.displayFrame.width*t.tileScaleX,t.displayFrame.height*t.tileScaleY,t.x,t.y,s,a,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.originX*s,t.originY*a,0,0,s,a,o(t.tintTopLeft,i.alpha*t._alphaTL),o(t.tintTopRight,i.alpha*t._alphaTR),o(t.tintBottomLeft,i.alpha*t._alphaBL),o(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,t.tilePositionX%t.displayFrame.width/t.displayFrame.width,t.tilePositionY%t.displayFrame.height/t.displayFrame.height,i,r,!1,c)}}},18471:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(31401),a=i(51708),o=i(8443),h=i(95643),c=i(36383),l=i(14463),u=i(45650),d=i(10247),f=new r({Extends:h,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.TextureCrop,s.Tint,s.Transform,s.Visible,d],initialize:function(e,t,i,n){h.call(this,e,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var r=e.sys.game;this._device=r.device.video,this.setPosition(t,i),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),r.events.on(o.PAUSE,this.globalPause,this),r.events.on(o.RESUME,this.globalResume,this);var s=e.sys.sound;s&&s.on(l.GLOBAL_MUTE,this.globalMute,this),n&&this.load(n)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(e){var t=this.scene.sys.cache.video.get(e);return t?(this.cacheKey=e,this.loadHandler(t.url,t.noAudio,t.crossOrigin)):console.warn("No video in cache for key: "+e),this},changeSource:function(e,t,i,n,r){void 0===t&&(t=!0),void 0===i&&(i=!1),this.cacheKey!==e&&(this.load(e),t&&this.play(i,n,r))},getVideoKey:function(){return this.cacheKey},loadURL:function(e,t,i){void 0===t&&(t=!1);var n=this._device.getVideoURL(e);return n?(this.cacheKey="",this.loadHandler(n.url,t,i)):console.warn("No supported video format found for "+e),this},loadMediaStream:function(e,t,i){return this.loadHandler(null,t,i,e)},loadHandler:function(e,t,i,n){t||(t=!1);var r=this.video;if(r?(this.removeLoadEventHandlers(),this.stop()):((r=document.createElement("video")).controls=!1,r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.setAttribute("disablePictureInPicture","true")),t?(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")):(r.muted=!1,r.defaultMuted=!1,r.removeAttribute("autoplay")),i?r.setAttribute("crossorigin",i):r.removeAttribute("crossorigin"),n){if("srcObject"in r)try{r.srcObject=n}catch(e){if("TypeError"!==e.name)throw e;r.src=URL.createObjectURL(n)}else r.src=URL.createObjectURL(n)}else r.src=e;this.retry=0,this.video=r,this._playCalled=!1,r.load(),this.addLoadEventHandlers();var s=this.scene.sys.textures.get(this._key);return this.setTexture(s),this},requestVideoFrame:function(e,t){var i=this.video;if(i){var n=t.width,r=t.height,s=this.videoTexture,o=this.videoTextureSource,h=!s||o.source!==i;h?(this._codePaused=i.paused,this._codeMuted=i.muted,s?(o.source=i,o.width=n,o.height=r,s.get().setSize(n,r)):((s=this.scene.sys.textures.create(this._key,i,n,r)).add("__BASE",0,0,0,n,r),this.setTexture(s),this.videoTexture=s,this.videoTextureSource=s.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,s)),this.setSizeToFrame(),this.updateDisplayOrigin()):o.update(),this.isStalled=!1,this.metadata=t;var c=t.mediaTime;h&&(this._lastUpdate=c,this.emit(a.VIDEO_CREATED,this,n,r),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?c>=this._markerOut&&(i.loop?(i.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):c<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=c,this._getFrame?(this.removeEventHandlers(),i.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=c.MAX_SAFE_INTEGER);var n=this.video;return!n||this.isPlaying()?n||console.warn("Video not loaded"):(void 0===e&&(e=n.loop),n.loop=e,this._markerIn=t,this._markerOut=i,this._playingMarker=t>-1&&i>t&&i<c.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=n.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise())),this},getFirstFrame:function(){var e=this.video;return!e||this.isPlaying()?e||console.warn("Video not loaded"):this._playCalled||(this._getFrame=!0,this._rfvCallbackId=e.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this},addLoadEventHandlers:function(){var e=this.video;e&&(e.addEventListener("error",this._loadCallbackHandler),e.addEventListener("abort",this._loadCallbackHandler),e.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var e=this.video;e&&(e.removeEventListener("error",this._loadCallbackHandler),e.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.addEventListener(i,t[i])}},removeEventHandlers:function(){var e=this.video;if(e){var t=this._callbacks;for(var i in t)e.removeEventListener(i,t[i])}},createPlayPromise:function(e){void 0===e&&(e=!0);var t=this.video,i=t.play();if(void 0!==i){var n=this.playSuccess.bind(this),r=this.playError.bind(this);if(!e){var s=this;r=function(){s.failedPlayAttempts++}}i.then(n).catch(r)}else t.addEventListener("playing",this._callbacks.legacy),!e&&this.failedPlayAttempts++},addMarker:function(e,t,i){return!isNaN(t)&&t>=0&&!isNaN(i)&&i>t&&(this.markers[e]=[t,i]),this},playMarker:function(e,t){var i=this.markers[e];return i&&this.play(t,i[0],i[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,i,n,r,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=this.height),void 0===r&&(r=i),void 0===s&&(s=n);var a=this.video,o=this.snapshotTexture;return o?o.setSize(r,s):(o=this.scene.sys.textures.createCanvas(u(),r,s),this.snapshotTexture=o),a&&o.context.drawImage(a,e,t,i,n,0,0,r,s),o.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var e=this.scene.sys.sound;e&&e.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(e){var t=e.name;"NotAllowedError"===t?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):"NotSupportedError"===t?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,e)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,e))},legacyPlayHandler:function(){var e=this.video;e&&(this.playSuccess(),e.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(e){this.stop(!1),this.emit(a.VIDEO_ERROR,this,e)},metadataHandler:function(e){this.emit(a.VIDEO_METADATA,this,e)},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var t=this.input;return t&&!t.customHitArea&&(t.hitArea.width=this.width,t.hitArea.height=this.height),this},stalledHandler:function(e){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,e)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(e,t){this.video&&this._playCalled&&this.touchLocked&&this.playWhenUnlocked&&(this.retry+=t,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(e){var t=this.video;if(t){var i=t.duration;i===1/0||isNaN(i)||this.setCurrentTime(i*e)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if("string"==typeof e){var i=e[0],n=parseFloat(e.substr(1));"+"===i?e=t.currentTime+n:"-"===i&&(e=t.currentTime-n)}t.currentTime=e}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var e=this.video;if(e){var t=e.duration;if(t!==1/0&&!isNaN(t))return e.currentTime/t}return -1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){void 0===e&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=!!this._systemMuted||e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var i=this.video;i&&(i.muted=!!this._codeMuted||t)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,!this.video||this._codePaused||this.video.ended||this.createPlayPromise()},setPaused:function(e){void 0===e&&(e=!0);var t=this.video;return this._codePaused=e,!t||t.ended||(e?t.paused||(this.removeEventHandlers(),t.pause()):e||(this._playCalled?t.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return void 0===e&&(e=1),this.video&&(this.video.volume=n(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(e){return void 0===e&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return void 0===t&&(t=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,e),this.videoTextureSource.setFlipY(t)),this._key=e,this.flipY=t,!!this.videoTexture},stop:function(e){void 0===e&&(e=!0);var t=this.video;return t&&(this.removeEventHandlers(),t.cancelVideoFrameCallback(this._rfvCallbackId),t.pause()),this.retry=0,this._playCalled=!1,e&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var e=this.scene.sys.game.events;e.off(o.PAUSE,this.globalPause,this),e.off(o.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(l.GLOBAL_MUTE,this.globalMute,this)}});e.exports=f},58352:e=>{e.exports=function(e,t,i,n){t.videoTexture&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))}},11511:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25305),r=i(44603),s=i(23568),a=i(18471);r.register("video",function(e,t){void 0===e&&(e={});var i=s(e,"key",null),r=new a(this.scene,0,0,i);return void 0!==t&&(e.add=t),n(this.scene,r,e),r})},89025:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(18471);i(39429).register("video",function(e,t,i){return this.displayList.add(new n(this.scene,e,t,i))})},10247:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(29849),s=i(58352),e.exports={renderWebGL:r,renderCanvas:s}},29849:e=>{e.exports=function(e,t,i,n){t.videoTexture&&(i.addToRenderList(t),t.pipeline.batchSprite(t,i,n))}},41481:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(96503),s=i(87902),a=i(83419),o=i(31401),h=i(95643),c=i(87841),l=i(37303),u=new a({Extends:h,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(e,t,i,r,s){void 0===r&&(r=1),void 0===s&&(s=r),h.call(this,e,"Zone"),this.setPosition(t,i),this.width=r,this.height=s,this.blendMode=n.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,i){void 0===i&&(i=!0),this.width=e,this.height=t,this.updateDisplayOrigin();var n=this.input;return i&&n&&!n.customHitArea&&(n.hitArea.width=e,n.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new r(0,0,e),s)},setRectangleDropZone:function(e,t){return this.setDropZone(new c(0,0,e,t),l)},setDropZone:function(e,t){return this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(e,t,i){i.addToRenderList(t)},renderWebGL:function(e,t,i){i.addToRenderList(t)}});e.exports=u},95261:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(23568),s=i(41481);n.register("zone",function(e){var t=r(e,"x",0),i=r(e,"y",0),n=r(e,"width",1),a=r(e,"height",n);return new s(this.scene,t,i,n,a)})},84175:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41481);i(39429).register("zone",function(e,t,i,r){return this.displayList.add(new n(this.scene,e,t,i,r))})},95166:e=>{e.exports=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0}},96503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87902),s=i(26241),a=i(79124),o=i(23777),h=i(28176),c=new n({initialize:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.type=o.CIRCLE,this.x=e,this.y=t,this._radius=i,this._diameter=2*i},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i){return this.x=e,this.y=t,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this._diameter=2*e}},diameter:{get:function(){return this._diameter},set:function(e){this._diameter=e,this._radius=.5*e}},left:{get:function(){return this.x-this._radius},set:function(e){this.x=e+this._radius}},right:{get:function(){return this.x+this._radius},set:function(e){this.x=e-this._radius}},top:{get:function(){return this.y-this._radius},set:function(e){this.y=e+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(e){this.y=e-this._radius}}});e.exports=c},71562:e=>{e.exports=function(e){return 2*(Math.PI*e.radius)}},92110:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new n),i.x=e.x+e.radius*Math.cos(t),i.y=e.y+e.radius*Math.sin(t),i}},42250:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);e.exports=function(e){return new n(e.x,e.y,e.radius)}},87902:e=>{e.exports=function(e,t,i){return e.radius>0&&t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom&&(e.x-t)*(e.x-t)+(e.y-i)*(e.y-i)<=e.radius*e.radius}},5698:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902);e.exports=function(e,t){return n(e,t.x,t.y)}},70588:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902);e.exports=function(e,t){return n(e,t.x,t.y)&&n(e,t.right,t.y)&&n(e,t.x,t.bottom)&&n(e,t.right,t.bottom)}},26394:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.radius)}},76278:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.radius===t.radius}},2074:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.left,t.y=e.top,t.width=e.diameter,t.height=e.diameter,t}},26241:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(92110),r=i(62945),s=i(36383),a=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new a),n(e,r(t,0,s.PI2),i)}},79124:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71562),r=i(92110),s=i(62945),a=i(36383);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=n(e)/i);for(var h=0;h<t;h++){var c=s(h/t,0,a.PI2);o.push(r(e,c))}return o}},50884:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},39212:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},28176:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),s=r>1?2-r:r,a=s*Math.cos(i),o=s*Math.sin(i);return t.x=e.x+a*e.radius,t.y=e.y+o*e.radius,t}},88911:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);n.Area=i(95166),n.Circumference=i(71562),n.CircumferencePoint=i(92110),n.Clone=i(42250),n.Contains=i(87902),n.ContainsPoint=i(5698),n.ContainsRect=i(70588),n.CopyFrom=i(26394),n.Equals=i(76278),n.GetBounds=i(2074),n.GetPoint=i(26241),n.GetPoints=i(79124),n.Offset=i(50884),n.OffsetPoint=i(39212),n.Random=i(28176),e.exports=n},23777:e=>{e.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:e=>{e.exports=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI}},92990:e=>{e.exports=function(e){var t=e.width/2,i=e.height/2,n=Math.pow(t-i,2)/Math.pow(t+i,2);return Math.PI*(t+i)*(1+3*n/(10+Math.sqrt(4-3*n)))}},79522:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.width/2,s=e.height/2;return i.x=e.x+r*Math.cos(t),i.y=e.y+s*Math.sin(t),i}},58102:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8497);e.exports=function(e){return new n(e.x,e.y,e.width,e.height)}},81154:e=>{e.exports=function(e,t,i){if(e.width<=0||e.height<=0)return!1;var n=(t-e.x)/e.width,r=(i-e.y)/e.height;return n*=n,r*=r,n+r<.25}},46662:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81154);e.exports=function(e,t){return n(e,t.x,t.y)}},1632:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81154);e.exports=function(e,t){return n(e,t.x,t.y)&&n(e,t.right,t.y)&&n(e,t.x,t.bottom)&&n(e,t.right,t.bottom)}},65534:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},8497:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(81154),s=i(90549),a=i(48320),o=i(23777),h=i(24820),c=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=o.ELLIPSE,this.x=e,this.y=t,this.width=i,this.height=n},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return h(this,e)},setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(e){this.x=e+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(e){this.y=e+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=c},36146:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},23694:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.left,t.y=e.top,t.width=e.width,t.height=e.height,t}},90549:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79522),r=i(62945),s=i(36383),a=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new a),n(e,r(t,0,s.PI2),i)}},48320:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(92990),r=i(79522),s=i(62945),a=i(36383);e.exports=function(e,t,i,o){void 0===o&&(o=[]),!t&&i>0&&(t=n(e)/i);for(var h=0;h<t;h++){var c=s(h/t,0,a.PI2);o.push(r(e,c))}return o}},73424:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},44808:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},24820:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return t.x=e.x+r*Math.cos(i)*e.width/2,t.y=e.y+r*Math.sin(i)*e.height/2,t}},49203:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8497);n.Area=i(78874),n.Circumference=i(92990),n.CircumferencePoint=i(79522),n.Clone=i(58102),n.Contains=i(81154),n.ContainsPoint=i(46662),n.ContainsRect=i(1632),n.CopyFrom=i(65534),n.Equals=i(36146),n.GetBounds=i(23694),n.GetPoint=i(90549),n.GetPoints=i(48320),n.Offset=i(73424),n.OffsetPoint=i(44808),n.Random=i(24820),e.exports=n},55738:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23777),r=i(79291),s={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};s=r(!1,s,n),e.exports=s},2044:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20339);e.exports=function(e,t){return n(e.x,e.y,t.x,t.y)<=e.radius+t.radius}},81491:e=>{e.exports=function(e,t){var i=t.width/2,n=t.height/2,r=Math.abs(e.x-t.x-i),s=Math.abs(e.y-t.y-n),a=i+e.radius,o=n+e.radius;if(r>a||s>o)return!1;if(r<=i||s<=n)return!0;var h=r-i,c=s-n;return h*h+c*c<=e.radius*e.radius}},63376:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(2044);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s,a,o,h,c=e.x,l=e.y,u=e.radius,d=t.x,f=t.y,p=t.radius;if(l===f)h=(p*p-u*u-d*d+c*c)/(2*(c-d)),s=1,0==(o=(a=-2*f)*a-4*s*(d*d+h*h-2*d*h+f*f-p*p))?i.push(new n(h,-a/(2*s))):o>0&&(i.push(new n(h,(-a+Math.sqrt(o))/(2*s))),i.push(new n(h,(-a-Math.sqrt(o))/(2*s))));else{var g=(c-d)/(l-f),m=(p*p-u*u-d*d+c*c-f*f+l*l)/(2*(l-f));s=g*g+1,0==(o=(a=2*l*g-2*m*g-2*c)*a-4*s*(c*c+l*l+m*m-u*u-2*l*m))?(h=-a/(2*s),i.push(new n(h,m-h*g))):o>0&&(h=(-a+Math.sqrt(o))/(2*s),i.push(new n(h,m-h*g)),h=(-a-Math.sqrt(o))/(2*s),i.push(new n(h,m-h*g)))}}return i}},97439:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4042),r=i(81491);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC(),h=t.getLineD();n(s,e,i),n(a,e,i),n(o,e,i),n(h,e,i)}return i}},4042:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(80462);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s,a,o=e.x1,h=e.y1,c=e.x2,l=e.y2,u=t.x,d=t.y,f=t.radius,p=c-o,g=l-h,m=o-u,v=h-d,y=p*p+g*g,b=2*(p*m+g*v),x=b*b-4*y*(m*m+v*v-f*f);if(0===x){var E=-b/(2*y);s=o+E*p,a=h+E*g,E>=0&&E<=1&&i.push(new n(s,a))}else if(x>0){var w=(-b-Math.sqrt(x))/(2*y);s=o+w*p,a=h+w*g,w>=0&&w<=1&&i.push(new n(s,a));var T=(-b+Math.sqrt(x))/(2*y);s=o+T*p,a=h+T*g,T>=0&&T<=1&&i.push(new n(s,a))}}return i}},36100:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836);e.exports=function(e,t,i,r){void 0===i&&(i=!1);var s,a,o,h=e.x1,c=e.y1,l=e.x2,u=e.y2,d=t.x1,f=t.y1,p=t.x2,g=t.y2,m=l-h,v=u-c,y=p-d,b=g-f,x=m*b-v*y;if(0===x)return null;if(i){if(s=(m*(f-c)+v*(h-d))/(y*v-b*m),0!==m)a=(d+y*s-h)/m;else{if(0===v)return null;a=(f+b*s-c)/v}if(a<0||s<0||s>1)return null;o=a}else{if(s=((d-h)*b-(f-c)*y)/x,a=((c-f)*m-(h-d)*v)/x,s<0||s>1||a<0||a>1)return null;o=s}return void 0===r&&(r=new n),r.set(h+m*o,c+v*o,o)}},3073:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36100),r=i(23031),s=i(25836),a=new r,o=new s;e.exports=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=new s);var h=!1;r.set(),o.set();for(var c=t[t.length-1],l=0;l<t.length;l++){var u=t[l];a.setTo(c.x,c.y,u.x,u.y),c=u,n(e,a,i,o)&&(!h||o.z<r.z)&&(r.copy(o),h=!0)}return h?r:null}},56362:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836),r=i(61369),s=i(3073),a=new n;e.exports=function(e,t,i,n){void 0===n&&(n=new r),Array.isArray(t)||(t=[t]);var o=!1;n.set(),a.set();for(var h=0;h<t.length;h++)s(e,t[h].points,i,a)&&(!o||a.z<n.z)&&(n.set(a.x,a.y,a.z,h),o=!0);return o?n:null}},60646:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(76112),s=i(92773);e.exports=function(e,t,i){if(void 0===i&&(i=[]),s(e,t))for(var a=t.getLineA(),o=t.getLineB(),h=t.getLineC(),c=t.getLineD(),l=[new n,new n,new n,new n],u=[r(a,e,l[0]),r(o,e,l[1]),r(h,e,l[2]),r(c,e,l[3])],d=0;d<4;d++)u[d]&&i.push(l[d]);return i}},71147:(e,t,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61369),r=i(56362),s=new(i(23031));function a(e,t,i,a,o){var h=Math.cos(e),c=Math.sin(e);s.setTo(t,i,t+h,i+c);var l=r(s,a,!0);l&&o.push(new n(l.x,l.y,e,l.w))}function o(e,t){return e.z-t.z}e.exports=function(e,t,i){Array.isArray(i)||(i=[i]);for(var n=[],r=[],s=0;s<i.length;s++)for(var h=i[s].points,c=0;c<h.length;c++){var l=Math.atan2(h[c].y-t,h[c].x-e);-1===r.indexOf(l)&&(a(l,e,t,i,n),a(l-1e-5,e,t,i,n),a(l+1e-5,e,t,i,n),r.push(l))}return n.sort(o)}},68389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(59996);e.exports=function(e,t,i){return void 0===i&&(i=new n),r(e,t)&&(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y),i}},52784:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60646),r=i(59996);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=e.getLineA(),a=e.getLineB(),o=e.getLineC(),h=e.getLineD();n(s,t,i),n(a,t,i),n(o,t,i),n(h,t,i)}return i}},26341:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89265),r=i(60646);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC();r(s,e,i),r(a,e,i),r(o,e,i)}return i}},38720:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(4042),r=i(67636);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t)){var s=e.getLineA(),a=e.getLineB(),o=e.getLineC();n(s,t,i),n(a,t,i),n(o,t,i)}return i}},13882:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(2822),s=i(76112);e.exports=function(e,t,i){if(void 0===i&&(i=[]),r(e,t))for(var a=e.getLineA(),o=e.getLineB(),h=e.getLineC(),c=[new n,new n,new n],l=[s(a,t,c[0]),s(o,t,c[1]),s(h,t,c[2])],u=0;u<3;u++)l[u]&&i.push(c[u]);return i}},75636:(e,t,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82944),r=i(13882);e.exports=function(e,t,i){if(void 0===i&&(i=[]),n(e,t)){var s=t.getLineA(),a=t.getLineB(),o=t.getLineC();r(e,s,i),r(e,a,i),r(e,o,i)}return i}},80462:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902),r=new(i(2141));e.exports=function(e,t,i){if(void 0===i&&(i=r),n(t,e.x1,e.y1))return i.x=e.x1,i.y=e.y1,!0;if(n(t,e.x2,e.y2))return i.x=e.x2,i.y=e.y2,!0;var s=e.x2-e.x1,a=e.y2-e.y1,o=t.x-e.x1,h=t.y-e.y1,c=s*s+a*a,l=s,u=a;if(c>0){var d=(o*s+h*a)/c;l*=d,u*=d}return i.x=e.x1+l,i.y=e.y1+u,l*l+u*u<=c&&l*s+u*a>=0&&n(t,i.x,i.y)}},76112:e=>{e.exports=function(e,t,i){var n=e.x1,r=e.y1,s=e.x2,a=e.y2,o=t.x1,h=t.y1,c=t.x2,l=t.y2;if(n===s&&r===a||o===c&&h===l)return!1;var u=(l-h)*(s-n)-(c-o)*(a-r);if(0===u)return!1;var d=((c-o)*(r-h)-(l-h)*(n-o))/u,f=((s-n)*(r-h)-(a-r)*(n-o))/u;return!(d<0)&&!(d>1)&&!(f<0)&&!(f>1)&&(i&&(i.x=n+d*(s-n),i.y=r+d*(a-r)),!0)}},92773:e=>{e.exports=function(e,t){var i=e.x1,n=e.y1,r=e.x2,s=e.y2,a=t.x,o=t.y,h=t.right,c=t.bottom,l=0;if(i>=a&&i<=h&&n>=o&&n<=c||r>=a&&r<=h&&s>=o&&s<=c)return!0;if(i<a&&r>=a){if((l=n+(s-n)*(a-i)/(r-i))>o&&l<=c)return!0}else if(i>h&&r<=h&&(l=n+(s-n)*(h-i)/(r-i))>=o&&l<=c)return!0;if(n<o&&s>=o){if((l=i+(r-i)*(o-n)/(s-n))>=a&&l<=h)return!0}else if(n>c&&s<=c&&(l=i+(r-i)*(c-n)/(s-n))>=a&&l<=h)return!0;return!1}},16204:e=>{e.exports=function(e,t,i){void 0===i&&(i=1);var n=t.x1,r=t.y1,s=t.x2,a=t.y2,o=e.x,h=e.y,c=(s-n)*(s-n)+(a-r)*(a-r);if(0===c)return!1;var l=((o-n)*(s-n)+(h-r)*(a-r))/c;return l<0?Math.sqrt((n-o)*(n-o)+(r-h)*(r-h))<=i:l>=0&&l<=1?Math.abs(((r-h)*(s-n)-(n-o)*(a-r))/c)*Math.sqrt(c)<=i:Math.sqrt((s-o)*(s-o)+(a-h)*(a-h))<=i}},14199:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16204);e.exports=function(e,t){if(!n(e,t))return!1;var i=Math.min(t.x1,t.x2),r=Math.max(t.x1,t.x2),s=Math.min(t.y1,t.y2),a=Math.max(t.y1,t.y2);return e.x>=i&&e.x<=r&&e.y>=s&&e.y<=a}},59996:e=>{e.exports=function(e,t){return!(e.width<=0)&&!(e.height<=0)&&!(t.width<=0)&&!(t.height<=0)&&!(e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)}},89265:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(76112),r=i(37303),s=i(48653),a=i(77493);e.exports=function(e,t){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),h=t.getLineC();if(r(e,i.x1,i.y1)||r(e,i.x2,i.y2)||r(e,o.x1,o.y1)||r(e,o.x2,o.y2)||r(e,h.x1,h.y1)||r(e,h.x2,h.y2))return!0;var c=e.getLineA(),l=e.getLineB(),u=e.getLineC(),d=e.getLineD();return!!(n(i,c)||n(i,l)||n(i,u)||n(i,d)||n(o,c)||n(o,l)||n(o,u)||n(o,d)||n(h,c)||n(h,l)||n(h,u)||n(h,d))||s(t,a(e),!0).length>0}},84411:e=>{e.exports=function(e,t,i,n,r,s){return void 0===s&&(s=0),!(t>e.right+s||i<e.left-s||n>e.bottom+s||r<e.top-s)}},67636:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80462),r=i(10690);e.exports=function(e,t){return!(e.left>t.right)&&!(e.right<t.left)&&!(e.top>t.bottom)&&!(e.bottom<t.top)&&!!(r(e,t.x,t.y)||n(e.getLineA(),t)||n(e.getLineB(),t)||n(e.getLineC(),t))}},2822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(76112);e.exports=function(e,t){return!!(e.contains(t.x1,t.y1)||e.contains(t.x2,t.y2)||n(e.getLineA(),t)||n(e.getLineB(),t)||n(e.getLineC(),t))}},82944:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(48653),r=i(71694),s=i(76112);e.exports=function(e,t){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),a=e.getLineB(),o=e.getLineC(),h=t.getLineA(),c=t.getLineB(),l=t.getLineC();if(s(i,h)||s(i,c)||s(i,l)||s(a,h)||s(a,c)||s(a,l)||s(o,h)||s(o,c)||s(o,l))return!0;var u=r(e),d=n(t,u,!0);return d.length>0||(d=n(e,u=r(t),!0)).length>0}},91865:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:e=>{e.exports=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)}},84993:e=>{e.exports=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=[]);var n=Math.round(e.x1),r=Math.round(e.y1),s=Math.round(e.x2),a=Math.round(e.y2),o=Math.abs(s-n),h=Math.abs(a-r),c=n<s?1:-1,l=r<a?1:-1,u=o-h;i.push({x:n,y:r});for(var d=1;!(n===s&&r===a);){var f=u<<1;f>-h&&(u-=h,n+=c),f<o&&(u+=o,r+=l),d%t==0&&i.push({x:n,y:r}),d++}return i}},36469:e=>{e.exports=function(e,t,i){var n=t-(e.x1+e.x2)/2,r=i-(e.y1+e.y2)/2;return e.x1+=n,e.y1+=r,e.x2+=n,e.y2+=r,e}},31116:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23031);e.exports=function(e){return new n(e.x1,e.y1,e.x2,e.y2)}},59944:e=>{e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2)}},59220:e=>{e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2}},78177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001);e.exports=function(e,t,i){void 0===i&&(i=t);var r=n(e),s=e.x2-e.x1,a=e.y2-e.y1;return t&&(e.x1=e.x1-s/r*t,e.y1=e.y1-a/r*t),i&&(e.x2=e.x2+s/r*i,e.y2=e.y2+a/r*i),e}},26708:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(52816),r=i(6113),s=i(2141);e.exports=function(e,t,i,a,o){void 0===a&&(a=0),void 0===o&&(o=[]);var h,c,l=[],u=e.x1,d=e.y1,f=e.x2-u,p=e.y2-d,g=r(t,o),m=i-1;for(h=0;h<m;h++)c=g(h/m),l.push(new s(u+f*c,d+p*c));if(c=g(1),l.push(new s(u+f*c,d+p*c)),!(a>0))return l;var v=l[0],y=[v];for(h=1;h<l.length-1;h++){var b=l[h];n(v,b)>=a&&(y.push(b),v=b)}var x=l[l.length-1];return n(v,x)<a&&y.pop(),y.push(x),y}},32125:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=(e.x1+e.x2)/2,t.y=(e.y1+e.y2)/2,t}},99569:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.x1,s=e.y1,a=e.x2,o=e.y2,h=(a-r)*(a-r)+(o-s)*(o-s);if(0===h)return i;var c=((t.x-r)*(a-r)+(t.y-s)*(o-s))/h;return i.x=r+c*(a-r),i.y=s+c*(o-s),i}},34638:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938),s=i(2141);e.exports=function(e,t){void 0===t&&(t=new s);var i=r(e)-n.TAU;return t.x=Math.cos(i),t.y=Math.sin(i),t}},13151:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){return void 0===i&&(i=new n),i.x=e.x1+(e.x2-e.x1)*t,i.y=e.y1+(e.y2-e.y1)*t,i}},15258:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(2141);e.exports=function(e,t,i,s){void 0===s&&(s=[]),!t&&i>0&&(t=n(e)/i);for(var a=e.x1,o=e.y1,h=e.x2,c=e.y2,l=0;l<t;l++){var u=l/t,d=a+(h-a)*u,f=o+(c-o)*u;s.push(new r(d,f))}return s}},26408:e=>{e.exports=function(e,t){var i=e.x1,n=e.y1,r=e.x2,s=e.y2,a=(r-i)*(r-i)+(s-n)*(s-n);return 0!==a&&Math.abs(((n-t.y)*(r-i)-(i-t.x)*(s-n))/a)*Math.sqrt(a)}},98770:e=>{e.exports=function(e){return Math.abs(e.y1-e.y2)}},35001:e=>{e.exports=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))}},23031:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(13151),s=i(15258),a=i(23777),o=i(65822),h=i(26099),c=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=a.LINE,this.x1=e,this.y1=t,this.x2=i,this.y2=n},getPoint:function(e,t){return r(this,e,t)},getPoints:function(e,t,i){return s(this,e,t,i)},getRandomPoint:function(e){return o(this,e)},setTo:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=e,this.y1=t,this.x2=i,this.y2=n,this},setFromObjects:function(e,t){return this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this},getPointA:function(e){return void 0===e&&(e=new h),e.set(this.x1,this.y1),e},getPointB:function(e){return void 0===e&&(e=new h),e.set(this.x2,this.y2),e},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(e){this.x1<=this.x2?this.x1=e:this.x2=e}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(e){this.x1>this.x2?this.x1=e:this.x2=e}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(e){this.y1<=this.y2?this.y1=e:this.y2=e}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(e){this.y1>this.y2?this.y1=e:this.y2=e}}});e.exports=c},64795:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(15994),s=i(91938);e.exports=function(e){return r(s(e)-n.TAU,-Math.PI,Math.PI)}},52616:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938);e.exports=function(e){return Math.cos(r(e)-n.TAU)}},87231:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(91938);e.exports=function(e){return Math.sin(r(e)-n.TAU)}},89662:e=>{e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e}},71165:e=>{e.exports=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))}},65822:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=Math.random();return t.x=e.x1+i*(e.x2-e.x1),t.y=e.y1+i*(e.y2-e.y1),t}},69777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91938),r=i(64795);e.exports=function(e,t){return 2*r(t)-Math.PI-n(e)}},39706:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64400);e.exports=function(e,t){var i=(e.x1+e.x2)/2,r=(e.y1+e.y2)/2;return n(e,i,r,t)}},82585:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64400);e.exports=function(e,t,i){return n(e,t.x,t.y,i)}},64400:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x1-t,o=e.y1-i;return e.x1=a*r-o*s+t,e.y1=a*s+o*r+i,a=e.x2-t,o=e.y2-i,e.x2=a*r-o*s+t,e.y2=a*s+o*r+i,e}},62377:e=>{e.exports=function(e,t,i,n,r){return e.x1=t,e.y1=i,e.x2=t+Math.cos(n)*r,e.y2=i+Math.sin(n)*r,e}},71366:e=>{e.exports=function(e){return(e.y2-e.y1)/(e.x2-e.x1)}},10809:e=>{e.exports=function(e){return Math.abs(e.x1-e.x2)}},2529:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23031);n.Angle=i(91938),n.BresenhamPoints=i(84993),n.CenterOn=i(36469),n.Clone=i(31116),n.CopyFrom=i(59944),n.Equals=i(59220),n.Extend=i(78177),n.GetEasedPoints=i(26708),n.GetMidPoint=i(32125),n.GetNearestPoint=i(99569),n.GetNormal=i(34638),n.GetPoint=i(13151),n.GetPoints=i(15258),n.GetShortestDistance=i(26408),n.Height=i(98770),n.Length=i(35001),n.NormalAngle=i(64795),n.NormalX=i(52616),n.NormalY=i(87231),n.Offset=i(89662),n.PerpSlope=i(71165),n.Random=i(65822),n.ReflectAngle=i(69777),n.Rotate=i(39706),n.RotateAroundPoint=i(82585),n.RotateAroundXY=i(64400),n.SetToAngle=i(62377),n.Slope=i(71366),n.Width=i(10809),e.exports=n},83997:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(87841),s=i(26099);function a(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}var o=new n({initialize:function(e,t,i){this.vertex1=e,this.vertex2=t,this.vertex3=i,this.bounds=new r,this._inCenter=new s},getInCenter:function(e){void 0===e&&(e=!0);var t,i,n,r,s,o,h=this.vertex1,c=this.vertex2,l=this.vertex3;e?(t=h.x,i=h.y,n=c.x,r=c.y,s=l.x,o=l.y):(t=h.vx,i=h.vy,n=c.vx,r=c.vy,s=l.vx,o=l.vy);var u=a(s,o,n,r),d=a(t,i,s,o),f=a(n,r,t,i),p=u+d+f;return this._inCenter.set((t*u+n*d+s*f)/p,(i*u+r*d+o*f)/p)},contains:function(e,t,i){var n=this.vertex1,r=this.vertex2,s=this.vertex3,a=n.vx,o=n.vy,h=r.vx,c=r.vy,l=s.vx,u=s.vy;if(i){var d=i.a,f=i.b,p=i.c,g=i.d,m=i.e,v=i.f;a=n.vx*d+n.vy*p+m,o=n.vx*f+n.vy*g+v,h=r.vx*d+r.vy*p+m,c=r.vx*f+r.vy*g+v,l=s.vx*d+s.vy*p+m,u=s.vx*f+s.vy*g+v}var y=l-a,b=u-o,x=h-a,E=c-o,w=e-a,T=t-o,S=y*y+b*b,A=y*x+b*E,C=y*w+b*T,_=x*x+E*E,I=x*w+E*T,O=S*_-A*A,P=0===O?0:1/O,M=(_*C-A*I)*P,R=(S*I-A*C)*P;return M>=0&&R>=0&&M+R<1},isCounterClockwise:function(e){var t=this.vertex1,i=this.vertex2,n=this.vertex3,r=(i.vx-t.vx)*(n.vy-t.vy)-(i.vy-t.vy)*(n.vx-t.vx);return e<=0?r>=0:r<0},load:function(e,t,i,n,r){return i=this.vertex1.load(e,t,i,n,r),i=this.vertex2.load(e,t,i,n,r),i=this.vertex3.load(e,t,i,n,r)},transformCoordinatesLocal:function(e,t,i,n){return this.vertex1.transformCoordinatesLocal(e,t,i,n),this.vertex2.transformCoordinatesLocal(e,t,i,n),this.vertex3.transformCoordinatesLocal(e,t,i,n),this},updateBounds:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,t.vx,i.vx),n.y=Math.min(e.vy,t.vy,i.vy),n.width=Math.max(e.vx,t.vx,i.vx)-n.x,n.height=Math.max(e.vy,t.vy,i.vy)-n.y,this},isInView:function(e,t,i,n,r,s,a,o,h,c,l){this.update(n,r,s,a,o,h,c,l);var u=this.vertex1,d=this.vertex2,f=this.vertex3;if(u.ta<=0&&d.ta<=0&&f.ta<=0||t&&!this.isCounterClockwise(i))return!1;var p=this.bounds;p.x=Math.min(u.tx,d.tx,f.tx),p.y=Math.min(u.ty,d.ty,f.ty),p.width=Math.max(u.tx,d.tx,f.tx)-p.x,p.height=Math.max(u.ty,d.ty,f.ty)-p.y;var g=e.x+e.width,m=e.y+e.height;return!(p.width<=0)&&!(p.height<=0)&&!(e.width<=0)&&!(e.height<=0)&&!(p.right<e.x||p.bottom<e.y||p.x>g||p.y>m)},scrollUV:function(e,t){return this.vertex1.scrollUV(e,t),this.vertex2.scrollUV(e,t),this.vertex3.scrollUV(e,t),this},scaleUV:function(e,t){return this.vertex1.scaleUV(e,t),this.vertex2.scaleUV(e,t),this.vertex3.scaleUV(e,t),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,t,i,n,r,s,a,o){return this.vertex1.update(t,i,n,r,s,a,o,e),this.vertex2.update(t,i,n,r,s,a,o,e),this.vertex3.update(t,i,n,r,s,a,o,e),this},translate:function(e,t){void 0===t&&(t=0);var i=this.vertex1,n=this.vertex2,r=this.vertex3;return i.x+=e,i.y+=t,n.x+=e,n.y+=t,r.x+=e,r.y+=t,this},x:{get:function(){return this.getInCenter().x},set:function(e){var t=this.getInCenter();this.translate(e-t.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var t=this.getInCenter();this.translate(0,e-t.y)}},alpha:{get:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3;return(e.alpha+t.alpha+i.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,t=this.vertex2,i=this.vertex3;return(e.vz+t.vz+i.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});e.exports=o},48803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(95540),s=i(37867),a=i(25836),o=i(39318),h=new a,c=new a,l=new s;e.exports=function(e){var t,i,s,a=r(e,"mesh"),u=r(e,"texture",null),d=r(e,"frame"),f=r(e,"width",1),p=r(e,"height",f),g=r(e,"widthSegments",1),m=r(e,"heightSegments",g),v=r(e,"x",0),y=r(e,"y",0),b=r(e,"z",0),x=r(e,"rotateX",0),E=r(e,"rotateY",0),w=r(e,"rotateZ",0),T=r(e,"zIsUp",!0),S=r(e,"isOrtho",!!a&&a.dirtyCache[11]),A=r(e,"colors",[16777215]),C=r(e,"alphas",[1]),_=r(e,"tile",!1),I=r(e,"flipY",!1),O=r(e,"width",null),P={faces:[],verts:[]};if(h.set(v,y,b),c.set(x,E,w),l.fromRotationXYTranslation(c,h,T),!u&&a)u=a.texture,d||(t=a.frame);else if(a&&"string"==typeof u)u=a.scene.sys.textures.get(u);else if(!u)return P;t||(t=u.get(d)),!O&&S&&u&&a&&(f=t.width/a.height,p=t.height/a.height);var M=f/2,R=p/2,L=Math.floor(g),D=Math.floor(m),k=L+1,N=D+1,F=f/L,B=p/D,U=[],V=[],G=0,j=1,W=0,Y=1;t&&(G=t.u0,j=t.u1,I?(W=t.v1,Y=t.v0):(W=t.v0,Y=t.v1));var H=j-G,z=Y-W;for(s=0;s<N;s++){var X=s*B-R;for(i=0;i<k;i++){var K=i*F-M;V.push(K,-X);var q=G+i/L*H,J=W+s/D*z;U.push(q,J)}}Array.isArray(A)||(A=[A]),Array.isArray(C)||(C=[C]);var $=0,Q=0;for(s=0;s<D;s++)for(i=0;i<L;i++){var Z=(i+k*s)*2,ee=(i+k*(s+1))*2,et=(i+1+k*(s+1))*2,ei=(i+1+k*s)*2,en=A[Q],er=C[$],es=new o(V[Z],V[Z+1],0,U[Z],U[Z+1],en,er).transformMat4(l),ea=new o(V[ee],V[ee+1],0,U[ee],U[ee+1],en,er).transformMat4(l),eo=new o(V[ei],V[ei+1],0,U[ei],U[ei+1],en,er).transformMat4(l),eh=new o(V[ee],V[ee+1],0,U[ee],U[ee+1],en,er).transformMat4(l),ec=new o(V[et],V[et+1],0,U[et],U[et+1],en,er).transformMat4(l),el=new o(V[ei],V[ei+1],0,U[ei],U[ei+1],en,er).transformMat4(l);_&&(es.setUVs(G,Y),ea.setUVs(G,W),eo.setUVs(j,Y),eh.setUVs(G,W),ec.setUVs(j,W),el.setUVs(j,Y)),++Q===A.length&&(Q=0),++$===C.length&&($=0),P.verts.push(es,ea,eo,eh,ec,el),P.faces.push(new n(es,ea,eo),new n(eh,ec,el))}return a&&(a.faces=a.faces.concat(P.faces),a.vertices=a.vertices.concat(P.verts)),P}},34684:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(37867),s=i(25836),a=i(39318),o=new s,h=new s,c=new r;e.exports=function(e,t,i,r,s,l,u,d,f,p){void 0===i&&(i=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=!0);var g={faces:[],verts:[]},m=e.materials;o.set(r,s,l),h.set(u,d,f),c.fromRotationXYTranslation(h,o,p);for(var v=0;v<e.models.length;v++)for(var y=e.models[v],b=y.vertices,x=y.textureCoords,E=y.faces,w=0;w<E.length;w++){var T=E[w],S=T.vertices[0],A=T.vertices[1],C=T.vertices[2],_=b[S.vertexIndex],I=b[A.vertexIndex],O=b[C.vertexIndex],P=S.textureCoordsIndex,M=A.textureCoordsIndex,R=C.textureCoordsIndex,L=-1===P?{u:0,v:1}:x[P],D=-1===M?{u:0,v:0}:x[M],k=-1===R?{u:1,v:1}:x[R],N=16777215;""!==T.material&&m[T.material]&&(N=m[T.material]);var F=new a(_.x*i,_.y*i,_.z*i,L.u,L.v,N).transformMat4(c),B=new a(I.x*i,I.y*i,I.z*i,D.u,D.v,N).transformMat4(c),U=new a(O.x*i,O.y*i,O.z*i,k.u,k.v,N).transformMat4(c);g.verts.push(F,B,U),g.faces.push(new n(F,B,U))}return t&&(t.faces=t.faces.concat(g.faces),t.vertices=t.vertices.concat(g.verts)),g}},92515:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83997),r=i(39318);e.exports=function(e,t,i,s,a,o,h,c){if(void 0===s&&(s=!1),void 0===o&&(o=16777215),void 0===h&&(h=1),void 0===c&&(c=!1),e.length!==t.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var l,u,d,f,p,g,m,v,y,b,x,E={faces:[],vertices:[]},w=s?3:2,T=Array.isArray(o),S=Array.isArray(h);if(Array.isArray(i)&&i.length>0)for(l=0;l<i.length;l++){var A=i[l],C=2*i[l],_=i[l]*w;u=e[_],d=e[_+1],f=s?e[_+2]:0,p=t[C],g=t[C+1],c&&(g=1-g),m=T?o[A]:o,v=S?h[A]:h,y=0,b=0,x=0,a&&(y=a[_],b=a[_+1],x=s?a[_+2]:0),E.vertices.push(new r(u,d,f,p,g,m,v,y,b,x))}else{var I=0,O=0;for(l=0;l<e.length;l+=w)u=e[l],d=e[l+1],f=s?e[l+2]:0,p=t[I],g=t[I+1],m=T?o[O]:o,v=S?h[O]:h,y=0,b=0,x=0,a&&(y=a[l],b=a[l+1],x=s?a[l+2]:0),E.vertices.push(new r(u,d,f,p,g,m,v,y,b,x)),I+=2,O++}for(l=0;l<E.vertices.length;l+=3){var P=E.vertices[l],M=E.vertices[l+1],R=E.vertices[l+2];E.faces.push(new n(P,M,R))}return E}},85048:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,i="untitled",n="",r="";function s(e){return 0===e.models.length&&e.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),n="",e.models[e.models.length-1]}e.exports=function(e,a){void 0===a&&(a=!0),t=a;var o={materials:{},materialLibraries:[],models:[]};n="",r="";for(var h=e.split("\n"),c=0;c<h.length;c++){var l=(function(e){var t=e.indexOf("#");return t>-1?e.substring(0,t):e})(h[c]).replace(/\s\s+/g," ").trim().split(" ");switch(l[0].toLowerCase()){case"o":!function(e,t){var r=e.length>=2?e[1]:i;t.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),n=""}(l,o);break;case"g":2===l.length&&(n=l[1]);break;case"v":!function(e,t){var i=e.length,n=i>=2?parseFloat(e[1]):0,r=i>=3?parseFloat(e[2]):0,a=i>=4?parseFloat(e[3]):0;s(t).vertices.push({x:n,y:r,z:a})}(l,o);break;case"vt":!function(e,i){var n=e.length,r=n>=2?parseFloat(e[1]):0,a=n>=3?parseFloat(e[2]):0,o=n>=4?parseFloat(e[3]):0;isNaN(r)&&(r=0),isNaN(a)&&(a=0),isNaN(o)&&(o=0),t&&(a=1-a),s(i).textureCoords.push({u:r,v:a,w:o})}(l,o);break;case"vn":!function(e,t){var i=e.length,n=i>=2?parseFloat(e[1]):0,r=i>=3?parseFloat(e[2]):0,a=i>=4?parseFloat(e[3]):0;s(t).vertexNormals.push({x:n,y:r,z:a})}(l,o);break;case"f":!function(e,t){var i=e.length-1;if(!(i<3)){for(var a={group:n,material:r,vertices:[]},o=0;o<i;o++){var h=e[o+1].split("/"),c=h.length;if(!(c<1)&&!(c>3)){var l=0,u=0,d=0;l=parseInt(h[0],10),c>1&&""!==h[1]&&(u=parseInt(h[1],10)),c>2&&(d=parseInt(h[2],10)),0!==l&&(l<0&&(l=s(t).vertices.length+1+l),u-=1,l-=1,d-=1,a.vertices.push({textureCoordsIndex:u,vertexIndex:l,vertexNormalIndex:d}))}}s(t).faces.push(a)}}(l,o);break;case"mtllib":l.length>=2&&o.materialLibraries.push(l[1]);break;case"usemtl":l.length>=2&&(r=l[1])}}return o}},61485:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37589);e.exports=function(e){for(var t={},i=e.split("\n"),r="",s=0;s<i.length;s++){var a=i[s].trim();if(0!==a.indexOf("#")&&""!==a){var o=a.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":r=o[1];break;case"kd":var h=Math.floor(255*o[1]),c=o.length>=2?Math.floor(255*o[2]):h,l=o.length>=3?Math.floor(255*o[3]):h;t[r]=n(h,c,l)}}}return t}},92570:e=>{e.exports=function(e,t,i,n){if(void 0===i&&void 0===n){var r,s,a=e.getInCenter();r=a.x,s=a.y}var o=Math.cos(t),h=Math.sin(t),c=e.vertex1,l=e.vertex2,u=e.vertex3,d=c.x-r,f=c.y-s;c.set(d*o-f*h+r,d*h+f*o+s),d=l.x-r,f=l.y-s,l.set(d*o-f*h+r,d*h+f*o+s),d=u.x-r,f=u.y-s,u.set(d*o-f*h+r,d*h+f*o+s)}},39318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(70554),s=i(25836),a=new n({Extends:s,initialize:function(e,t,i,n,r,a,o,h,c,l){void 0===a&&(a=16777215),void 0===o&&(o=1),void 0===h&&(h=0),void 0===c&&(c=0),void 0===l&&(l=0),s.call(this,e,t,i),this.vx=0,this.vy=0,this.vz=0,this.nx=h,this.ny=c,this.nz=l,this.u=n,this.v=r,this.color=a,this.alpha=o,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=r},setUVs:function(e,t){return this.u=e,this.v=t,this.tu=e,this.tv=t,this},scrollUV:function(e,t){return this.tu+=e,this.tv+=t,this},scaleUV:function(e,t){return this.tu=this.u*e,this.tv=this.v*t,this},transformCoordinatesLocal:function(e,t,i,n){var r=this.x,s=this.y,a=this.z,o=e.val,h=r*o[0]+s*o[4]+a*o[8]+o[12],c=r*o[1]+s*o[5]+a*o[9]+o[13],l=r*o[2]+s*o[6]+a*o[10]+o[14],u=r*o[3]+s*o[7]+a*o[11]+o[15];this.vx=h/u*t,this.vy=-(c/u)*i,n<=0?this.vz=l/u:this.vz=-(l/u)},resize:function(e,t,i,n,r,s){return this.x=e,this.y=t,this.vx=this.x*i,this.vy=-this.y*n,this.vz=0,r<.5?this.vx+=i*(.5-r):r>.5&&(this.vx-=i*(r-.5)),s<.5?this.vy+=n*(.5-s):s>.5&&(this.vy-=n*(s-.5)),this},update:function(e,t,i,n,r,s,a,o){var h=this.vx*e+this.vy*i+r,c=this.vx*t+this.vy*n+s;return a&&(h=Math.round(h),c=Math.round(c)),this.tx=h,this.ty=c,this.ta=this.alpha*o,this},load:function(e,t,i,n,s){return e[++i]=this.tx,e[++i]=this.ty,e[++i]=this.tu,e[++i]=this.tv,e[++i]=n,e[++i]=s,t[++i]=r.getTintAppendFloatAlpha(this.color,this.ta),i}});e.exports=a},73090:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};e.exports=n},96550:e=>{e.exports=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))}},99706:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e){return new n(e.x,e.y)}},68010:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y)}},27814:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y}},73565:e=>{e.exports=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))}},87555:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){if(void 0===t&&(t=new n),!Array.isArray(e))throw Error("GetCentroid points argument must be an array");var i=e.length;if(i<1)throw Error("GetCentroid points array must not be empty");if(1===i)t.x=e[0].x,t.y=e[0].y;else{for(var r=0;r<i;r++)t.x+=e[r].x,t.y+=e[r].y;t.x/=i,t.y/=i}return t}},28793:e=>{e.exports=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},44405:e=>{e.exports=function(e){return e.x*e.x+e.y*e.y}},20873:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){void 0===t&&(t=new n);for(var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=0;o<e.length;o++){var h=e[o];h.x>i&&(i=h.x),h.x<r&&(r=h.x),h.y>s&&(s=h.y),h.y<a&&(a=h.y)}return t.x=r,t.y=a,t.width=i-r,t.height=s-a,t}},26152:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i,r){return void 0===i&&(i=0),void 0===r&&(r=new n),r.x=e.x+(t.x-e.x)*i,r.y=e.y+(t.y-e.y)*i,r}},55767:e=>{e.exports=function(e){return e.setTo(e.y,e.x)}},79432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.setTo(-e.x,-e.y)}},2141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23777),s=new n({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.type=r.POINT,this.x=e,this.y=t},setTo:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this}});e.exports=s},72930:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(44405);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=(e.x*t.x+e.y*t.y)/r(t);return 0!==s&&(i.x=s*t.x,i.y=s*t.y),i}},62880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=e.x*t.x+e.y*t.y;return 0!==r&&(i.x=r*t.x,i.y=r*t.y),i}},15093:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28793);e.exports=function(e,t){if(0!==e.x||0!==e.y){var i=n(e);e.x/=i,e.y/=i}return e.x*=t,e.y*=t,e}},43711:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);n.Ceil=i(96550),n.Clone=i(99706),n.CopyFrom=i(68010),n.Equals=i(27814),n.Floor=i(73565),n.GetCentroid=i(87555),n.GetMagnitude=i(28793),n.GetMagnitudeSq=i(44405),n.GetRectangleFromPoints=i(20873),n.Interpolate=i(26152),n.Invert=i(55767),n.Negative=i(79432),n.Project=i(72930),n.ProjectUnit=i(62880),n.SetMagnitude=i(15093),e.exports=n},12306:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25717);e.exports=function(e){return new n(e.points)}},63814:e=>{e.exports=function(e,t,i){for(var n=!1,r=-1,s=e.points.length-1;++r<e.points.length;s=r){var a=e.points[r].x,o=e.points[r].y,h=e.points[s].x,c=e.points[s].y;(o<=i&&i<c||c<=i&&i<o)&&t<(h-a)*(i-o)/(c-o)+a&&(n=!n)}return n}},99338:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63814);e.exports=function(e,t){return n(e,t.x,t.y)}},94811:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,l){l=l||2;var u,p,m,v,y,b,x,E=t&&t.length,w=E?t[0]*l:e.length,T=i(e,0,w,l,!0),S=[];if(!T||T.next===T.prev)return S;if(E&&(T=function(e,t,s,h){var c,l,u,p,g,m=[];for(c=0,l=t.length;c<l;c++)u=t[c]*h,p=c<l-1?t[c+1]*h:e.length,(g=i(e,u,p,h,!1))===g.next&&(g.steiner=!0),m.push(function(e){var t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e)return i}(g));for(m.sort(r),c=0;c<m.length;c++)s=function(e,t){var i=function(e,t){var i,n,r,s=t,h=e.x,c=e.y,l=-1/0;do{if(c<=s.y&&c>=s.next.y&&s.next.y!==s.y){var u=s.x+(c-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(u<=h&&u>l&&(l=u,r=s.x<s.next.x?s:s.next,u===h))return r}s=s.next}while(s!==t)if(!r)return null;var f,p=r,g=r.x,m=r.y,v=1/0;s=r;do h>=s.x&&s.x>=g&&h!==s.x&&a(c<m?h:l,c,g,m,c<m?l:h,c,s.x,s.y)&&(f=Math.abs(c-s.y)/(h-s.x),d(s,e)&&(f<v||f===v&&(s.x>r.x||s.x===r.x&&(i=r,n=s,0>o(i.prev,i,n.prev)&&0>o(n.next,i,i.next))))&&(r=s,v=f)),s=s.next;while(s!==p)return r}(e,t);if(!i)return t;var r=f(i,e);return n(r,r.next),n(i,i.next)}(m[c],s);return s}(e,t,T,l)),e.length>80*l){u=m=e[0],p=v=e[1];for(var A=l;A<w;A+=l)y=e[A],b=e[A+1],y<u&&(u=y),b<p&&(p=b),y>m&&(m=y),b>v&&(v=b);x=0!==(x=Math.max(m-u,v-p))?32767/x:0}return function e(t,i,r,l,u,p,m){if(t){!m&&p&&function(e,t,i,n){var r=e;do 0===r.z&&(r.z=s(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e)r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,s,a,o,h,c=1;do{for(i=e,e=null,s=null,a=0;i;){for(a++,n=i,o=0,t=0;t<c&&(o++,n=n.nextZ);t++);for(h=c;o>0||h>0&&n;)0!==o&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,h--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;i=n}s.nextZ=null,c*=2}while(a>1)}(r)}(t,l,u,p);for(var v,y,b=t;t.prev!==t.next;){if(v=t.prev,y=t.next,p?function(e,t,i,n){var r=e.prev,h=e.next;if(o(r,e,h)>=0)return!1;for(var c=r.x,l=e.x,u=h.x,d=r.y,f=e.y,p=h.y,g=c<l?c<u?c:u:l<u?l:u,m=d<f?d<p?d:p:f<p?f:p,v=c>l?c>u?c:u:l>u?l:u,y=d>f?d>p?d:p:f>p?f:p,b=s(g,m,t,i,n),x=s(v,y,t,i,n),E=e.prevZ,w=e.nextZ;E&&E.z>=b&&w&&w.z<=x;){if(E.x>=g&&E.x<=v&&E.y>=m&&E.y<=y&&E!==r&&E!==h&&a(c,d,l,f,u,p,E.x,E.y)&&o(E.prev,E,E.next)>=0||(E=E.prevZ,w.x>=g&&w.x<=v&&w.y>=m&&w.y<=y&&w!==r&&w!==h&&a(c,d,l,f,u,p,w.x,w.y)&&o(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;E&&E.z>=b;){if(E.x>=g&&E.x<=v&&E.y>=m&&E.y<=y&&E!==r&&E!==h&&a(c,d,l,f,u,p,E.x,E.y)&&o(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;w&&w.z<=x;){if(w.x>=g&&w.x<=v&&w.y>=m&&w.y<=y&&w!==r&&w!==h&&a(c,d,l,f,u,p,w.x,w.y)&&o(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}(t,l,u,p):function(e){var t=e.prev,i=e.next;if(o(t,e,i)>=0)return!1;for(var n=t.x,r=e.x,s=i.x,h=t.y,c=e.y,l=i.y,u=n<r?n<s?n:s:r<s?r:s,d=h<c?h<l?h:l:c<l?c:l,f=n>r?n>s?n:s:r>s?r:s,p=h>c?h>l?h:l:c>l?c:l,g=i.next;g!==t;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=p&&a(n,h,r,c,s,l,g.x,g.y)&&o(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}(t)){i.push(v.i/r|0),i.push(t.i/r|0),i.push(y.i/r|0),g(t),t=y.next,b=y.next;continue}if((t=y)===b){m?1===m?e(t=function(e,t,i){var r=e;do{var s=r.prev,a=r.next.next;!h(s,a)&&c(s,r,r.next,a)&&d(s,a)&&d(a,s)&&(t.push(s.i/i|0),t.push(r.i/i|0),t.push(a.i/i|0),g(r),g(r.next),r=e=a),r=r.next}while(r!==e)return n(r)}(n(t),i,r),i,r,l,u,p,2):2===m&&function(t,i,r,s,a,l){var u=t;do{for(var p,g,m=u.next.next;m!==u.prev;){if(u.i!==m.i&&(p=u,g=m,p.next.i!==g.i&&p.prev.i!==g.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&c(i,i.next,e,t))return!0;i=i.next}while(i!==e)return!1}(p,g)&&(d(p,g)&&d(g,p)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==e)return n}(p,g)&&(o(p.prev,p,g.prev)||o(p,g.prev,g))||h(p,g)&&o(p.prev,p,p.next)>0&&o(g.prev,g,g.next)>0))){var v=f(u,m);u=n(u,u.next),v=n(v,v.next),e(u,i,r,s,a,l,0),e(v,i,r,s,a,l,0);return}m=m.next}u=u.next}while(u!==t)}(t,i,r,l,u,p):e(n(t),i,r,l,u,p,1);break}}}}(T,S,l,u,p,x,0),S}function i(e,t,i,n,r){var s,a;if(r===v(e,t,i,n)>0)for(s=t;s<i;s+=n)a=p(s,e[s],e[s+1],a);else for(s=i-n;s>=t;s-=n)a=p(s,e[s],e[s+1],a);return a&&h(a,a.next)&&(g(a),a=a.next),a}function n(e,t){if(!e)return e;t||(t=e);var i,n=e;do if(i=!1,!n.steiner&&(h(n,n.next)||0===o(n.prev,n,n.next))){if(g(n),(n=t=n.prev)===n.next)break;i=!0}else n=n.next;while(i||n!==t)return t}function r(e,t){return e.x-t.x}function s(e,t,i,n,r){return(e=((e=((e=((e=((e=(e-i)*r|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-n)*r|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function a(e,t,i,n,r,s,a,o){return(r-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(n-o)>=(i-a)*(t-o)&&(i-a)*(s-o)>=(r-a)*(n-o)}function o(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function h(e,t){return e.x===t.x&&e.y===t.y}function c(e,t,i,n){var r=u(o(e,t,i)),s=u(o(e,t,n)),a=u(o(i,n,e)),h=u(o(i,n,t));return!!(r!==s&&a!==h||0===r&&l(e,i,t)||0===s&&l(e,n,t)||0===a&&l(i,e,n)||0===h&&l(i,t,n))}function l(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function u(e){return e>0?1:e<0?-1:0}function d(e,t){return 0>o(e.prev,e,e.next)?o(e,t,e.next)>=0&&o(e,e.prev,t)>=0:0>o(e,t,e.prev)||0>o(e,e.next,t)}function f(e,t){var i=new m(e.i,e.x,e.y),n=new m(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function p(e,t,i,n){var r=new m(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function g(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function m(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(e,t,i,n){for(var r=0,s=t,a=i-n;s<i;s+=n)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}t.deviation=function(e,t,i,n){var r=t&&t.length,s=r?t[0]*i:e.length,a=Math.abs(v(e,0,s,i));if(r)for(var o=0,h=t.length;o<h;o++){var c=t[o]*i,l=o<h-1?t[o+1]*i:e.length;a-=Math.abs(v(e,c,l,i))}var u=0;for(o=0;o<n.length;o+=3){var d=n[o]*i,f=n[o+1]*i,p=n[o+2]*i;u+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++)for(var a=0;a<t;a++)i.vertices.push(e[r][s][a]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i},e.exports=t},13829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t){void 0===t&&(t=new n);for(var i,r=1/0,s=1/0,a=-1/0,o=-1/0,h=0;h<e.points.length;h++)r=Math.min(r,(i=e.points[h]).x),s=Math.min(s,i.y),a=Math.max(a,i.x),o=Math.max(o,i.y);return t.x=r,t.y=s,t.width=a-r,t.height=o-s,t}},26173:e=>{e.exports=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.points.length;i++)t.push(e.points[i].x),t.push(e.points[i].y);return t}},9564:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(23031),s=i(30052);e.exports=function(e,t,i,a){void 0===a&&(a=[]);var o=e.points,h=s(e);!t&&i>0&&(t=h/i);for(var c=0;c<t;c++)for(var l=c/t*h,u=0,d=0;d<o.length;d++){var f=o[d],p=o[(d+1)%o.length],g=new r(f.x,f.y,p.x,p.y),m=n(g);if(l<u||l>u+m){u+=m;continue}var v=g.getPoint((l-u)/m);a.push(v);break}return a}},30052:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(23031);e.exports=function(e){for(var t=e.points,i=0,s=0;s<t.length;s++){var a=t[s],o=t[(s+1)%t.length];i+=n(new r(a.x,a.y,o.x,o.y))}return i}},25717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(63814),s=i(9564),a=i(23777),o=new n({initialize:function(e){this.type=a.POLYGON,this.area=0,this.points=[],e&&this.setTo(e)},contains:function(e,t){return r(this,e,t)},setTo:function(e){if(this.area=0,this.points=[],"string"==typeof e&&(e=e.split(" ")),!Array.isArray(e))return this;for(var t,i=0;i<e.length;i++)t={x:0,y:0},"number"==typeof e[i]||"string"==typeof e[i]?(t.x=parseFloat(e[i]),t.y=parseFloat(e[i+1]),i++):Array.isArray(e[i])?(t.x=e[i][0],t.y=e[i][1]):(t.x=e[i].x,t.y=e[i].y),this.points.push(t);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e,t,i=0,n=0;n<this.points.length-1;n++)e=this.points[n],i+=((t=this.points[n+1]).x-e.x)*(e.y+t.y);return e=this.points[0],t=this.points[this.points.length-1],i+=(e.x-t.x)*(t.y+e.y),this.area=-(.5*i),this.area},getPoints:function(e,t,i){return s(this,e,t,i)}});e.exports=o},8133:e=>{e.exports=function(e){return e.points.reverse(),e}},29524:e=>{e.exports=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1);var n=e.points;if(n.length>2){var r,s,a,o=t*t;i||(n=function(e,t){for(var i,n=e[0],r=[n],s=1,a=e.length;s<a;s++)(function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n})(i=e[s],n)>t&&(r.push(i),n=i);return n!==i&&r.push(i),r}(n,o)),e.setTo((s=(r=n).length-1,a=[r[0]],function e(t,i,n,r,s){for(var a,o=r,h=i+1;h<n;h++){var c=function(e,t,i){var n=t.x,r=t.y,s=i.x-n,a=i.y-r;if(0!==s||0!==a){var o=((e.x-n)*s+(e.y-r)*a)/(s*s+a*a);o>1?(n=i.x,r=i.y):o>0&&(n+=s*o,r+=a*o)}return(s=e.x-n)*s+(a=e.y-r)*a}(t[h],t[i],t[n]);c>o&&(a=h,o=c)}o>r&&(a-i>1&&e(t,i,a,r,s),s.push(t[a]),n-a>1&&e(t,a,n,r,s))}(r,0,s,o,a),a.push(r[s]),a))}return e}},5469:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,t){return e[0]=t[0],e[1]=t[1],e};e.exports=function(e){var i,n=[],r=e.points;for(i=0;i<r.length;i++)n.push([r[i].x,r[i].y]);var s=[];for(n.length>0&&s.push(t([0,0],n[0])),i=0;i<n.length-1;i++){var a=n[i],o=n[i+1],h=a[0],c=a[1],l=o[0],u=o[1];s.push([.85*h+.15*l,.85*c+.15*u]),s.push([.15*h+.85*l,.15*c+.85*u])}return n.length>1&&s.push(t([0,0],n[n.length-1])),e.setTo(s)}},24709:e=>{e.exports=function(e,t,i){for(var n=e.points,r=0;r<n.length;r++)n[r].x+=t,n[r].y+=i;return e}},58423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25717);n.Clone=i(12306),n.Contains=i(63814),n.ContainsPoint=i(99338),n.Earcut=i(94811),n.GetAABB=i(13829),n.GetNumberArray=i(26173),n.GetPoints=i(9564),n.Perimeter=i(30052),n.Reverse=i(8133),n.Simplify=i(29524),n.Smooth=i(5469),n.Translate=i(24709),e.exports=n},62224:e=>{e.exports=function(e){return e.width*e.height}},98615:e=>{e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e}},31688:e=>{e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e}},67502:e=>{e.exports=function(e,t,i){return e.x=t-e.width/2,e.y=i-e.height/2,e}},65085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e){return new n(e.x,e.y,e.width,e.height)}},37303:e=>{e.exports=function(e,t,i){return!(e.width<=0)&&!(e.height<=0)&&e.x<=t&&e.x+e.width>=t&&e.y<=i&&e.y+e.height>=i}},96553:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37303);e.exports=function(e,t){return n(e,t.x,t.y)}},70273:e=>{e.exports=function(e,t){return!(t.width*t.height>e.width*e.height)&&t.x>e.x&&t.x<e.right&&t.right>e.x&&t.right<e.right&&t.y>e.y&&t.y<e.bottom&&t.bottom>e.y&&t.bottom<e.bottom}},43459:e=>{e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},77493:e=>{e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x,y:e.y}),t.push({x:e.right,y:e.y}),t.push({x:e.right,y:e.bottom}),t.push({x:e.x,y:e.bottom}),t}},9219:e=>{e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},53751:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8249);e.exports=function(e,t){var i=n(e);return i<n(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},16088:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(8249);e.exports=function(e,t){var i=n(e);return i>n(t)?e.setSize(t.height*i,t.height):e.setSize(t.width,t.width/i),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},80774:e=>{e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e}},83859:e=>{e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e}},19217:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(36383);e.exports=function(e,t){if(void 0===t&&(t=new n),0===e.length)return t;for(var i,s,a,o=Number.MAX_VALUE,h=Number.MAX_VALUE,c=r.MIN_SAFE_INTEGER,l=r.MIN_SAFE_INTEGER,u=0;u<e.length;u++)Array.isArray(i=e[u])?(s=i[0],a=i[1]):(s=i.x,a=i.y),o=Math.min(o,s),h=Math.min(h,a),c=Math.max(c,s),l=Math.max(l,a);return t.x=o,t.y=h,t.width=c-o,t.height=l-h,t}},9477:(e,t,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t,i,r,s){return void 0===s&&(s=new n),s.setTo(Math.min(e,i),Math.min(t,r),Math.abs(e-i),Math.abs(t-r))}},8249:e=>{e.exports=function(e){return 0===e.height?NaN:e.width/e.height}},27165:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.centerX,t.y=e.centerY,t}},20812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13019),r=i(2141);e.exports=function(e,t,i){if(void 0===i&&(i=new r),t<=0||t>=1)return i.x=e.x,i.y=e.y,i;var s=n(e)*t;return t>.5?(s-=e.width+e.height)<=e.width?(i.x=e.right-s,i.y=e.bottom):(i.x=e.x,i.y=e.bottom-(s-e.width)):s<=e.width?(i.x=e.x+s,i.y=e.y):(i.x=e.right,i.y=e.y+(s-e.width)),i}},34819:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20812),r=i(13019);e.exports=function(e,t,i,s){void 0===s&&(s=[]),!t&&i>0&&(t=r(e)/i);for(var a=0;a<t;a++){var o=a/t;s.push(n(e,o))}return s}},51313:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.width,t.y=e.height,t}},86091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(67502);e.exports=function(e,t,i){var r=e.centerX,s=e.centerY;return e.setSize(e.width+2*t,e.height+2*i),n(e,r,s)}},53951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(59996);e.exports=function(e,t,i){return void 0===i&&(i=new n),r(e,t)?(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y):i.setEmpty(),i}},14649:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13019),r=i(2141);e.exports=function(e,t,i,s){if(void 0===s&&(s=[]),!t&&!i)return s;t?i=Math.round(n(e)/t):t=n(e)/i;for(var a=e.x,o=e.y,h=0,c=0;c<i;c++)switch(s.push(new r(a,o)),h){case 0:(a+=t)>=e.right&&(h=1,o+=a-e.right,a=e.right);break;case 1:(o+=t)>=e.bottom&&(h=2,a-=o-e.bottom,o=e.bottom);break;case 2:(a-=t)<=e.left&&(h=3,o-=e.left-a,a=e.left);break;case 3:(o-=t)<=e.top&&(h=0,o=e.top)}return s}},33595:e=>{e.exports=function(e,t){for(var i=e.x,n=e.right,r=e.y,s=e.bottom,a=0;a<t.length;a++)i=Math.min(i,t[a].x),n=Math.max(n,t[a].x),r=Math.min(r,t[a].y),s=Math.max(s,t[a].y);return e.x=i,e.y=r,e.width=n-i,e.height=s-r,e}},20074:e=>{e.exports=function(e,t){var i=Math.min(e.x,t.x),n=Math.max(e.right,t.right);e.x=i,e.width=n-i;var r=Math.min(e.y,t.y),s=Math.max(e.bottom,t.bottom);return e.y=r,e.height=s-r,e}},92171:e=>{e.exports=function(e,t,i){var n=Math.min(e.x,t),r=Math.max(e.right,t);e.x=n,e.width=r-n;var s=Math.min(e.y,i),a=Math.max(e.bottom,i);return e.y=s,e.height=a-s,e}},42981:e=>{e.exports=function(e,t,i){return e.x+=t,e.y+=i,e}},46907:e=>{e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},60170:e=>{e.exports=function(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}},13019:e=>{e.exports=function(e){return 2*(e.width+e.height)}},85133:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(39506);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=Math.sin(t=r(t)),a=Math.cos(t),o=a>0?e.width/2:-(e.width/2),h=s>0?e.height/2:-(e.height/2);return Math.abs(o*s)<Math.abs(h*a)?h=o*s/a:o=h*a/s,i.x=o+e.centerX,i.y=h+e.centerY,i}},26597:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,t}},86470:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(70273),s=i(2141);e.exports=function(e,t,i){if(void 0===i&&(i=new s),r(e,t))switch(n(0,3)){case 0:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.y+Math.random()*(t.top-e.y);break;case 1:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.bottom+Math.random()*(e.bottom-t.bottom);break;case 2:i.x=e.x+Math.random()*(t.x-e.x),i.y=t.y+Math.random()*(e.bottom-t.y);break;case 3:i.x=t.right+Math.random()*(e.right-t.right),i.y=e.y+Math.random()*(t.bottom-e.y)}return i}},87841:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37303),s=i(20812),a=i(34819),o=i(23777),h=i(23031),c=i(26597),l=new n({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),this.type=o.RECTANGLE,this.x=e,this.y=t,this.width=i,this.height=n},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return c(this,e)},setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return void 0===e&&(e=new h),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return void 0===e&&(e=new h),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return void 0===e&&(e=new h),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return void 0===e&&(e=new h),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=l},94845:e=>{e.exports=function(e,t){return e.width===t.width&&e.height===t.height}},31730:e=>{e.exports=function(e,t,i){return void 0===i&&(i=t),e.width*=t,e.height*=i,e}},36899:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);e.exports=function(e,t,i){void 0===i&&(i=new n);var r=Math.min(e.x,t.x),s=Math.min(e.y,t.y),a=Math.max(e.right,t.right)-r,o=Math.max(e.bottom,t.bottom)-s;return i.setTo(r,s,a,o)}},93232:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841);n.Area=i(62224),n.Ceil=i(98615),n.CeilAll=i(31688),n.CenterOn=i(67502),n.Clone=i(65085),n.Contains=i(37303),n.ContainsPoint=i(96553),n.ContainsRect=i(70273),n.CopyFrom=i(43459),n.Decompose=i(77493),n.Equals=i(9219),n.FitInside=i(53751),n.FitOutside=i(16088),n.Floor=i(80774),n.FloorAll=i(83859),n.FromPoints=i(19217),n.FromXY=i(9477),n.GetAspectRatio=i(8249),n.GetCenter=i(27165),n.GetPoint=i(20812),n.GetPoints=i(34819),n.GetSize=i(51313),n.Inflate=i(86091),n.Intersection=i(53951),n.MarchingAnts=i(14649),n.MergePoints=i(33595),n.MergeRect=i(20074),n.MergeXY=i(92171),n.Offset=i(42981),n.OffsetPoint=i(46907),n.Overlaps=i(60170),n.Perimeter=i(13019),n.PerimeterPoint=i(85133),n.Random=i(26597),n.RandomOutside=i(86470),n.SameDimensions=i(94845),n.Scale=i(31730),n.Union=i(36899),e.exports=n},41658:e=>{e.exports=function(e){var t=e.x1,i=e.y1,n=e.x2,r=e.y2;return Math.abs(((e.x3-t)*(r-i)-(n-t)*(e.y3-i))/2)}},39208:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e,t,i){var r=Math.sqrt(3)/2*i;return new n(e,t,e+i/2,t+r,e-i/2,t+r)}},39545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(94811),r=i(16483);e.exports=function(e,t,i,s,a){void 0===t&&(t=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===a&&(a=[]);for(var o,h,c,l,u,d,f,p,g,m=n(e,t),v=0;v<m.length;v+=3)o=m[v],h=m[v+1],c=m[v+2],l=e[2*o]*i,u=e[2*o+1]*s,d=e[2*h]*i,f=e[2*h+1]*s,p=e[2*c]*i,g=e[2*c+1]*s,a.push(new r(l,u,d,f,p,g));return a}},90301:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e,t,i,r){void 0===r&&(r=i);var s=t-r,a=e+i;return new n(e,t,e,s,a,t)}},23707:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97523),r=i(13584);e.exports=function(e,t,i,s){void 0===s&&(s=n);var a=s(e);return r(e,t-a.x,i-a.y)}},97523:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){return void 0===t&&(t=new n),t.x=(e.x1+e.x2+e.x3)/3,t.y=(e.y1+e.y2+e.y3)/3,t}},24951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t){void 0===t&&(t=new n);var i,r,s=e.x3,a=e.y3,o=e.x1-s,h=e.y1-a,c=e.x2-s,l=e.y2-a,u=2*(o*l-h*c),d=(i=o*o+h*h,h*(c*c+l*l)-i*l),f=(r=o*o+h*h,o*(c*c+l*l)-r*c);return t.x=s-d/u,t.y=a+f/u,t}},85614:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503);e.exports=function(e,t){void 0===t&&(t=new n);var i,r,s=e.x1,a=e.y1,o=e.x2,h=e.y2,c=e.x3,l=e.y3,u=o-s,d=h-a,f=c-s,p=l-a,g=u*(s+o)+d*(a+h),m=f*(s+c)+p*(a+l),v=2*(u*(l-h)-d*(c-o));if(1e-6>Math.abs(v)){var y=Math.min(s,o,c),b=Math.min(a,h,l);i=(Math.max(s,o,c)-y)*.5,r=(Math.max(a,h,l)-b)*.5,t.x=y+i,t.y=b+r,t.radius=Math.sqrt(i*i+r*r)}else t.x=(p*g-d*m)/v,t.y=(u*m-f*g)/v,i=t.x-s,r=t.y-a,t.radius=Math.sqrt(i*i+r*r);return t}},74422:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);e.exports=function(e){return new n(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},10690:e=>{e.exports=function(e,t,i){var n=e.x3-e.x1,r=e.y3-e.y1,s=e.x2-e.x1,a=e.y2-e.y1,o=t-e.x1,h=i-e.y1,c=n*n+r*r,l=n*s+r*a,u=n*o+r*h,d=s*s+a*a,f=s*o+a*h,p=c*d-l*l,g=0===p?0:1/p,m=(d*u-l*f)*g,v=(c*f-l*u)*g;return m>=0&&v>=0&&m+v<1}},48653:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=[]);for(var r,s,a,o,h,c,l=e.x3-e.x1,u=e.y3-e.y1,d=e.x2-e.x1,f=e.y2-e.y1,p=l*l+u*u,g=l*d+u*f,m=d*d+f*f,v=p*m-g*g,y=0===v?0:1/v,b=e.x1,x=e.y1,E=0;E<t.length&&(r=(m*(h=l*(a=t[E].x-b)+u*(o=t[E].y-x))-g*(c=d*a+f*o))*y,s=(p*c-g*h)*y,!(r>=0)||!(s>=0)||!(r+s<1)||(n.push({x:t[E].x,y:t[E].y}),!i));E++);return n}},96006:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10690);e.exports=function(e,t){return n(e,t.x,t.y)}},71326:e=>{e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},71694:e=>{e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x1,y:e.y1}),t.push({x:e.x2,y:e.y2}),t.push({x:e.x3,y:e.y3}),t}},33522:e=>{e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2&&e.x3===t.x3&&e.y3===t.y3}},20437:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141),r=i(35001);e.exports=function(e,t,i){void 0===i&&(i=new n);var s=e.getLineA(),a=e.getLineB(),o=e.getLineC();if(t<=0||t>=1)return i.x=s.x1,i.y=s.y1,i;var h=r(s),c=r(a),l=r(o),u=(h+c+l)*t,d=0;return u<h?(d=u/h,i.x=s.x1+(s.x2-s.x1)*d,i.y=s.y1+(s.y2-s.y1)*d):u>h+c?(u-=h+c,d=u/l,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d):(u-=h,d=u/c,i.x=a.x1+(a.x2-a.x1)*d,i.y=a.y1+(a.y2-a.y1)*d),i}},80672:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001),r=i(2141);e.exports=function(e,t,i,s){void 0===s&&(s=[]);var a=e.getLineA(),o=e.getLineB(),h=e.getLineC(),c=n(a),l=n(o),u=n(h),d=c+l+u;!t&&i>0&&(t=d/i);for(var f=0;f<t;f++){var p=f/t*d,g=0,m=new r;p<c?(g=p/c,m.x=a.x1+(a.x2-a.x1)*g,m.y=a.y1+(a.y2-a.y1)*g):p>c+l?(p-=c+l,g=p/u,m.x=h.x1+(h.x2-h.x1)*g,m.y=h.y1+(h.y2-h.y1)*g):(p-=c,g=p/l,m.x=o.x1+(o.x2-o.x1)*g,m.y=o.y1+(o.y2-o.y1)*g),s.push(m)}return s}},39757:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);function r(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}e.exports=function(e,t){void 0===t&&(t=new n);var i=e.x1,s=e.y1,a=e.x2,o=e.y2,h=e.x3,c=e.y3,l=r(h,c,a,o),u=r(i,s,h,c),d=r(a,o,i,s),f=l+u+d;return t.x=(i*l+a*u+h*d)/f,t.y=(s*l+o*u+c*d)/f,t}},13584:e=>{e.exports=function(e,t,i){return e.x1+=t,e.y1+=i,e.x2+=t,e.y2+=i,e.x3+=t,e.y3+=i,e}},1376:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35001);e.exports=function(e){var t=e.getLineA(),i=e.getLineB(),r=e.getLineC();return n(t)+n(i)+n(r)}},90260:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2141);e.exports=function(e,t){void 0===t&&(t=new n);var i=e.x2-e.x1,r=e.y2-e.y1,s=e.x3-e.x1,a=e.y3-e.y1,o=Math.random(),h=Math.random();return o+h>=1&&(o=1-o,h=1-h),t.x=e.x1+(i*o+s*h),t.y=e.y1+(r*o+a*h),t}},52172:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99614),r=i(39757);e.exports=function(e,t){var i=r(e);return n(e,i.x,i.y,t)}},49907:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99614);e.exports=function(e,t,i){return n(e,t.x,t.y,i)}},99614:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x1-t,o=e.y1-i;return e.x1=a*r-o*s+t,e.y1=a*s+o*r+i,a=e.x2-t,o=e.y2-i,e.x2=a*r-o*s+t,e.y2=a*s+o*r+i,a=e.x3-t,o=e.y3-i,e.x3=a*r-o*s+t,e.y3=a*s+o*r+i,e}},16483:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(10690),s=i(20437),a=i(80672),o=i(23777),h=i(23031),c=i(90260),l=new n({initialize:function(e,t,i,n,r,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.type=o.TRIANGLE,this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.x3=r,this.y3=s},contains:function(e,t){return r(this,e,t)},getPoint:function(e,t){return s(this,e,t)},getPoints:function(e,t,i){return a(this,e,t,i)},getRandomPoint:function(e){return c(this,e)},setTo:function(e,t,i,n,r,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.x3=r,this.y3=s,this},getLineA:function(e){return void 0===e&&(e=new h),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return void 0===e&&(e=new h),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return void 0===e&&(e=new h),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1<=this.x2&&this.x1<=this.x3?this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1>=this.x2&&this.x1>=this.x3?this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1<=this.y2&&this.y1<=this.y3?this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1>=this.y2&&this.y1>=this.y3?this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}}});e.exports=l},84435:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(16483);n.Area=i(41658),n.BuildEquilateral=i(39208),n.BuildFromPolygon=i(39545),n.BuildRight=i(90301),n.CenterOn=i(23707),n.Centroid=i(97523),n.CircumCenter=i(24951),n.CircumCircle=i(85614),n.Clone=i(74422),n.Contains=i(10690),n.ContainsArray=i(48653),n.ContainsPoint=i(96006),n.CopyFrom=i(71326),n.Decompose=i(71694),n.Equals=i(33522),n.GetPoint=i(20437),n.GetPoints=i(80672),n.InCenter=i(39757),n.Perimeter=i(1376),n.Offset=i(13584),n.Random=i(90260),n.Rotate=i(52172),n.RotateAroundPoint=i(49907),n.RotateAroundXY=i(99614),e.exports=n},74457:e=>{e.exports=function(e,t,i){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:t,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:e=>{e.exports=function(e,t){return function(i,n,r,s){var a=e.getPixelAlpha(n,r,s.texture.key,s.frame.name);return a&&a>=t}}},7003:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(93301),s=i(50792),a=i(8214),o=i(8443),h=i(78970),c=i(85098),l=i(42515),u=i(36210),d=i(61340),f=i(85955),p=new n({initialize:function(e,t){this.game=e,this.scaleManager,this.canvas,this.config=t,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=t.inputKeyboard?new h(this):null,this.mouse=t.inputMouse?new c(this):null,this.touch=t.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=t.inputActivePointers;for(var i=0;i<=this.pointersTotal;i++){var n=new l(this,i);n.smoothFactor=t.inputSmoothFactor,this.pointers.push(n)}this.mousePointer=t.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],e.events.once(o.BOOT,this.boot,this)},boot:function(){var e=this.game,t=e.events;this.canvas=e.canvas,this.scaleManager=e.scale,this.events.emit(a.MANAGER_BOOT),t.on(o.PRE_RENDER,this.preRender,this),t.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(e){this.isOver=!0,this.events.emit(a.GAME_OVER,e)},setCanvasOut:function(e){this.isOver=!1,this.events.emit(a.GAME_OUT,e)},preRender:function(){var e=this.game.loop.now,t=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=e,this.events.emit(a.MANAGER_UPDATE);for(var n=0;n<i.length;n++){var r=i[n];if(r.sys.input&&r.sys.input.updatePoll(e,t)&&this.globalTopOnly)return}},setDefaultCursor:function(e){this.defaultCursor=e,this.canvas.style.cursor!==e&&(this.canvas.style.cursor=e)},setCursor:function(e){e.cursor&&(this.canvas.style.cursor=e.cursor)},resetCursor:function(e,t){(t||e&&e.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(e){void 0===e&&(e=1);var t=[];this.pointersTotal+e>10&&(e=10-this.pointersTotal);for(var i=0;i<e;i++){var n=new l(this,this.pointers.length);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,t.push(n)}return t},updateInputPlugins:function(e,t){var i=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var n=0;n<i.length;n++){var r=i[n];if(r.sys.input&&(r.sys.input.update(e,t)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(!o.active){o.touchstart(s,e),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(r.TOUCH_START,i)},onTouchMove:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){var h=document.elementFromPoint(s.clientX,s.clientY)===this.canvas;!this.isOver&&h?this.setCanvasOver(e):this.isOver&&!h&&this.setCanvasOut(e),this.isOver&&(o.touchmove(s,e),this.activePointer=o,i.push(o));break}}this.updateInputPlugins(r.TOUCH_MOVE,i)},onTouchEnd:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){o.touchend(s,e),i.push(o);break}}this.updateInputPlugins(r.TOUCH_END,i)},onTouchCancel:function(e){for(var t=this.pointers,i=[],n=0;n<e.changedTouches.length;n++)for(var s=e.changedTouches[n],a=1;a<t.length;a++){var o=t[a];if(o.active&&o.identifier===s.identifier){o.touchcancel(s,e),i.push(o);break}}this.updateInputPlugins(r.TOUCH_CANCEL,i)},onMouseDown:function(e){var t=this.mousePointer;t.down(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(e){var t=this.mousePointer;t.move(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(e){var t=this.mousePointer;t.up(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(r.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(e){var t=this.mousePointer;t.wheel(e),this.activePointer=t,this.updateInputPlugins(r.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(e){var t=this.mouse.locked;this.mousePointer.locked=t,this.events.emit(a.POINTERLOCK_CHANGE,e,t)},inputCandidate:function(e,t){var i=e.input;if(!i||!i.enabled||!e.willRender(t))return!1;var n=!0,r=e.parentContainer;if(r)do{if(!r.willRender(t)){n=!1;break}r=r.parentContainer}while(r)return n},hitTest:function(e,t,i,n){void 0===n&&(n=this._tempHitTest);var r=this._tempPoint,s=i.scrollX,a=i.scrollY;n.length=0;var o=e.x,h=e.y;i.getWorldPoint(o,h,r),e.worldX=r.x,e.worldY=r.y;for(var c={x:0,y:0},l=this._tempMatrix,u=this._tempMatrix2,d=0;d<t.length;d++){var p=t[d];if(this.inputCandidate(p,i)){var g=r.x+s*p.scrollFactorX-s,m=r.y+a*p.scrollFactorY-a;p.parentContainer?(p.getWorldTransformMatrix(l,u),l.applyInverse(g,m,c)):f(g,m,p.x,p.y,p.rotation,p.scaleX,p.scaleY,c),this.pointWithinHitArea(p,c.x,c.y)&&n.push(p)}}return n},pointWithinHitArea:function(e,t,i){t+=e.displayOriginX,i+=e.displayOriginY;var n=e.input;return!!(n&&n.hitAreaCallback(n.hitArea,t,i,e))&&(n.localX=t,n.localY=i,!0)},pointWithinInteractiveObject:function(e,t,i){return!!e.hitArea&&(t+=e.gameObject.displayOriginX,i+=e.gameObject.displayOriginY,e.localX=t,e.localY=i,e.hitAreaCallback(e.hitArea,t,i,e))},transformPointer:function(e,t,i,n){var r=e.position,s=e.prevPosition;s.x=r.x,s.y=r.y;var a=this.scaleManager.transformX(t),o=this.scaleManager.transformY(i),h=e.smoothFactor;n&&0!==h?(r.x=a*h+s.x*(1-h),r.y=o*h+s.y*(1-h)):(r.x=a,r.y=o)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var e=0;e<this.pointers.length;e++)this.pointers[e].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});e.exports=p},48205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(96503),r=i(87902),s=i(83419),a=i(93301),o=i(74457),h=i(84409),c=i(20339),l=i(8497),u=i(81154),d=i(8214),f=i(50792),p=i(95540),g=i(23777),m=i(89639),v=i(41212),y=i(37277),b=i(87841),x=i(37303),E=i(44594),w=i(16483),T=i(10690),S=new s({Extends:f,initialize:function(e){f.call(this),this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.manager=e.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var t={cancelled:!1};this._eventContainer={stopPropagation:function(){t.cancelled=!0}},this._eventData=t,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,e.sys.events.once(E.BOOT,this.boot,this),e.sys.events.on(E.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(E.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var e=this.systems.events;e.on(E.TRANSITION_START,this.transitionIn,this),e.on(E.TRANSITION_OUT,this.transitionOut,this),e.on(E.TRANSITION_COMPLETE,this.transitionComplete,this),e.on(E.PRE_UPDATE,this.preUpdate,this),e.once(E.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(e){this.isActive()&&this.emit(d.GAME_OVER,e.timeStamp,e)},onGameOut:function(e){this.isActive()&&this.emit(d.GAME_OUT,e.timeStamp,e)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var e=this._pendingRemoval,t=this._pendingInsertion,i=e.length,n=t.length;if(0!==i||0!==n){for(var r=this._list,s=0;s<i;s++){var a=e[s],o=r.indexOf(a);o>-1&&(r.splice(o,1),this.clear(a,!0))}this._pendingRemoval.length=0,this._list=r.concat(t.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(e){this.manager&&this.manager.setCursor(e)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(e,t){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,e,t),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,n=this.manager.pointers;for(i=0;i<n.length;i++)n[i].updateMotion();if(0===this._list.length)return!1;var r=this.pollRate;if(-1===r)return!1;if(r>0){if(this._pollTimer-=t,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var s=!1;for(i=0;i<n.length;i++){var a=0,o=n[i];this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp,o),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),a+=this.processOverOutEvents(o),2===this.getDragState(o)&&this.processDragThresholdEvent(o,e),a>0&&(s=!0)}return s},update:function(e,t){if(!this.isActive())return!1;for(var i=!1,n=0;n<t.length;n++){var r=0,s=t[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(s),this.sortGameObjects(this._temp,s),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),e){case a.MOUSE_DOWN:r+=this.processDragDownEvent(s)+this.processDownEvents(s)+this.processOverOutEvents(s);break;case a.MOUSE_UP:r+=this.processDragUpEvent(s)+this.processUpEvents(s)+this.processOverOutEvents(s);break;case a.TOUCH_START:r+=this.processDragDownEvent(s)+this.processDownEvents(s)+this.processOverEvents(s);break;case a.TOUCH_END:case a.TOUCH_CANCEL:r+=this.processDragUpEvent(s)+this.processUpEvents(s)+this.processOutEvents(s);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:r+=this.processDragMoveEvent(s)+this.processMoveEvents(s)+this.processOverOutEvents(s);break;case a.MOUSE_WHEEL:r+=this.processWheelEvent(s)}r>0&&(i=!0)}return this._updatedThisFrame=!0,i},clear:function(e,t){void 0===t&&(t=!1),this.disable(e);var i=e.input;i&&(this.removeDebug(e),this.manager.resetCursor(i),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,e.input=null),t||this.queueForRemoval(e);var n=this._draggable.indexOf(e);return n>-1&&this._draggable.splice(n,1),e},disable:function(e,t){void 0===t&&(t=!1);var i=e.input;i&&(i.enabled=!1,i.dragState=0);for(var n,r=this._drag,s=this._over,a=this.manager,o=0;o<a.pointers.length;o++)(n=r[o].indexOf(e))>-1&&r[o].splice(n,1),(n=s[o].indexOf(e))>-1&&s[o].splice(n,1);return t&&this.resetCursor(),this},enable:function(e,t,i,n){return void 0===n&&(n=!1),e.input?e.input.enabled=!0:this.setHitArea(e,t,i),e.input&&n&&!e.input.dropZone&&(e.input.dropZone=n),this},hitTestPointer:function(e){for(var t=this.cameras.getCamerasBelowPointer(e),i=0;i<t.length;i++){for(var n=t[i],r=this.manager.hitTest(e,this._list,n),s=0;s<r.length;s++){var a=r[s];a.input.dropZone&&this._tempZones.push(a)}if(r.length>0)return e.camera=n,r}return e.camera=t[0],[]},processDownEvents:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=0;s<i.length;s++){var a=i[s];if(a.input&&a.input.enabled&&(t++,a.emit(d.GAMEOBJECT_POINTER_DOWN,e,a.input.localX,a.input.localY,r),n.cancelled||!this.isActive()||a.input&&a.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,e,a,r),n.cancelled||!this.isActive())))break}return!n.cancelled&&this.isActive()&&(e.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,e,i):this.emit(d.POINTER_DOWN_OUTSIDE,e)),t},getDragState:function(e){return this._dragState[e.id]},setDragState:function(e,t){this._dragState[e.id]=t},processDragThresholdEvent:function(e,t){var i=!1,n=this.dragTimeThreshold,r=this.dragDistanceThreshold;if(r>0&&c(e.x,e.y,e.downX,e.downY)>=r?i=!0:n>0&&t>=e.downTime+n&&(i=!0),i)return this.setDragState(e,3),this.processDragStartList(e)},processDragStartList:function(e){if(3!==this.getDragState(e))return 0;var t=this._drag[e.id];t.length>1&&(t=t.slice(0));for(var i=0;i<t.length;i++){var n=t[i],r=n.input;r.dragState=2,r.dragStartX=n.x,r.dragStartY=n.y,r.dragStartXGlobal=e.worldX,r.dragStartYGlobal=e.worldY,r.dragStartCamera=e.camera,r.dragX=r.dragStartXGlobal-r.dragStartX,r.dragY=r.dragStartYGlobal-r.dragStartY,n.emit(d.GAMEOBJECT_DRAG_START,e,r.dragX,r.dragY),this.emit(d.DRAG_START,e,n)}return this.setDragState(e,4),t.length},processDragDownEvent:function(e){var t=this._temp;if(0===this._draggable.length||0===t.length||!e.primaryDown||0!==this.getDragState(e))return 0;this.setDragState(e,1);for(var i=[],n=0;n<t.length;n++){var r=t[n];r.input.draggable&&0===r.input.dragState&&i.push(r)}return 0===i.length?(this.setDragState(e,0),0):(i.length>1&&(this.sortGameObjects(i,e),this.topOnly&&i.splice(1)),this._drag[e.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold)?(this.setDragState(e,3),this.processDragStartList(e)):(this.setDragState(e,2),0)},processDragMoveEvent:function(e){if(2===this.getDragState(e)&&this.processDragThresholdEvent(e,this.manager.game.loop.now),4!==this.getDragState(e))return 0;var t=this._tempZones,i=this._drag[e.id];i.length>1&&(i=i.slice(0));for(var n=0;n<i.length;n++){var r,s,a=i[n],o=a.input,h=o.target;if(h){var c=t.indexOf(h);0===c?(a.emit(d.GAMEOBJECT_DRAG_OVER,e,h),this.emit(d.DRAG_OVER,e,a,h)):c>0?(a.emit(d.GAMEOBJECT_DRAG_LEAVE,e,h),this.emit(d.DRAG_LEAVE,e,a,h),o.target=t[0],h=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,h),this.emit(d.DRAG_ENTER,e,a,h)):(a.emit(d.GAMEOBJECT_DRAG_LEAVE,e,h),this.emit(d.DRAG_LEAVE,e,a,h),t[0]?(o.target=t[0],h=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,h),this.emit(d.DRAG_ENTER,e,a,h)):o.target=null)}else!h&&t[0]&&(o.target=t[0],h=o.target,a.emit(d.GAMEOBJECT_DRAG_ENTER,e,h),this.emit(d.DRAG_ENTER,e,a,h));var l=e.positionToCamera(o.dragStartCamera);if(a.parentContainer){var u=l.x-o.dragStartXGlobal,f=l.y-o.dragStartYGlobal,p=a.getParentRotation(),g=u*Math.cos(p)+f*Math.sin(p),m=f*Math.cos(p)-u*Math.sin(p);g*=1/a.parentContainer.scaleX,m*=1/a.parentContainer.scaleY,r=g+o.dragStartX,s=m+o.dragStartY}else r=l.x-o.dragX,s=l.y-o.dragY;a.emit(d.GAMEOBJECT_DRAG,e,r,s),this.emit(d.DRAG,e,a,r,s)}return i.length},processDragUpEvent:function(e){var t=this._drag[e.id];t.length>1&&(t=t.slice(0));for(var i=0;i<t.length;i++){var n=t[i],r=n.input;if(r&&2===r.dragState){r.dragState=0,r.dragX=r.localX-n.displayOriginX,r.dragY=r.localY-n.displayOriginY,r.dragStartCamera=null;var s=!1,a=r.target;a&&(n.emit(d.GAMEOBJECT_DROP,e,a),this.emit(d.DROP,e,n,a),r.target=null,s=!0),n.input&&n.input.enabled&&(n.emit(d.GAMEOBJECT_DRAG_END,e,r.dragX,r.dragY,s),this.emit(d.DRAG_END,e,n,s))}}return this.setDragState(e,0),t.splice(0),0},processMoveEvents:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=0;s<i.length;s++){var a=i[s];if(a.input&&a.input.enabled&&(t++,a.emit(d.GAMEOBJECT_POINTER_MOVE,e,a.input.localX,a.input.localY,r),n.cancelled||!this.isActive()||a.input&&a.input.enabled&&(this.emit(d.GAMEOBJECT_MOVE,e,a,r),n.cancelled||!this.isActive()||this.topOnly)))break}return!n.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,e,i),t},processWheelEvent:function(e){var t=0,i=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var s=e.deltaX,a=e.deltaY,o=e.deltaZ,h=0;h<i.length;h++){var c=i[h];if(c.input&&c.input.enabled&&(t++,c.emit(d.GAMEOBJECT_POINTER_WHEEL,e,s,a,o,r),n.cancelled||!this.isActive()||c.input&&c.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,e,c,s,a,o,r),n.cancelled||!this.isActive())))break}return!n.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,e,i,s,a,o),t},processOverEvents:function(e){var t=this._temp,i=0,n=t.length,r=[];if(n>0){var s=this.manager,a=this._eventData,o=this._eventContainer;a.cancelled=!1;for(var h=0;h<n;h++){var c=t[h];if(c.input&&c.input.enabled&&(r.push(c),s.setCursor(c.input),c.emit(d.GAMEOBJECT_POINTER_OVER,e,c.input.localX,c.input.localY,o),i++,a.cancelled||!this.isActive()||c.input&&c.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,e,c,o),a.cancelled||!this.isActive())))break}!a.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,e,r)}return this._over[e.id]=r,i},processOutEvents:function(e){var t=this._over[e.id],i=0,n=t.length;if(n>0){var r=this.manager,s=this._eventData,a=this._eventContainer;s.cancelled=!1,this.sortGameObjects(t,e);for(var o=0;o<n;o++){var h=t[o];if((h=t[o]).input&&h.input.enabled&&(r.resetCursor(h.input),h.emit(d.GAMEOBJECT_POINTER_OUT,e,a),i++,s.cancelled||!this.isActive()||h.input&&h.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,e,h,a),s.cancelled||!this.isActive())))break}!s.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,e,t),this._over[e.id]=[]}return i},processOverOutEvents:function(e){var t,i,n=this._temp,r=[],s=[],a=[],o=this._over[e.id],h=this._drag[e.id],c=this.manager;for(t=0;t<o.length;t++)i=o[t],-1===n.indexOf(i)&&-1===h.indexOf(i)?r.push(i):a.push(i);for(t=0;t<n.length;t++)i=n[t],-1===o.indexOf(i)&&s.push(i);var l=r.length,u=0,f=this._eventData,p=this._eventContainer;if(f.cancelled=!1,l>0){for(this.sortGameObjects(r,e),t=0;t<l&&(!(i=r[t]).input||!i.input.enabled||(c.resetCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OUT,e,p),u++,!f.cancelled&&this.isActive()&&(!i.input||!i.input.enabled||(this.emit(d.GAMEOBJECT_OUT,e,i,p),!f.cancelled&&this.isActive()))));t++);(!f.cancelled||this.isActive())&&this.emit(d.POINTER_OUT,e,r)}if(l=s.length,f.cancelled=!1,l>0){for(this.sortGameObjects(s,e),t=0;t<l&&(!(i=s[t]).input||!i.input.enabled||(c.setCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OVER,e,i.input.localX,i.input.localY,p),u++,!f.cancelled&&this.isActive()&&(!i.input||!i.input.enabled||(this.emit(d.GAMEOBJECT_OVER,e,i,p),!f.cancelled&&this.isActive()))));t++);!f.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,e,s)}return o=a.concat(s),this._over[e.id]=this.sortGameObjects(o,e),u},processUpEvents:function(e){var t=this._temp,i=this._eventData,n=this._eventContainer;i.cancelled=!1;for(var r=0;r<t.length;r++){var s=t[r];if(s.input&&s.input.enabled&&(s.emit(d.GAMEOBJECT_POINTER_UP,e,s.input.localX,s.input.localY,n),i.cancelled||!this.isActive()||s.input&&s.input.enabled&&(this.emit(d.GAMEOBJECT_UP,e,s,n),i.cancelled||!this.isActive())))break}return!i.cancelled&&this.isActive()&&(e.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,e,t):this.emit(d.POINTER_UP_OUTSIDE,e)),t.length},forceDownState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(e,t){this.forceState(e,t,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(e,t,i,n,r){var s=this._eventData,a=this._eventContainer;s.cancelled=!1,t.input&&t.input.enabled&&(t.emit(i,e,t.input.localX,t.input.localY,a),r&&this.setCursor(t.input),!s.cancelled&&this.isActive()&&t.input&&t.input.enabled&&this.emit(n,e,t,a))},queueForInsertion:function(e){return -1===this._pendingInsertion.indexOf(e)&&-1===this._list.indexOf(e)&&this._pendingInsertion.push(e),this},queueForRemoval:function(e){return this._pendingRemoval.push(e),this},setDraggable:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];n.input.draggable=t;var r=this._draggable.indexOf(n);t&&-1===r?this._draggable.push(n):!t&&r>-1&&this._draggable.splice(r,1)}return this},makePixelPerfect:function(e){return void 0===e&&(e=1),h(this.systems.textures,e)},setHitArea:function(e,t,i){if(void 0===t)return this.setHitAreaFromTexture(e);Array.isArray(e)||(e=[e]);var n=!1,r=!1,s=!1,a=!1,h=!1,c=!0;if(v(t)&&Object.keys(t).length){var l=t;if(!e.some(function(e){return e.hasOwnProperty("faces")})){t=p(l,"hitArea",null),i=p(l,"hitAreaCallback",null),h=p(l,"pixelPerfect",!1);var u=p(l,"alphaTolerance",1);h&&(t={},i=this.makePixelPerfect(u))}n=p(l,"draggable",!1),r=p(l,"dropZone",!1),s=p(l,"cursor",!1),a=p(l,"useHandCursor",!1),t&&i||(this.setHitAreaFromTexture(e),c=!1)}else"function"!=typeof t||i||(i=t,t={});for(var d=0;d<e.length;d++){var f=e[d];if(h&&"Container"===f.type){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var g=f.input?f.input:o(f,t,i);g.customHitArea=c,g.dropZone=r,g.cursor=a?"pointer":s,f.input=g,n&&this.setDraggable(f),this.queueForInsertion(f)}return this},setHitAreaCircle:function(e,t,i,s,a){void 0===a&&(a=r);var o=new n(t,i,s);return this.setHitArea(e,o,a)},setHitAreaEllipse:function(e,t,i,n,r,s){void 0===s&&(s=u);var a=new l(t,i,n,r);return this.setHitArea(e,a,s)},setHitAreaFromTexture:function(e,t){void 0===t&&(t=x),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],r=n.frame,s=0,a=0;if(n.width?(s=n.width,a=n.height):r&&(s=r.realWidth,a=r.realHeight),"Container"===n.type&&(0===s||0===a)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}0!==s&&0!==a&&(n.input=o(n,new b(0,0,s,a),t),this.queueForInsertion(n))}return this},setHitAreaRectangle:function(e,t,i,n,r,s){void 0===s&&(s=x);var a=new b(t,i,n,r);return this.setHitArea(e,a,s)},setHitAreaTriangle:function(e,t,i,n,r,s,a,o){void 0===o&&(o=T);var h=new w(t,i,n,r,s,a);return this.setHitArea(e,h,o)},enableDebug:function(e,t){void 0===t&&(t=65280);var i=e.input;if(!i||!i.hitArea)return this;var n=i.hitArea,r=n.type,s=i.hitAreaDebug,a=this.systems.add,o=this.systems.updateList;s&&(o.remove(s),s.destroy(),s=null);var h=0,c=0;switch(r){case g.CIRCLE:s=a.arc(0,0,n.radius),h=n.x-n.radius,c=n.y-n.radius;break;case g.ELLIPSE:s=a.ellipse(0,0,n.width,n.height),h=n.x-n.width/2,c=n.y-n.height/2;break;case g.LINE:s=a.line(0,0,n.x1,n.y1,n.x2,n.y2);break;case g.POLYGON:s=a.polygon(0,0,n.points);break;case g.RECTANGLE:s=a.rectangle(0,0,n.width,n.height),h=n.x,c=n.y;break;case g.TRIANGLE:s=a.triangle(0,0,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3)}return s&&(s.isFilled=!1,s.strokeColor=t,s.preUpdate=function(){s.setVisible(e.visible),s.setStrokeStyle(1/e.scale,s.strokeColor),s.setDisplayOrigin(e.displayOriginX,e.displayOriginY);var t=e.x,i=e.y,n=e.rotation,r=e.scaleX,a=e.scaleY;if(e.parentContainer){var o=e.getWorldTransformMatrix();t=o.tx,i=o.ty,n=o.rotation,r=o.scaleX,a=o.scaleY}s.setRotation(n),s.setScale(r,a),s.setPosition(t+h*r,i+c*a),s.setScrollFactor(e.scrollFactorX,e.scrollFactorY),s.setDepth(e.depth)},o.add(s),i.hitAreaDebug=s),this},removeDebug:function(e){var t=e.input;return t&&t.hitAreaDebug&&(t.hitAreaDebug.destroy(),t.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(e){return this.pollRate=e,this._pollTimer=0,this},setGlobalTopOnly:function(e){return this.manager.globalTopOnly=e,this},setTopOnly:function(e){return this.topOnly=e,this},sortGameObjects:function(e,t){if(e.length<2||!t.camera)return e;var i=t.camera.renderList;return e.sort(function(e,t){var n=Math.max(i.indexOf(e),0);return Math.max(i.indexOf(t),0)-n})},sortDropZones:function(e){return e.length<2?e:(this.scene.sys.depthSort(),e.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(e,t){if(!e.parentContainer&&!t.parentContainer)return this.displayList.getIndex(t)-this.displayList.getIndex(e);if(e.parentContainer===t.parentContainer)return t.parentContainer.getIndex(t)-e.parentContainer.getIndex(e);if(e.parentContainer===t)return -1;if(t.parentContainer===e)return 1;for(var i=e.getIndexList(),n=t.getIndexList(),r=Math.min(i.length,n.length),s=0;s<r;s++){var a=i[s],o=n[s];if(a!==o)return o-a}return n.length-i.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(e){return this.manager.addPointer(e)},setDefaultCursor:function(e){return this.manager.setDefaultCursor(e),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var e=0;e<10;e++)this._drag[e]=[],this._over[e]=[];this.removeAllListeners();var t=this.manager;t.canvas.style.cursor=t.defaultCursor;var i=this.systems.events;i.off(E.TRANSITION_START,this.transitionIn,this),i.off(E.TRANSITION_OUT,this.transitionOut,this),i.off(E.TRANSITION_COMPLETE,this.transitionComplete,this),i.off(E.PRE_UPDATE,this.preUpdate,this),t.events.off(d.GAME_OUT,this.onGameOut,this),t.events.off(d.GAME_OVER,this.onGameOver,this),i.off(E.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var e=this.manager.pointers,t=0;t<e.length;t++)e[t].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(E.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",S,"input"),e.exports=S},89639:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r={},s={};s.register=function(e,t,i,n,s){r[e]={plugin:t,mapping:i,settingsKey:n,configKey:s}},s.getPlugin=function(e){return r[e]},s.install=function(e){var t=e.scene.sys,i=t.settings.input,s=t.game.config;for(var a in r){var o=r[a].plugin,h=r[a].mapping;n(i,r[a].settingsKey,s[r[a].configKey])&&(e[h]=new o(e))}},s.remove=function(e){r.hasOwnProperty(e)&&delete r[e]},e.exports=s},42515:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31040),r=i(83419),s=i(20339),a=i(43855),o=i(47235),h=i(26099),c=i(25892),l=new r({initialize:function(e,t){this.manager=e,this.id=t,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new h,this.prevPosition=new h,this.midPoint=new h(-1,-1),this.velocity=new h,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===t,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var t=e.getWorldPoint(this.x,this.y);return this.worldX=t.x,this.worldY=t.y,this},positionToCamera:function(e,t){return e.getWorldPoint(this.x,this.y,t)},updateMotion:function(){var e=this.position.x,t=this.position.y,i=this.midPoint.x,r=this.midPoint.y;if(e!==i||t!==r){var s=o(this.motionFactor,i,e),h=o(this.motionFactor,r,t);a(s,e,.1)&&(s=e),a(h,t,.1)&&(h=t),this.midPoint.set(s,h);var c=e-s,l=t-h;this.velocity.set(c,l),this.angle=n(s,h,e,t),this.distance=Math.sqrt(c*c+l*l)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=e.timeStamp,this.wasTouch=!1)},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),c.macOS&&e.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=e.timeStamp),this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,t){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,t){this.event=t,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=t.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?n(this.downX,this.downY,this.x,this.y):n(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,t){void 0===e&&(e=10),void 0===t&&(t=[]);for(var i=this.prevPosition.x,n=this.prevPosition.y,r=this.position.x,s=this.position.y,a=0;a<e;a++){var h=1/e*a;t[a]={x:o(h,i,r),y:o(h,n,s)}}return t},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}});e.exports=l},93301:e=>{e.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},85375:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},39843:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},23388:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragenter"},16133:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},27829:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragleave"},53904:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragover"},56058:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},2642:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drop"},88171:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectdown"},36147:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},71692:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragenter"},96149:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},81285:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragleave"},74048:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragover"},21322:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},49378:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drop"},86754:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectmove"},86433:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectout"},60709:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectover"},24081:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdown"},11172:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointermove"},18907:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerout"},95579:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerover"},35368:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerup"},26972:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wheel"},47078:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectup"},73802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameobjectwheel"},56718:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameout"},25936:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="gameover"},27503:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},50852:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="process"},96438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},59152:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerlockchange"},47777:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdown"},27957:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerdownoutside"},19444:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointermove"},54251:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerout"},18667:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerover"},27192:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerup"},24652:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pointerupoutside"},45132:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wheel"},44512:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="preupdate"},15757:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="shutdown"},41637:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},93802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},8214:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t){this.pad=e,this.events=e.events,this.index=t,this.value=0,this.threshold=.1},update:function(e){this.value=e},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});e.exports=n},28884:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92734),s=new n({initialize:function(e,t){this.pad=e,this.events=e.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(e){this.value=e;var t=this.pad,i=this.index;e>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(r.BUTTON_DOWN,t,this,e),this.pad.emit(r.GAMEPAD_BUTTON_DOWN,i,e,this)):this.pressed&&(this.pressed=!1,this.events.emit(r.BUTTON_UP,t,this,e),this.pad.emit(r.GAMEPAD_BUTTON_UP,i,e,this))},destroy:function(){this.pad=null,this.events=null}});e.exports=s},99125:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97421),r=i(28884),s=i(83419),a=i(50792),o=i(26099),h=new s({Extends:a,initialize:function(e,t){a.call(this),this.manager=e,this.pad=t,this.id=t.id,this.index=t.index;for(var i=[],s=0;s<t.buttons.length;s++)i.push(new r(this,s));this.buttons=i;var h=[];for(s=0;s<t.axes.length;s++)h.push(new n(this,s));this.axes=h,this.vibration=t.vibrationActuator;var c={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:c,this._LCRight=i[15]?i[15]:c,this._LCTop=i[12]?i[12]:c,this._LCBottom=i[13]?i[13]:c,this._RCLeft=i[2]?i[2]:c,this._RCRight=i[1]?i[1]:c,this._RCTop=i[3]?i[3]:c,this._RCBottom=i[0]?i[0]:c,this._FBLeftTop=i[4]?i[4]:c,this._FBLeftBottom=i[6]?i[6]:c,this._FBRightTop=i[5]?i[5]:c,this._FBRightBottom=i[7]?i[7]:c;var l={value:0};this._HAxisLeft=h[0]?h[0]:l,this._VAxisLeft=h[1]?h[1]:l,this._HAxisRight=h[2]?h[2]:l,this._VAxisRight=h[3]?h[3]:l,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var t=0;t<this.axes.length;t++)this.axes[t].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){if(!(e.timestamp<this._created)){var t,i=this.buttons,n=e.buttons,r=i.length;for(t=0;t<r;t++)i[t].update(n[t].value);var s=this.axes,a=e.axes;for(t=0,r=s.length;t<r;t++)s[t].update(a[t]);r>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),r>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))}},destroy:function(){var e;for(this.removeAllListeners(),this.manager=null,this.pad=null,e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});e.exports=h},56654:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(92734),a=i(99125),o=i(35154),h=i(89639),c=i(8214),l=new n({Extends:r,initialize:function(e){r.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(c.BOOT,this.boot,this),e.pluginEvents.on(c.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,i=e.config;this.enabled=o(t,"gamepad",i.inputGamepad)&&e.device.input.gamepads,this.target=o(t,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,i=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=i,t.addEventListener("gamepadconnected",i,!1),t.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(c.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(c.UPDATE,this.update);for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].removeAllListeners()},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].pad.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,i=0;i<e.length;i++){var n=e[i];if(n){var r=n.id,s=n.index,o=t[s];if(o)o.id!==r?(o.destroy(),t[s]=new a(this,n)):o.update(n);else{var h=new a(this,n);t[s]=h,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=h):this._pad3=h:this._pad2=h:this._pad1=h}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},getPad:function(e){for(var t=this.gamepads,i=0;i<t.length;i++)if(t[i]&&t[i].index===e)return t[i]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var n=t[i],r=this.getPad(n.gamepad.index);"gamepadconnected"===n.type?this.emit(s.CONNECTED,r,n):"gamepaddisconnected"===n.type&&this.emit(s.DISCONNECTED,r,n)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});h.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),e.exports=l},89651:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},7629:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},42206:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="connected"},86544:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="disconnected"},94784:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},14325:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},92734:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(93301),r=i(79291),s={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};s=r(!1,s,n),e.exports=s},78970:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(83419),s=i(8443),a=i(8214),o=i(46032),h=i(29747),c=new r({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=h,this.onKeyUp=h,e.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var i=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!i&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var n=e[i];"string"==typeof n&&(n=o[n.trim().toUpperCase()]),-1===t.indexOf(n)&&t.push(n)}this.preventDefault=t.length>0},removeCapture:function(e){"string"==typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,i=0;i<e.length;i++){var r=e[i];"string"==typeof r&&(r=o[r.toUpperCase()]),n(t,r)}this.preventDefault=t.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});e.exports=c},28846:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(95922),a=i(8443),o=i(35154),h=i(8214),c=i(89639),l=i(30472),u=i(46032),d=i(87960),f=i(74600),p=i(44594),g=i(56583),m=new n({Extends:r,initialize:function(e){r.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,e.pluginEvents.once(h.BOOT,this.boot,this),e.pluginEvents.on(h.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=o(e,"keyboard",!0);var t=o(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n={};if("string"==typeof e){e=e.split(",");for(var r=0;r<e.length;r++){var s=e[r].trim();s&&(n[s]=this.addKey(s,t,i))}}else for(var a in e)n[a]=this.addKey(e[a],t,i);return n},addKey:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n=this.keys;if(e instanceof l){var r=n.indexOf(e);return r>-1?n[r]=e:n[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(i),e}return"string"==typeof e&&(e=u[e.toUpperCase()]),n[e]||(n[e]=new l(this,e),t&&this.addCapture(e),n[e].setEmitOnRepeat(i)),n[e]},removeKey:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n,r=this.keys;if(e instanceof l){var s=r.indexOf(e);s>-1&&(n=this.keys[s],this.keys[s]=void 0)}else"string"==typeof e&&(e=u[e.toUpperCase()]);return r[e]&&(n=r[e],r[e]=void 0),n&&(n.plugin=null,i&&this.removeCapture(n.keyCode),t&&n.destroy()),this},removeAllKeys:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var i=this.keys,n=0;n<i.length;n++){var r=i[n];r&&(i[n]=void 0,t&&this.removeCapture(r.keyCode),e&&r.destroy())}return this},createCombo:function(e,t){return new d(this,e,t)},checkDown:function(e,t){if(void 0===t&&(t=0),this.enabled&&e.isDown){var i=g(this.time-e.timeDown,t);if(i>e._tick)return e._tick=i,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var i=this.keys,n=0;n<t;n++){var r=e[n],a=r.keyCode,o=i[a],h=!1;void 0===r.cancelled&&(r.cancelled=0,r.stopImmediatePropagation=function(){r.cancelled=1},r.stopPropagation=function(){r.cancelled=-1}),-1!==r.cancelled&&(a!==this.prevCode||r.timeStamp!==this.prevTime||r.type!==this.prevType)&&(this.prevCode=a,this.prevTime=r.timeStamp,this.prevType=r.type,"keydown"===r.type?(o&&(h=o.isDown,o.onDown(r)),r.cancelled||o&&h||(f[a]&&this.emit(s.KEY_DOWN+f[a],r),r.cancelled||this.emit(s.ANY_KEY_DOWN,r))):(o&&o.onUp(r),r.cancelled||(f[a]&&this.emit(s.KEY_UP+f[a],r),r.cancelled||this.emit(s.ANY_KEY_UP,r))),1===r.cancelled&&(r.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});c.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),e.exports=m},66970:e=>{e.exports=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)}},87960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95922),s=i(95540),a=i(68769),o=i(92803),h=new n({initialize:function(e,t,i){if(void 0===i&&(i={}),t.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var n=0;n<t.length;n++){var h=t[n];"string"==typeof h?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):"number"==typeof h?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(i,"resetOnWrongKey",!0),this.maxKeyDelay=s(i,"maxKeyDelay",0),this.resetOnMatch=s(i,"resetOnMatch",!1),this.deleteOnMatch=s(i,"deleteOnMatch",!1);var c=this;this.onKeyDown=function(e){!c.matched&&c.enabled&&a(e,c)&&(c.manager.emit(r.COMBO_MATCH,c,e),c.resetOnMatch?o(c):c.deleteOnMatch&&c.destroy())},this.manager.on(r.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(r.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});e.exports=h},68769:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66970);e.exports=function(e,t){if(t.matched)return!0;var i=!1,r=!1;if(e.keyCode===t.current){if(t.index>0&&t.maxKeyDelay>0){var s=t.timeLastMatched+t.maxKeyDelay;e.timeStamp<=s&&(r=!0,i=n(e,t))}else r=!0,i=n(e,t)}return!r&&t.resetOnWrongKey&&(t.index=0,t.current=t.keyCodes[0]),i&&(t.timeLastMatched=e.timeStamp,t.matched=!0,t.timeMatched=e.timeStamp),i}},92803:e=>{e.exports=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e}},92612:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keydown"},23345:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keyup"},21957:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keycombomatch"},44743:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="down"},3771:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keydown-"},46358:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="keyup-"},75674:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="up"},95922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:e=>{e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<t}},90229:e=>{e.exports=function(e){return!!e._justDown&&(e._justDown=!1,!0)}},38796:e=>{e.exports=function(e){return!!e._justUp&&(e._justUp=!1,!0)}},30472:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(95922),a=new n({Extends:r,initialize:function(e,t){r.call(this),this.plugin=e,this.keyCode=t,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(e){return this.emitOnRepeat=e,this},onDown:function(e){this.originalEvent=e,this.enabled&&(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.location=e.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,e):(this.isDown=!0,this.isUp=!1,this.timeDown=e.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,e)))},onUp:function(e){this.originalEvent=e,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=e.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,e))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});e.exports=a},46032:e=>{e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(46032),r={};for(var s in n)r[n[s]]=s;e.exports=r},41170:e=>{e.exports=function(e,t){void 0===t&&(t=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<t}},85098:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89357),s=i(8214),a=i(29747),o=new n({initialize:function(e){this.manager=e,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,e.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(r.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){r.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var t=this,i=this.manager,n=i.canvas,s=window&&window.focus&&i.game.config.autoFocus;this.onMouseMove=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseMove(e),t.preventDefaultMove&&e.preventDefault())},this.onMouseDown=function(e){s&&window.focus(),!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseDown(e),t.preventDefaultDown&&e.target===n&&e.preventDefault())},this.onMouseDownWindow=function(e){(!e.sourceCapabilities||!e.sourceCapabilities.firesTouchEvents)&&!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onMouseDown(e)},this.onMouseUp=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onMouseUp(e),t.preventDefaultUp&&e.target===n&&e.preventDefault())},this.onMouseUpWindow=function(e){(!e.sourceCapabilities||!e.sourceCapabilities.firesTouchEvents)&&!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onMouseUp(e)},this.onMouseOver=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.setCanvasOver(e)},this.onMouseOut=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.setCanvasOut(e)},this.onMouseWheel=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.onMouseWheel(e),t.preventDefaultWheel&&e.target===n&&e.preventDefault()};var a={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,a),e.addEventListener("mouseout",this.onMouseOut,a),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,a),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,a),window.top.addEventListener("mouseup",this.onMouseUpWindow,a)}catch(e){window.addEventListener("mousedown",this.onMouseDownWindow,a),window.addEventListener("mouseup",this.onMouseUpWindow,a),this.isTop=!1}r.pointerLock&&(this.pointerLockChange=function(e){var n=t.target;t.locked=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n,i.onPointerLockChange(e)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&((e=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),r.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=o},87078:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={MouseManager:i(85098)}},36210:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8214),s=i(29747),a=new n({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.isTop=!0,e.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},startListeners:function(){var e=this.target;if(e){var t=this,i=this.manager,n=i.canvas,r=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchMove(e),t.capture&&e.cancelable&&e.preventDefault())},this.onTouchStart=function(e){r&&window.focus(),!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchStart(e),t.capture&&e.cancelable&&e.target===n&&e.preventDefault())},this.onTouchStartWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onTouchStart(e)},this.onTouchEnd=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchEnd(e),t.capture&&e.cancelable&&e.target===n&&e.preventDefault())},this.onTouchEndWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&e.target!==n&&i.onTouchEnd(e)},this.onTouchCancel=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&(i.onTouchCancel(e),t.capture&&e.preventDefault())},this.onTouchCancelWindow=function(e){!e.defaultPrevented&&t.enabled&&i&&i.enabled&&i.onTouchCancel(e)};var s=this.capture,a={passive:!0},o={passive:!1};if(e.addEventListener("touchstart",this.onTouchStart,s?o:a),e.addEventListener("touchmove",this.onTouchMove,s?o:a),e.addEventListener("touchend",this.onTouchEnd,s?o:a),e.addEventListener("touchcancel",this.onTouchCancel,s?o:a),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,o),window.top.addEventListener("touchend",this.onTouchEndWindow,o),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,o)}catch(e){window.addEventListener("touchstart",this.onTouchStartWindow,o),window.addEventListener("touchend",this.onTouchEndWindow,o),window.addEventListener("touchcancel",this.onTouchCancelWindow,o),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),window&&((e=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),e.removeEventListener("touchend",this.onTouchEndWindow),e.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=a},95618:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={TouchManager:i(36210)}},41299:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(54899),a=i(95540),o=i(98356),h=i(3374),c=i(84376),l=i(92638),u=new n({initialize:function(e,t){if(this.loader=e,this.cache=a(t,"cache",!1),this.type=a(t,"type",!1),!this.type)throw Error("Invalid File type: "+this.type);this.key=a(t,"key",!1);var i=this.key;if(e.prefix&&""!==e.prefix&&(this.key=e.prefix+i),!this.key)throw Error("Invalid File key: "+this.key);var n=a(t,"url");void 0===n?n=e.path+i+"."+a(t,"extension",""):"string"!=typeof n||n.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)||(n=e.path+n),this.url=n,this.src="",this.xhrSettings=l(a(t,"responseType",void 0)),a(t,"xhrSettings",!1)&&(this.xhrSettings=h(this.xhrSettings,a(t,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?r.FILE_POPULATED:r.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(t,"config",{}),this.multiFile,this.linkFile,this.base64="string"==typeof n&&0===n.indexOf("data:"),this.retryAttempts=a(t,"maxRetries",e.maxRetries)},setLink:function(e){this.linkFile=e,e.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===r.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=r.FILE_LOADING,this.src=o(this,this.loader.baseURL),!this.src)throw Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=c(this,this.loader.xhr)}},onLoad:function(e,t){var i=e.responseURL&&this.loader.localSchemes.some(function(t){return 0===e.responseURL.indexOf(t)})&&0===t.target.status,n=!(t.target&&200!==t.target.status)||i;4===e.readyState&&e.status>=400&&e.status<=599&&(n=!1),this.state=r.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,n)},onBase64Load:function(e){this.xhrLoader=e,this.state=r.FILE_LOADED,this.percentComplete=1,this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(e){e.lengthComputable&&(this.bytesLoaded=e.loaded,this.bytesTotal=e.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=r.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=r.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=r.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(e){if(this.state!==r.FILE_PENDING_DESTROY){void 0===e&&(e=this.data);var t=this.key,i=this.type;this.loader.emit(s.FILE_COMPLETE,t,i,e),this.loader.emit(s.FILE_KEY_COMPLETE+i+"-"+t,t,i,e),this.loader.flagForRemoval(this),this.state=r.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(e,t,i){if("function"==typeof URL)e.src=URL.createObjectURL(t);else{var n=new FileReader;n.onload=function(){e.removeAttribute("crossOrigin"),e.src="data:"+(t.type||i)+";base64,"+n.result.split(",")[1]},n.onerror=e.onerror,n.readAsDataURL(t)}},u.revokeObjectURL=function(e){"function"==typeof URL&&URL.revokeObjectURL(e.src)},e.exports=u},74099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={};e.exports={install:function(e){for(var i in t)e[i]=t[i]},register:function(e,i){t[e]=i},destroy:function(){t={}}}},98356:e=>{e.exports=function(e,t){return!!e.url&&(e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:t+e.url)}},74261:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(35072),a=i(50792),o=i(54899),h=i(74099),c=i(95540),l=i(35154),u=i(41212),d=i(37277),f=i(44594),p=i(92638),g=new n({Extends:a,initialize:function(e){a.call(this);var t=e.sys.game.config,i=e.sys.settings.loader;this.scene=e,this.systems=e.sys,this.cacheManager=e.sys.cache,this.textureManager=e.sys.textures,this.sceneManager=e.sys.game.scene,h.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(c(i,"baseURL",t.loaderBaseURL)),this.setPath(c(i,"path",t.loaderPath)),this.setPrefix(c(i,"prefix",t.loaderPrefix)),this.maxParallelDownloads=c(i,"maxParallelDownloads",t.loaderMaxParallelDownloads),this.xhr=p(c(i,"responseType",t.loaderResponseType),c(i,"async",t.loaderAsync),c(i,"user",t.loaderUser),c(i,"password",t.loaderPassword),c(i,"timeout",t.loaderTimeout),c(i,"withCredentials",t.loaderWithCredentials)),this.crossOrigin=c(i,"crossOrigin",t.loaderCrossOrigin),this.imageLoadType=c(i,"imageLoadType",t.loaderImageLoadType),this.localSchemes=c(i,"localScheme",t.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=r.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=c(i,"maxRetries",t.loaderMaxRetries),e.sys.events.once(f.BOOT,this.boot,this),e.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.baseURL=e,this},setPath:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.path=e,this},setPrefix:function(e){return void 0===e&&(e=""),this.prefix=e,this},setCORS:function(e){return this.crossOrigin=e,this},addFile:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];!this.keyExists(i)&&(this.list.set(i),this.emit(o.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(e){var t=e.hasCacheConflict();return t||this.list.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),!t&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1}),this.queue.iterate(function(i){if(i.type===e.type&&i.key===e.key)return t=!0,!1})),t},addPack:function(e,t){if("string"==typeof t){var i=l(e,t);i&&(e={packKey:i})}var n=0,r=this.baseURL,s=this.path,a=this.prefix;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var h=e[o],u=c(h,"baseURL",r),d=c(h,"path",s),f=c(h,"prefix",a),p=c(h,"files",null),g=c(h,"defaultType","void");if(Array.isArray(p)){this.setBaseURL(u),this.setPath(d),this.setPrefix(f);for(var m=0;m<p.length;m++){var v=p[m],y=v.hasOwnProperty("type")?v.type:g;this[y]&&(this[y](v),n++)}}}return this.setBaseURL(r),this.setPath(s),this.setPrefix(a),n>0},removePack:function(e,t){var i,n=this.systems.anims,r=this.cacheManager,s=this.textureManager,a={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(u(e))i=e;else if(!(i=r.json.get(e))){console.warn("Asset Pack not found in JSON cache:",e);return}for(var o in t&&(i={_:i[t]}),i){var h=i[o],l=c(h,"prefix",""),d=c(h,"files"),f=c(h,"defaultType");if(Array.isArray(d))for(var p=0;p<d.length;p++){var g=d[p],m=g.hasOwnProperty("type")?g.type:f;if(!m){console.warn("No type:",g);continue}var v=l+g.key;if("animation"===m&&n.remove(v),"aseprite"!==m&&"atlas"!==m&&"atlasXML"!==m&&"htmlTexture"!==m&&"image"!==m&&"multiatlas"!==m&&"spritesheet"!==m&&"svg"!==m&&"texture"!==m&&"unityAtlas"!==m||(s.remove(v),a[m])){if("pack"===m){this.removePack(v,g.dataKey);continue}if("spine"===m){var y=r.custom.spine.get(v);if(!y)continue;var b=void 0===y.prefix?"":y.prefix;r.custom.spine.remove(v);var x=r.custom.spineTextures.get(v);if(!x)continue;r.custom.spineTextures.remove(v);for(var E=0;E<x.pages.length;E++){var w=b+x.pages[E].name,T=v+":"+w;s.exists(T)?s.remove(T):s.remove(w)}}var S=a[m];if(null!==S){if(!S){console.warn("Unknown type:",m);continue}r[S].remove(v)}}}}},isLoading:function(){return this.state===r.LOADER_LOADING||this.state===r.LOADER_PROCESSING},isReady:function(){return this.state===r.LOADER_IDLE||this.state===r.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),0===this.list.size?this.loadComplete():(this.state=r.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===r.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(e){if((e.state===r.FILE_POPULATED||e.state===r.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(e),this.list.delete(e),e.crossOrigin||(e.crossOrigin=this.crossOrigin),e.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(e,t){this.inflight&&(this.inflight.delete(e),this.updateProgress(),t?(this.totalComplete++,this.queue.set(e),this.emit(o.FILE_LOAD,e),e.onProcess()):(this.totalFailed++,this._deleteQueue.set(e),this.emit(o.FILE_LOAD_ERROR,e),this.fileProcessComplete(e)))},fileProcessComplete:function(e){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(e.state===r.FILE_ERRORED?e.multiFile&&e.multiFile.onFileFailed(e):e.state===r.FILE_COMPLETE&&(e.multiFile?e.multiFile.isReadyToProcess()&&(e.multiFile.addToCache(),e.multiFile.pendingDestroy()):(e.addToCache(),e.pendingDestroy())),this.queue.delete(e),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=r.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(e){this._deleteQueue.set(e)},saveJSON:function(e,t){return this.save(JSON.stringify(e),t)},save:function(e,t,i){void 0===t&&(t="file.json"),void 0===i&&(i="application/json");var n=new Blob([e],{type:i}),r=URL.createObjectURL(n),s=document.createElement("a");return s.download=t,s.textContent="Download "+t,s.href=r,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var e=this.systems.game.config,t=this.systems.settings.loader;this.setBaseURL(c(t,"baseURL",e.loaderBaseURL)),this.setPath(c(t,"path",e.loaderPath)),this.setPrefix(c(t,"prefix",e.loaderPrefix)),this.state=r.LOADER_IDLE},shutdown:function(){this.reset(),this.state=r.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=r.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",g,"load"),e.exports=g},3374:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(92638);e.exports=function(e,t){var i=void 0===e?r():n({},e);if(t)for(var s in t)void 0!==t[s]&&(i[s]=t[s]);return i}},26430:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(54899),a=new n({initialize:function(e,t,i,n){var s=[];n.forEach(function(e){e&&s.push(e)}),this.loader=e,this.type=t,this.key=i;var a=this.key;e.prefix&&""!==e.prefix&&(this.key=e.prefix+a),this.multiKeyIndex=e.multiKeyIndex++,this.files=s,this.state=r.FILE_PENDING,this.complete=!1,this.pending=s.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var o=0;o<s.length;o++)s[o].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(e){return this.files.push(e),e.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(e){-1!==this.files.indexOf(e)&&this.pending--},onFileFailed:function(e){-1!==this.files.indexOf(e)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,e.type,e.key))},pendingDestroy:function(){if(this.state!==r.FILE_PENDING_DESTROY){var e=this.key,t=this.type;this.loader.emit(s.FILE_COMPLETE,e,t),this.loader.emit(s.FILE_KEY_COMPLETE+t+"-"+e,e,t),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=r.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});e.exports=a},84376:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(3374);e.exports=function(e,t){var i=n(t,e.xhrSettings);if(e.base64){var r={responseText:atob(e.url.split(";base64,").pop()||e.url.split(",").pop())};e.onBase64Load(r);return}var s=new XMLHttpRequest;if(s.open("GET",e.src,i.async,i.user,i.password),s.responseType=e.xhrSettings.responseType,s.timeout=i.timeout,i.headers)for(var a in i.headers)s.setRequestHeader(a,i.headers[a]);return i.header&&i.headerValue&&s.setRequestHeader(i.header,i.headerValue),i.requestedWith&&s.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&s.overrideMimeType(i.overrideMimeType),i.withCredentials&&(s.withCredentials=!0),s.onload=e.onLoad.bind(e,s),s.onerror=e.onError.bind(e,s),s.onprogress=e.onProgress.bind(e),s.ontimeout=e.onError.bind(e,s),s.send(),s}},92638:e=>{e.exports=function(e,t,i,n,r,s){return void 0===e&&(e=""),void 0===t&&(t=!0),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=0),void 0===s&&(s=!1),{responseType:e,async:t,user:i,password:n,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}}},23906:e=>{e.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addfile"},38991:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},27540:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="filecomplete"},87464:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="filecomplete-"},94486:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loaderror"},13035:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="load"},38144:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fileprogress"},97520:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postprocess"},85595:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="progress"},55680:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},54899:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(54899),o=new n({Extends:s,initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});r.register("animation",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,n,i));return this}),e.exports=o},76272:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(518),c=i(26430),l=new n({Extends:c,initialize:function(e,t,i,n,r,l){if(o(t)){var u,d,f=t;u=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new h(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else u=new a(e,t,i,r),d=new h(e,t,n,l);u.linkFile?c.call(this,e,"atlasjson",t,[u,d,u.linkFile]):c.call(this,e,"atlasjson",t,[u,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),t.addToCache(),this.complete=!0}}});r.register("aseprite",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new l(this,e[a]),this.addFile(s.files);else s=new l(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=l},38734:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(518),c=i(26430),l=new n({Extends:c,initialize:function(e,t,i,n,r,l){if(o(t)){var u,d,f=t;u=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new h(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","json"),xhrSettings:s(f,"atlasXhrSettings")})}else u=new a(e,t,i,r),d=new h(e,t,n,l);u.linkFile?c.call(this,e,"atlasjson",t,[u,d,u.linkFile]):c.call(this,e,"atlasjson",t,[u,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,i),this.complete=!0}}});r.register("atlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new l(this,e[a]),this.addFile(s.files);else s=new l(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=l},74599:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(26430),c=i(57318),l=new n({Extends:h,initialize:function(e,t,i,n,r,l){if(o(t)){var u,d,f=t;u=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new c(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","xml"),xhrSettings:s(f,"atlasXhrSettings")})}else u=new a(e,t,i,r),d=new c(e,t,n,l);u.linkFile?h.call(this,e,"atlasxml",t,[u,d,u.linkFile]):h.call(this,e,"atlasxml",t,[u,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,t.data,i),this.complete=!0}}});r.register("atlasXML",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new l(this,e[a]),this.addFile(s.files);else s=new l(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=l},21097:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(89749),c=i(41212),l=new n({Extends:s,initialize:function(e,t,i,n,r){if(c(t)){var a=t;t=o(a,"key"),n=o(a,"xhrSettings"),r=o(a,"context",r)}var h={type:"audio",cache:e.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:t,url:i.url,xhrSettings:n,config:{context:r}};s.call(this,e,h)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(t){e.data=t,e.onProcessComplete()},function(t){console.error("Error decoding audio: "+e.key+" - ",t?t.message:null),e.onProcessError()}),this.config.context=null}});l.create=function(e,t,i,n,r){var s=e.systems.game,a=s.config.audio,u=s.device.audio;c(t)&&(i=o(t,"url",[]),n=o(t,"config",{}));var d=l.getAudioURL(s,i);return d?u.webAudio&&!a.disableWebAudio?new l(e,t,d,r,s.sound.context):new h(e,t,d,n):(console.warn('No audio URLs for "%s" can play on this device',t),null)},l.getAudioURL=function(e,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=o(t[i],"url",t[i]);if(0===n.indexOf("blob:")||0===n.indexOf("data:"))return{url:n,type:""};var r=n.match(/\.([a-zA-Z0-9]+)($|\?)/);if(r=o(t[i],"type",r?r[1]:"").toLowerCase(),e.device.audio[r])return{url:n,type:r}}return null},a.register("audio",function(e,t,i,n){var r,s=this.systems.game,a=s.config.audio,o=s.device.audio;if(a.noAudio||!o.webAudio&&!o.audioData)return this;if(Array.isArray(e))for(var h=0;h<e.length;h++)(r=l.create(this,e[h]))&&this.addFile(r);else(r=l.create(this,e,t,i,n))&&this.addFile(r);return this}),e.exports=l},89524:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21097),r=i(83419),s=i(74099),a=i(95540),o=i(41212),h=i(518),c=i(26430),l=new r({Extends:c,initialize:function(e,t,i,r,s,l,u){if(o(t)){var d,f=t;t=a(f,"key"),i=a(f,"jsonURL"),r=a(f,"audioURL"),s=a(f,"audioConfig"),l=a(f,"audioXhrSettings"),u=a(f,"jsonXhrSettings")}if(r){var p=n.create(e,t,r,s,l);p&&(d=new h(e,t,i,u),c.call(this,e,"audiosprite",t,[p,d]),this.config.resourceLoad=!1)}else d=new h(e,t,i,u),c.call(this,e,"audiosprite",t,[d]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var t=e.data.resources,i=a(this.config,"audioConfig"),r=a(this.config,"audioXhrSettings"),s=n.create(this.loader,e.key,t,i,r);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.complete=!0}}});s.register("audioSprite",function(e,t,i,n,r,s){var a,o=this.systems.game,h=o.config.audio,c=o.device.audio;if(h&&h.noAudio||!c.webAudio&&!c.audioData)return this;if(Array.isArray(e))for(var u=0;u<e.length;u++)(a=new l(this,e[u])).files&&this.addFile(a.files);else(a=new l(this,e,t,i,n,r,s)).files&&this.addFile(a.files);return this})},85722:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,r){var a="bin";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"xhrSettings"),a=o(c,"extension",a),r=o(c,"dataType",r)}var l={type:"binary",cache:e.cacheManager.binary,extension:a,responseType:"arraybuffer",key:t,url:i,xhrSettings:n,config:{dataType:r}};s.call(this,e,l)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new c(this,e[r]));else this.addFile(new c(this,e,t,n,i));return this}),e.exports=c},97025:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(26430),c=i(21859),l=i(57318),u=new n({Extends:h,initialize:function(e,t,i,n,r,c){if(o(t)){var u,d,f=t;u=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new l(e,{key:t,url:s(f,"fontDataURL"),extension:s(f,"fontDataExtension","xml"),xhrSettings:s(f,"fontDataXhrSettings")})}else u=new a(e,t,i,r),d=new l(e,t,n,c);u.linkFile?h.call(this,e,"bitmapfont",t,[u,d,u.linkFile]):h.call(this,e,"bitmapfont",t,[u,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache();var i=e.cache.get(e.key),n=c(t.data,e.cache.getFrame(e.key),0,0,i);this.loader.cacheManager.bitmapFont.add(e.key,{data:n,texture:e.key,frame:null}),this.complete=!0}}});r.register("bitmapFont",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},16024:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n){var r="css";if(h(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var c={type:"script",cache:!1,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new c(this,e[n]));else this.addFile(new c(this,e,t,i));return this}),e.exports=c},69559:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(38734),r=i(85722),s=i(83419),a=i(74099),o=i(95540),h=i(19550),c=i(41212),l=i(518),u=i(31403),d=i(46975),f=i(59327),p=i(26430),g=i(82038),m=i(55222),v=new s({Extends:p,initialize:function(e,t,i,n){if(i.multiAtlasURL){var s=new l(e,{key:t,url:i.multiAtlasURL,xhrSettings:n,config:i});p.call(this,e,"texture",t,[s])}else{var a=i.textureURL.substr(i.textureURL.length-3);i.type||(i.type="ktx"===a.toLowerCase()?"KTX":"PVR");var o=new r(e,{key:t,url:i.textureURL,extension:a,xhrSettings:n,config:i});if(i.atlasURL){var h=new l(e,{key:t,url:i.atlasURL,xhrSettings:n,config:i});p.call(this,e,"texture",t,[o,h])}else p.call(this,e,"texture",t,[o])}this.config=i},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.multiAtlasURL&&"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,i=this.config,n=this.loader,s=n.baseURL,a=n.path,h=n.prefix,c=o(i,"multiBaseURL",this.baseURL),l=o(i,"multiPath",this.path),u=o(i,"prefix",this.prefix),d=o(i,"textureXhrSettings");c&&n.setBaseURL(c),l&&n.setPath(l),u&&n.setPrefix(u);for(var f=0;f<t.length;f++){var p=t[f].image,g="CMA"+this.multiKeyIndex+"_"+p,m=new r(n,g,p,d);if(this.addToMultiFile(m),n.addFile(m),t[f].normalMap){var v=new r(n,g,t[f].normalMap,d);v.type="normalMap",m.setLink(v),this.addToMultiFile(v),n.addFile(v)}}n.setBaseURL(s),n.setPath(a),n.setPrefix(h)}},addToCache:function(){function e(e){console.warn('Compressed Texture Invalid: "'+s.key+'". '+e)}if(this.isReadyToProcess()){var t=this.config;if(t.multiAtlasURL)this.addMultiToCache();else{var i,n=this.loader.systems.renderer,r=this.loader.textureManager,s=this.files[0],a=this.files[1];if("PVR"===t.type?i=g(s.data):"KTX"!==t.type||(i=u(s.data))||e("KTX file contains unsupported format."),i&&!m(i)&&(e("Texture dimensions failed verification. Check the texture format specifications for "+t.format+" 0x"+i.internalFormat.toString(16)+"."),i=null),i&&!n.supportsCompressedTexture(t.format,i.internalFormat)&&(e("Texture format "+t.format+" with internal format "+i.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),i=null),i){i.format=n.getCompressedTextureName(t.format,i.internalFormat);var o=a&&a.data?a.data:null;r.addCompressedTexture(s.key,i,o)}}this.complete=!0}},addMultiToCache:function(){for(var e,t=this.config,i=this.files[0],n=[],r=[],s=[],a=this.loader.systems.renderer,o=this.loader.textureManager,h=1;h<this.files.length;h++){var c=this.files[h];if("normalMap"!==c.type)for(var l=c.key.indexOf("_"),d=c.key.substr(l+1),f=c.data,p=0;p<i.data.textures.length;p++){var m=i.data.textures[p];if(m.image===d){"PVR"===t.type?e=g(f):"KTX"===t.type&&(e=u(f)),e&&a.supportsCompressedTexture(t.format,e.internalFormat)&&(e.format=a.getCompressedTextureName(t.format,e.internalFormat),r.push(e),n.push(m),c.linkFile&&s.push(c.linkFile.data));break}}}0===s.length&&(s=void 0),o.addAtlasJSONArray(this.key,r,n,s),this.complete=!0}});a.register("texture",function(e,t,i){var r=this.systems.renderer,s=function(e,t,i,s){var a,l={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(c(t)){var u=t;t=o(u,"key"),i=o(u,"url"),s=o(u,"xhrSettings")}var p=!1;for(var g in i)if(r.supportsCompressedTexture(g)){var m=i[g];"string"==typeof m?l.textureURL=m:l=d(m,l),l.format=g.toUpperCase(),p=!0;break}if(p){if("IMG"===l.format)a=l.multiAtlasURL?new f(e,t,l.multiAtlasURL,l.multiPath,l.multiBaseURL,s).files:l.atlasURL?new n(e,t,l.textureURL,l.atlasURL,s).files:new h(e,t,l.textureURL,s),e.addFile(a);else{var y=new v(e,t,l,s);e.addFile(y.files)}}else console.warn("No supported compressed texture format or IMG fallback",t)};if(Array.isArray(e))for(var a=0;a<e.length;a++)s(this,e[a]);else s(this,e,t,i);return this}),e.exports=v},87674:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(98356),c=i(41212),l=new n({Extends:s,initialize:function(e,t,i,n,a,h){var l="ttf";if(c(t)){var u=t;t=o(u,"key"),i=o(u,"url"),n=o(u,"format","truetype"),a=o(u,"descriptors",null),h=o(u,"xhrSettings"),l=o(u,"extension",l)}else void 0===n&&(n="truetype");var d={type:"font",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:h};s.call(this,e,d),this.data={format:n,descriptors:a},this.state=r.FILE_POPULATED},onProcess:function(){this.state=r.FILE_PROCESSING,this.src=h(this,this.loader.baseURL);var e,t=this.key,i="url("+this.src+') format("'+this.data.format+'")';e=this.data.descriptors?new FontFace(t,i,this.data.descriptors):new FontFace(t,i);var n=this;e.load().then(function(){document.fonts.add(e),document.body.classList.add("fonts-loaded"),n.onProcessComplete()}).catch(function(){console.warn("Font failed to load",i),n.onProcessComplete()})}});a.register("font",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new l(this,e[s]));else this.addFile(new l(this,e,t,i,n,r));return this}),e.exports=l},47931:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=i(73894),l=new n({Extends:s,initialize:function(e,t,i,n,r){var a="glsl";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"shaderType","fragment"),r=o(c,"xhrSettings"),a=o(c,"extension",a)}else void 0===n&&(n="fragment");var l={type:"glsl",cache:e.cacheManager.shader,extension:a,responseType:"text",key:t,url:i,config:{shaderType:n},xhrSettings:r};s.call(this,e,l)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split("\n"),t=this.extractBlock(e,0);if(t)for(;t;){var i=this.getShaderName(t.header),n=this.getShaderType(t.header),r=this.getShaderUniforms(t.header),s=t.shader;if(this.cache.has(i)){var a=this.cache.get(i);"fragment"===n?a.fragmentSrc=s:a.vertexSrc=s,a.uniforms||(a.uniforms=r)}else"fragment"===n?this.cache.add(i,new c(i,s,"",r)):this.cache.add(i,new c(i,"",s,r));t=this.extractBlock(e,t.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new c(this.key,this.data)):this.cache.add(this.key,new c(this.key,"",this.data))},getShaderName:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(e){for(var t=0;t<e.length;t++){var i=e[t].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var t={},i=0;i<e.length;i++){var n=e[i].trim();if("uniform."===n.substring(0,8)){var r=n.indexOf(":");if(r){var s=n.substring(8,r);try{t[s]=JSON.parse(n.substring(r+1))}catch(e){console.warn("Invalid uniform JSON: "+s)}}}}return t},extractBlock:function(e,t){for(var i=-1,n=-1,r=-1,s=!1,a=!1,o=[],h=[],c=t;c<e.length;c++){var l=e[c].trim();if("---"===l){if(-1===i)i=c,s=!0;else if(s)n=c,s=!1,a=!0;else{a=!1;break}}else s?o.push(l):a&&(h.push(l),r=c)}return s||-1===n?null:{header:o,shader:h.join("\n"),offset:r}}});a.register("glsl",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,i,n));return this}),e.exports=l},89749:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(54899),s=i(41299),a=i(95540),o=i(98356),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n){if(h(t)){var r=t;t=a(r,"key"),n=a(r,"config",n)}var o={type:"audio",cache:e.cacheManager.audio,extension:i.type,key:t,url:i.url,config:n};s.call(this,e,o),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];t.oncanplaythrough=null,t.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(e){var t=e.target;t.oncanplaythrough=null,t.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var e=this.config&&this.config.instances||1;this.filesTotal=e,this.filesLoaded=0,this.percentComplete=0;for(var t=0;t<e;t++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+t).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(t=0;t<this.data.length;t++)(i=this.data[t]).src=o(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});e.exports=c},88470:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n){var r="html";if(h(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var c={type:"text",cache:e.cacheManager.html,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new c(this,e[n]));else this.addFile(new c(this,e,t,i));return this}),e.exports=c},14643:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,r,a){void 0===n&&(n=512),void 0===r&&(r=512);var c="html";if(h(t)){var l=t;t=o(l,"key"),i=o(l,"url"),a=o(l,"xhrSettings"),c=o(l,"extension",c),n=o(l,"width",n),r=o(l,"height",r)}var u={type:"html",cache:e.textureManager,extension:c,responseType:"text",key:t,url:i,xhrSettings:a,config:{width:n,height:r}};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.config.width,t=this.config.height,i=[];i.push('<svg width="'+e+'px" height="'+t+'px" viewBox="0 0 '+e+" "+t+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var n=[i.join("\n")],a=this;try{var o=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch(e){a.state=r.FILE_ERRORED,a.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(a.data),a.onProcessError()},s.createObjectURL(this.data,o,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new c(this,e[s]));else this.addFile(new c(this,e,t,i,n,r));return this}),e.exports=c},19550:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=i(98356),l=new n({Extends:s,initialize:function e(t,i,n,r,a){var c,l="png";if(h(i)){var u=i;i=o(u,"key"),n=o(u,"url"),c=o(u,"normalMap"),r=o(u,"xhrSettings"),l=o(u,"extension",l),a=o(u,"frameConfig")}Array.isArray(n)&&(c=n[1],n=n[0]);var d={type:"image",cache:t.textureManager,extension:l,responseType:"blob",key:i,url:n,xhrSettings:r,config:a};if(s.call(this,t,d),c){var f=new e(t,this.key,c,r,a);f.type="normalMap",this.setLink(f),t.addFile(f)}this.useImageElementLoad="HTMLImageElement"===t.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){s.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(e.data),e.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var e=this.state;this.state=r.FILE_PROCESSING,e===r.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=r.FILE_LOADING,this.src=c(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){e.state=r.FILE_LOADED,e.loader.nextFile(e,!0)},this.data.onerror=function(){e.loader.nextFile(e,!1)},this.data.src=this.src},addToCache:function(){var e=this.linkFile;e?e.state>=r.FILE_COMPLETE&&("spritesheet"===e.type?e.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,e.data,this.data):this.cache.addImage(this.key,this.data,e.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,i));return this}),e.exports=l},518:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(35154),c=i(41212),l=new n({Extends:s,initialize:function(e,t,i,n,a){var l="json";if(c(t)){var u=t;t=o(u,"key"),i=o(u,"url"),n=o(u,"xhrSettings"),l=o(u,"extension",l),a=o(u,"dataKey",a)}var d={type:"json",cache:e.cacheManager.json,extension:l,responseType:"text",key:t,url:i,xhrSettings:n,config:a};s.call(this,e,d),c(i)&&(a?this.data=h(i,a):this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){if(this.state!==r.FILE_POPULATED){this.state=r.FILE_PROCESSING;try{var e=JSON.parse(this.xhrLoader.responseText)}catch(e){throw this.onProcessError(),e}var t=this.config;"string"==typeof t?this.data=h(e,t,e):this.data=e}this.onProcessComplete()}});a.register("json",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n,i));return this}),e.exports=l},59327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(518),c=i(26430),l=new n({Extends:c,initialize:function(e,t,i,n,r,a,l){if(o(t)){var u=t;t=s(u,"key"),i=s(u,"url",!1)?s(u,"url"):s(u,"atlasURL"),a=s(u,"xhrSettings"),n=s(u,"path"),r=s(u,"baseURL"),l=s(u,"textureXhrSettings")}var d=new h(e,t,i,a);c.call(this,e,"multiatlas",t,[d]),this.config.path=n,this.config.baseURL=r,this.config.textureXhrSettings=l},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,i=this.config,n=this.loader,r=n.baseURL,o=n.path,h=n.prefix,c=s(i,"baseURL",this.baseURL),l=s(i,"path",this.path),u=s(i,"prefix",this.prefix),d=s(i,"textureXhrSettings");n.setBaseURL(c),n.setPath(l),n.setPrefix(u);for(var f=0;f<t.length;f++){var p=t[f].image,g="MA"+this.multiKeyIndex+"_"+p,m=new a(n,g,p,d);if(this.addToMultiFile(m),n.addFile(m),t[f].normalMap){var v=new a(n,g,t[f].normalMap,d);v.type="normalMap",m.setLink(v),this.addToMultiFile(v),n.addFile(v)}}n.setBaseURL(r),n.setPath(o),n.setPrefix(h)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],i=[],n=[],r=1;r<this.files.length;r++){var s=this.files[r];if("normalMap"!==s.type)for(var a=s.key.indexOf("_"),o=s.key.substr(a+1),h=s.data,c=0;c<e.data.textures.length;c++){var l=e.data.textures[c];if(l.image===o){i.push(h),t.push(l),s.linkFile&&n.push(s.linkFile.data);break}}}0===n.length&&(n=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,t,n),this.complete=!0}}});r.register("multiatlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new l(this,e[a]),this.addFile(s.files);else s=new l(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=l},99297:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(41212),o=i(26430),h=i(34328),c=new n({Extends:o,initialize:function(e,t,i,n){var r="js",c=[];if(a(t)){var l=t;t=s(l,"key"),i=s(l,"url"),n=s(l,"xhrSettings"),r=s(l,"extension",r)}Array.isArray(i)||(i=[i]);for(var u=0;u<i.length;u++){var d=new h(e,{key:t+"_"+u.toString(),url:i[u],extension:r,xhrSettings:n});d.onProcess=function(){this.onProcessComplete()},c.push(d)}o.call(this,e,"scripts",t,c)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});r.register("scripts",function(e,t,i){var n;if(Array.isArray(e))for(var r=0;r<e.length;r++)n=new c(this,e[r]),this.addFile(n.files);else n=new c(this,e,t,i),this.addFile(n.files);return this}),e.exports=c},41846:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(41212),o=i(26430),h=i(85048),c=i(61485),l=i(78776),u=new n({Extends:o,initialize:function(e,t,i,n,r,h){var c,u,d=e.cacheManager.obj;if(a(t)){var f=t;c=new l(e,{key:t=s(f,"key"),type:"obj",cache:d,url:s(f,"url"),extension:s(f,"extension","obj"),xhrSettings:s(f,"xhrSettings"),config:{flipUV:s(f,"flipUV",r)}}),(n=s(f,"matURL"))&&(u=new l(e,{key:t,type:"mat",cache:d,url:n,extension:s(f,"matExtension","mat"),xhrSettings:s(f,"xhrSettings")}))}else c=new l(e,{key:t,url:i,type:"obj",cache:d,extension:"obj",xhrSettings:h,config:{flipUV:r}}),n&&(u=new l(e,{key:t,url:n,type:"mat",cache:d,extension:"mat",xhrSettings:h}));o.call(this,e,"obj",t,[c,u])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=h(e.data,e.config.flipUV);t&&(i.materials=c(t.data)),e.cache.add(e.key,i),this.complete=!0}}});r.register("obj",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new u(this,e[a]),this.addFile(s.files);else s=new u(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=u},58610:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(74099),a=i(518),o=new n({Extends:a,initialize:function(e,t,i,n,r){a.call(this,e,t,i,n,r),this.type="packfile"},onProcess:function(){if(this.state!==r.FILE_POPULATED&&(this.state=r.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,n,i));return this}),e.exports=o},48988:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,a,c){var l="js";if(h(t)){var u=t;t=o(u,"key"),i=o(u,"url"),c=o(u,"xhrSettings"),l=o(u,"extension",l),n=o(u,"start"),a=o(u,"mapping")}var d={type:"plugin",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:c,config:{start:n,mapping:a}};s.call(this,e,d),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=o(t,"start",!1),n=o(t,"mapping",null);if(this.state===r.FILE_POPULATED)e.install(this.key,this.data,i,n);else{this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var s=e.install(this.key,window[this.key],i,n);(i||n)&&(this.loader.systems[n]=s,this.loader.scene[n]=s)}this.onProcessComplete()}});a.register("plugin",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new c(this,e[s]));else this.addFile(new c(this,e,t,i,n,r));return this}),e.exports=c},67397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,r){var a="svg";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"svgConfig",{}),r=o(c,"xhrSettings"),a=o(c,"extension",a)}var l={type:"svg",cache:e.textureManager,extension:a,responseType:"text",key:t,url:i,xhrSettings:r,config:{width:o(n,"width"),height:o(n,"height"),scale:o(n,"scale")}};s.call(this,e,l)},onProcess:function(){this.state=r.FILE_PROCESSING;var e=this.xhrLoader.responseText,t=[e],i=this.config.width,n=this.config.height,a=this.config.scale;e:if(i&&n||a){var o=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("svg")[0],h=o.hasAttribute("viewBox"),c=parseFloat(o.getAttribute("width")),l=parseFloat(o.getAttribute("height"));if(!h&&c&&l)o.setAttribute("viewBox","0  0 "+c+" "+l);else if(h&&!c&&!l){var u=o.getAttribute("viewBox").split(/\s+|,/);c=u[2],l=u[3]}if(a){if(c&&l)i=c*a,n=l*a;else break e}o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",n.toString()+"px"),t=[new XMLSerializer().serializeToString(o)]}try{var d=new window.Blob(t,{type:"image/svg+xml;charset=utf-8"})}catch(e){this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this,p=!1;this.data.onload=function(){p||s.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){p?f.onProcessError():(p=!0,s.revokeObjectURL(f.data),f.data.src="data:image/svg+xml,"+encodeURIComponent(t.join("")))},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new c(this,e[r]));else this.addFile(new c(this,e,t,i,n));return this}),e.exports=c},88423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n){var r="js";if(h(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var c={type:"text",extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});a.register("sceneFile",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new c(this,e[n]));else this.addFile(new c(this,e,t,i));return this}),e.exports=c},56812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,a,c){var l="js";if(h(t)){var u=t;t=o(u,"key"),i=o(u,"url"),c=o(u,"xhrSettings"),l=o(u,"extension",l),n=o(u,"systemKey"),a=o(u,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:l,responseType:"text",key:t,url:i,xhrSettings:c,config:{systemKey:n,sceneKey:a}};s.call(this,e,d),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,i=this.key,n=o(t,"systemKey",i),s=o(t,"sceneKey",i);this.state===r.FILE_POPULATED?e.installScenePlugin(n,this.data,s,this.loader.scene,!0):(this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(n,window[this.key],s,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(e,t,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)this.addFile(new c(this,e[s]));else this.addFile(new c(this,e,t,i,n,r));return this}),e.exports=c},34328:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n,r){var a="js";if(h(t)){var c=t;t=o(c,"key"),i=o(c,"url"),n=o(c,"type","script"),r=o(c,"xhrSettings"),a=o(c,"extension",a)}else void 0===n&&(n="script");var l={type:n,cache:!1,extension:a,responseType:"text",key:t,url:i,xhrSettings:r};s.call(this,e,l)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new c(this,e[r]));else this.addFile(new c(this,e,t,i,n));return this}),e.exports=c},85035:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(74099),a=i(19550),o=new n({Extends:a,initialize:function(e,t,i,n,r){a.call(this,e,t,i,r,n),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=r.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});s.register("spritesheet",function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new o(this,e[r]));else this.addFile(new o(this,e,t,i,n));return this}),e.exports=o},78776:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=new n({Extends:s,initialize:function(e,t,i,n){var r="text",a="txt",c=e.cacheManager.text;if(h(t)){var l=t;t=o(l,"key"),i=o(l,"url"),n=o(l,"xhrSettings"),a=o(l,"extension",a),r=o(l,"type",r),c=o(l,"cache",c)}var u={type:r,cache:c,extension:a,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new c(this,e[n]));else this.addFile(new c(this,e,t,i));return this}),e.exports=c},49477:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=i(80341),l=new n({Extends:s,initialize:function(e,t,i,n){var r="csv";if(h(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var l={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,l),this.tilemapFormat=c.CSV},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e)}});a.register("tilemapCSV",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,i));return this}),e.exports=l},40807:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(80341),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,e,t,i,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});r.register("tilemapImpact",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,i));return this}),e.exports=o},56775:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(518),a=i(80341),o=new n({Extends:s,initialize:function(e,t,i,n){s.call(this,e,t,i,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});r.register("tilemapTiledJSON",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new o(this,e[n]));else this.addFile(new o(this,e,t,i));return this}),e.exports=o},25771:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(74099),s=i(95540),a=i(19550),o=i(41212),h=i(26430),c=i(78776),l=new n({Extends:h,initialize:function(e,t,i,n,r,l){if(o(t)){var u,d,f=t;u=new a(e,{key:t=s(f,"key"),url:s(f,"textureURL"),extension:s(f,"textureExtension","png"),normalMap:s(f,"normalMap"),xhrSettings:s(f,"textureXhrSettings")}),d=new c(e,{key:t,url:s(f,"atlasURL"),extension:s(f,"atlasExtension","txt"),xhrSettings:s(f,"atlasXhrSettings")})}else u=new a(e,t,i,r),d=new c(e,t,n,l);u.linkFile?h.call(this,e,"unityatlas",t,[u,d,u.linkFile]):h.call(this,e,"unityatlas",t,[u,d])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,i),this.complete=!0}}});r.register("unityAtlas",function(e,t,i,n,r){var s;if(Array.isArray(e))for(var a=0;a<e.length;a++)s=new l(this,e[a]),this.addFile(s.files);else s=new l(this,e,t,i,n,r),this.addFile(s.files);return this}),e.exports=l},33720:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(98356),h=i(95540),c=i(41212),l=new n({Extends:s,initialize:function(e,t,i,n){if(void 0===n&&(n=!1),c(t)){var r=t;t=h(r,"key"),i=h(r,"url",[]),n=h(r,"noAudio",!1)}var a=e.systems.game.device.video.getVideoURL(i);a||console.warn("VideoFile: No supported format for "+t);var o={type:"video",cache:e.cacheManager.video,extension:a.type,key:t,url:a.url,config:{noAudio:n}};s.call(this,e,o)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=r.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,i));return this}),e.exports=l},57318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(23906),s=i(41299),a=i(74099),o=i(95540),h=i(41212),c=i(56836),l=new n({Extends:s,initialize:function(e,t,i,n){var r="xml";if(h(t)){var a=t;t=o(a,"key"),i=o(a,"url"),n=o(a,"xhrSettings"),r=o(a,"extension",r)}var c={type:"xml",cache:e.cacheManager.xml,extension:r,responseType:"text",key:t,url:i,xhrSettings:n};s.call(this,e,c)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=c(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new l(this,e[n]));else this.addFile(new l(this,e,t,i));return this}),e.exports=l},64589:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23906),r=i(79291),s={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};s=r(!1,s,n),e.exports=s},53307:e=>{e.exports=function(e){for(var t=0,i=0;i<e.length;i++)t+=+e[i];return t/e.length}},85710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6411);e.exports=function(e,t){return n(e)/n(t)/n(e-t)}},30976:e=>{e.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},87842:e=>{e.exports=function(e,t,i,n,r){var s=(n-t)*.5,a=(r-i)*.5,o=e*e;return e*o*(2*i-2*n+s+a)+(-3*i+3*n-2*s-a)*o+s*e+i}},26302:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.ceil(e*n)/n}},45319:e=>{e.exports=function(e,t,i){return Math.max(t,Math.min(i,e))}},39506:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e*n.DEG_TO_RAD}},61241:e=>{e.exports=function(e,t){return Math.abs(e-t)}},38857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(37867),a=i(29747),o=new s,h=new r({initialize:function e(t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=e.DefaultOrder),this._x=t,this._y=i,this._z=n,this._order=r,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback(this)}},set:function(e,t,i,n){return void 0===n&&(n=this._order),this._x=e,this._y=t,this._z=i,this._order=n,this.onChangeCallback(this),this},copy:function(e){return this.set(e.x,e.y,e.z,e.order)},setFromQuaternion:function(e,t,i){return void 0===t&&(t=this._order),void 0===i&&(i=!1),o.fromQuat(e),this.setFromRotationMatrix(o,t,i)},setFromRotationMatrix:function(e,t,i){void 0===t&&(t=this._order),void 0===i&&(i=!1);var r=e.val,s=r[0],a=r[4],o=r[8],h=r[1],c=r[5],l=r[9],u=r[2],d=r[6],f=r[10],p=0,g=0,m=0;switch(t){case"XYZ":g=Math.asin(n(o,-1,1)),.99999>Math.abs(o)?(p=Math.atan2(-l,f),m=Math.atan2(-a,s)):p=Math.atan2(d,c);break;case"YXZ":p=Math.asin(-n(l,-1,1)),.99999>Math.abs(l)?(g=Math.atan2(o,f),m=Math.atan2(h,c)):g=Math.atan2(-u,s);break;case"ZXY":p=Math.asin(n(d,-1,1)),.99999>Math.abs(d)?(g=Math.atan2(-u,f),m=Math.atan2(-a,c)):m=Math.atan2(h,s);break;case"ZYX":g=Math.asin(-n(u,-1,1)),.99999>Math.abs(u)?(p=Math.atan2(d,f),m=Math.atan2(h,s)):m=Math.atan2(-a,c);break;case"YZX":m=Math.asin(n(h,-1,1)),.99999>Math.abs(h)?(p=Math.atan2(-l,c),g=Math.atan2(-u,s)):g=Math.atan2(o,f);break;case"XZY":m=Math.asin(-n(a,-1,1)),.99999>Math.abs(a)?(p=Math.atan2(d,c),g=Math.atan2(o,s)):p=Math.atan2(-l,f)}return this._x=p,this._y=g,this._z=m,this._order=t,i&&this.onChangeCallback(this),this}});h.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],h.DefaultOrder="XYZ",e.exports=h},6411:e=>{e.exports=function(e){if(0===e)return 1;for(var t=e;--e;)t*=e;return t}},99472:e=>{e.exports=function(e,t){return Math.random()*(t-e)+e}},77623:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.floor(e*n)/n}},62945:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319);e.exports=function(e,t,i){return(i-t)*(e=n(e,0,1))+t}},38265:e=>{e.exports=function(e,t){return e/t/1e3}},78702:e=>{e.exports=function(e){return e==parseFloat(e)?!(e%2):void 0}},94883:e=>{e.exports=function(e){return e===parseFloat(e)?!(e%2):void 0}},28915:e=>{e.exports=function(e,t,i){return(t-e)*i+e}},94908:e=>{e.exports=function(e,t,i){return void 0===i&&(i=0),e.clone().lerp(t,i)}},94434:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.val=new Float32Array(9),e?this.copy(e):this.identity()},clone:function(){return new n(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,i=e.val;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},fromMat4:function(e){var t=e.val,i=this.val;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},transpose:function(){var e=this.val,t=e[1],i=e[2],n=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=i,e[7]=n,this},invert:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8],l=c*s-a*h,u=-c*r+a*o,d=h*r-s*o,f=t*l+i*u+n*d;return f?(f=1/f,e[0]=l*f,e[1]=(-c*i+n*h)*f,e[2]=(a*i-n*s)*f,e[3]=u*f,e[4]=(c*t-n*o)*f,e[5]=(-a*t+n*r)*f,e[6]=d*f,e[7]=(-h*t+i*o)*f,e[8]=(s*t-i*r)*f,this):null},adjoint:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8];return e[0]=s*c-a*h,e[1]=n*h-i*c,e[2]=i*a-n*s,e[3]=a*o-r*c,e[4]=t*c-n*o,e[5]=n*r-t*a,e[6]=r*h-s*o,e[7]=i*o-t*h,e[8]=t*s-i*r,this},determinant:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8];return t*(c*s-a*h)+i*(-c*r+a*o)+n*(h*r-s*o)},multiply:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],c=t[7],l=t[8],u=e.val,d=u[0],f=u[1],p=u[2],g=u[3],m=u[4],v=u[5],y=u[6],b=u[7],x=u[8];return t[0]=d*i+f*s+p*h,t[1]=d*n+f*a+p*c,t[2]=d*r+f*o+p*l,t[3]=g*i+m*s+v*h,t[4]=g*n+m*a+v*c,t[5]=g*r+m*o+v*l,t[6]=y*i+b*s+x*h,t[7]=y*n+b*a+x*c,t[8]=y*r+b*o+x*l,this},translate:function(e){var t=this.val,i=e.x,n=e.y;return t[6]=i*t[0]+n*t[3]+t[6],t[7]=i*t[1]+n*t[4]+t[7],t[8]=i*t[2]+n*t[5]+t[8],this},rotate:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=Math.sin(e),c=Math.cos(e);return t[0]=c*i+h*s,t[1]=c*n+h*a,t[2]=c*r+h*o,t[3]=c*s-h*i,t[4]=c*a-h*n,t[5]=c*o-h*r,this},scale:function(e){var t=this.val,i=e.x,n=e.y;return t[0]=i*t[0],t[1]=i*t[1],t[2]=i*t[2],t[3]=n*t[3],t[4]=n*t[4],t[5]=n*t[5],this},fromQuat:function(e){var t=e.x,i=e.y,n=e.z,r=e.w,s=t+t,a=i+i,o=n+n,h=t*s,c=t*a,l=t*o,u=i*a,d=i*o,f=n*o,p=r*s,g=r*a,m=r*o,v=this.val;return v[0]=1-(u+f),v[3]=c+m,v[6]=l-g,v[1]=c-m,v[4]=1-(h+f),v[7]=d+p,v[2]=l+g,v[5]=d-p,v[8]=1-(h+u),this},normalFromMat4:function(e){var t=e.val,i=this.val,n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],h=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n*h-r*o,x=n*c-s*o,E=n*l-a*o,w=r*c-s*h,T=r*l-a*h,S=s*l-a*c,A=u*m-d*g,C=u*v-f*g,_=u*y-p*g,I=d*v-f*m,O=d*y-p*m,P=f*y-p*v,M=b*P-x*O+E*I+w*_-T*C+S*A;return M?(M=1/M,i[0]=(h*P-c*O+l*I)*M,i[1]=(c*_-o*P-l*C)*M,i[2]=(o*O-h*_+l*A)*M,i[3]=(s*O-r*P-a*I)*M,i[4]=(n*P-s*_+a*C)*M,i[5]=(r*_-n*O-a*A)*M,i[6]=(m*S-v*T+y*w)*M,i[7]=(v*E-g*S-y*x)*M,i[8]=(g*T-m*E+y*b)*M,this):null}});e.exports=n},37867:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(25836),s=new n({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new s(this)},set:function(e){return this.copy(e)},setValues:function(e,t,i,n,r,s,a,o,h,c,l,u,d,f,p,g){var m=this.val;return m[0]=e,m[1]=t,m[2]=i,m[3]=n,m[4]=r,m[5]=s,m[6]=a,m[7]=o,m[8]=h,m[9]=c,m[10]=l,m[11]=u,m[12]=d,m[13]=f,m[14]=p,m[15]=g,this},copy:function(e){var t=e.val;return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},fromArray:function(e){return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(e,t,i){var n=a.fromQuat(i).val,r=t.x,s=t.y,o=t.z;return this.setValues(n[0]*r,n[1]*r,n[2]*r,0,n[4]*s,n[5]*s,n[6]*s,0,n[8]*o,n[9]*o,n[10]*o,0,e.x,e.y,e.z,1)},xyz:function(e,t,i){this.identity();var n=this.val;return n[12]=e,n[13]=t,n[14]=i,this},scaling:function(e,t,i){this.zero();var n=this.val;return n[0]=e,n[5]=t,n[10]=i,n[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var e=this.val,t=e[1],i=e[2],n=e[3],r=e[6],s=e[7],a=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=i,e[9]=r,e[11]=e[14],e[12]=n,e[13]=s,e[14]=a,this},getInverse:function(e){return this.copy(e),this.invert()},invert:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8],l=e[9],u=e[10],d=e[11],f=e[12],p=e[13],g=e[14],m=e[15],v=t*a-i*s,y=t*o-n*s,b=t*h-r*s,x=i*o-n*a,E=i*h-r*a,w=n*h-r*o,T=c*p-l*f,S=c*g-u*f,A=c*m-d*f,C=l*g-u*p,_=l*m-d*p,I=u*m-d*g,O=v*I-y*_+b*C+x*A-E*S+w*T;return O?(O=1/O,this.setValues((a*I-o*_+h*C)*O,(n*_-i*I-r*C)*O,(p*w-g*E+m*x)*O,(u*E-l*w-d*x)*O,(o*A-s*I-h*S)*O,(t*I-n*A+r*S)*O,(g*b-f*w-m*y)*O,(c*w-u*b+d*y)*O,(s*_-a*A+h*T)*O,(i*A-t*_-r*T)*O,(f*E-p*b+m*v)*O,(l*b-c*E-d*v)*O,(a*S-s*C-o*T)*O,(t*C-i*S+n*T)*O,(p*y-f*x-g*v)*O,(c*x-l*y+u*v)*O)):this},adjoint:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8],l=e[9],u=e[10],d=e[11],f=e[12],p=e[13],g=e[14],m=e[15];return this.setValues(a*(u*m-d*g)-l*(o*m-h*g)+p*(o*d-h*u),-(i*(u*m-d*g)-l*(n*m-r*g)+p*(n*d-r*u)),i*(o*m-h*g)-a*(n*m-r*g)+p*(n*h-r*o),-(i*(o*d-h*u)-a*(n*d-r*u)+l*(n*h-r*o)),-(s*(u*m-d*g)-c*(o*m-h*g)+f*(o*d-h*u)),t*(u*m-d*g)-c*(n*m-r*g)+f*(n*d-r*u),-(t*(o*m-h*g)-s*(n*m-r*g)+f*(n*h-r*o)),t*(o*d-h*u)-s*(n*d-r*u)+c*(n*h-r*o),s*(l*m-d*p)-c*(a*m-h*p)+f*(a*d-h*l),-(t*(l*m-d*p)-c*(i*m-r*p)+f*(i*d-r*l)),t*(a*m-h*p)-s*(i*m-r*p)+f*(i*h-r*a),-(t*(a*d-h*l)-s*(i*d-r*l)+c*(i*h-r*a)),-(s*(l*g-u*p)-c*(a*g-o*p)+f*(a*u-o*l)),t*(l*g-u*p)-c*(i*g-n*p)+f*(i*u-n*l),-(t*(a*g-o*p)-s*(i*g-n*p)+f*(i*o-n*a)),t*(a*u-o*l)-s*(i*u-n*l)+c*(i*o-n*a))},determinant:function(){var e=this.val,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],h=e[7],c=e[8],l=e[9],u=e[10],d=e[11],f=e[12],p=e[13],g=e[14],m=e[15];return(t*a-i*s)*(u*m-d*g)-(t*o-n*s)*(l*m-d*p)+(t*h-r*s)*(l*g-u*p)+(i*o-n*a)*(c*m-d*f)-(i*h-r*a)*(c*g-u*f)+(n*h-r*o)*(c*p-l*f)},multiply:function(e){var t=this.val,i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=e.val,b=y[0],x=y[1],E=y[2],w=y[3];return t[0]=b*i+x*a+E*l+w*p,t[1]=b*n+x*o+E*u+w*g,t[2]=b*r+x*h+E*d+w*m,t[3]=b*s+x*c+E*f+w*v,b=y[4],x=y[5],E=y[6],w=y[7],t[4]=b*i+x*a+E*l+w*p,t[5]=b*n+x*o+E*u+w*g,t[6]=b*r+x*h+E*d+w*m,t[7]=b*s+x*c+E*f+w*v,b=y[8],x=y[9],E=y[10],w=y[11],t[8]=b*i+x*a+E*l+w*p,t[9]=b*n+x*o+E*u+w*g,t[10]=b*r+x*h+E*d+w*m,t[11]=b*s+x*c+E*f+w*v,b=y[12],x=y[13],E=y[14],w=y[15],t[12]=b*i+x*a+E*l+w*p,t[13]=b*n+x*o+E*u+w*g,t[14]=b*r+x*h+E*d+w*m,t[15]=b*s+x*c+E*f+w*v,this},multiplyLocal:function(e){var t=this.val,i=e.val;return this.setValues(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]+t[3]*i[12],t[0]*i[1]+t[1]*i[5]+t[2]*i[9]+t[3]*i[13],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]+t[3]*i[14],t[0]*i[3]+t[1]*i[7]+t[2]*i[11]+t[3]*i[15],t[4]*i[0]+t[5]*i[4]+t[6]*i[8]+t[7]*i[12],t[4]*i[1]+t[5]*i[5]+t[6]*i[9]+t[7]*i[13],t[4]*i[2]+t[5]*i[6]+t[6]*i[10]+t[7]*i[14],t[4]*i[3]+t[5]*i[7]+t[6]*i[11]+t[7]*i[15],t[8]*i[0]+t[9]*i[4]+t[10]*i[8]+t[11]*i[12],t[8]*i[1]+t[9]*i[5]+t[10]*i[9]+t[11]*i[13],t[8]*i[2]+t[9]*i[6]+t[10]*i[10]+t[11]*i[14],t[8]*i[3]+t[9]*i[7]+t[10]*i[11]+t[11]*i[15],t[12]*i[0]+t[13]*i[4]+t[14]*i[8]+t[15]*i[12],t[12]*i[1]+t[13]*i[5]+t[14]*i[9]+t[15]*i[13],t[12]*i[2]+t[13]*i[6]+t[14]*i[10]+t[15]*i[14],t[12]*i[3]+t[13]*i[7]+t[14]*i[11]+t[15]*i[15])},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.val,n=t.val,r=i[0],s=i[4],a=i[8],o=i[12],h=i[1],c=i[5],l=i[9],u=i[13],d=i[2],f=i[6],p=i[10],g=i[14],m=i[3],v=i[7],y=i[11],b=i[15],x=n[0],E=n[4],w=n[8],T=n[12],S=n[1],A=n[5],C=n[9],_=n[13],I=n[2],O=n[6],P=n[10],M=n[14],R=n[3],L=n[7],D=n[11],k=n[15];return this.setValues(r*x+s*S+a*I+o*R,h*x+c*S+l*I+u*R,d*x+f*S+p*I+g*R,m*x+v*S+y*I+b*R,r*E+s*A+a*O+o*L,h*E+c*A+l*O+u*L,d*E+f*A+p*O+g*L,m*E+v*A+y*O+b*L,r*w+s*C+a*P+o*D,h*w+c*C+l*P+u*D,d*w+f*C+p*P+g*D,m*w+v*C+y*P+b*D,r*T+s*_+a*M+o*k,h*T+c*_+l*M+u*k,d*T+f*_+p*M+g*k,m*T+v*_+y*M+b*k)},translate:function(e){return this.translateXYZ(e.x,e.y,e.z)},translateXYZ:function(e,t,i){var n=this.val;return n[12]=n[0]*e+n[4]*t+n[8]*i+n[12],n[13]=n[1]*e+n[5]*t+n[9]*i+n[13],n[14]=n[2]*e+n[6]*t+n[10]*i+n[14],n[15]=n[3]*e+n[7]*t+n[11]*i+n[15],this},scale:function(e){return this.scaleXYZ(e.x,e.y,e.z)},scaleXYZ:function(e,t,i){var n=this.val;return n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*e,n[3]=n[3]*e,n[4]=n[4]*t,n[5]=n[5]*t,n[6]=n[6]*t,n[7]=n[7]*t,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this},makeRotationAxis:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=1-i,s=e.x,a=e.y,o=e.z,h=r*s,c=r*a;return this.setValues(h*s+i,h*a-n*o,h*o+n*a,0,h*a+n*o,c*a+i,c*o-n*s,0,h*o-n*a,c*o+n*s,r*o*o+i,0,0,0,0,1)},rotate:function(e,t){var i=this.val,n=t.x,r=t.y,s=t.z,a=Math.sqrt(n*n+r*r+s*s);if(1e-6>Math.abs(a))return this;n*=a=1/a,r*=a,s*=a;var o=Math.sin(e),h=Math.cos(e),c=1-h,l=i[0],u=i[1],d=i[2],f=i[3],p=i[4],g=i[5],m=i[6],v=i[7],y=i[8],b=i[9],x=i[10],E=i[11],w=i[12],T=i[13],S=i[14],A=i[15],C=n*n*c+h,_=r*n*c+s*o,I=s*n*c-r*o,O=n*r*c-s*o,P=r*r*c+h,M=s*r*c+n*o,R=n*s*c+r*o,L=r*s*c-n*o,D=s*s*c+h;return this.setValues(l*C+p*_+y*I,u*C+g*_+b*I,d*C+m*_+x*I,f*C+v*_+E*I,l*O+p*P+y*M,u*O+g*P+b*M,d*O+m*P+x*M,f*O+v*P+E*M,l*R+p*L+y*D,u*R+g*L+b*D,d*R+m*L+x*D,f*R+v*L+E*D,w,T,S,A)},rotateX:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[4],s=t[5],a=t[6],o=t[7],h=t[8],c=t[9],l=t[10],u=t[11];return t[4]=r*n+h*i,t[5]=s*n+c*i,t[6]=a*n+l*i,t[7]=o*n+u*i,t[8]=h*n-r*i,t[9]=c*n-s*i,t[10]=l*n-a*i,t[11]=u*n-o*i,this},rotateY:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[0],s=t[1],a=t[2],o=t[3],h=t[8],c=t[9],l=t[10],u=t[11];return t[0]=r*n-h*i,t[1]=s*n-c*i,t[2]=a*n-l*i,t[3]=o*n-u*i,t[8]=r*i+h*n,t[9]=s*i+c*n,t[10]=a*i+l*n,t[11]=o*i+u*n,this},rotateZ:function(e){var t=this.val,i=Math.sin(e),n=Math.cos(e),r=t[0],s=t[1],a=t[2],o=t[3],h=t[4],c=t[5],l=t[6],u=t[7];return t[0]=r*n+h*i,t[1]=s*n+c*i,t[2]=a*n+l*i,t[3]=o*n+u*i,t[4]=h*n-r*i,t[5]=c*n-s*i,t[6]=l*n-a*i,t[7]=u*n-o*i,this},fromRotationTranslation:function(e,t){var i=e.x,n=e.y,r=e.z,s=e.w,a=i+i,o=n+n,h=r+r,c=i*a,l=i*o,u=i*h,d=n*o,f=n*h,p=r*h,g=s*a,m=s*o,v=s*h;return this.setValues(1-(d+p),l+v,u-m,0,l-v,1-(c+p),f+g,0,u+m,f-g,1-(c+d),0,t.x,t.y,t.z,1)},fromQuat:function(e){var t=e.x,i=e.y,n=e.z,r=e.w,s=t+t,a=i+i,o=n+n,h=t*s,c=t*a,l=t*o,u=i*a,d=i*o,f=n*o,p=r*s,g=r*a,m=r*o;return this.setValues(1-(u+f),c+m,l-g,0,c-m,1-(h+f),d+p,0,l+g,d-p,1-(h+u),0,0,0,0,1)},frustum:function(e,t,i,n,r,s){var a=1/(t-e),o=1/(n-i),h=1/(r-s);return this.setValues(2*r*a,0,0,0,0,2*r*o,0,0,(t+e)*a,(n+i)*o,(s+r)*h,-1,0,0,s*r*2*h,0)},perspective:function(e,t,i,n){var r=1/Math.tan(e/2),s=1/(i-n);return this.setValues(r/t,0,0,0,0,r,0,0,0,0,(n+i)*s,-1,0,0,2*n*i*s,0)},perspectiveLH:function(e,t,i,n){return this.setValues(2*i/e,0,0,0,0,2*i/t,0,0,0,0,-n/(i-n),1,0,0,i*n/(i-n),0)},ortho:function(e,t,i,n,r,s){var a=e-t,o=i-n,h=r-s;return a=0===a?a:1/a,o=0===o?o:1/o,h=0===h?h:1/h,this.setValues(-2*a,0,0,0,0,-2*o,0,0,0,0,2*h,0,(e+t)*a,(n+i)*o,(s+r)*h,1)},lookAtRH:function(e,t,i){var n=this.val;return l.subVectors(e,t),0===l.lengthSq()&&(l.z=1),l.normalize(),h.crossVectors(i,l),0===h.lengthSq()&&(1===Math.abs(i.z)?l.x+=1e-4:l.z+=1e-4,l.normalize(),h.crossVectors(i,l)),h.normalize(),c.crossVectors(l,h),n[0]=h.x,n[1]=h.y,n[2]=h.z,n[4]=c.x,n[5]=c.y,n[6]=c.z,n[8]=l.x,n[9]=l.y,n[10]=l.z,this},lookAt:function(e,t,i){var n=e.x,r=e.y,s=e.z,a=i.x,o=i.y,h=i.z,c=t.x,l=t.y,u=t.z;if(1e-6>Math.abs(n-c)&&1e-6>Math.abs(r-l)&&1e-6>Math.abs(s-u))return this.identity();var d=n-c,f=r-l,p=s-u,g=1/Math.sqrt(d*d+f*f+p*p);d*=g,f*=g;var m=o*(p*=g)-h*f,v=h*d-a*p,y=a*f-o*d;(g=Math.sqrt(m*m+v*v+y*y))?(m*=g=1/g,v*=g,y*=g):(m=0,v=0,y=0);var b=f*y-p*v,x=p*m-d*y,E=d*v-f*m;return(g=Math.sqrt(b*b+x*x+E*E))?(b*=g=1/g,x*=g,E*=g):(b=0,x=0,E=0),this.setValues(m,b,d,0,v,x,f,0,y,E,p,0,-(m*n+v*r+y*s),-(b*n+x*r+E*s),-(d*n+f*r+p*s),1)},yawPitchRoll:function(e,t,i){this.zero(),a.zero(),o.zero();var n=this.val,r=a.val,s=o.val,h=Math.sin(i),c=Math.cos(i);return n[10]=1,n[15]=1,n[0]=c,n[1]=h,n[4]=-h,n[5]=c,h=Math.sin(t),c=Math.cos(t),r[0]=1,r[15]=1,r[5]=c,r[10]=c,r[9]=-h,r[6]=h,h=Math.sin(e),c=Math.cos(e),s[5]=1,s[15]=1,s[0]=c,s[2]=-h,s[8]=h,s[10]=c,this.multiplyLocal(a),this.multiplyLocal(o),this},setWorldMatrix:function(e,t,i,n,r){return this.yawPitchRoll(e.y,e.x,e.z),a.scaling(i.x,i.y,i.z),o.xyz(t.x,t.y,t.z),this.multiplyLocal(a),this.multiplyLocal(o),n&&this.multiplyLocal(n),r&&this.multiplyLocal(r),this},multiplyToMat4:function(e,t){var i=this.val,n=e.val,r=i[0],s=i[1],a=i[2],o=i[3],h=i[4],c=i[5],l=i[6],u=i[7],d=i[8],f=i[9],p=i[10],g=i[11],m=i[12],v=i[13],y=i[14],b=i[15],x=n[0],E=n[1],w=n[2],T=n[3],S=n[4],A=n[5],C=n[6],_=n[7],I=n[8],O=n[9],P=n[10],M=n[11],R=n[12],L=n[13],D=n[14],k=n[15];return t.setValues(x*r+E*h+w*d+T*m,E*s+E*c+w*f+T*v,w*a+E*l+w*p+T*y,T*o+E*u+w*g+T*b,S*r+A*h+C*d+_*m,S*s+A*c+C*f+_*v,S*a+A*l+C*p+_*y,S*o+A*u+C*g+_*b,I*r+O*h+P*d+M*m,I*s+O*c+P*f+M*v,I*a+O*l+P*p+M*y,I*o+O*u+P*g+M*b,R*r+L*h+D*d+k*m,R*s+L*c+D*f+k*v,R*a+L*l+D*p+k*y,R*o+L*u+D*g+k*b)},fromRotationXYTranslation:function(e,t,i){var n=t.x,r=t.y,s=t.z,a=Math.sin(e.x),o=Math.cos(e.x),h=Math.sin(e.y),c=Math.cos(e.y),l=n,u=r,d=s,f=-a,p=0-f*h,g=0-o*h,m=f*c,v=o*c;return i||(l=c*n+h*s,u=p*n+o*r+m*s,d=g*n+a*r+v*s),this.setValues(c,p,g,0,0,o,a,0,h,m,v,0,l,u,d,1)},getMaxScaleOnAxis:function(){var e=this.val;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}}),a=new s,o=new s,h=new r,c=new r,l=new r;e.exports=s},86883:e=>{e.exports=function(e,t,i){return Math.min(e+t,i)}},50040:e=>{e.exports=function(e){var t=e.length;if(0===t)return 0;e.sort(function(e,t){return e-t});var i=Math.floor(t/2);return t%2==0?(e[i]+e[i-1])/2:e[i]}},37204:e=>{e.exports=function(e,t,i){return Math.max(e-t,i)}},65201:e=>{e.exports=function(e,t,i,n){void 0===i&&(i=t+1);var r=(e-t)/(i-t);return r>1?void 0!==n?(r=(n-e)/(n-i))<0&&(r=0):r=1:r<0&&(r=0),r}},15746:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94434),s=i(29747),a=i(25836),o=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),c=new a(1,0,0),l=new a(0,1,0),u=new a,d=new r,f=new n({initialize:function(e,t,i,n){this.onChangeCallback=s,this.set(e,t,i,n)},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback(this)}},copy:function(e){return this.set(e)},set:function(e,t,i,n,r){return void 0===r&&(r=!0),"object"==typeof e?(this._x=e.x||0,this._y=e.y||0,this._z=e.z||0,this._w=e.w||0):(this._x=e||0,this._y=t||0,this._z=i||0,this._w=n||0),r&&this.onChangeCallback(this),this},add:function(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this._w+=e.w,this.onChangeCallback(this),this},subtract:function(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this._w-=e.w,this.onChangeCallback(this),this},scale:function(e){return this._x*=e,this._y*=e,this._z*=e,this._w*=e,this.onChangeCallback(this),this},length:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return Math.sqrt(e*e+t*t+i*i+n*n)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return e*e+t*t+i*i+n*n},normalize:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this._x=e*r,this._y=t*r,this._z=i*r,this._w=n*r),this.onChangeCallback(this),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.set(i+t*(e.x-i),n+t*(e.y-n),r+t*(e.z-r),s+t*(e.w-s))},rotationTo:function(e,t){var i=e.x*t.x+e.y*t.y+e.z*t.z;return i<-.999999?(1e-6>u.copy(c).cross(e).length()&&u.copy(l).cross(e),u.normalize(),this.setAxisAngle(u,Math.PI)):i>.999999?this.set(0,0,0,1):(u.copy(e).cross(t),this._x=u.x,this._y=u.y,this._z=u.z,this._w=1+i,this.normalize())},setAxes:function(e,t,i){var n=d.val;return n[0]=t.x,n[3]=t.y,n[6]=t.z,n[1]=i.x,n[4]=i.y,n[7]=i.z,n[2]=-e.x,n[5]=-e.y,n[8]=-e.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(e,t){var i=Math.sin(t*=.5);return this.set(i*e.x,i*e.y,i*e.z,Math.cos(t))},multiply:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,s=e.x,a=e.y,o=e.z,h=e.w;return this.set(t*h+r*s+i*o-n*a,i*h+r*a+n*s-t*o,n*h+r*o+t*a-i*s,r*h-t*s-i*a-n*o)},slerp:function(e,t){var i=this.x,n=this.y,r=this.z,s=this.w,a=e.x,o=e.y,h=e.z,c=e.w,l=i*a+n*o+r*h+s*c;l<0&&(l=-l,a=-a,o=-o,h=-h,c=-c);var u=1-t,d=t;if(1-l>1e-6){var f=Math.acos(l),p=Math.sin(f);u=Math.sin((1-t)*f)/p,d=Math.sin(t*f)/p}return this.set(u*i+d*a,u*n+d*o,u*r+d*h,u*s+d*c)},invert:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n,s=r?1/r:0;return this.set(-e*s,-t*s,-i*s,n*s)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a+r*s,i*a+n*s,n*a-i*s,r*a-t*s)},rotateY:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a-n*s,i*a+r*s,n*a+t*s,r*a-i*s)},rotateZ:function(e){e*=.5;var t=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(e),a=Math.cos(e);return this.set(t*a+i*s,i*a-t*s,n*a+r*s,r*a-n*s)},calculateW:function(){var e=this.x,t=this.y,i=this.z;return this.w=-Math.sqrt(1-e*e-t*t-i*i),this},setFromEuler:function(e,t){var i=e.x/2,n=e.y/2,r=e.z/2,s=Math.cos(i),a=Math.cos(n),o=Math.cos(r),h=Math.sin(i),c=Math.sin(n),l=Math.sin(r);switch(e.order){case"XYZ":this.set(h*a*o+s*c*l,s*c*o-h*a*l,s*a*l+h*c*o,s*a*o-h*c*l,t);break;case"YXZ":this.set(h*a*o+s*c*l,s*c*o-h*a*l,s*a*l-h*c*o,s*a*o+h*c*l,t);break;case"ZXY":this.set(h*a*o-s*c*l,s*c*o+h*a*l,s*a*l+h*c*o,s*a*o-h*c*l,t);break;case"ZYX":this.set(h*a*o-s*c*l,s*c*o+h*a*l,s*a*l-h*c*o,s*a*o+h*c*l,t);break;case"YZX":this.set(h*a*o+s*c*l,s*c*o+h*a*l,s*a*l-h*c*o,s*a*o-h*c*l,t);break;case"XZY":this.set(h*a*o-s*c*l,s*c*o-h*a*l,s*a*l+h*c*o,s*a*o+h*c*l,t)}return this},setFromRotationMatrix:function(e){var t,i=e.val,n=i[0],r=i[4],s=i[8],a=i[1],o=i[5],h=i[9],c=i[2],l=i[6],u=i[10],d=n+o+u;return d>0?(t=.5/Math.sqrt(d+1),this.set((l-h)*t,(s-c)*t,(a-r)*t,.25/t)):n>o&&n>u?(t=2*Math.sqrt(1+n-o-u),this.set(.25*t,(r+a)/t,(s+c)/t,(l-h)/t)):o>u?(t=2*Math.sqrt(1+o-n-u),this.set((r+a)/t,.25*t,(h+l)/t,(s-c)/t)):(t=2*Math.sqrt(1+u-n-o),this.set((s+c)/t,(h+l)/t,.25*t,(a-r)/t)),this},fromMat3:function(e){var t,i=e.val,n=i[0]+i[4]+i[8];if(n>0)t=Math.sqrt(n+1),this.w=.5*t,t=.5/t,this._x=(i[7]-i[5])*t,this._y=(i[2]-i[6])*t,this._z=(i[3]-i[1])*t;else{var r=0;i[4]>i[0]&&(r=1),i[8]>i[3*r+r]&&(r=2);var s=o[r],a=o[s];t=Math.sqrt(i[3*r+r]-i[3*s+s]-i[3*a+a]+1),h[r]=.5*t,t=.5/t,h[s]=(i[3*s+r]+i[3*r+s])*t,h[a]=(i[3*a+r]+i[3*r+a])*t,this._x=h[0],this._y=h[1],this._z=h[2],this._w=(i[3*a+s]-i[3*s+a])*t}return this.onChangeCallback(this),this}});e.exports=f},43396:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e*n.RAD_TO_DEG}},74362:e=>{e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI;return e.x=Math.cos(i)*t,e.y=Math.sin(i)*t,e}},60706:e=>{e.exports=function(e,t){void 0===t&&(t=1);var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return e.x=Math.cos(i)*r,e.y=Math.sin(i)*r,e.z=n*t,e}},67421:e=>{e.exports=function(e,t){return void 0===t&&(t=1),e.x=(2*Math.random()-1)*t,e.y=(2*Math.random()-1)*t,e.z=(2*Math.random()-1)*t,e.w=(2*Math.random()-1)*t,e}},36305:e=>{e.exports=function(e,t){var i=e.x,n=e.y;return e.x=i*Math.cos(t)-n*Math.sin(t),e.y=i*Math.sin(t)+n*Math.cos(t),e}},11520:e=>{e.exports=function(e,t,i,n){var r=Math.cos(n),s=Math.sin(n),a=e.x-t,o=e.y-i;return e.x=a*r-o*s+t,e.y=a*s+o*r+i,e}},1163:e=>{e.exports=function(e,t,i,n,r){var s=n+Math.atan2(e.y-i,e.x-t);return e.x=t+r*Math.cos(s),e.y=i+r*Math.sin(s),e}},70336:e=>{e.exports=function(e,t,i,n,r){return e.x=t+r*Math.cos(n),e.y=i+r*Math.sin(n),e}},72678:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(25836),r=i(37867),s=i(15746),a=new r,o=new s,h=new n;e.exports=function(e,t,i){return o.setAxisAngle(t,i),a.fromRotationTranslation(o,h.set(0,0,0)),e.transformMat4(a)}},2284:e=>{e.exports=function(e){return e>0?Math.ceil(e):Math.floor(e)}},41013:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=Math.pow(i,-t);return Math.round(e*n)/n}},16922:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/e;for(var r=[],s=[],a=0;a<e;a++)i-=t*n,t+=i*n,r[a]=i,s[a]=t;return{sin:s,cos:r,length:e}}},7602:e=>{e.exports=function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)}},54261:e=>{e.exports=function(e,t,i){return(e=Math.max(0,Math.min(1,(e-t)/(i-t))))*e*e*(e*(6*e-15)+10)}},44408:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r){void 0===r&&(r=new n);var s=0,a=0;return e>0&&e<=t*i&&(e>t-1?(a=Math.floor(e/t),s=e-a*t):s=e),r.set(s,a)}},85955:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a,o,h){void 0===h&&(h=new n);var c=Math.sin(s),l=Math.cos(s),u=l*a,d=c*a,f=-c*o,p=l*o,g=1/(u*p+-(f*d));return h.x=p*g*e+-f*g*t+(r*f-i*p)*g,h.y=u*g*t+-d*g*e+(-r*u+i*d)*g,h}},26099:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(43855),s=new n({initialize:function(e,t){this.x=0,this.y=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0):(void 0===t&&(t=e),this.x=e||0,this.y=t||0)},clone:function(){return new s(this.x,this.y)},copy:function(e){return this.x=e.x||0,this.y=e.y||0,this},setFromObject:function(e){return this.x=e.x||0,this.y=e.y||0,this},set:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setTo:function(e,t){return this.set(e,t)},setToPolar:function(e,t){return null==t&&(t=1),this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},equals:function(e){return this.x===e.x&&this.y===e.y},fuzzyEquals:function(e,t){return r(this.x,e.x,t)&&r(this.y,e.y,t)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},setAngle:function(e){return this.setToPolar(e,this.length())},add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},setLength:function(e){return this.normalize().scale(e)},lengthSq:function(){var e=this.x,t=this.y;return e*e+t*t},normalize:function(){var e=this.x,t=this.y,i=e*e+t*t;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i),this},normalizeRightHand:function(){var e=this.x;return this.x=-1*this.y,this.y=e,this},normalizeLeftHand:function(){var e=this.x;return this.x=this.y,this.y=-1*e,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this},transformMat3:function(e){var t=this.x,i=this.y,n=e.val;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},transformMat4:function(e){var t=this.x,i=this.y,n=e.val;return this.x=n[0]*t+n[4]*i+n[12],this.y=n[1]*t+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(e){var t=this.length();return t&&t>e&&this.scale(e/t),this},reflect:function(e){return e=e.clone().normalize(),this.subtract(e.scale(2*this.dot(e)))},mirror:function(e){return this.reflect(e).negate()},rotate:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t*this.x-i*this.y,i*this.x+t*this.y)},project:function(e){var t=this.dot(e)/e.dot(e);return this.copy(e).scale(t)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),e.exports=s},25836:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.x=0,this.y=0,this.z=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clone:function(){return new n(this.x,this.y,this.z)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=n*o-r*a,this.y=r*s-i*o,this.z=i*a-n*s,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this},set:function(e,t,i){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=i||0),this},setFromMatrixPosition:function(e){return this.fromArray(e.val,12)},setFromMatrixColumn:function(e,t){return this.fromArray(e.val,4*t)},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addScale:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0;return Math.sqrt(t*t+i*i+n*n)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0;return t*t+i*i+n*n},length:function(){var e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)},lengthSq:function(){var e=this.x,t=this.y,i=this.z;return e*e+t*t+i*i},normalize:function(){var e=this.x,t=this.y,i=this.z,n=e*e+t*t+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n,this.z=i*n),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z;return this.x=i*a-n*s,this.y=n*r-t*a,this.z=t*s-i*r,this},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this.z=r+t*(e.z-r),this},applyMatrix3:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*s,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*s,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*s,this},transformMat3:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=t*r[0]+i*r[3]+n*r[6],this.y=t*r[1]+i*r[4]+n*r[7],this.z=t*r[2]+i*r[5]+n*r[8],this},transformMat4:function(e){var t=this.x,i=this.y,n=this.z,r=e.val;return this.x=r[0]*t+r[4]*i+r[8]*n+r[12],this.y=r[1]*t+r[5]*i+r[9]*n+r[13],this.z=r[2]*t+r[6]*i+r[10]*n+r[14],this},transformCoordinates:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=t*r[0]+i*r[4]+n*r[8]+r[12],a=t*r[1]+i*r[5]+n*r[9]+r[13],o=t*r[2]+i*r[6]+n*r[10]+r[14],h=t*r[3]+i*r[7]+n*r[11]+r[15];return this.x=s/h,this.y=a/h,this.z=o/h,this},transformQuat:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z,o=e.w,h=o*t+s*n-a*i,c=o*i+a*t-r*n,l=o*n+r*i-s*t,u=-r*t-s*i-a*n;return this.x=h*o+-(u*r)+-(c*a)- -(l*s),this.y=c*o+-(u*s)+-(l*r)- -(h*a),this.z=l*o+-(u*a)+-(h*s)- -(c*r),this},project:function(e){var t=this.x,i=this.y,n=this.z,r=e.val,s=r[0],a=r[1],o=r[2],h=r[3],c=r[4],l=r[5],u=r[6],d=r[7],f=r[8],p=r[9],g=r[10],m=r[11],v=r[12],y=r[13],b=r[14],x=1/(t*h+i*d+n*m+r[15]);return this.x=(t*s+i*c+n*f+v)*x,this.y=(t*a+i*l+n*p+y)*x,this.z=(t*o+i*u+n*g+b)*x,this},projectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unprojectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unproject:function(e,t){var i=e.x,n=e.y,r=e.z,s=e.w,a=this.x-i,o=s-this.y-1-n,h=this.z;return this.x=2*a/r-1,this.y=2*o/s-1,this.z=2*h-1,this.project(t)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});n.ZERO=new n,n.RIGHT=new n(1,0,0),n.LEFT=new n(-1,0,0),n.UP=new n(0,-1,0),n.DOWN=new n(0,1,0),n.FORWARD=new n(0,0,1),n.BACK=new n(0,0,-1),n.ONE=new n(1,1,1),e.exports=n},61369:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=n||0)},clone:function(){return new n(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this.w=e.w||0,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},set:function(e,t,i,n){return"object"==typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=i||0,this.w=n||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this.w+=e.w||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this.w-=e.w||0,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return Math.sqrt(e*e+t*t+i*i+n*n)},lengthSq:function(){var e=this.x,t=this.y,i=this.z,n=this.w;return e*e+t*t+i*i+n*n},normalize:function(){var e=this.x,t=this.y,i=this.z,n=this.w,r=e*e+t*t+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=e*r,this.y=t*r,this.z=i*r,this.w=n*r),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.x=i+t*(e.x-i),this.y=n+t*(e.y-n),this.z=r+t*(e.z-r),this.w=s+t*(e.w-s),this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this.w*=e.w||1,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this.w/=e.w||1,this},distance:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0,r=e.w-this.w||0;return Math.sqrt(t*t+i*i+n*n+r*r)},distanceSq:function(e){var t=e.x-this.x,i=e.y-this.y,n=e.z-this.z||0,r=e.w-this.w||0;return t*t+i*i+n*n+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,s=e.val;return this.x=s[0]*t+s[4]*i+s[8]*n+s[12]*r,this.y=s[1]*t+s[5]*i+s[9]*n+s[13]*r,this.z=s[2]*t+s[6]*i+s[10]*n+s[14]*r,this.w=s[3]*t+s[7]*i+s[11]*n+s[15]*r,this},transformQuat:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z,o=e.w,h=o*t+s*n-a*i,c=o*i+a*t-r*n,l=o*n+r*i-s*t,u=-r*t-s*i-a*n;return this.x=h*o+-(u*r)+-(c*a)- -(l*s),this.y=c*o+-(u*s)+-(l*r)- -(h*a),this.z=l*o+-(u*a)+-(h*s)- -(c*r),this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});n.prototype.sub=n.prototype.subtract,n.prototype.mul=n.prototype.multiply,n.prototype.div=n.prototype.divide,n.prototype.dist=n.prototype.distance,n.prototype.distSq=n.prototype.distanceSq,n.prototype.len=n.prototype.length,n.prototype.lenSq=n.prototype.lengthSq,e.exports=n},60417:e=>{e.exports=function(e,t,i){return Math.abs(e-t)<=i}},15994:e=>{e.exports=function(e,t,i){var n=i-t;return t+((e-t)%n+n)%n}},31040:e=>{e.exports=function(e,t,i,n){return Math.atan2(n-t,i-e)}},55495:e=>{e.exports=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},128:e=>{e.exports=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},41273:e=>{e.exports=function(e,t,i,n){return Math.atan2(i-e,n-t)}},1432:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e){return e>Math.PI&&(e-=n.PI2),Math.abs(((e+n.TAU)%n.PI2-n.PI2)%n.PI2)}},12407:e=>{e.exports=function(e){return(e%=2*Math.PI)>=0?e:e+2*Math.PI}},53993:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99472);e.exports=function(){return n(-Math.PI,Math.PI)}},86564:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(99472);e.exports=function(){return n(-180,180)}},90154:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(12407);e.exports=function(e){return n(e+Math.PI)}},48736:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383);e.exports=function(e,t,i){return void 0===i&&(i=.05),e===t||(Math.abs(t-e)<=i||Math.abs(t-e)>=n.PI2-i?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=n.PI2:t-=n.PI2),t>e?e+=i:t<e&&(e-=i))),e}},61430:e=>{e.exports=function(e,t){var i=t-e;if(0===i)return 0;var n=Math.floor((i- -180)/360);return i-360*n}},86554:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e){return n(e,-Math.PI,Math.PI)}},30954:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15994);e.exports=function(e){return n(e,-180,180)}},25588:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};e.exports=t},20339:e=>{e.exports=function(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)}},52816:e=>{e.exports=function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}},64559:e=>{e.exports=function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},82340:e=>{e.exports=function(e,t,i,n){return Math.max(Math.abs(e-i),Math.abs(t-n))}},14390:e=>{e.exports=function(e,t,i,n,r){return void 0===r&&(r=2),Math.sqrt(Math.pow(i-e,r)+Math.pow(n-t,r))}},2243:e=>{e.exports=function(e,t,i,n){return Math.abs(e-i)+Math.abs(t-n)}},89774:e=>{e.exports=function(e,t,i,n){var r=e-i,s=t-n;return r*r+s*s}},50994:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54178),r=i(41521),s=i(79980),a=i(85433),o=i(99140),h=i(48857),c=i(81596),l=i(59133),u=i(98516),d=i(35248),f=i(82500),p=i(49752);e.exports={Power0:c,Power1:l.Out,Power2:a.Out,Power3:u.Out,Power4:d.Out,Linear:c,Quad:l.Out,Cubic:a.Out,Quart:u.Out,Quint:d.Out,Sine:f.Out,Expo:h.Out,Circ:s.Out,Elastic:o.Out,Back:n.Out,Bounce:r.Out,Stepped:p,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":u.In,"Quint.easeIn":d.In,"Sine.easeIn":f.In,"Expo.easeIn":h.In,"Circ.easeIn":s.In,"Elastic.easeIn":o.In,"Back.easeIn":n.In,"Bounce.easeIn":r.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":u.Out,"Quint.easeOut":d.Out,"Sine.easeOut":f.Out,"Expo.easeOut":h.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":o.Out,"Back.easeOut":n.Out,"Bounce.easeOut":r.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":n.InOut,"Bounce.easeInOut":r.InOut}},1639:e=>{e.exports=function(e,t){return void 0===t&&(t=1.70158),e*e*((t+1)*e-t)}},50099:e=>{e.exports=function(e,t){void 0===t&&(t=1.70158);var i=1.525*t;return(e*=2)<1?e*e*((i+1)*e-i)*.5:.5*((e-=2)*e*((i+1)*e+i)+2)}},41286:e=>{e.exports=function(e,t){return void 0===t&&(t=1.70158),--e*e*((t+1)*e+t)+1}},54178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:e=>{e.exports=function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}},41788:e=>{e.exports=function(e){var t=!1;return(e<.5?(e=1-2*e,t=!0):e=2*e-1,e=e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t)?(1-e)*.5:.5*e+.5}},69905:e=>{e.exports=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},41521:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:e=>{e.exports=function(e){return 1-Math.sqrt(1-e*e)}},4177:e=>{e.exports=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},57512:e=>{e.exports=function(e){return Math.sqrt(1- --e*e)}},79980:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:e=>{e.exports=function(e){return e*e*e}},82820:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},35033:e=>{e.exports=function(e){return--e*e*e+1}},85433:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i))}},50665:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return(t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),(e*=2)<1)?-.5*(t*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i)):t*Math.pow(2,-10*(e-=1))*Math.sin(2*Math.PI*(e-n)/i)*.5+1}},7744:e=>{e.exports=function(e,t,i){if(void 0===t&&(t=.1),void 0===i&&(i=.1),0===e)return 0;if(1===e)return 1;var n=i/4;return t<1?t=1:n=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e-n)/i)+1}},99140:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:e=>{e.exports=function(e){return Math.pow(2,10*(e-1))-.001}},87844:e=>{e.exports=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}},89433:e=>{e.exports=function(e){return 1-Math.pow(2,-10*e)}},48857:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:e=>{e.exports=function(e){return e}},81596:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=i(7147)},34826:e=>{e.exports=function(e){return e*e}},20544:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},92029:e=>{e.exports=function(e){return e*(2-e)}},59133:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:e=>{e.exports=function(e){return e*e*e*e}},78137:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},45840:e=>{e.exports=function(e){return 1- --e*e*e*e}},98516:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:e=>{e.exports=function(e){return e*e*e*e*e}},16509:e=>{e.exports=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},17868:e=>{e.exports=function(e){return--e*e*e*e*e+1}},35248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:e=>{e.exports=function(e){return 0===e?0:1===e?1:1-Math.cos(e*Math.PI/2)}},34025:e=>{e.exports=function(e){return 0===e?0:1===e?1:.5*(1-Math.cos(Math.PI*e))}},52768:e=>{e.exports=function(e){return 0===e?0:1===e?1:Math.sin(e*Math.PI/2)}},82500:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:e=>{e.exports=function(e,t){return(void 0===t&&(t=1),e<=0)?0:e>=1?1:1/t*((t*e|0)+1)}},49752:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=i(72251)},75698:e=>{e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.ceil(e-t)}},43855:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),Math.abs(e-t)<i}},25777:e=>{e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.floor(e+t)}},5470:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e>t-i}},94977:e=>{e.exports=function(e,t,i){return void 0===i&&(i=1e-4),e<t+i}},48379:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36383),r=i(79291),s={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};s=r(!1,s,n),e.exports=s},89318:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85710);e.exports=function(e,t){for(var i=0,r=e.length-1,s=0;s<=r;s++)i+=Math.pow(1-t,r-s)*Math.pow(t,s)*e[s]*n(r,s);return i}},77259:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87842);e.exports=function(e,t){var i=e.length-1,r=i*t,s=Math.floor(r);return e[0]===e[i]?(t<0&&(s=Math.floor(r=i*(1+t))),n(r-s,e[(s-1+i)%i],e[s],e[(s+1)%i],e[(s+2)%i])):t<0?e[0]-(n(-r,e[0],e[0],e[1],e[1])-e[0]):t>1?e[i]-(n(r-i,e[i],e[i],e[i-1],e[i-1])-e[i]):n(r-s,e[s?s-1:0],e[s],e[i<s+1?i:s+1],e[i<s+2?i:s+2])}},36316:e=>{e.exports=function(e,t,i,n,r){var s,a;return(s=1-e)*s*s*t+3*(a=1-e)*a*e*i+3*(1-e)*e*e*n+e*e*e*r}},28392:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(28915);e.exports=function(e,t){var i=e.length-1,r=i*t,s=Math.floor(r);return t<0?n(e[0],e[1],r):t>1?n(e[i],e[i-1],i-r):n(e[s],e[s+1>i?i:s+1],r-s)}},32112:e=>{e.exports=function(e,t,i,n){var r;return(r=1-e)*r*t+2*(1-e)*e*i+e*e*n}},47235:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7602);e.exports=function(e,t,i){return t+(i-t)*n(e,0,1)}},50178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(54261);e.exports=function(e,t,i){return t+(i-t)*n(e,0,1)}},38289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:e=>{e.exports=function(e){return 1<<Math.ceil(Math.log(e)/.6931471805599453)}},50030:e=>{e.exports=function(e,t){return e>0&&(e&e-1)==0&&t>0&&(t&t-1)==0}},81230:e=>{e.exports=function(e){return e>0&&(e&e-1)==0}},49001:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){void 0===e&&(e=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],e&&this.init(e)},rnd:function(){var e=2091639*this.s0+23283064365386963e-26*this.c;return this.c=0|e,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},hash:function(e){var t,i=this.n;e=e.toString();for(var n=0;n<e.length;n++)i+=e.charCodeAt(n),i=(t=.02519603282416938*i)>>>0,t-=i,t*=i,i=t>>>0,t-=i,i+=4294967296*t;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(e){"string"==typeof e?this.state(e):this.sow(e)},sow:function(e){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,e)for(var t=0;t<e.length&&null!=e[t];t++){var i=e[t];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+(2097152*this.rnd()|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){var e="",t="";for(t=e="";e++<36;t+=~e%5|3*e&4?(15^e?8^this.frac()*(20^e?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-.5)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(e){return"string"==typeof e&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(e){for(var t=e.length-1,i=t;i>0;i--){var n=Math.floor(this.frac()*(i+1)),r=e[n];e[n]=e[i],e[i]=r}return e}});e.exports=n},63448:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.ceil(e/t),n?(i+e)/t:i+e)}},56583:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.floor(e/t),n?(i+e)/t:i+e)}},77720:e=>{e.exports=function(e,t,i,n){return(void 0===i&&(i=0),0===t)?e:(e-=i,e=t*Math.round(e/t),n?(i+e)/t:i+e)}},73697:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var n=i(8054),r=i(79291),s={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};s.Sound=i(23717),s=r(!1,s,n),e.exports=s,i.g.Phaser=s},71289:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92209),s=i(88571),a=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Collision,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Pushable,r.Size,r.Velocity],initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.body=null}});e.exports=a},86689:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39506),s=i(20339),a=i(89774),o=i(66022),h=i(95540),c=i(46975),l=i(72441),u=i(47956),d=i(37277),f=i(44594),p=i(26099),g=i(82248),m=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,e.sys.events.once(f.BOOT,this.boot,this),e.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new o(this.world));var e=this.systems.events;h(this.config,"customUpdate",!1)||e.on(f.UPDATE,this.world.update,this.world),e.on(f.POST_UPDATE,this.world.postUpdate,this.world),e.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var e=this.systems.game.config.physics;return c(h(this.systems.settings.physics,"arcade",{}),h(e,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(e,t,i,n,r,!0)},collide:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(e,t,i,n,r,!1)},collideTiles:function(e,t,i,n,r){return this.world.collideTiles(e,t,i,n,r)},overlapTiles:function(e,t,i,n,r){return this.world.overlapTiles(e,t,i,n,r)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,i,n,r,s){void 0===n&&(n=60);var a=Math.atan2(i-e.y,t-e.x);return e.body.acceleration.setToPolar(a,n),void 0!==r&&void 0!==s&&e.body.maxVelocity.set(r,s),a},accelerateToObject:function(e,t,i,n,r){return this.accelerateTo(e,t.x,t.y,i,n,r)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var i=Number.MAX_VALUE,n=null,r=e.x,s=e.y,o=t.length,h=0;h<o;h++){var c=t[h],l=c.body||c;if(e!==c&&e!==l&&e!==l.gameObject&&e!==l.center){var u=a(r,s,l.center.x,l.center.y);u<i&&(n=c,i=u)}}return n},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var i=-1,n=null,r=e.x,s=e.y,o=t.length,h=0;h<o;h++){var c=t[h],l=c.body||c;if(e!==c&&e!==l&&e!==l.gameObject&&e!==l.center){var u=a(r,s,l.center.x,l.center.y);u>i&&(n=c,i=u)}}return n},moveTo:function(e,t,i,n,r){void 0===n&&(n=60),void 0===r&&(r=0);var a=Math.atan2(i-e.y,t-e.x);return r>0&&(n=s(e.x,e.y,t,i)/(r/1e3)),e.body.velocity.setToPolar(a,n),a},moveToObject:function(e,t,i,n){return this.moveTo(e,t.x,t.y,i,n)},velocityFromAngle:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new p),i.setToPolar(r(e),t)},velocityFromRotation:function(e,t,i){return void 0===t&&(t=60),void 0===i&&(i=new p),i.setToPolar(e,t)},overlapRect:function(e,t,i,n,r,s){return u(this.world,e,t,i,n,r,s)},overlapCirc:function(e,t,i,n,r){return l(this.world,e,t,i,n,r)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(f.UPDATE,this.world.update,this.world),e.off(f.POST_UPDATE,this.world.postUpdate,this.world),e.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",m,"arcadePhysics"),e.exports=m},13759:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92209),s=i(68287),a=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Collision,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Pushable,r.Size,r.Velocity],initialize:function(e,t,i,n,r){s.call(this,e,t,i,n,r),this.body=null}});e.exports=a},37742:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(78389),s=i(37747),a=i(63012),o=i(43396),h=i(87841),c=i(37303),l=i(95829),u=i(26099),d=new n({Mixins:[r],initialize:function(e,t){var i=64,n=64,r=void 0!==t;r&&t.displayWidth&&(i=t.displayWidth,n=t.displayHeight),r||(t={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=e,this.gameObject=r?t:void 0,this.isBody=!0,this.transform={x:t.x,y:t.y,rotation:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,displayOriginX:t.displayOriginX,displayOriginY:t.displayOriginY},this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(t.x-t.scaleX*t.displayOriginX,t.y-t.scaleY*t.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=i,this.height=n,this.sourceWidth=i,this.sourceHeight=n,t.frame&&(this.sourceWidth=t.frame.realWidth,this.sourceHeight=t.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(n/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=e.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=t.scaleX,this._sy=t.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var e=this.gameObject,t=this.transform;if(e.parentContainer){var i=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);t.x=i.tx,t.y=i.ty,t.rotation=o(i.rotation),t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY}else t.x=e.x,t.y=e.y,t.rotation=e.angle,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY;var n=!1;if(this.syncBounds){var r=e.getBounds(this._bounds);this.width=r.width,this.height=r.height,n=!0}else{var s=Math.abs(t.scaleX),a=Math.abs(t.scaleY);(this._sx!==s||this._sy!==a)&&(this.width=this.sourceWidth*s,this.height=this.sourceHeight*a,this._sx=s,this._sy=a,n=!0)}n&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var e=this.transform;this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter()},resetFlags:function(e){void 0===e&&(e=!1);var t=this.wasTouching,i=this.touching,n=this.blocked;e?l(!0,t):(t.none=i.none,t.up=i.up,t.down=i.down,t.left=i.left,t.right=i.right),l(!0,i),l(!0,n),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,t){if(e&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var i=this.position;this.prev.x=i.x,this.prev.y=i.y,this.prevFrame.x=i.x,this.prevFrame.y=i.y}e&&this.update(t)},update:function(e){var t=this.prev,i=this.position,n=this.velocity;if(t.set(i.x,i.y),!this.moves){this._dx=i.x-t.x,this._dy=i.y-t.y;return}if(this.directControl){var r=this.autoFrame;n.set((i.x-r.x)/e,(i.y-r.y)/e),this.world.updateMotion(this,e),this._dx=i.x-r.x,this._dy=i.y-r.y}else this.world.updateMotion(this,e),this.newVelocity.set(n.x*e,n.y*e),i.add(this.newVelocity),this._dx=i.x-t.x,this._dy=i.y-t.y;var s=n.x,o=n.y;if(this.updateCenter(),this.angle=Math.atan2(o,s),this.speed=Math.sqrt(s*s+o*o),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var h=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,h.up,h.down,h.left,h.right)}},postUpdate:function(){var e=this.position,t=e.x-this.prevFrame.x,i=e.y-this.prevFrame.y,n=this.gameObject;if(this.moves){var r=this.deltaMax.x,a=this.deltaMax.y;0!==r&&0!==t&&(t<0&&t<-r?t=-r:t>0&&t>r&&(t=r)),0!==a&&0!==i&&(i<0&&i<-a?i=-a:i>0&&i>a&&(i=a)),n&&(n.x+=t,n.y+=i)}t<0?this.facing=s.FACING_LEFT:t>0&&(this.facing=s.FACING_RIGHT),i<0?this.facing=s.FACING_UP:i>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&n&&(n.angle+=this.deltaZ()),this._tx=t,this._ty=i,this.autoFrame.set(e.x,e.y)},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,t=this.velocity,i=this.blocked,n=this.customBoundsRectangle,r=this.world.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,a=this.worldBounce?-this.worldBounce.y:-this.bounce.y,o=!1;return e.x<n.x&&r.left?(e.x=n.x,t.x*=s,i.left=!0,o=!0):this.right>n.right&&r.right&&(e.x=n.right-this.width,t.x*=s,i.right=!0,o=!0),e.y<n.y&&r.up?(e.y=n.y,t.y*=a,i.up=!0,o=!0):this.bottom>n.bottom&&r.down&&(e.y=n.bottom-this.height,t.y*=a,i.down=!0,o=!0),o&&(this.blocked.none=!1,this.updateCenter()),o},setOffset:function(e,t){return void 0===t&&(t=e),this.offset.set(e,t),this},setGameObject:function(e,t){return void 0===t&&(t=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=e,e.body&&(e.body=this),this.setSize(),this.world.add(this),this.enable=t,this},setSize:function(e,t,i){void 0===i&&(i=!0);var n=this.gameObject;if(n&&(!e&&n.frame&&(e=n.frame.realWidth),!t&&n.frame&&(t=n.frame.realHeight)),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&n&&n.getCenter){var r=(n.width-e)/2,s=(n.height-t)/2;this.offset.set(r,s)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=2*e,this.sourceHeight=2*e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter()):this.isCircle=!1,this},reset:function(e,t){this.stop();var i=this.gameObject;i&&(i.setPosition(e,t),this.rotation=i.angle,this.preRotation=i.angle);var n=this.position;i&&i.getTopLeft?i.getTopLeft(n):n.set(e,t),this.prev.copy(n),this.prevFrame.copy(n),this.autoFrame.copy(n),i&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?this.radius>0&&e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom&&(this.center.x-e)*(this.center.x-e)+(this.center.y-t)*(this.center.y-t)<=this.radius*this.radius:c(this,e,t)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,n=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(i,n,this.width/2):(this.checkCollision.up&&e.lineBetween(t.x,t.y,t.x+this.width,t.y),this.checkCollision.right&&e.lineBetween(t.x+this.width,t.y,t.x+this.width,t.y+this.height),this.checkCollision.down&&e.lineBetween(t.x,t.y+this.height,t.x+this.width,t.y+this.height),this.checkCollision.left&&e.lineBetween(t.x,t.y,t.x,t.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(i,n,i+this.velocity.x/2,n+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(e){return void 0===e&&(e=!0),this.directControl=e,this},setCollideWorldBounds:function(e,t,i,n){void 0===e&&(e=!0),this.collideWorldBounds=e;var r=void 0!==t,s=void 0!==i;return(r||s)&&(this.worldBounce||(this.worldBounce=new u),r&&(this.worldBounce.x=t),s&&(this.worldBounce.y=i)),void 0!==n&&(this.onWorldBounds=n),this},setVelocity:function(e,t){return this.velocity.set(e,t),e=this.velocity.x,t=this.velocity.y,this.speed=Math.sqrt(e*e+t*t),this},setVelocityX:function(e){return this.setVelocity(e,this.velocity.y)},setVelocityY:function(e){return this.setVelocity(this.velocity.x,e)},setMaxVelocity:function(e,t){return this.maxVelocity.set(e,t),this},setMaxVelocityX:function(e){return this.maxVelocity.x=e,this},setMaxVelocityY:function(e){return this.maxVelocity.y=e,this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setSlideFactor:function(e,t){return this.slideFactor.set(e,t),this},setBounce:function(e,t){return this.bounce.set(e,t),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,t){return this.acceleration.set(e,t),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return void 0===e&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return void 0===e&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return void 0===e&&(e=!0),this.allowRotation=e,this},setDrag:function(e,t){return this.drag.set(e,t),this},setDamping:function(e){return this.useDamping=e,this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,t){return this.gravity.set(e,t),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,t){return this.friction.set(e,t),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return void 0===e&&(e=!0),this.immovable=e,this},setEnable:function(e){return void 0===e&&(e=!0),this.enable=e,this},processX:function(e,t,i,n){this.x+=e,this.updateCenter(),null!==t&&(this.velocity.x=t*this.slideFactor.x);var r=this.blocked;i&&(r.left=!0,r.none=!1),n&&(r.right=!0,r.none=!1)},processY:function(e,t,i,n){this.y+=e,this.updateCenter(),null!==t&&(this.velocity.y=t*this.slideFactor.y);var r=this.blocked;i&&(r.up=!0,r.none=!1),n&&(r.down=!0,r.none=!1)},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=d},79342:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s,a){this.world=e,this.name="",this.active=!0,this.overlapOnly=t,this.object1=i,this.object2=n,this.collideCallback=r,this.processCallback=s,this.callbackContext=a},setName:function(e){return this.name=e,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});e.exports=n},66022:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71289),r=i(13759),s=i(37742),a=i(83419),o=i(37747),h=i(60758),c=i(72624),l=i(71464),u=new a({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},collider:function(e,t,i,n,r){return this.world.addCollider(e,t,i,n,r)},overlap:function(e,t,i,n,r){return this.world.addOverlap(e,t,i,n,r)},existing:function(e,t){var i=t?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(e,i),e},staticImage:function(e,t,i,r){var s=new n(this.scene,e,t,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},image:function(e,t,i,r){var s=new n(this.scene,e,t,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticSprite:function(e,t,i,n){var s=new r(this.scene,e,t,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},sprite:function(e,t,i,n){var s=new r(this.scene,e,t,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticGroup:function(e,t){return this.sys.updateList.add(new l(this.world,this.world.scene,e,t))},group:function(e,t){return this.sys.updateList.add(new h(this.world,this.world.scene,e,t))},body:function(e,t,i,n){var r=new s(this.world);return r.position.set(e,t),i&&n&&r.setSize(i,n),this.world.add(r,o.DYNAMIC_BODY),r},staticBody:function(e,t,i,n){var r=new c(this.world);return r.position.set(e,t),i&&n&&r.setSize(i,n),this.world.add(r,o.STATIC_BODY),r},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=u},79599:e=>{e.exports=function(e){var t=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)t|=e[i];else t=e;return t}},64897:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747);e.exports=function(e,t,i,r){var s=0,a=e.deltaAbsX()+t.deltaAbsX()+r;return 0===e._dx&&0===t._dx?(e.embedded=!0,t.embedded=!0):e._dx>t._dx?(s=e.right-t.x)>a&&!i||!1===e.checkCollision.right||!1===t.checkCollision.left?s=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0)):e._dx<t._dx&&(-(s=e.x-t.width-t.x)>a&&!i||!1===e.checkCollision.left||!1===t.checkCollision.right?s=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0))),e.overlapX=s,t.overlapX=s,s}},45170:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747);e.exports=function(e,t,i,r){var s=0,a=e.deltaAbsY()+t.deltaAbsY()+r;return 0===e._dy&&0===t._dy?(e.embedded=!0,t.embedded=!0):e._dy>t._dy?(s=e.bottom-t.y)>a&&!i||!1===e.checkCollision.down||!1===t.checkCollision.up?s=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0)):e._dy<t._dy&&(-(s=e.y-t.bottom)>a&&!i||!1===e.checkCollision.up||!1===t.checkCollision.down?s=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0,t.physicsType!==n.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0),e.physicsType!==n.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0))),e.overlapY=s,t.overlapY=s,s}},60758:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13759),r=i(83419),s=i(78389),a=i(37747),o=i(95540),h=i(26479),c=i(41212),l=new r({Extends:h,Mixins:[s],initialize:function(e,t,i,r){if(i||r){if(c(i))r=i,i=null,r.internalCreateCallback=this.createCallbackHandler,r.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&c(i[0])){var s=this;i.forEach(function(e){e.internalCreateCallback=s.createCallbackHandler,e.internalRemoveCallback=s.removeCallbackHandler,e.classType=o(e,"classType",n)}),r=null}else r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}}else r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=e,r&&(r.classType=o(r,"classType",n)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:o(r,"collideWorldBounds",!1),setBoundsRectangle:o(r,"customBoundsRectangle",null),setAccelerationX:o(r,"accelerationX",0),setAccelerationY:o(r,"accelerationY",0),setAllowDrag:o(r,"allowDrag",!0),setAllowGravity:o(r,"allowGravity",!0),setAllowRotation:o(r,"allowRotation",!0),setDamping:o(r,"useDamping",!1),setBounceX:o(r,"bounceX",0),setBounceY:o(r,"bounceY",0),setDragX:o(r,"dragX",0),setDragY:o(r,"dragY",0),setEnable:o(r,"enable",!0),setGravityX:o(r,"gravityX",0),setGravityY:o(r,"gravityY",0),setFrictionX:o(r,"frictionX",0),setFrictionY:o(r,"frictionY",0),setMaxSpeed:o(r,"maxSpeed",-1),setMaxVelocityX:o(r,"maxVelocityX",1e4),setMaxVelocityY:o(r,"maxVelocityY",1e4),setVelocityX:o(r,"velocityX",0),setVelocityY:o(r,"velocityY",0),setAngularVelocity:o(r,"angularVelocity",0),setAngularAcceleration:o(r,"angularAcceleration",0),setAngularDrag:o(r,"angularDrag",0),setMass:o(r,"mass",1),setImmovable:o(r,"immovable",!1)},h.call(this,t,i,r),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.DYNAMIC_BODY);var t=e.body;for(var i in this.defaults)t[i](this.defaults[i])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,i){void 0===i&&(i=0);for(var n=this.getChildren(),r=0;r<n.length;r++)n[r].body.velocity.set(e+r*i,t+r*i);return this},setVelocityX:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.x=e+n*t;return this},setVelocityY:function(e,t){void 0===t&&(t=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.y=e+n*t;return this}});e.exports=l},3017:e=>{var t,i,n,r,s,a,o,h,c,l,u,d,f,p,g,m,v,y=function(){return l&&g&&i.blocked.right?(t.processX(-v,o,!1,!0),1):c&&m&&i.blocked.left?(t.processX(v,o,!0),1):f&&m&&t.blocked.right?(i.processX(-v,h,!1,!0),2):d&&g&&t.blocked.left?(i.processX(v,h,!0),2):0},b=function(e){if(n&&r)v*=.5,0===e||3===e?(t.processX(v,s),i.processX(-v,a)):(t.processX(-v,s),i.processX(v,a));else if(n&&!r)0===e||3===e?t.processX(v,o,!0):t.processX(-v,o,!1,!0);else if(!n&&r)0===e||3===e?i.processX(-v,h,!1,!0):i.processX(v,h,!0);else{var g=.5*v;0===e?p?(t.processX(v,0,!0),i.processX(0,null,!1,!0)):f?(t.processX(g,0,!0),i.processX(-g,0,!1,!0)):(t.processX(g,i.velocity.x,!0),i.processX(-g,null,!1,!0)):1===e?u?(t.processX(0,null,!1,!0),i.processX(v,0,!0)):l?(t.processX(-g,0,!1,!0),i.processX(g,0,!0)):(t.processX(-g,null,!1,!0),i.processX(g,t.velocity.x,!0)):2===e?p?(t.processX(-v,0,!1,!0),i.processX(0,null,!0)):d?(t.processX(-g,0,!1,!0),i.processX(g,0,!0)):(t.processX(-g,i.velocity.x,!1,!0),i.processX(g,null,!0)):3===e&&(u?(t.processX(0,null,!0),i.processX(-v,0,!1,!0)):c?(t.processX(g,0,!0),i.processX(-g,0,!1,!0)):(t.processX(g,i.velocity.y,!0),i.processX(-g,null,!1,!0)))}return!0};e.exports={BlockCheck:y,Check:function(){var e=t.velocity.x,n=i.velocity.x,r=Math.sqrt(n*n*i.mass/t.mass)*(n>0?1:-1),o=Math.sqrt(e*e*t.mass/i.mass)*(e>0?1:-1),h=(r+o)*.5;return(r-=h,o-=h,s=h+r*t.bounce.x,a=h+o*i.bounce.x,c&&m)?b(0):d&&g?b(1):l&&g?b(2):!!f&&!!m&&b(3)},Set:function(e,s,a){t=e,i=s;var b=t.velocity.x,x=i.velocity.x;return n=t.pushable,c=t._dx<0,l=t._dx>0,u=0===t._dx,g=Math.abs(t.right-i.x)<=Math.abs(i.right-t.x),o=x-b*t.bounce.x,r=i.pushable,d=i._dx<0,f=i._dx>0,p=0===i._dx,m=!g,h=b-x*i.bounce.x,v=Math.abs(a),y()},Run:b,RunImmovableBody1:function(e){if(1===e?i.velocity.x=0:g?i.processX(v,h,!0):i.processX(-v,h,!1,!0),t.moves){var n=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;i.y+=n*t.friction.y,i._dy=i.y-i.prev.y}},RunImmovableBody2:function(e){if(2===e?t.velocity.x=0:m?t.processX(v,o,!0):t.processX(-v,o,!1,!0),i.moves){var n=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;t.y+=n*i.friction.y,t._dy=t.y-t.prev.y}}}},47962:e=>{var t,i,n,r,s,a,o,h,c,l,u,d,f,p,g,m,v,y=function(){return l&&g&&i.blocked.down?(t.processY(-v,o,!1,!0),1):c&&m&&i.blocked.up?(t.processY(v,o,!0),1):f&&m&&t.blocked.down?(i.processY(-v,h,!1,!0),2):d&&g&&t.blocked.up?(i.processY(v,h,!0),2):0},b=function(e){if(n&&r)v*=.5,0===e||3===e?(t.processY(v,s),i.processY(-v,a)):(t.processY(-v,s),i.processY(v,a));else if(n&&!r)0===e||3===e?t.processY(v,o,!0):t.processY(-v,o,!1,!0);else if(!n&&r)0===e||3===e?i.processY(-v,h,!1,!0):i.processY(v,h,!0);else{var g=.5*v;0===e?p?(t.processY(v,0,!0),i.processY(0,null,!1,!0)):f?(t.processY(g,0,!0),i.processY(-g,0,!1,!0)):(t.processY(g,i.velocity.y,!0),i.processY(-g,null,!1,!0)):1===e?u?(t.processY(0,null,!1,!0),i.processY(v,0,!0)):l?(t.processY(-g,0,!1,!0),i.processY(g,0,!0)):(t.processY(-g,null,!1,!0),i.processY(g,t.velocity.y,!0)):2===e?p?(t.processY(-v,0,!1,!0),i.processY(0,null,!0)):d?(t.processY(-g,0,!1,!0),i.processY(g,0,!0)):(t.processY(-g,i.velocity.y,!1,!0),i.processY(g,null,!0)):3===e&&(u?(t.processY(0,null,!0),i.processY(-v,0,!1,!0)):c?(t.processY(g,0,!0),i.processY(-g,0,!1,!0)):(t.processY(g,i.velocity.y,!0),i.processY(-g,null,!1,!0)))}return!0};e.exports={BlockCheck:y,Check:function(){var e=t.velocity.y,n=i.velocity.y,r=Math.sqrt(n*n*i.mass/t.mass)*(n>0?1:-1),o=Math.sqrt(e*e*t.mass/i.mass)*(e>0?1:-1),h=(r+o)*.5;return(r-=h,o-=h,s=h+r*t.bounce.y,a=h+o*i.bounce.y,c&&m)?b(0):d&&g?b(1):l&&g?b(2):!!f&&!!m&&b(3)},Set:function(e,s,a){t=e,i=s;var b=t.velocity.y,x=i.velocity.y;return n=t.pushable,c=t._dy<0,l=t._dy>0,u=0===t._dy,g=Math.abs(t.bottom-i.y)<=Math.abs(i.bottom-t.y),o=x-b*t.bounce.y,r=i.pushable,d=i._dy<0,f=i._dy>0,p=0===i._dy,m=!g,h=b-x*i.bounce.y,v=Math.abs(a),y()},Run:b,RunImmovableBody1:function(e){if(1===e?i.velocity.y=0:g?i.processY(v,h,!0):i.processY(-v,h,!1,!0),t.moves){var n=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;i.x+=n*t.friction.x,i._dx=i.x-i.prev.x}},RunImmovableBody2:function(e){if(2===e?t.velocity.y=0:m?t.processY(v,o,!0):t.processY(-v,o,!1,!0),i.moves){var n=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;t.x+=n*i.friction.x,t._dx=t.x-t.prev.x}}}},14087:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(64897),r=i(3017);e.exports=function(e,t,i,s,a){void 0===a&&(a=n(e,t,i,s));var o=e.immovable,h=t.immovable;if(i||0===a||o&&h||e.customSeparateX||t.customSeparateX)return 0!==a||e.embedded&&t.embedded;var c=r.Set(e,t,a);return o||h?(o?r.RunImmovableBody1(c):h&&r.RunImmovableBody2(c),!0):c>0||r.Check()}},89936:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45170),r=i(47962);e.exports=function(e,t,i,s,a){void 0===a&&(a=n(e,t,i,s));var o=e.immovable,h=t.immovable;if(i||0===a||o&&h||e.customSeparateY||t.customSeparateY)return 0!==a||e.embedded&&t.embedded;var c=r.Set(e,t,a);return o||h?(o?r.RunImmovableBody1(c):h&&r.RunImmovableBody2(c),!0):c>0||r.Check()}},95829:e=>{e.exports=function(e,t){return void 0===t&&(t={}),t.none=e,t.up=!1,t.down=!1,t.left=!1,t.right=!1,e||(t.up=!0,t.down=!0,t.left=!0,t.right=!0),t}},72624:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87902),r=i(83419),s=i(78389),a=i(37747),o=i(37303),h=i(95829),c=i(26099),l=new r({Mixins:[s],initialize:function(e,t){var i=64,n=64,r=void 0!==t;r&&t.displayWidth&&(i=t.displayWidth,n=t.displayHeight),r||(t={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=e,this.gameObject=r?t:void 0,this.isBody=!0,this.debugShowBody=e.defaults.debugShowStaticBody,this.debugBodyColor=e.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(t.x-i*t.originX,t.y-n*t.originY),this.width=i,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=c.ZERO,this.allowGravity=!1,this.gravity=c.ZERO,this.bounce=c.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(e,t){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),t&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,t){return void 0===t&&(t=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,t),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,t,i){void 0===i&&(i=!0);var n=this.gameObject;if(n&&n.frame&&(e||(e=n.frame.realWidth),t||(t=n.frame.realHeight)),this.world.staticTree.remove(this),this.width=e,this.height=t,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(t/2),i&&n&&n.getCenter){var r=n.displayWidth/2,s=n.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r-this.halfWidth,s-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,t,i){return void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=2*e,this.height=2*e,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,t){var i=this.gameObject;void 0===e&&(e=i.x),void 0===t&&(t=i.y),this.world.staticTree.remove(this),i.setPosition(e,t),i.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?n(this,e,t):o(this,e,t)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,i=t.x+this.halfWidth,n=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(i,n,this.width/2):e.strokeRect(t.x,t.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=l},71464:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13759),r=i(83419),s=i(78389),a=i(37747),o=i(95540),h=i(26479),c=i(41212),l=new r({Extends:h,Mixins:[s],initialize:function(e,t,i,r){i||r?c(i)?(r=i,i=null,r.internalCreateCallback=this.createCallbackHandler,r.internalRemoveCallback=this.removeCallbackHandler,r.createMultipleCallback=this.createMultipleCallbackHandler,r.classType=o(r,"classType",n)):Array.isArray(i)&&c(i[0])?(r=i,i=null,r.forEach(function(e){e.internalCreateCallback=this.createCallbackHandler,e.internalRemoveCallback=this.removeCallbackHandler,e.createMultipleCallback=this.createMultipleCallbackHandler,e.classType=o(e,"classType",n)})):r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:r={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:n},this.world=e,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,h.call(this,t,i,r),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,a.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,t=0;t<e.length;t++)e[t].body.reset();return this}});e.exports=l},82248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55495),r=i(37742),s=i(45319),a=i(83419),o=i(79342),h=i(37747),c=i(20339),l=i(52816),u=i(50792),d=i(63012),f=i(43855),p=i(5470),g=i(94977),m=i(64897),v=i(45170),y=i(96523),b=i(35154),x=i(36383),E=i(25774),w=i(96602),T=i(87841),S=i(59542),A=i(40012),C=i(14087),_=i(89936),I=i(35072),O=i(72624),P=i(2483),M=i(61340),R=i(26099),L=i(15994),D=new a({Extends:u,initialize:function(e,t){u.call(this),this.scene=e,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new E,this.gravity=new R(b(t,"gravity.x",0),b(t,"gravity.y",0)),this.bounds=new T(b(t,"x",0),b(t,"y",0),b(t,"width",e.sys.scale.width),b(t,"height",e.sys.scale.height)),this.checkCollision={up:b(t,"checkCollision.up",!0),down:b(t,"checkCollision.down",!0),left:b(t,"checkCollision.left",!0),right:b(t,"checkCollision.right",!0)},this.fps=b(t,"fps",60),this.fixedStep=b(t,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=b(t,"timeScale",1),this.OVERLAP_BIAS=b(t,"overlapBias",4),this.TILE_BIAS=b(t,"tileBias",16),this.forceX=b(t,"forceX",!1),this.isPaused=b(t,"isPaused",!1),this._total=0,this.drawDebug=b(t,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:b(t,"debugShowBody",!0),debugShowStaticBody:b(t,"debugShowStaticBody",!0),debugShowVelocity:b(t,"debugShowVelocity",!0),bodyDebugColor:b(t,"debugBodyColor",16711935),staticBodyDebugColor:b(t,"debugStaticBodyColor",255),velocityDebugColor:b(t,"debugVelocityColor",65280)},this.maxEntries=b(t,"maxEntries",16),this.useTree=b(t,"useTree",!0),this.tree=new S(this.maxEntries),this.staticTree=new S(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new M,this._tempMatrix2=new M,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){void 0===t&&(t=h.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];if(n.isParent)for(var r=n.getChildren(),s=0;s<r.length;s++){var a=r[s];a.isParent?this.enable(a,t):this.enableBody(a,t)}else this.enableBody(n,t)}},enableBody:function(e,t){return void 0===t&&(t=h.DYNAMIC_BODY),e.hasTransformComponent&&(e.body||(t===h.DYNAMIC_BODY?e.body=new r(this,e):t===h.STATIC_BODY&&(e.body=new O(this,e))),this.add(e.body)),e},add:function(e){return e.physicsType===h.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===h.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(i.isParent)for(var n=i.getChildren(),r=0;r<n.length;r++){var s=n[r];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===h.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===h.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,i,n,r,s,a,o){return this.bounds.setTo(e,t,i,n),void 0!==r&&this.setBoundsCollision(r,s,a,o),this},setBoundsCollision:function(e,t,i,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=i,this.checkCollision.down=n,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!1,e,t,i,n,r);return this.colliders.add(s),s},addOverlap:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!0,e,t,i,n,r);return this.colliders.add(s),s},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!this.isPaused&&0!==this.bodies.size){var i,n,r=this._frameTime,s=this._frameTimeMS*this.timeScale;this._elapsed+=t;var a=this.bodies.entries,o=this._elapsed>=s;for(this.fixedStep||(r=.001*t,o=!0,this._elapsed=0),i=0;i<a.length;i++)(n=a[i]).enable&&n.preUpdate(o,r);if(o){this._elapsed-=s,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(a));var h=this.colliders.update();for(i=0;i<h.length;i++){var c=h[i];c.active&&c.update()}this.emit(d.WORLD_STEP,r)}for(;this._elapsed>=s;)this._elapsed-=s,this.step(r)}},step:function(e){var t,i,n=this.bodies.entries,r=n.length;for(t=0;t<r;t++)(i=n[t]).enable&&i.update(e);this.useTree&&(this.tree.clear(),this.tree.load(n));var s=this.colliders.update();for(t=0;t<s.length;t++){var a=s[t];a.active&&a.update()}this.emit(d.WORLD_STEP,e),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var e,t,i=this.bodies.entries,n=i.length,r=this.bodies,s=this.staticBodies;if(this.stepsLastFrame)for(e=0,this.stepsLastFrame=0;e<n;e++)(t=i[e]).enable&&t.postUpdate();if(this.drawDebug){var a=this.debugGraphic;for(a.clear(),e=0;e<n;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(a);for(e=0,n=(i=s.entries).length;e<n;e++)(t=i[e]).willDrawDebug()&&t.drawDebug(a)}var o=this.pendingDestroy;if(o.size>0){var c=this.tree,l=this.staticTree;for(e=0,n=(i=o.entries).length;e<n;e++)(t=i[e]).physicsType===h.DYNAMIC_BODY?(c.remove(t),r.delete(t)):t.physicsType===h.STATIC_BODY&&(l.remove(t),s.delete(t)),t.world=void 0,t.gameObject=void 0;o.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,t){var i=e.angularVelocity,n=e.angularAcceleration,r=e.angularDrag,a=e.maxAngular;n?i+=n*t:e.allowDrag&&r&&(p(i-(r*=t),0,.1)?i-=r:g(i+r,0,.1)?i+=r:i=0);var o=(i=s(i,-a,a))-e.angularVelocity;e.angularVelocity+=o,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var i=e.velocity.x,n=e.acceleration.x,r=e.drag.x,a=e.maxVelocity.x,o=e.velocity.y,h=e.acceleration.y,c=e.drag.y,l=e.maxVelocity.y,u=e.speed,d=e.maxSpeed,m=e.allowDrag,v=e.useDamping;e.allowGravity&&(i+=(this.gravity.x+e.gravity.x)*t,o+=(this.gravity.y+e.gravity.y)*t),n?i+=n*t:m&&r&&(v?(i*=r=Math.pow(r,t),f(u=Math.sqrt(i*i+o*o),0,.001)&&(i=0)):p(i-(r*=t),0,.01)?i-=r:g(i+r,0,.01)?i+=r:i=0),h?o+=h*t:m&&c&&(v?(o*=c=Math.pow(c,t),f(u=Math.sqrt(i*i+o*o),0,.001)&&(o=0)):p(o-(c*=t),0,.01)?o-=c:g(o+c,0,.01)?o+=c:o=0),i=s(i,-a,a),o=s(o,-l,l),e.velocity.set(i,o),d>-1&&e.velocity.length()>d&&(e.velocity.normalize().scale(d),u=d),e.speed=u},separate:function(e,t,i,n,r){var s,a,o=!1,h=!0;if(!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t)||i&&!1===i.call(n,e.gameObject||e,t.gameObject||t))return o;if(e.isCircle||t.isCircle){var c=this.separateCircle(e,t,r);c.result?(o=!0,h=!1):(s=c.x,a=c.y,h=!0)}if(h){var l=!1,u=!1,f=this.OVERLAP_BIAS;r?(l=C(e,t,r,f,s),u=_(e,t,r,f,a)):this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(l=C(e,t,r,f,s),this.intersects(e,t)&&(u=_(e,t,r,f,a))):(u=_(e,t,r,f,a),this.intersects(e,t)&&(l=C(e,t,r,f,s))),o=l||u}return o&&(r?(e.onOverlap||t.onOverlap)&&this.emit(d.OVERLAP,e.gameObject,t.gameObject,e,t):(e.onCollide||t.onCollide)&&this.emit(d.COLLIDE,e.gameObject,t.gameObject,e,t)),o},separateCircle:function(e,t,i){m(e,t,!1,0),v(e,t,!1,0);var r=e.isCircle,s=t.isCircle,a=e.center,o=t.center,h=e.immovable,u=t.immovable,d=e.velocity,f=t.velocity,p=0,g=!0;if(r!==s){g=!1;var y=a.x,b=a.y,E=e.halfWidth,w=t.position.x,T=t.position.y,S=t.right,A=t.bottom;s&&(y=o.x,b=o.y,E=t.halfWidth,w=e.position.x,T=e.position.y,S=e.right,A=e.bottom),b<T?y<w?p=c(y,b,w,T)-E:y>S&&(p=c(y,b,S,T)-E):b>A&&(y<w?p=c(y,b,w,A)-E:y>S&&(p=c(y,b,S,A)-E)),p*=-1}else p=e.halfWidth+t.halfWidth-l(a,o);e.overlapR=p,t.overlapR=p;var C=n(a,o),_=(p+x.EPSILON)*Math.cos(C),I=(p+x.EPSILON)*Math.sin(C),O={overlap:p,result:!1,x:_,y:I};if(i&&(!g||g&&0!==p))return O.result=!0,O;if(!g&&0===p||h&&u||e.customSeparateX||t.customSeparateX)return O.x=void 0,O.y=void 0,O;var P=!e.pushable&&!t.pushable;if(g){var M=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),R=(o.x-a.x)/M||0,L=(o.y-a.y)/M||0,D=2*(d.x*R+d.y*L-f.x*R-f.y*L)/(e.mass+t.mass);(h||u||!e.pushable||!t.pushable)&&(D*=2),!h&&e.pushable&&(d.x=d.x-D/e.mass*R,d.y=d.y-D/e.mass*L,d.multiply(e.bounce)),!u&&t.pushable&&(f.x=f.x+D/t.mass*R,f.y=f.y+D/t.mass*L,f.multiply(t.bounce)),h||u||(_*=.5,I*=.5),!h||e.pushable||P?(e.x-=_,e.y-=I,e.updateCenter()):(!u||t.pushable||P)&&(t.x+=_,t.y+=I,t.updateCenter()),O.result=!0}else!h||e.pushable||P?(e.x-=_,e.y-=I,e.updateCenter()):(!u||t.pushable||P)&&(t.x+=_,t.y+=I,t.updateCenter()),O.x=void 0,O.y=void 0;return O},intersects:function(e,t){return e!==t&&(e.isCircle||t.isCircle?e.isCircle?t.isCircle?l(e.center,t.center)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e):!(e.right<=t.left||e.bottom<=t.top||e.left>=t.right||e.top>=t.bottom))},circleBodyIntersects:function(e,t){var i=s(e.center.x,t.left,t.right),n=s(e.center.y,t.top,t.bottom);return(e.center.x-i)*(e.center.x-i)+(e.center.y-n)*(e.center.y-n)<=e.halfWidth*e.halfWidth},overlap:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(e,t,i,n,r,!0)},collide:function(e,t,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(e,t,i,n,r,!1)},collideObjects:function(e,t,i,n,r,s){e.isParent&&(void 0===e.physicsType||void 0===t||e===t)&&(e=e.children.entries),t&&t.isParent&&void 0===t.physicsType&&(t=t.children.entries);var a,o,h=Array.isArray(e),c=Array.isArray(t);if(this._total=0,h||c){if(!h&&c)for(a=0;a<t.length;a++)this.collideHandler(e,t[a],i,n,r,s);else if(h&&!c){if(t)for(a=0;a<e.length;a++)this.collideHandler(e[a],t,i,n,r,s);else for(a=0;a<e.length;a++){var l=e[a];for(o=a+1;o<e.length;o++)a!==o&&this.collideHandler(l,e[o],i,n,r,s)}}else for(a=0;a<e.length;a++)for(o=0;o<t.length;o++)this.collideHandler(e[a],t[o],i,n,r,s)}else this.collideHandler(e,t,i,n,r,s);return this._total>0},collideHandler:function(e,t,i,n,r,s){if(void 0===t&&e.isParent)return this.collideGroupVsGroup(e,e,i,n,r,s);if(!e||!t)return!1;if(e.body||e.isBody){if(t.body||t.isBody)return this.collideSpriteVsSprite(e,t,i,n,r,s);if(t.isParent)return this.collideSpriteVsGroup(e,t,i,n,r,s);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,i,n,r,s)}else if(e.isParent){if(t.body||t.isBody)return this.collideSpriteVsGroup(t,e,i,n,r,s);if(t.isParent)return this.collideGroupVsGroup(e,t,i,n,r,s);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,i,n,r,s)}else if(e.isTilemap){if(t.body||t.isBody)return this.collideSpriteVsTilemapLayer(t,e,i,n,r,s);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,i,n,r,s)}},canCollide:function(e,t){return e&&t&&(e.collisionMask&t.collisionCategory)!=0&&(t.collisionMask&e.collisionCategory)!=0},collideSpriteVsSprite:function(e,t,i,n,r,s){var a=e.isBody?e:e.body,o=t.isBody?t:t.body;return!!this.canCollide(a,o)&&(this.separate(a,o,n,r,s)&&(i&&i.call(r,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,i,n,r,s){var a,o,c,l=e.isBody?e:e.body;if(0!==t.getLength()&&l&&l.enable&&!l.checkCollision.none&&this.canCollide(l,t)){if(this.useTree||t.physicsType===h.STATIC_BODY){var u=this.treeMinMax;u.minX=l.left,u.minY=l.top,u.maxX=l.right,u.maxY=l.bottom;var d=t.physicsType===h.DYNAMIC_BODY?this.tree.search(u):this.staticTree.search(u);for(a=0,o=d.length;a<o;a++)l!==(c=d[a])&&c.enable&&!c.checkCollision.none&&t.contains(c.gameObject)&&this.separate(l,c,n,r,s)&&(i&&i.call(r,l.gameObject,c.gameObject),this._total++)}else{var f=t.getChildren(),p=t.children.entries.indexOf(e);for(a=0,o=f.length;a<o;a++)(c=f[a].body)&&a!==p&&c.enable&&this.separate(l,c,n,r,s)&&(i&&i.call(r,l.gameObject,c.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(e,t,i,n,r,s){if(!this.canCollide(e,t))return!1;var a=e.getChildren();if(0===a.length)return!1;for(var o=!1,h=0;h<a.length;h++)(a[h].body||a[h].isBody)&&this.collideSpriteVsTilemapLayer(a[h],t,i,n,r,s)&&(o=!0);return o},collideTiles:function(e,t,i,n,r){return 0!==t.length&&(!e.body||!!e.body.enable)&&(!e.isBody||!!e.enable)&&this.collideSpriteVsTilesHandler(e,t,i,n,r,!1,!1)},overlapTiles:function(e,t,i,n,r){return 0!==t.length&&(!e.body||!!e.body.enable)&&(!e.isBody||!!e.enable)&&this.collideSpriteVsTilesHandler(e,t,i,n,r,!0,!1)},collideSpriteVsTilemapLayer:function(e,t,i,n,r,s){var a=e.isBody?e:e.body;if(!a.enable||a.checkCollision.none||!this.canCollide(a,t))return!1;var o=t.layer,h=y(a.x-o.tileWidth*t.scaleX,a.y-o.tileHeight*t.scaleY,a.width+o.tileWidth*t.scaleX,a.height+o.tileHeight*t.scaleY,s?null:this.tileFilterOptions,t.scene.cameras.main,t.layer);return 0!==h.length&&this.collideSpriteVsTilesHandler(e,h,i,n,r,s,!0)},collideSpriteVsTilesHandler:function(e,t,i,n,r,s,a){for(var o,h,c=e.isBody?e:e.body,l={left:0,right:0,top:0,bottom:0},u=!1,f=0;f<t.length;f++){var p=(h=(o=t[f]).tilemapLayer).tileToWorldXY(o.x,o.y);l.left=p.x,l.top=p.y,l.right=l.left+o.width*h.scaleX,l.bottom=l.top+o.height*h.scaleY,P(l,c)&&(!n||n.call(r,e,o))&&w(o,e)&&(s||A(f,c,o,l,h,this.TILE_BIAS,a))&&(this._total++,u=!0,i&&i.call(r,e,o),s&&c.onOverlap?this.emit(d.TILE_OVERLAP,e,o,c):c.onCollide&&this.emit(d.TILE_COLLIDE,e,o,c))}return u},collideGroupVsGroup:function(e,t,i,n,r,s){if(0!==e.getLength()&&0!==t.getLength()&&this.canCollide(e,t))for(var a=e.getChildren(),o=0;o<a.length;o++)this.collideSpriteVsGroup(a[o],t,i,n,r,s)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var i=0;i<e.length;i++)this.wrapObject(e[i],t)},wrapObject:function(e,t){void 0===t&&(t=0),e.x=L(e.x,this.bounds.left-t,this.bounds.right+t),e.y=L(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});e.exports=D},1093:e=>{e.exports={setAcceleration:function(e,t){return this.body.acceleration.set(e,t),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}}},59023:e=>{e.exports={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}}},62069:e=>{e.exports={setBounce:function(e,t){return this.body.bounce.set(e,t),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,t,i,n){return this.body.setCollideWorldBounds(e,t,i,n),this}}},78389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79599);e.exports={setCollisionCategory:function(e){return(this.body?this.body:this).collisionCategory=e,this},willCollideWith:function(e){return((this.body?this.body:this).collisionMask&e)!=0},addCollidesWith:function(e){var t=this.body?this.body:this;return t.collisionMask=t.collisionMask|e,this},removeCollidesWith:function(e){var t=this.body?this.body:this;return t.collisionMask=t.collisionMask&~e,this},setCollidesWith:function(e){return(this.body?this.body:this).collisionMask=n(e),this},resetCollisionCategory:function(){var e=this.body?this.body:this;return e.collisionCategory=1,e.collisionMask=2147483647,this}}},87118:e=>{e.exports={setDebug:function(e,t,i){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}}},52819:e=>{e.exports={setDrag:function(e,t){return this.body.drag.set(e,t),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}}},4074:e=>{e.exports={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,t,i,n,r){return e&&this.body.reset(t,i),n&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:e=>{e.exports={setFriction:function(e,t){return this.body.friction.set(e,t),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}}},26775:e=>{e.exports={setGravity:function(e,t){return this.body.gravity.set(e,t),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}}},9437:e=>{e.exports={setImmovable:function(e){return void 0===e&&(e=!0),this.body.immovable=e,this}}},30621:e=>{e.exports={setMass:function(e){return this.body.mass=e,this}}},72441:(e,t,i)=>{var n=i(47956),r=i(96503),s=i(2044),a=i(81491);e.exports=function(e,t,i,o,h,c){var l=n(e,t-o,i-o,2*o,2*o,h,c);if(0===l.length)return l;for(var u=new r(t,i,o),d=new r,f=[],p=0;p<l.length;p++){var g=l[p];g.isCircle?(d.setTo(g.center.x,g.center.y,g.halfWidth),s(u,d)&&f.push(g)):a(u,g)&&f.push(g)}return f}},47956:e=>{e.exports=function(e,t,i,n,r,s,a){void 0===s&&(s=!0),void 0===a&&(a=!1);var o=[],h=[],c=e.treeMinMax;if(c.minX=t,c.minY=i,c.maxX=t+n,c.maxY=i+r,a&&(h=e.staticTree.search(c)),s&&e.useTree)o=e.tree.search(c);else if(s){var l=e.bodies,u={position:{x:t,y:i},left:t,top:i,right:t+n,bottom:i+r,isCircle:!1},d=e.intersects;l.iterate(function(e){d(e,u)&&o.push(e)})}return h.concat(o)}},62121:e=>{e.exports={setPushable:function(e){return void 0===e&&(e=!0),this.body.pushable=e,this}}},29384:e=>{e.exports={setOffset:function(e,t){return this.body.setOffset(e,t),this},setSize:function(e,t,i){return this.body.setSize(e,t,i),this},setBodySize:function(e,t,i){return this.body.setSize(e,t,i),this},setCircle:function(e,t,i){return this.body.setCircle(e,t,i),this}}},15098:e=>{e.exports={setVelocity:function(e,t){return this.body.setVelocity(e,t),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,t){return this.body.maxVelocity.set(e,t),this}}},92209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:e=>{e.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collide"},36768:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="overlap"},60473:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},89954:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},61804:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="tilecollide"},7161:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="tileoverlap"},34689:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="worldbounds"},16006:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="worldstep"},63012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37747),r=i(79291),s={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};s=r(!1,s,n),e.exports=s},96602:e=>{e.exports=function(e,t){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,t,e):!e.layer.callbacks[e.index]||!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,t,e)}},36294:e=>{e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.left=!0):t>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=t,e.updateCenter(),0===e.bounce.x?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x}},67013:e=>{e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.up=!0):t>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=t,e.updateCenter(),0===e.bounce.y?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y}},40012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(21329),r=i(53442),s=i(2483);e.exports=function(e,t,i,a,o,h,c){var l=a.left,u=a.top,d=a.right,f=a.bottom,p=i.faceLeft||i.faceRight,g=i.faceTop||i.faceBottom;if(c||(p=!0,g=!0),!p&&!g)return!1;var m=0,v=0,y=0,b=1;if(t.deltaAbsX()>t.deltaAbsY()?y=-1:t.deltaAbsX()<t.deltaAbsY()&&(b=-1),0!==t.deltaX()&&0!==t.deltaY()&&p&&g&&(y=Math.min(Math.abs(t.position.x-d),Math.abs(t.right-l)),b=Math.min(Math.abs(t.position.y-f),Math.abs(t.bottom-u))),y<b){if(p&&0!==(m=n(t,i,l,d,h,c))&&!s(a,t))return!0;g&&(v=r(t,i,u,f,h,c))}else{if(g&&0!==(v=r(t,i,u,f,h,c))&&!s(a,t))return!0;p&&(m=n(t,i,l,d,h,c))}return 0!==m||0!==v}},21329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36294);e.exports=function(e,t,i,r,s,a){var o=0,h=t.faceLeft,c=t.faceRight,l=t.collideLeft,u=t.collideRight;return a||(h=!0,c=!0,l=!0,u=!0),0>e.deltaX()&&u&&e.checkCollision.left?c&&e.x<r&&(o=e.x-r)<-s&&(o=0):e.deltaX()>0&&l&&e.checkCollision.right&&h&&e.right>i&&(o=e.right-i)>s&&(o=0),0!==o&&(e.customSeparateX?e.overlapX=o:n(e,o)),o}},53442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(67013);e.exports=function(e,t,i,r,s,a){var o=0,h=t.faceTop,c=t.faceBottom,l=t.collideUp,u=t.collideDown;return a||(h=!0,c=!0,l=!0,u=!0),0>e.deltaY()&&u&&e.checkCollision.up?c&&e.y<r&&(o=e.y-r)<-s&&(o=0):e.deltaY()>0&&l&&e.checkCollision.down&&h&&e.bottom>i&&(o=e.bottom-i)>s&&(o=0),0!==o&&(e.customSeparateY?e.overlapY=o:n(e,o)),o}},2483:e=>{e.exports=function(e,t){return!(t.right<=e.left||t.bottom<=e.top||t.position.x>=e.right||t.position.y>=e.bottom)}},55173:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};e.exports=n},44563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Arcade:i(27064),Matter:i(3875)}},68174:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(){this.boundsCenter=new r,this.centerDiff=new r},parseBody:function(e){if(!(e=e.hasOwnProperty("body")?e.body:e).hasOwnProperty("bounds")||!e.hasOwnProperty("centerOfMass"))return!1;var t=this.boundsCenter,i=this.centerDiff,n=e.bounds.max.x-e.bounds.min.x,r=e.bounds.max.y-e.bounds.min.y,s=n*e.centerOfMass.x,a=r*e.centerOfMass.y;return t.set(n/2,r/2),i.set(s-t.x,a-t.y),!0},getTopLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i+n.y+s.y)}return!1},getTopCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+s.x,i+n.y+s.y)}return!1},getTopRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i+n.y+s.y)}return!1},getLeftCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i+s.y)}return!1},getCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.centerDiff;return new r(t+n.x,i+n.y)}return!1},getRightCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i+s.y)}return!1},getBottomLeft:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+n.x+s.x,i-(n.y-s.y))}return!1},getBottomCenter:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t+s.x,i-(n.y-s.y))}return!1},getBottomRight:function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),this.parseBody(e)){var n=this.boundsCenter,s=this.centerDiff;return new r(t-(n.x-s.x),i-(n.y-s.y))}return!1}});e.exports=s},19933:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6790);n.Body=i(22562),n.Composite=i(69351),n.World=i(4372),n.Collision=i(52284),n.Detector=i(81388),n.Pairs=i(99561),n.Pair=i(4506),n.Query=i(73296),n.Resolver=i(66272),n.Constraint=i(48140),n.Common=i(53402),n.Engine=i(48413),n.Events=i(35810),n.Sleeping=i(53614),n.Plugin=i(73832),n.Bodies=i(66280),n.Composites=i(74116),n.Axes=i(66615),n.Bounds=i(15647),n.Svg=i(74058),n.Vector=i(31725),n.Vertices=i(41598),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,e.exports=n},28137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(83419),s=i(74116),a=i(48140),o=i(74058),h=i(75803),c=i(23181),l=i(34803),u=i(73834),d=i(19496),f=i(85791),p=i(98713),g=i(41598),m=new r({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},rectangle:function(e,t,i,r,s){var a=n.rectangle(e,t,i,r,s);return this.world.add(a),a},trapezoid:function(e,t,i,r,s,a){var o=n.trapezoid(e,t,i,r,s,a);return this.world.add(o),o},circle:function(e,t,i,r,s){var a=n.circle(e,t,i,r,s);return this.world.add(a),a},polygon:function(e,t,i,r,s){var a=n.polygon(e,t,i,r,s);return this.world.add(a),a},fromVertices:function(e,t,i,r,s,a,o){"string"==typeof i&&(i=g.fromPath(i));var h=n.fromVertices(e,t,i,r,s,a,o);return this.world.add(h),h},fromPhysicsEditor:function(e,t,i,n,r){void 0===r&&(r=!0);var s=d.parseBody(e,t,i,n);return r&&!this.world.has(s)&&this.world.add(s),s},fromSVG:function(e,t,i,r,s,a){void 0===r&&(r=1),void 0===s&&(s={}),void 0===a&&(a=!0);for(var h=i.getElementsByTagName("path"),c=[],l=0;l<h.length;l++){var u=o.pathToVertices(h[l],30);1!==r&&g.scale(u,r,r),c.push(u)}var d=n.fromVertices(e,t,c,s);return a&&this.world.add(d),d},fromJSON:function(e,t,i,n,r){void 0===n&&(n={}),void 0===r&&(r=!0);var s=f.parseBody(e,t,i,n);return s&&r&&this.world.add(s),s},imageStack:function(e,t,i,n,r,a,o,h,l){void 0===o&&(o=0),void 0===h&&(h=0),void 0===l&&(l={});var u=this.world,d=this.sys.displayList;l.addToWorld=!1;var f=s.stack(i,n,r,a,o,h,function(i,n){var r=new c(u,i,n,e,t,l);return d.add(r),r.body});return u.add(f),f},stack:function(e,t,i,n,r,a,o){var h=s.stack(e,t,i,n,r,a,o);return this.world.add(h),h},pyramid:function(e,t,i,n,r,a,o){var h=s.pyramid(e,t,i,n,r,a,o);return this.world.add(h),h},chain:function(e,t,i,n,r,a){return s.chain(e,t,i,n,r,a)},mesh:function(e,t,i,n,r){return s.mesh(e,t,i,n,r)},newtonsCradle:function(e,t,i,n,r){var a=s.newtonsCradle(e,t,i,n,r);return this.world.add(a),a},car:function(e,t,i,n,r){var a=s.car(e,t,i,n,r);return this.world.add(a),a},softBody:function(e,t,i,n,r,a,o,h,c,l){var u=s.softBody(e,t,i,n,r,a,o,h,c,l);return this.world.add(u),u},joint:function(e,t,i,n,r){return this.constraint(e,t,i,n,r)},spring:function(e,t,i,n,r){return this.constraint(e,t,i,n,r)},constraint:function(e,t,i,n,r){void 0===n&&(n=1),void 0===r&&(r={}),r.bodyA="body"===e.type?e:e.body,r.bodyB="body"===t.type?t:t.body,isNaN(i)||(r.length=i),r.stiffness=n;var s=a.create(r);return this.world.add(s),s},worldConstraint:function(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n={}),n.bodyB="body"===e.type?e:e.body,isNaN(t)||(n.length=t),n.stiffness=i;var r=a.create(n);return this.world.add(r),r},mouseSpring:function(e){return this.pointerConstraint(e)},pointerConstraint:function(e){void 0===e&&(e={}),e.hasOwnProperty("render")||(e.render={visible:!1});var t=new p(this.scene,this.world,e);return this.world.add(t.constraint),t},image:function(e,t,i,n,r){var s=new c(this.world,e,t,i,n,r);return this.sys.displayList.add(s),s},tileBody:function(e,t){return new u(this.world,e,t)},sprite:function(e,t,i,n,r){var s=new l(this.world,e,t,i,n,r);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(e,t,i){return h(this.world,e,t,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=m},75803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(31884),r=i(95540),s=i(26099);e.exports=function(e,t,i,a){void 0===i&&(i={}),void 0===a&&(a=!0);var o=t.x,h=t.y;if(t.body={temp:!0,position:{x:o,y:h}},[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity].forEach(function(e){for(var i in e){var n;(n=e[i]).get&&"function"==typeof n.get||n.set&&"function"==typeof n.set?Object.defineProperty(t,i,{get:e[i].get,set:e[i].set}):Object.defineProperty(t,i,{value:e[i]})}}),t.world=e,t._tempVec2=new s(o,h),i.hasOwnProperty("type")&&"body"===i.type)t.setExistingBody(i,a);else{var c=r(i,"shape",null);c||(c="rectangle"),i.addToWorld=a,t.setBody(c,i)}return t}},23181:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31884),s=i(95643),a=i(95540),o=i(88571),h=i(72699),c=i(26099),l=new n({Extends:o,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,h],initialize:function(e,t,i,n,r,o){s.call(this,e.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,r),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new c(t,i);var h=a(o,"shape",null);h?this.setBody(h,o):this.setRectangle(this.width,this.height,o),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=l},42045:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(60461),r=i(66615),s=i(66280),a=i(22562),o=i(68174),h=i(15647),c=i(83419),l=i(52284),u=i(53402),d=i(69351),f=i(74116),p=i(48140),g=i(81388),m=i(20339),v=i(28137),y=i(95540),b=i(35154),x=i(46975),E=i(4506),w=i(99561),T=i(37277),S=i(73296),A=i(66272),C=i(44594),_=i(74058),I=i(31725),O=i(41598),P=i(68243);u.setDecomp(i(55973));var M=new c({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=d,this.collision=l,this.detector=g,this.pair=E,this.pairs=w,this.query=S,this.resolver=A,this.constraint=p,this.bodies=s,this.composites=f,this.axes=r,this.bounds=h,this.svg=_,this.vector=I,this.vertices=O,this.verts=O,this._tempVec2=I.create(),A._restingThresh=b(this.config,"restingThresh",4),A._restingThreshTangent=b(this.config,"restingThreshTangent",6),A._positionDampen=b(this.config,"positionDampen",.9),A._positionWarming=b(this.config,"positionWarming",.8),A._frictionNormalMultiplier=b(this.config,"frictionNormalMultiplier",5),e.sys.events.once(C.BOOT,this.boot,this),e.sys.events.on(C.START,this.start,this)},boot:function(){this.world=new P(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new o,this.systems.events.once(C.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new P(this.scene,this.config),this.add=new v(this.world));var e=this.systems.events;e.on(C.UPDATE,this.world.update,this.world),e.on(C.POST_UPDATE,this.world.postUpdate,this.world),e.once(C.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics;return x(y(this.systems.settings.physics,"matter",{}),y(e,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(e,t){this.world.step(e,t)},containsPoint:function(e,t,i){e=this.getMatterBodies(e);var n=I.create(t,i);return S.point(e,n).length>0},intersectPoint:function(e,t,i){i=this.getMatterBodies(i);var n=I.create(e,t),r=[];return S.point(i,n).forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r},intersectRect:function(e,t,i,n,r,s){void 0===r&&(r=!1),s=this.getMatterBodies(s);var a=[];return S.region(s,{min:{x:e,y:t},max:{x:e+i,y:t+n}},r).forEach(function(e){-1===a.indexOf(e)&&a.push(e)}),a},intersectRay:function(e,t,i,n,r,s){void 0===r&&(r=1),s=this.getMatterBodies(s);for(var a=[],o=S.ray(s,I.create(e,t),I.create(i,n),r),h=0;h<o.length;h++)a.push(o[h].body);return a},intersectBody:function(e,t){t=this.getMatterBodies(t);for(var i=[],n=S.collides(e,t),r=0;r<n.length;r++){var s=n[r];s.bodyA===e?i.push(s.bodyB):i.push(s.bodyA)}return i},overlap:function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),Array.isArray(e)||(e=[e]),e=this.getMatterBodies(e),t=this.getMatterBodies(t);for(var s=!1,a=0;a<e.length;a++)for(var o=e[a],h=S.collides(o,t),c=0;c<h.length;c++){var l=h[c],u=l.bodyA.id===o.id?l.bodyB:l.bodyA;if(!n||n.call(r,o,u,l)){if(s=!0,i)i.call(r,o,u,l);else if(!n)return!0}}return s},setCollisionCategory:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){e.collisionFilter.category=t}),this},setCollisionGroup:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){e.collisionFilter.group=t}),this},setCollidesWith:function(e,t){e=this.getMatterBodies(e);var i=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)i|=t[n];else i=t;return e.forEach(function(e){e.collisionFilter.mask=i}),this},getMatterBodies:function(e){if(!e)return this.world.getAllBodies();Array.isArray(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i].hasOwnProperty("body")?e[i].body:e[i];t.push(n)}return t},setVelocity:function(e,t,i){e=this.getMatterBodies(e);var n=this._tempVec2;return n.x=t,n.y=i,e.forEach(function(e){a.setVelocity(e,n)}),this},setVelocityX:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.x=t,e.forEach(function(e){i.y=e.velocity.y,a.setVelocity(e,i)}),this},setVelocityY:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return i.y=t,e.forEach(function(e){i.x=e.velocity.x,a.setVelocity(e,i)}),this},setAngularVelocity:function(e,t){return(e=this.getMatterBodies(e)).forEach(function(e){a.setAngularVelocity(e,t)}),this},applyForce:function(e,t){e=this.getMatterBodies(e);var i=this._tempVec2;return e.forEach(function(e){i.x=e.position.x,i.y=e.position.y,a.applyForce(e,i,t)}),this},applyForceFromPosition:function(e,t,i,n){e=this.getMatterBodies(e);var r=this._tempVec2;return e.forEach(function(e){void 0===n&&(n=e.angle),r.x=i*Math.cos(n),r.y=i*Math.sin(n),a.applyForce(e,t,r)}),this},applyForceFromAngle:function(e,t,i){e=this.getMatterBodies(e);var n=this._tempVec2;return e.forEach(function(e){void 0===i&&(i=e.angle),n.x=t*Math.cos(i),n.y=t*Math.sin(i),a.applyForce(e,{x:e.position.x,y:e.position.y},n)}),this},getConstraintLength:function(e){var t=e.pointA.x,i=e.pointA.y,n=e.pointB.x,r=e.pointB.y;return e.bodyA&&(t+=e.bodyA.position.x,i+=e.bodyA.position.y),e.bodyB&&(n+=e.bodyB.position.x,r+=e.bodyB.position.y),m(t,i,n,r)},alignBody:function(e,t,i,r){var s;switch(e=e.hasOwnProperty("body")?e.body:e,r){case n.TOP_LEFT:case n.LEFT_TOP:s=this.bodyBounds.getTopLeft(e,t,i);break;case n.TOP_CENTER:s=this.bodyBounds.getTopCenter(e,t,i);break;case n.TOP_RIGHT:case n.RIGHT_TOP:s=this.bodyBounds.getTopRight(e,t,i);break;case n.LEFT_CENTER:s=this.bodyBounds.getLeftCenter(e,t,i);break;case n.CENTER:s=this.bodyBounds.getCenter(e,t,i);break;case n.RIGHT_CENTER:s=this.bodyBounds.getRightCenter(e,t,i);break;case n.LEFT_BOTTOM:case n.BOTTOM_LEFT:s=this.bodyBounds.getBottomLeft(e,t,i);break;case n.BOTTOM_CENTER:s=this.bodyBounds.getBottomCenter(e,t,i);break;case n.BOTTOM_RIGHT:case n.RIGHT_BOTTOM:s=this.bodyBounds.getBottomRight(e,t,i)}return s&&a.setPosition(e,s),this},shutdown:function(){var e=this.systems.events;this.world&&(e.off(C.UPDATE,this.world.update,this.world),e.off(C.POST_UPDATE,this.world.postUpdate,this.world)),e.off(C.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.systems=null}});T.register("MatterPhysics",M,"matterPhysics"),e.exports=M},34803:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(9674),r=i(83419),s=i(31884),a=i(95643),o=i(95540),h=i(72699),c=i(68287),l=i(26099),u=new r({Extends:c,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,h],initialize:function(e,t,i,r,s,h){a.call(this,e.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n(this),this.setTexture(r,s),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new l(t,i);var c=o(h,"shape",null);c?this.setBody(c,h):this.setRectangle(this.width,this.height,h),this.setPosition(t,i),this.initPipeline(),this.initPostPipeline(!0)}});e.exports=u},73834:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(83419),a=i(31884),o=i(62644),h=i(50792),c=i(95540),l=i(97022),u=i(41598),d=new s({Extends:h,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(e,t,i){h.call(this),this.tile=t,this.world=e,t.physics.matterBody&&t.physics.matterBody.destroy(),t.physics.matterBody=this;var n=c(i,"body",null),s=c(i,"addToWorld",!0);if(n?this.setBody(n,s):c(t.getCollisionGroup(),"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i),t.flipX||t.flipY){var a={x:t.getCenterX(),y:t.getCenterY()},o=t.flipX?-1:1,l=t.flipY?-1:1;r.scale(n,o,l,a)}},setFromTileRectangle:function(e){void 0===e&&(e={}),l(e,"isStatic")||(e.isStatic=!0),l(e,"addToWorld")||(e.addToWorld=!0);var t=this.tile.getBounds(),i=t.x+t.width/2,r=t.y+t.height/2,s=n.rectangle(i,r,t.width,t.height,e);return this.setBody(s,e.addToWorld),this},setFromTileCollision:function(e){void 0===e&&(e={}),l(e,"isStatic")||(e.isStatic=!0),l(e,"addToWorld")||(e.addToWorld=!0);for(var t=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,s=this.tile.getLeft(),a=this.tile.getTop(),h=c(this.tile.getCollisionGroup(),"objects",[]),d=[],f=0;f<h.length;f++){var p=h[f],g=s+p.x*t,m=a+p.y*i,v=p.width*t,y=p.height*i,b=null;if(p.rectangle)b=n.rectangle(g+v/2,m+y/2,v,y,e);else if(p.ellipse)b=n.circle(g+v/2,m+y/2,v/2,e);else if(p.polygon||p.polyline){var x=(p.polygon?p.polygon:p.polyline).map(function(e){return{x:e.x*t,y:e.y*i}}),E=u.create(x),w=u.centre(E);g+=w.x,m+=w.y,b=n.fromVertices(g,m,E,e)}b&&d.push(b)}if(1===d.length)this.setBody(d[0],e.addToWorld);else if(d.length>1){var T=o(e);T.parts=d,this.setBody(r.create(T),T.addToWorld)}return this},setBody:function(e,t){return void 0===t&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});e.exports=d},19496:(e,t,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(53402),a=i(95540),o=i(41598);e.exports={parseBody:function(e,t,i,n){void 0===n&&(n={});for(var o=a(i,"fixtures",[]),h=[],c=0;c<o.length;c++)for(var l=this.parseFixture(o[c]),u=0;u<l.length;u++)h.push(l[u]);var d=s.clone(i,!0);s.extend(d,n,!0),delete d.fixtures,delete d.type;var f=r.create(d);return r.setParts(f,h),r.setPosition(f,{x:e,y:t}),f},parseFixture:function(e){var t,i=s.extend({},!1,e);if(delete i.circle,delete i.vertices,e.circle){var r=a(e.circle,"x"),o=a(e.circle,"y"),h=a(e.circle,"radius");t=[n.circle(r,o,h,i)]}else e.vertices&&(t=this.parseVertices(e.vertices,i));return t},parseVertices:function(e,t){void 0===t&&(t={});for(var i=[],a=0;a<e.length;a++)o.clockwiseSort(e[a]),i.push(r.create(s.extend({position:o.centre(e[a]),vertices:e[a]},t)));return n.flagCoincidentParts(i)}}},85791:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562);e.exports={parseBody:function(e,t,i,s){void 0===s&&(s={});var a,o=i.vertices;if(1===o.length)s.vertices=o[0],a=r.create(s),n.flagCoincidentParts(a.parts);else{for(var h=[],c=0;c<o.length;c++){var l=r.create({vertices:o[c]});h.push(l)}n.flagCoincidentParts(h),s.parts=h,a=r.create(s)}return a.label=i.label,r.setPosition(a,{x:e,y:t}),a}}},98713:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(15647),r=i(83419),s=i(69351),a=i(48140),o=i(81388),h=i(1121),c=i(8214),l=i(46975),u=i(53614),d=i(26099),f=i(41598),p=new r({initialize:function(e,t,i){void 0===i&&(i={}),this.scene=e,this.world=t,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=a.create(l(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(h.BEFORE_UPDATE,this.update,this),e.sys.input.on(c.POINTER_DOWN,this.onDown,this),e.sys.input.on(c.POINTER_UP,this.onUp,this)},onDown:function(e){this.pointer||(this.pointer=e,this.camera=e.camera)},onUp:function(e){e===this.pointer&&(this.pointer=null)},getBody:function(e){var t=this.position,i=this.constraint;this.camera.getWorldPoint(e.x,e.y,t);for(var r=s.allBodies(this.world.localWorld),a=0;a<r.length;a++){var c=r[a];if(!c.ignorePointer&&n.contains(c.bounds,t)&&o.canCollide(c.collisionFilter,i.collisionFilter)&&this.hitTestBody(c,t))return this.world.emit(h.DRAG_START,c,this.part,this),!0}return!1},hitTestBody:function(e,t){for(var i=this.constraint,n=e.parts.length,r=n>1?1:0,s=r;s<n;s++){var a=e.parts[s];if(f.contains(a.vertices,t))return i.pointA=t,i.pointB={x:t.x-e.position.x,y:t.y-e.position.y},i.bodyB=e,i.angleB=e.angle,u.set(e,!1),this.part=a,this.body=e,!0}return!1},update:function(){var e=this.pointer,t=this.body;if(!this.active||!e){t&&this.stopDrag();return}if(!e.isDown&&t){this.stopDrag();return}if(e.isDown){if(!this.camera||!t&&!this.getBody(e))return;t=this.body;var i=this.position,n=this.constraint;this.camera.getWorldPoint(e.x,e.y,i),n.pointA.x=i.x,n.pointA.y=i.y,u.set(t,!1),this.world.emit(h.DRAG,t,this)}},stopDrag:function(){var e=this.body,t=this.constraint;t.bodyB=null,t.pointB=null,this.pointer=null,this.body=null,this.part=null,e&&this.world.emit(h.DRAG_END,e,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(h.BEFORE_UPDATE,this.update),this.scene.sys.input.off(c.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(c.POINTER_UP,this.onUp,this)}});e.exports=p},68243:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(83419),a=i(53402),o=i(69351),h=i(48413),c=i(50792),l=i(1121),u=i(95540),d=i(35154),f=i(22562),p=i(35810),g=i(73834),m=i(4372),v=i(13037),y=i(31725),b=new s({Extends:c,initialize:function(e,t){c.call(this),this.scene=e,this.engine=h.create(t),this.localWorld=this.engine.world;var i=d(t,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(t,"enabled",!0),this.getDelta=d(t,"getDelta",this.update60Hz);var n=u(t,"runner",{}),r=u(n,"fps",!1),s=u(n,"fps",60),a=u(n,"delta",1e3/s),o=u(n,"deltaMin",1e3/s),l=u(n,"deltaMax",1e3/(.5*s));r||(s=1e3/a),this.runner={fps:s,deltaSampleSize:u(n,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:u(n,"isFixed",!1),delta:a,deltaMin:o,deltaMax:l},this.autoUpdate=d(t,"autoUpdate",!0);var f=d(t,"debug",!1);if(this.drawDebug="object"==typeof f||f,this.debugGraphic,this.debugConfig={showAxes:u(f,"showAxes",!1),showAngleIndicator:u(f,"showAngleIndicator",!1),angleColor:u(f,"angleColor",15208787),showBroadphase:u(f,"showBroadphase",!1),broadphaseColor:u(f,"broadphaseColor",16757760),showBounds:u(f,"showBounds",!1),boundsColor:u(f,"boundsColor",16777215),showVelocity:u(f,"showVelocity",!1),velocityColor:u(f,"velocityColor",44783),showCollisions:u(f,"showCollisions",!1),collisionColor:u(f,"collisionColor",16094476),showSeparations:u(f,"showSeparations",!1),separationColor:u(f,"separationColor",16753920),showBody:u(f,"showBody",!0),showStaticBody:u(f,"showStaticBody",!0),showInternalEdges:u(f,"showInternalEdges",!1),renderFill:u(f,"renderFill",!1),renderLine:u(f,"renderLine",!0),fillColor:u(f,"fillColor",1075465),fillOpacity:u(f,"fillOpacity",1),lineColor:u(f,"lineColor",2678297),lineOpacity:u(f,"lineOpacity",1),lineThickness:u(f,"lineThickness",1),staticFillColor:u(f,"staticFillColor",857979),staticLineColor:u(f,"staticLineColor",1255396),showSleeping:u(f,"showSleeping",!1),staticBodySleepOpacity:u(f,"staticBodySleepOpacity",.7),sleepFillColor:u(f,"sleepFillColor",4605510),sleepLineColor:u(f,"sleepLineColor",10066585),showSensors:u(f,"showSensors",!0),sensorFillColor:u(f,"sensorFillColor",857979),sensorLineColor:u(f,"sensorLineColor",1255396),showPositions:u(f,"showPositions",!0),positionSize:u(f,"positionSize",4),positionColor:u(f,"positionColor",14697178),showJoint:u(f,"showJoint",!0),jointColor:u(f,"jointColor",14737474),jointLineOpacity:u(f,"jointLineOpacity",1),jointLineThickness:u(f,"jointLineThickness",2),pinSize:u(f,"pinSize",4),pinColor:u(f,"pinColor",4382944),springColor:u(f,"springColor",14697184),anchorColor:u(f,"anchorColor",15724527),anchorSize:u(f,"anchorSize",4),showConvexHulls:u(f,"showConvexHulls",!1),hullColor:u(f,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(t,"setBounds",!1)){var p=t.setBounds;if("boolean"==typeof p)this.setBounds();else{var g=u(p,"x",0),m=u(p,"y",0),v=u(p,"width",e.sys.scale.width),y=u(p,"height",e.sys.scale.height),b=u(p,"thickness",64),x=u(p,"left",!0),E=u(p,"right",!0),w=u(p,"top",!0),T=u(p,"bottom",!0);this.setBounds(g,m,v,y,b,x,E,w,T)}}},setCompositeRenderStyle:function(e){var t,i,n,r=e.bodies,s=e.constraints,a=e.composites;for(t=0;t<r.length;t++)n=(i=r[t]).render,this.setBodyRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.fillColor,n.fillOpacity);for(t=0;t<s.length;t++)n=(i=s[t]).render,this.setConstraintRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.pinSize,n.anchorColor,n.anchorSize);for(t=0;t<a.length;t++)i=a[t],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(e,t,i,n,r,s){var a=e.render,o=this.debugConfig;return a&&(null==t&&(t=e.isStatic?o.staticLineColor:o.lineColor),null==i&&(i=o.lineOpacity),null==n&&(n=o.lineThickness),null==r&&(r=e.isStatic?o.staticFillColor:o.fillColor),null==s&&(s=o.fillOpacity),!1!==t&&(a.lineColor=t),!1!==i&&(a.lineOpacity=i),!1!==n&&(a.lineThickness=n),!1!==r&&(a.fillColor=r),!1!==s&&(a.fillOpacity=s)),this},setConstraintRenderStyle:function(e,t,i,n,r,s,a){var o=e.render,h=this.debugConfig;if(!o)return this;if(null==t){var c=o.type;"line"===c?t=h.jointColor:"pin"===c?t=h.pinColor:"spring"===c&&(t=h.springColor)}return null==i&&(i=h.jointLineOpacity),null==n&&(n=h.jointLineThickness),null==r&&(r=h.pinSize),null==s&&(s=h.anchorColor),null==a&&(a=h.anchorSize),!1!==t&&(o.lineColor=t),!1!==i&&(o.lineOpacity=i),!1!==n&&(o.lineThickness=n),!1!==r&&(o.pinSize=r),!1!==s&&(o.anchorColor=s),!1!==a&&(o.anchorSize=a),this},setEventsProxy:function(){var e=this,t=this.engine,i=this.localWorld;this.drawDebug&&(p.on(i,"compositeModified",function(t){e.setCompositeRenderStyle(t)}),p.on(i,"beforeAdd",function(t){for(var i=[].concat(t.object),n=0;n<i.length;n++){var r=i[n],s=r.render;"body"===r.type?e.setBodyRenderStyle(r,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity):"composite"===r.type?e.setCompositeRenderStyle(r):"constraint"===r.type&&e.setConstraintRenderStyle(r,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize)}})),p.on(i,"beforeAdd",function(t){e.emit(l.BEFORE_ADD,t)}),p.on(i,"afterAdd",function(t){e.emit(l.AFTER_ADD,t)}),p.on(i,"beforeRemove",function(t){e.emit(l.BEFORE_REMOVE,t)}),p.on(i,"afterRemove",function(t){e.emit(l.AFTER_REMOVE,t)}),p.on(t,"beforeUpdate",function(t){e.emit(l.BEFORE_UPDATE,t)}),p.on(t,"afterUpdate",function(t){e.emit(l.AFTER_UPDATE,t)}),p.on(t,"collisionStart",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collide",i,n,e),n.gameObject&&n.gameObject.emit("collide",n,i,e),p.trigger(i,"onCollide",{pair:e}),p.trigger(n,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),n.onCollideCallback&&n.onCollideCallback(e),i.onCollideWith[n.id]&&i.onCollideWith[n.id](n,e),n.onCollideWith[i.id]&&n.onCollideWith[i.id](i,e)}),e.emit(l.COLLISION_START,t,i,n)}),p.on(t,"collisionActive",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collideActive",i,n,e),n.gameObject&&n.gameObject.emit("collideActive",n,i,e),p.trigger(i,"onCollideActive",{pair:e}),p.trigger(n,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),n.onCollideActiveCallback&&n.onCollideActiveCallback(e)}),e.emit(l.COLLISION_ACTIVE,t,i,n)}),p.on(t,"collisionEnd",function(t){var i,n,r=t.pairs;r.length>0&&r.map(function(e){i=e.bodyA,n=e.bodyB,i.gameObject&&i.gameObject.emit("collideEnd",i,n,e),n.gameObject&&n.gameObject.emit("collideEnd",n,i,e),p.trigger(i,"onCollideEnd",{pair:e}),p.trigger(n,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),n.onCollideEndCallback&&n.onCollideEndCallback(e)}),e.emit(l.COLLISION_END,t,i,n)})},setBounds:function(e,t,i,n,r,s,a,o,h){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===r&&(r=64),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===h&&(h=!0),this.updateWall(s,"left",e-r,t-r,r,n+2*r),this.updateWall(a,"right",e+i,t-r,r,n+2*r),this.updateWall(o,"top",e,t-r,i,r),this.updateWall(h,"bottom",e,t+n,i,r),this},updateWall:function(e,t,i,n,r,s){var a=this.walls[t];e?(a&&m.remove(this.localWorld,a),i+=r/2,n+=s/2,this.walls[t]=this.create(i,n,r,s,{isStatic:!0,friction:0,frictionStatic:0})):(a&&m.remove(this.localWorld,a),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=1),void 0===i&&(i=.001),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,this.localWorld.gravity.scale=i,this},create:function(e,t,i,r,s){var a=n.rectangle(e,t,i,r,s);return m.add(this.localWorld,a),a},add:function(e){return m.add(this.localWorld,e),this},remove:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i],r=n.body?n.body:n;o.remove(this.localWorld,r,t)}return this},removeConstraint:function(e,t){return o.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var i=e.layer,n=e.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(n,t),this},convertTiles:function(e,t){if(0===e.length)return this;for(var i=0;i<e.length;i++)new g(this,e[i],t);return this},nextGroup:function(e){return f.nextGroup(e)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(l.RESUME),this},update:function(e){if(this.enabled&&this.autoUpdate){var t=this.engine,i=this.runner,n=a.now(),r=i.delta,s=0,o=e-i.timeLastTick;if((!o||!i.timeLastTick||o>Math.max(v._maxFrameDelta,i.maxFrameTime))&&(o=i.frameDelta||v._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(o),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var c=i.frameDeltaHistory.slice(0).sort(),l=i.frameDeltaHistory.slice(c.length*v._smoothingLowerBound,c.length*v._smoothingUpperBound);o=v._mean(l)||o}i.frameDeltaSnapping&&(o=1e3/Math.round(1e3/o)),i.frameDelta=o,i.timeLastTick=e,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+r*v._timeBufferMargin),i.lastUpdatesDeferred=0;for(var u=i.maxUpdates||Math.ceil(i.maxFrameTime/r),d=a.now();r>0&&i.timeBuffer>=r*v._timeBufferMargin;){h.update(t,r),i.timeBuffer-=r,s+=1;var f=a.now()-n,p=a.now()-d,g=f+v._elapsedNextEstimate*p/s;if(s>=u||g>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/r-v._timeBufferMargin));break}}}},step:function(e){h.update(this.engine,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(e){var t=e.hasOwnProperty("body")?e.body:e;return null!==o.get(this.localWorld,t.id,t.type)},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var e=this.debugConfig,t=this.engine,i=this.debugGraphic,n=o.allBodies(this.localWorld);this.debugGraphic.clear(),e.showBroadphase&&t.broadphase.controller&&this.renderGrid(t.broadphase,i,e.broadphaseColor,.5),e.showBounds&&this.renderBodyBounds(n,i,e.boundsColor,.5),(e.showBody||e.showStaticBody)&&this.renderBodies(n),e.showJoint&&this.renderJoints(),(e.showAxes||e.showAngleIndicator)&&this.renderBodyAxes(n,i,e.showAxes,e.angleColor,.5),e.showVelocity&&this.renderBodyVelocity(n,i,e.velocityColor,1,2),e.showSeparations&&this.renderSeparations(t.pairs.list,i,e.separationColor),e.showCollisions&&this.renderCollisions(t.pairs.list,i,e.collisionColor)}},renderGrid:function(e,t,i,n){t.lineStyle(1,i,n);for(var r=a.keys(e.buckets),s=0;s<r.length;s++){var o=r[s];if(!(e.buckets[o].length<2)){var h=o.split(/C|R/);t.strokeRect(parseInt(h[1],10)*e.bucketWidth,parseInt(h[2],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}return this},renderSeparations:function(e,t,i){t.lineStyle(1,i,1);for(var n=0;n<e.length;n++){var r=e[n];if(r.isActive){var s=r.collision,a=s.bodyA,o=s.bodyB,h=a.position,c=o.position,l=s.penetration,u=a.isStatic||o.isStatic?1:4;o.isStatic&&(u=0),t.lineBetween(c.x,c.y,c.x-l.x*u,c.y-l.y*u),u=a.isStatic||o.isStatic?1:4,a.isStatic&&(u=0),t.lineBetween(h.x,h.y,h.x-l.x*u,h.y-l.y*u)}}return this},renderCollisions:function(e,t,i){for(t.lineStyle(1,i,.5),t.fillStyle(i,1),n=0;n<e.length;n++)if((r=e[n]).isActive)for(var n,r,s=0;s<r.contactCount;s++){var a=r.contacts[s].vertex;a&&t.fillRect(a.x-2,a.y-2,5,5)}for(n=0;n<e.length;n++)if((r=e[n]).isActive){var o=r.collision,h=r.contacts;if(r.contactCount>0){var c=h[0].vertex.x,l=h[0].vertex.y;2===r.contactCount&&(c=(h[0].vertex.x+h[1].vertex.x)/2,l=(h[0].vertex.y+h[1].vertex.y)/2),o.bodyB===o.supports[0].body||o.bodyA.isStatic?t.lineBetween(c-8*o.normal.x,l-8*o.normal.y,c,l):t.lineBetween(c+8*o.normal.x,l+8*o.normal.y,c,l)}}return this},renderBodyBounds:function(e,t,i,n){t.lineStyle(1,i,n);for(var r=0;r<e.length;r++){var s=e[r];if(s.render.visible){var a=s.bounds;if(a)t.strokeRect(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y);else for(var o=s.parts,h=o.length>1?1:0;h<o.length;h++){var c=o[h];t.strokeRect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}}return this},renderBodyAxes:function(e,t,i,n,r){t.lineStyle(1,n,r);for(var s=0;s<e.length;s++){var a,o,h,c=e[s],l=c.parts;if(c.render.visible){if(i)for(o=l.length>1?1:0;o<l.length;o++)for(h=0,a=l[o];h<a.axes.length;h++){var u=a.axes[h];t.lineBetween(a.position.x,a.position.y,a.position.x+20*u.x,a.position.y+20*u.y)}else for(o=l.length>1?1:0;o<l.length;o++)for(h=0,a=l[o];h<a.axes.length;h++)t.lineBetween(a.position.x,a.position.y,(a.vertices[0].x+a.vertices[a.vertices.length-1].x)/2,(a.vertices[0].y+a.vertices[a.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(e,t,i,n,r){t.lineStyle(r,i,n);for(var s=0;s<e.length;s++){var a=e[s];a.render.visible&&t.lineBetween(a.position.x,a.position.y,a.position.x+(a.position.x-a.positionPrev.x)*2,a.position.y+(a.position.y-a.positionPrev.y)*2)}return this},renderBodies:function(e){for(var t=this.debugGraphic,i=this.debugConfig,n=i.showBody,r=i.showStaticBody,s=i.showSleeping,a=i.showInternalEdges,o=i.showConvexHulls,h=i.renderFill,c=i.renderLine,l=i.staticBodySleepOpacity,u=i.sleepFillColor,d=i.sleepLineColor,f=i.hullColor,p=0;p<e.length;p++){var g=e[p];if(g.render.visible&&(r||!g.isStatic)&&(n||g.isStatic)){var m=g.render.lineColor,v=g.render.lineOpacity,y=g.render.lineThickness,b=g.render.fillColor,x=g.render.fillOpacity;s&&g.isSleeping&&(g.isStatic?(v*=l,x*=l):(m=d,b=u)),h||(b=null),c||(m=null),this.renderBody(g,t,a,m,v,y,b,x);var E=g.parts.length;o&&E>1&&this.renderConvexHull(g,t,f,y)}}},renderBody:function(e,t,i,n,r,s,a,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=1),void 0===a&&(a=null),void 0===o&&(o=null);for(var h=this.debugConfig,c=h.sensorFillColor,l=h.sensorLineColor,u=e.parts,d=u.length,f=d>1?1:0;f<d;f++){var p=u[f],g=p.render,m=g.opacity;if(g.visible&&0!==m&&(!p.isSensor||h.showSensors)){var v=p.circleRadius;if(t.beginPath(),p.isSensor?(null!==a&&t.fillStyle(c,o*m),null!==n&&t.lineStyle(s,l,r*m)):(null!==a&&t.fillStyle(a,o*m),null!==n&&t.lineStyle(s,n,r*m)),v)t.arc(p.position.x,p.position.y,v,0,2*Math.PI);else{var y=p.vertices,b=y.length;t.moveTo(y[0].x,y[0].y);for(var x=1;x<b;x++){var E=y[x];if(!y[x-1].isInternal||i?t.lineTo(E.x,E.y):t.moveTo(E.x,E.y),x<b&&E.isInternal&&!i){var w=(x+1)%b;t.moveTo(y[w].x,y[w].y)}}t.closePath()}null!==a&&t.fillPath(),null!==n&&t.strokePath()}}if(h.showPositions&&!e.isStatic){var T=e.position.x,S=e.position.y,A=Math.ceil(h.positionSize/2);t.fillStyle(h.positionColor,1),t.fillRect(T-A,S-A,h.positionSize,h.positionSize)}return this},renderConvexHull:function(e,t,i,n){if(void 0===n&&(n=1),e.parts.length>1){var r=e.vertices;t.lineStyle(n,i),t.beginPath(),t.moveTo(r[0].x,r[0].y);for(var s=1;s<r.length;s++)t.lineTo(r[s].x,r[s].y);t.lineTo(r[0].x,r[0].y),t.strokePath()}return this},renderJoints:function(){for(var e=this.debugGraphic,t=o.allConstraints(this.localWorld),i=0;i<t.length;i++){var n=t[i].render,r=n.lineColor,s=n.lineOpacity,a=n.lineThickness,h=n.pinSize,c=n.anchorColor,l=n.anchorSize;this.renderConstraint(t[i],e,r,s,a,h,c,l)}},renderConstraint:function(e,t,i,n,r,s,o,h){var c=e.render;if(!c.visible||!e.pointA||!e.pointB)return this;t.lineStyle(r,i,n);var l=e.bodyA,u=e.bodyB;if(d=l?y.add(l.position,e.pointA):e.pointA,"pin"===c.type)t.strokeCircle(d.x,d.y,s);else{if(f=u?y.add(u.position,e.pointB):e.pointB,t.beginPath(),t.moveTo(d.x,d.y),"spring"===c.type)for(var d,f,p,g=y.sub(f,d),m=y.perp(y.normalise(g)),v=Math.ceil(a.clamp(e.length/5,12,20)),b=1;b<v;b+=1)p=b%2==0?1:-1,t.lineTo(d.x+g.x*(b/v)+m.x*p*4,d.y+g.y*(b/v)+m.y*p*4);t.lineTo(f.x,f.y)}return t.strokePath(),c.anchors&&h>0&&(t.fillStyle(o),t.fillCircle(d.x,d.y,h),t.fillCircle(f.x,f.y,h)),this},resetCollisionIDs:function(){return r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),h.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});e.exports=b},70410:e=>{e.exports={setBounce:function(e){return this.body.restitution=e,this}}},66968:e=>{e.exports={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var t=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)t|=e[i];else t=e;return this.body.collisionFilter.mask=t,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,t){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=e[i].hasOwnProperty("body")?e[i].body:e[i];this.body.setOnCollideWith(n,t)}return this}}},51607:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),n.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,t){return n.applyForce(this.body,e,t),this},thrust:function(e){var t=this.body.angle;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var t=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var t=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var t=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:e=>{e.exports={setFriction:function(e,t,i){return this.body.friction=e,void 0!==t&&(this.body.frictionAir=t),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}}},39858:e=>{e.exports={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}}},37302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562),r=i(26099);e.exports={setMass:function(e){return n.setMass(this.body,e),this},setDensity:function(e){return n.setDensity(this.body,e),this},centerOfMass:{get:function(){return new r(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:e=>{e.exports={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}}},57772:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(66280),r=i(22562),s=i(43855),a=i(95540),o=i(19496),h=i(85791),c=i(41598);e.exports={setRectangle:function(e,t,i){return this.setBody({type:"rectangle",width:e,height:t},i)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,i){return this.setBody({type:"polygon",sides:t,radius:e},i)},setTrapezoid:function(e,t,i,n){return this.setBody({type:"trapezoid",width:e,height:t,slope:i},n)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var i=0;i<e.parts.length;i++)e.parts[i].gameObject=this;var n=this;if(e.destroy=function(){n.world.remove(n.body,!0),n.body.gameObject=null},t&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var r=e.render.sprite.xOffset,a=e.render.sprite.yOffset,o=e.centerOfMass.x,h=e.centerOfMass.y;if(s(o,.5)&&s(h,.5))this.setOrigin(r+.5,a+.5);else{var c=e.centerOffset.x,l=e.centerOffset.y;this.setOrigin(r+c/this.displayWidth,a+l/this.displayHeight)}}return this},setBody:function(e,t){if(!e)return this;"string"==typeof e&&(e={type:e});var i,s=a(e,"type","rectangle"),l=a(e,"x",this._tempVec2.x),u=a(e,"y",this._tempVec2.y),d=a(e,"width",this.width),f=a(e,"height",this.height);switch(s){case"rectangle":i=n.rectangle(l,u,d,f,t);break;case"circle":var p=a(e,"radius",Math.max(d,f)/2),g=a(e,"maxSides",25);i=n.circle(l,u,p,t,g);break;case"trapezoid":var m=a(e,"slope",.5);i=n.trapezoid(l,u,d,f,m,t);break;case"polygon":var v=a(e,"sides",5),y=a(e,"radius",Math.max(d,f)/2);i=n.polygon(l,u,v,y,t);break;case"fromVertices":case"fromVerts":var b=a(e,"verts",null);if(b){if("string"==typeof b&&(b=c.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))r.setVertices(this.body,b),i=this.body;else{var x=a(e,"flagInternal",!1),E=a(e,"removeCollinear",.01),w=a(e,"minimumArea",10);i=n.fromVertices(l,u,b,t,x,E,w)}}break;case"fromPhysicsEditor":i=o.parseBody(l,u,e,t);break;case"fromPhysicsTracer":i=h.parseBody(l,u,e,t)}return i&&this.setExistingBody(i,e.addToWorld),this}}},38083:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(1121),r=i(53614),s=i(35810);e.exports={setToSleep:function(){return r.set(this.body,!0),this},setAwake:function(){return r.set(this.body,!1),this},setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(e){if(e){var t=this.world;s.on(this.body,"sleepStart",function(e){t.emit(n.SLEEP_START,e,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(e){if(e){var t=this.world;s.on(this.body,"sleepEnd",function(e){t.emit(n.SLEEP_END,e,this)})}else s.off(this.body,"sleepEnd");return this}}},90556:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={setStatic:function(e){return n.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}}},85436:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562),r=i(36383),s=i(86554),a=i(30954);e.exports={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),n.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),n.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleX=e,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,t,i),n.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var t=1/this._scaleX,i=1/this._scaleY;this._scaleY=e,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,t,i),n.scale(this.body,this._scaleX,e)}},angle:{get:function(){return a(this.body.angle*r.RAD_TO_DEG)},set:function(e){this.rotation=a(e)*r.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=s(e),n.setAngle(this.body,this._rotation)}},setPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._tempVec2.set(e,t),n.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return void 0===e&&(e=0),this._rotation=s(e),n.setAngle(this.body,e),this},setFixedRotation:function(){return n.setInertia(this.body,1/0),this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,n.setAngle(this.body,this.rotation),this},setScale:function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=e);var r=1/this._scaleX,s=1/this._scaleY;return this._scaleX=e,this._scaleY=t,n.scale(this.body,r,s,i),n.scale(this.body,e,t,i),this}}},42081:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(22562);e.exports={setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),n.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),n.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,t){return this._tempVec2.set(e,t),n.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return n.getVelocity(this.body)},setAngularVelocity:function(e){return n.setAngularVelocity(this.body,e),this},getAngularVelocity:function(){return n.getAngularVelocity(this.body)},setAngularSpeed:function(e){return n.setAngularSpeed(this.body,e),this},getAngularSpeed:function(){return n.getAngularSpeed(this.body)}}},31884:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afteradd"},1213:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afterremove"},25968:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="afterupdate"},67205:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeadd"},39438:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeremove"},44823:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="beforeupdate"},92593:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionactive"},60128:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionend"},76861:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="collisionstart"},92362:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragend"},76408:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="drag"},93971:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="dragstart"},5656:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},47861:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},79099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleepend"},35906:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleepstart"},1121:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(e,t,i)=>{var n,r={};e.exports=r;var s=i(41598),a=i(31725),o=i(53614),h=i(53402),c=i(15647),l=i(66615);r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(e){var t={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:e.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:1e3/60,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=s.centre(e.vertices):e.hasOwnProperty("vertices")||(t.vertices=s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var i=h.extend(t,e);return n(i,e),i.setOnCollideWith=function(e,t){return t?this.onCollideWith[e.id]=t:delete this.onCollideWith[e.id],this},i},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory},n=function(e,t){if(t=t||{},r.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||a.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),s.rotate(e.vertices,e.angle,e.position),l.rotate(e.axes,e.angle),c.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia}),1===e.parts.length){var i=e.bounds,n=e.centerOfMass,o=e.centerOffset,h=i.max.x-i.min.x,u=i.max.y-i.min.y;n.x=-(i.min.x-e.position.x)/h,n.y=-(i.min.y-e.position.y)/u,o.x=h*n.x,o.y=u*n.y}},r.set=function(e,t,i){var n;for(n in"string"==typeof t&&(n=t,(t={})[n]=i),t)if(Object.prototype.hasOwnProperty.call(t,n))switch(i=t[n],n){case"isStatic":r.setStatic(e,i);break;case"isSleeping":o.set(e,i);break;case"mass":r.setMass(e,i);break;case"density":r.setDensity(e,i);break;case"inertia":r.setInertia(e,i);break;case"vertices":r.setVertices(e,i);break;case"position":r.setPosition(e,i);break;case"angle":r.setAngle(e,i);break;case"velocity":r.setVelocity(e,i);break;case"angularVelocity":r.setAngularVelocity(e,i);break;case"speed":r.setSpeed(e,i);break;case"angularSpeed":r.setAngularSpeed(e,i);break;case"parts":r.setParts(e,i);break;case"centre":r.setCentre(e,i);break;default:e[n]=i}},r.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var n=e.parts[i];t?(n.isStatic||(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia}),n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null),n.isStatic=t}},r.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=t/6*i,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=s.create(t,e),e.axes=l.fromVertices(e.vertices),e.area=s.area(e.vertices),r.setMass(e,e.density*e.area);var i=s.centre(e.vertices);s.translate(e.vertices,i,-1),r.setInertia(e,r._inertiaScale*s.inertia(e.vertices,e.mass)),s.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,i){for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,n=0;n<t.length;n++){var n,a=t[n];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(i=void 0===i||i){var o=[];for(n=0;n<t.length;n++)o=o.concat(t[n].vertices);s.clockwiseSort(o);var h=s.hull(o),l=s.centre(h);r.setVertices(e,h),s.translate(e.vertices,l)}var u=r._totalProperties(e),d=u.centre.x,f=u.centre.y,p=e.bounds,g=e.centerOfMass,m=e.centerOffset;c.update(p,e.vertices,e.velocity),g.x=-(p.min.x-d)/(p.max.x-p.min.x),g.y=-(p.min.y-f)/(p.max.y-p.min.y),m.x=d,m.y=f,e.area=u.area,e.parent=e,e.position.x=d,e.position.y=f,e.positionPrev.x=d,e.positionPrev.y=f,r.setMass(e,u.mass),r.setInertia(e,u.inertia),r.setPosition(e,u.centre)}},r.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t,i){var n=a.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=n.x,e.velocity.y=n.y,e.speed=a.magnitude(n)):(e.positionPrev.x+=n.x,e.positionPrev.y+=n.y);for(var r=0;r<e.parts.length;r++){var o=e.parts[r];o.position.x+=n.x,o.position.y+=n.y,s.translate(o.vertices,n),c.update(o.bounds,o.vertices,e.velocity)}},r.setAngle=function(e,t,i){var n=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=n,e.angularSpeed=Math.abs(n)):e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var o=e.parts[r];o.angle+=n,s.rotate(o.vertices,n,e.position),l.rotate(o.axes,n),c.update(o.bounds,o.vertices,e.velocity),r>0&&a.rotateAbout(o.position,n,e.position,o.position)}},r.setVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=a.magnitude(e.velocity)},r.getVelocity=function(e){var t=r._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},r.getSpeed=function(e){return a.magnitude(r.getVelocity(e))},r.setSpeed=function(e,t){r.setVelocity(e,a.mult(a.normalise(r.getVelocity(e)),t))},r.setAngularVelocity=function(e,t){var i=e.deltaTime/r._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},r.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*r._baseDelta/e.deltaTime},r.getAngularSpeed=function(e){return Math.abs(r.getAngularVelocity(e))},r.setAngularSpeed=function(e,t){r.setAngularVelocity(e,h.sign(r.getAngularVelocity(e))*t)},r.translate=function(e,t,i){r.setPosition(e,a.add(e.position,t),i)},r.rotate=function(e,t,i,n){if(i){var s=Math.cos(t),a=Math.sin(t),o=e.position.x-i.x,h=e.position.y-i.y;r.setPosition(e,{x:i.x+(o*s-h*a),y:i.y+(o*a+h*s)},n),r.setAngle(e,e.angle+t,n)}else r.setAngle(e,e.angle+t,n)},r.scale=function(e,t,i,n){var a=0,o=0;n=n||e.position;for(var h=e.inertia===1/0,u=0;u<e.parts.length;u++){var d=e.parts[u];d.scale.x=t,d.scale.y=i,s.scale(d.vertices,t,i,n),d.axes=l.fromVertices(d.vertices),d.area=s.area(d.vertices),r.setMass(d,e.density*d.area),s.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*s.inertia(d.vertices,d.mass)),s.translate(d.vertices,{x:d.position.x,y:d.position.y}),u>0&&(a+=d.area,o+=d.inertia),d.position.x=n.x+(d.position.x-n.x)*t,d.position.y=n.y+(d.position.y-n.y)*i,c.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(r.setMass(e,e.density*a),r.setInertia(e,o))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null),h&&r.setInertia(e,1/0)},r.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,n=r._timeCorrection?t/(e.deltaTime||t):1,o=1-e.frictionAir*(t/h._baseDelta),u=(e.position.x-e.positionPrev.x)*n,d=(e.position.y-e.positionPrev.y)*n;e.velocity.x=u*o+e.force.x/e.mass*i,e.velocity.y=d*o+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*o*n+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=a.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var p=e.parts[f];s.translate(p.vertices,e.velocity),f>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(s.rotate(p.vertices,e.angularVelocity,e.position),l.rotate(p.axes,e.angularVelocity),f>0&&a.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),c.update(p.bounds,p.vertices,e.velocity)}},r.updateVelocities=function(e){var t=r._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},r.applyForce=function(e,t,i){var n={x:t.x-e.position.x,y:t.y-e.position.y};e.force.x+=i.x,e.force.y+=i.y,e.torque+=n.x*i.y-n.y*i.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var n=e.parts[i],r=n.mass!==1/0?n.mass:1;t.mass+=r,t.area+=n.area,t.inertia+=n.inertia,t.centre=a.add(t.centre,a.mult(n.position,r))}return t.centre=a.div(t.centre,t.mass),t},r.wrap=function(e,t){var i=c.wrap(e.bounds,t);return i&&r.translate(e,i),i}},69351:(e,t,i)=>{var n={};e.exports=n;var r=i(35810),s=i(53402),a=i(15647),o=i(22562);n.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},n.setModified=function(e,t,i,s){if(r.trigger(e,"compositeModified",e),e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&n.setModified(e.parent,t,i,s),s)for(var a=0;a<e.composites.length;a++){var o=e.composites[a];n.setModified(o,t,i,s)}},n.add=function(e,t){var i=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var a=0;a<i.length;a++){var o=i[a];switch(o.type){case"body":if(o.parent!==o){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(e,o);break;case"constraint":n.addConstraint(e,o);break;case"composite":n.addComposite(e,o);break;case"mouseConstraint":n.addConstraint(e,o.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},n.remove=function(e,t,i){var s=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var a=0;a<s.length;a++){var o=s[a];switch(o.type){case"body":n.removeBody(e,o,i);break;case"constraint":n.removeConstraint(e,o,i);break;case"composite":n.removeComposite(e,o,i);break;case"mouseConstraint":n.removeConstraint(e,o.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},n.addComposite=function(e,t){return e.composites.push(t),t.parent=e,n.setModified(e,!0,!0,!1),e},n.removeComposite=function(e,t,i){var r=s.indexOf(e.composites,t);if(-1!==r){var a=n.allBodies(t);n.removeCompositeAt(e,r);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(i)for(var o=0;o<e.composites.length;o++)n.removeComposite(e.composites[o],t,!0);return e},n.removeCompositeAt=function(e,t){return e.composites.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addBody=function(e,t){return e.bodies.push(t),n.setModified(e,!0,!0,!1),e},n.removeBody=function(e,t,i){var r=s.indexOf(e.bodies,t);if(-1!==r&&(n.removeBodyAt(e,r),t.sleepCounter=0),i)for(var a=0;a<e.composites.length;a++)n.removeBody(e.composites[a],t,!0);return e},n.removeBodyAt=function(e,t){return e.bodies.splice(t,1),n.setModified(e,!0,!0,!1),e},n.addConstraint=function(e,t){return e.constraints.push(t),n.setModified(e,!0,!0,!1),e},n.removeConstraint=function(e,t,i){var r=s.indexOf(e.constraints,t);if(-1!==r&&n.removeConstraintAt(e,r),i)for(var a=0;a<e.composites.length;a++)n.removeConstraint(e.composites[a],t,!0);return e},n.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),n.setModified(e,!0,!0,!1),e},n.clear=function(e,t,i){if(i)for(var r=0;r<e.composites.length;r++)n.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,n.setModified(e,!0,!0,!1),e},n.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(n.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},n.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(n.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},n.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(n.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},n.get=function(e,t,i){var r,s;switch(i){case"body":r=n.allBodies(e);break;case"constraint":r=n.allConstraints(e);break;case"composite":r=n.allComposites(e).concat(e)}return r?0===(s=r.filter(function(e){return e.id.toString()===t.toString()})).length?null:s[0]:null},n.move=function(e,t,i){return n.remove(e,t),n.add(i,t),e},n.rebase=function(e){for(var t=n.allBodies(e).concat(n.allConstraints(e)).concat(n.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},n.translate=function(e,t,i){for(var r=i?n.allBodies(e):e.bodies,s=0;s<r.length;s++)o.translate(r[s],t);return e},n.rotate=function(e,t,i,r){for(var s=Math.cos(t),a=Math.sin(t),h=r?n.allBodies(e):e.bodies,c=0;c<h.length;c++){var l=h[c],u=l.position.x-i.x,d=l.position.y-i.y;o.setPosition(l,{x:i.x+(u*s-d*a),y:i.y+(u*a+d*s)}),o.rotate(l,t)}return e},n.scale=function(e,t,i,r,s){for(var a=s?n.allBodies(e):e.bodies,h=0;h<a.length;h++){var c=a[h],l=c.position.x-r.x,u=c.position.y-r.y;o.setPosition(c,{x:r.x+l*t,y:r.y+u*i}),o.scale(c,t,i)}return e},n.bounds=function(e){for(var t=n.allBodies(e),i=[],r=0;r<t.length;r+=1){var s=t[r];i.push(s.bounds.min,s.bounds.max)}return a.create(i)},n.wrap=function(e,t){var i=a.wrap(n.bounds(e),t);return i&&n.translate(e,i),i}},4372:(e,t,i)=>{var n={};e.exports=n;var r=i(69351);n.create=r.create,n.add=r.add,n.remove=r.remove,n.clear=r.clear,n.addComposite=r.addComposite,n.addBody=r.addBody,n.addConstraint=r.addConstraint},52284:(e,t,i)=>{var n,r,s,a={};e.exports=a;var o=i(41598),h=i(4506);n=[],r={overlap:0,axis:null},s={overlap:0,axis:null},a.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(e,t,i){if(a._overlapAxes(r,e.vertices,t.vertices,e.axes),r.overlap<=0||(a._overlapAxes(s,t.vertices,e.vertices,t.axes),s.overlap<=0))return null;var n,c,l=i&&i.table[h.id(e,t)];l?c=l.collision:((c=a.create(e,t)).collided=!0,c.bodyA=e.id<t.id?e:t,c.bodyB=e.id<t.id?t:e,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),e=c.bodyA,t=c.bodyB,n=r.overlap<s.overlap?r:s;var u=c.normal,d=c.tangent,f=c.penetration,p=c.supports,g=n.overlap,m=n.axis,v=m.x,y=m.y;v*(t.position.x-e.position.x)+y*(t.position.y-e.position.y)>=0&&(v=-v,y=-y),u.x=v,u.y=y,d.x=-y,d.y=v,f.x=v*g,f.y=y*g,c.depth=g;var b=a._findSupports(e,t,u,1),x=0;if(o.contains(e.vertices,b[0])&&(p[x++]=b[0]),o.contains(e.vertices,b[1])&&(p[x++]=b[1]),x<2){var E=a._findSupports(t,e,u,-1);o.contains(t.vertices,E[0])&&(p[x++]=E[0]),x<2&&o.contains(t.vertices,E[1])&&(p[x++]=E[1])}return 0===x&&(p[x++]=b[0]),c.supportCount=x,c},a._overlapAxes=function(e,t,i,n){var r,s,a,o,h,c,l=t.length,u=i.length,d=t[0].x,f=t[0].y,p=i[0].x,g=i[0].y,m=n.length,v=Number.MAX_VALUE,y=0;for(h=0;h<m;h++){var b=n[h],x=b.x,E=b.y,w=d*x+f*E,T=p*x+g*E,S=w,A=T;for(c=1;c<l;c+=1)(o=t[c].x*x+t[c].y*E)>S?S=o:o<w&&(w=o);for(c=1;c<u;c+=1)(o=i[c].x*x+i[c].y*E)>A?A=o:o<T&&(T=o);if((r=(s=S-T)<(a=A-w)?s:a)<v&&(v=r,y=h,r<=0))break}e.axis=n[y],e.overlap=v},a._findSupports=function(e,t,i,r){var s,a,o,h=t.vertices,c=h.length,l=e.position.x,u=e.position.y,d=i.x*r,f=i.y*r,p=h[0],g=p,m=d*(l-g.x)+f*(u-g.y);for(o=1;o<c;o+=1)(a=d*(l-(g=h[o]).x)+f*(u-g.y))<m&&(m=a,p=g);return(m=d*(l-(s=h[(c+p.index-1)%c]).x)+f*(u-s.y),d*(l-(g=h[(p.index+1)%c]).x)+f*(u-g.y)<m)?(n[0]=p,n[1]=g):(n[0]=p,n[1]=s),n}},43424:e=>{var t={};e.exports=t,t.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},81388:(e,t,i)=>{var n={};e.exports=n;var r=i(53402),s=i(52284);n.create=function(e){return r.extend({bodies:[],collisions:[],pairs:null},e)},n.setBodies=function(e,t){e.bodies=t.slice(0)},n.clear=function(e){e.bodies=[],e.collisions=[]},n.collisions=function(e){var t,i,r=e.pairs,a=e.bodies,o=a.length,h=n.canCollide,c=s.collides,l=e.collisions,u=0;for(a.sort(n._compareBoundsX),t=0;t<o;t++){var d=a[t],f=d.bounds,p=d.bounds.max.x,g=d.bounds.max.y,m=d.bounds.min.y,v=d.isStatic||d.isSleeping,y=d.parts.length,b=1===y;for(i=t+1;i<o;i++){var x=a[i],E=x.bounds;if(E.min.x>p)break;if(!(g<E.min.y)&&!(m>E.max.y)&&(!v||!x.isStatic&&!x.isSleeping)&&h(d.collisionFilter,x.collisionFilter)){var w=x.parts.length;if(b&&1===w){var T=c(d,x,r);T&&(l[u++]=T)}else for(var S=y>1?1:0,A=w>1?1:0,C=S;C<y;C++)for(var _=d.parts[C],f=_.bounds,I=A;I<w;I++){var O=x.parts[I],E=O.bounds;if(!(f.min.x>E.max.x)&&!(f.max.x<E.min.x)&&!(f.max.y<E.min.y)&&!(f.min.y>E.max.y)){var T=c(_,O,r);T&&(l[u++]=T)}}}}}return l.length!==u&&(l.length=u),l},n.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:(e.mask&t.category)!=0&&(t.mask&e.category)!=0},n._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},4506:(e,t,i)=>{var n={};e.exports=n;var r=i(43424);n.create=function(e,t){var i=e.bodyA,s=e.bodyB,a={id:n.id(i,s),bodyA:i,bodyB:s,collision:e,contacts:[r.create(),r.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||s.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(a,e,t),a},n.update=function(e,t,i){var n=t.supports,r=t.supportCount,s=e.contacts,a=t.parentA,o=t.parentB;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=a.inverseMass+o.inverseMass,e.friction=a.friction<o.friction?a.friction:o.friction,e.frictionStatic=a.frictionStatic>o.frictionStatic?a.frictionStatic:o.frictionStatic,e.restitution=a.restitution>o.restitution?a.restitution:o.restitution,e.slop=a.slop>o.slop?a.slop:o.slop,e.contactCount=r,t.pair=e;var h=n[0],c=s[0],l=n[1],u=s[1];(u.vertex===h||c.vertex===l)&&(s[1]=c,s[0]=c=u,u=s[1]),c.vertex=h,u.vertex=l},n.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.contactCount=0)},n.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},99561:(e,t,i)=>{var n={};e.exports=n;var r=i(4506),s=i(53402);n.create=function(e){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},n.update=function(e,t,i){var n,s,a,o=r.update,h=r.create,c=r.setActive,l=e.table,u=e.list,d=u.length,f=d,p=e.collisionStart,g=e.collisionEnd,m=e.collisionActive,v=t.length,y=0,b=0,x=0;for(a=0;a<v;a++)(s=(n=t[a]).pair)?(s.isActive&&(m[x++]=s),o(s,n,i)):(l[(s=h(n,i)).id]=s,p[y++]=s,u[f++]=s);for(a=0,f=0,d=u.length;a<d;a++)(s=u[a]).timeUpdated>=i?u[f++]=s:(c(s,!1,i),s.collision.bodyA.sleepCounter>0&&s.collision.bodyB.sleepCounter>0?u[f++]=s:(g[b++]=s,delete l[s.id]));u.length!==f&&(u.length=f),p.length!==y&&(p.length=y),g.length!==b&&(g.length=b),m.length!==x&&(m.length=x)},n.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},73296:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(52284),a=i(15647),o=i(66280),h=i(41598);n.collides=function(e,t){for(var i=[],n=t.length,r=e.bounds,o=s.collides,h=a.overlaps,c=0;c<n;c++){var l=t[c],u=l.parts.length,d=1===u?0:1;if(e!==l&&h(l.bounds,r))for(var f=d;f<u;f++){var p=l.parts[f];if(h(p.bounds,r)){var g=o(p,e);if(g){i.push(g);break}}}}return i},n.ray=function(e,t,i,s){s=s||1e-100;for(var a=r.angle(t,i),h=r.magnitude(r.sub(t,i)),c=(i.x+t.x)*.5,l=(i.y+t.y)*.5,u=o.rectangle(c,l,h,s,{angle:a}),d=n.collides(u,e),f=0;f<d.length;f+=1){var p=d[f];p.body=p.bodyB=p.bodyA}return d},n.region=function(e,t,i){for(var n=[],r=0;r<e.length;r++){var s=e[r],o=a.overlaps(s.bounds,t);(o&&!i||!o&&i)&&n.push(s)}return n},n.point=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n];if(a.contains(r.bounds,t))for(var s=1===r.parts.length?0:1;s<r.parts.length;s++){var o=r.parts[s];if(a.contains(o.bounds,t)&&h.contains(o.vertices,t)){i.push(r);break}}}return i}},66272:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(53402),a=i(15647);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(e){var t,i,n,r=e.length;for(t=0;t<r;t++)(i=e[t]).isActive&&(n=i.contactCount,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(e,t,i){var r,a,o,h,c,l,u,d,f=n._positionDampen*(i||1),p=s.clamp(t/s._baseDelta,0,1),g=e.length;for(r=0;r<g;r++)(a=e[r]).isActive&&!a.isSensor&&(h=(o=a.collision).parentA,c=o.parentB,l=o.normal,a.separation=o.depth+l.x*(c.positionImpulse.x-h.positionImpulse.x)+l.y*(c.positionImpulse.y-h.positionImpulse.y));for(r=0;r<g;r++)!(a=e[r]).isActive||a.isSensor||(h=(o=a.collision).parentA,c=o.parentB,l=o.normal,d=a.separation-a.slop*p,(h.isStatic||c.isStatic)&&(d*=2),h.isStatic||h.isSleeping||(u=f/h.totalContacts,h.positionImpulse.x+=l.x*d*u,h.positionImpulse.y+=l.y*d*u),c.isStatic||c.isSleeping||(u=f/c.totalContacts,c.positionImpulse.x-=l.x*d*u,c.positionImpulse.y-=l.y*d*u))},n.postSolvePosition=function(e){for(var t=n._positionWarming,i=e.length,s=r.translate,o=a.update,h=0;h<i;h++){var c=e[h],l=c.positionImpulse,u=l.x,d=l.y,f=c.velocity;if(c.totalContacts=0,0!==u||0!==d){for(var p=0;p<c.parts.length;p++){var g=c.parts[p];s(g.vertices,l),o(g.bounds,g.vertices,f),g.position.x+=u,g.position.y+=d}c.positionPrev.x+=u,c.positionPrev.y+=d,u*f.x+d*f.y<0?(l.x=0,l.y=0):(l.x*=t,l.y*=t)}}},n.preSolveVelocity=function(e){var t,i,n=e.length;for(t=0;t<n;t++){var r=e[t];if(r.isActive&&!r.isSensor){var s=r.contacts,a=r.contactCount,o=r.collision,h=o.parentA,c=o.parentB,l=o.normal,u=o.tangent;for(i=0;i<a;i++){var d=s[i],f=d.vertex,p=d.normalImpulse,g=d.tangentImpulse;if(0!==p||0!==g){var m=l.x*p+u.x*g,v=l.y*p+u.y*g;h.isStatic||h.isSleeping||(h.positionPrev.x+=m*h.inverseMass,h.positionPrev.y+=v*h.inverseMass,h.anglePrev+=h.inverseInertia*((f.x-h.position.x)*v-(f.y-h.position.y)*m)),c.isStatic||c.isSleeping||(c.positionPrev.x-=m*c.inverseMass,c.positionPrev.y-=v*c.inverseMass,c.anglePrev-=c.inverseInertia*((f.x-c.position.x)*v-(f.y-c.position.y)*m))}}}}},n.solveVelocity=function(e,t){var i,r,a,o,h=t/s._baseDelta,c=h*h*h,l=-n._restingThresh*h,u=n._restingThreshTangent,d=n._frictionNormalMultiplier*h,f=n._frictionMaxStatic,p=e.length;for(a=0;a<p;a++){var g=e[a];if(g.isActive&&!g.isSensor){var m=g.collision,v=m.parentA,y=m.parentB,b=m.normal.x,x=m.normal.y,E=m.tangent.x,w=m.tangent.y,T=g.inverseMass,S=g.friction*g.frictionStatic*d,A=g.contacts,C=g.contactCount,_=1/C,I=v.position.x-v.positionPrev.x,O=v.position.y-v.positionPrev.y,P=v.angle-v.anglePrev,M=y.position.x-y.positionPrev.x,R=y.position.y-y.positionPrev.y,L=y.angle-y.anglePrev;for(o=0;o<C;o++){var D=A[o],k=D.vertex,N=k.x-v.position.x,F=k.y-v.position.y,B=k.x-y.position.x,U=k.y-y.position.y,V=I-F*P-(M-U*L),G=O+N*P-(R+B*L),j=b*V+x*G,W=E*V+w*G,Y=g.separation+j,H=Math.min(Y,1),z=(H=Y<0?0:H)*S;W<-z||W>z?(r=W>0?W:-W,(i=g.friction*(W>0?1:-1)*c)<-r?i=-r:i>r&&(i=r)):(i=W,r=f);var X=N*x-F*b,K=B*x-U*b,q=_/(T+v.inverseInertia*X*X+y.inverseInertia*K*K),J=(1+g.restitution)*j*q;if(i*=q,j<l)D.normalImpulse=0;else{var $=D.normalImpulse;D.normalImpulse+=J,D.normalImpulse>0&&(D.normalImpulse=0),J=D.normalImpulse-$}if(W<-u||W>u)D.tangentImpulse=0;else{var Q=D.tangentImpulse;D.tangentImpulse+=i,D.tangentImpulse<-r&&(D.tangentImpulse=-r),D.tangentImpulse>r&&(D.tangentImpulse=r),i=D.tangentImpulse-Q}var Z=b*J+E*i,ee=x*J+w*i;v.isStatic||v.isSleeping||(v.positionPrev.x+=Z*v.inverseMass,v.positionPrev.y+=ee*v.inverseMass,v.anglePrev+=(N*ee-F*Z)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Z*y.inverseMass,y.positionPrev.y-=ee*y.inverseMass,y.anglePrev-=(B*ee-U*Z)*y.inverseInertia)}}}}},48140:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(31725),a=i(53614),o=i(15647),h=i(66615),c=i(53402);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(e){e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var t=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,n=s.magnitude(s.sub(t,i));e.length=void 0!==e.length?e.length:n,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=c.extend(r,e.render),e},n.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(e,t){for(var i=c.clamp(t/c._baseDelta,0,1),r=0;r<e.length;r+=1){var s=e[r],a=!s.bodyA||s.bodyA&&s.bodyA.isStatic,o=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(a||o)&&n.solve(e[r],i)}for(r=0;r<e.length;r+=1)a=!(s=e[r]).bodyA||s.bodyA&&s.bodyA.isStatic,o=!s.bodyB||s.bodyB&&s.bodyB.isStatic,a||o||n.solve(e[r],i)},n.solve=function(e,t){var i=e.bodyA,r=e.bodyB,a=e.pointA,o=e.pointB;if(i||r){i&&!i.isStatic&&(s.rotate(a,i.angle-e.angleA,a),e.angleA=i.angle),r&&!r.isStatic&&(s.rotate(o,r.angle-e.angleB,o),e.angleB=r.angle);var h=a,c=o;if(i&&(h=s.add(i.position,a)),r&&(c=s.add(r.position,o)),h&&c){var l=s.sub(h,c),u=s.magnitude(l);u<n._minLength&&(u=n._minLength);var d,f,p,g,m,v=(u-e.length)/u,y=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,b=e.damping*t,x=s.mult(l,v*y),E=(i?i.inverseMass:0)+(r?r.inverseMass:0),w=E+((i?i.inverseInertia:0)+(r?r.inverseInertia:0));if(b>0){var T=s.create();p=s.div(l,u),m=s.sub(r&&s.sub(r.position,r.positionPrev)||T,i&&s.sub(i.position,i.positionPrev)||T),g=s.dot(p,m)}i&&!i.isStatic&&(f=i.inverseMass/E,i.constraintImpulse.x-=x.x*f,i.constraintImpulse.y-=x.y*f,i.position.x-=x.x*f,i.position.y-=x.y*f,b>0&&(i.positionPrev.x-=b*p.x*g*f,i.positionPrev.y-=b*p.y*g*f),d=s.cross(a,x)/w*n._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),r&&!r.isStatic&&(f=r.inverseMass/E,r.constraintImpulse.x+=x.x*f,r.constraintImpulse.y+=x.y*f,r.position.x+=x.x*f,r.position.y+=x.y*f,b>0&&(r.positionPrev.x+=b*p.x*g*f,r.positionPrev.y+=b*p.y*g*f),d=s.cross(o,x)/w*n._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=d,r.angle+=d)}}},n.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],c=i.constraintImpulse;if(!i.isStatic&&(0!==c.x||0!==c.y||0!==c.angle)){a.set(i,!1);for(var l=0;l<i.parts.length;l++){var u=i.parts[l];r.translate(u.vertices,c),l>0&&(u.position.x+=c.x,u.position.y+=c.y),0!==c.angle&&(r.rotate(u.vertices,c.angle,i.position),h.rotate(u.axes,c.angle),l>0&&s.rotateAbout(u.position,c.angle,i.position,u.position)),o.update(u.bounds,u.vertices,i.velocity)}c.angle*=n._warming,c.x*=n._warming,c.y*=n._warming}}},n.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},n.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},n.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),i=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),n=(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),r=(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0),s=t-n,a=i-r;return Math.sqrt(s*s+a*a)}},53402:(e,t,i)=>{var n,r={};e.exports=r,r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(e,t){var i,n;"boolean"==typeof t?(i=2,n=t):(i=1,n=!0);for(var s=i;s<arguments.length;s++){var a=arguments[s];if(a)for(var o in a)n&&a[o]&&a[o].constructor===Object?e[o]&&e[o].constructor!==Object?e[o]=a[o]:(e[o]=e[o]||{},r.extend(e[o],n,a[o])):e[o]=a[o]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},r.values=function(e){var t=[];if(Object.keys){for(var i=Object.keys(e),n=0;n<i.length;n++)t.push(e[i[n]]);return t}for(var r in e)t.push(e[r]);return t},r.get=function(e,t,i,n){t=t.split(".").slice(i,n);for(var r=0;r<t.length;r+=1)e=e[t[r]];return e},r.set=function(e,t,i,n,s){var a=t.split(".").slice(n,s);return r.get(e,t,0,-1)[a[a.length-1]]=i,i},r.shuffle=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(r.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"==typeof e},r.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,i){return e<t?t:e>i?i:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)},n=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280},r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[e]||(r.warn(e),r._warnedOnce[e]=!0)},r.deprecated=function(e,t,i){e[t]=r.chain(function(){r.warnOnce("\uD83D\uDD05 deprecated \uD83D\uDD05",i)},e[t])},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return -1},r.map=function(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i},r.topologicalSort=function(e){var t=[],i=[],n=[];for(var s in e)i[s]||n[s]||r._topologicalSort(s,i,n,e,t);return t},r._topologicalSort=function(e,t,i,n,s){var a=n[e]||[];i[e]=!0;for(var o=0;o<a.length;o+=1){var h=a[o];i[h]||t[h]||r._topologicalSort(h,t,i,n,s)}i[e]=!1,t[e]=!0,s.push(e)},r.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var i=arguments[t];i._chained?e.push.apply(e,i._chained):e.push(i)}var n=function(){for(var t,i=Array(arguments.length),n=0,r=arguments.length;n<r;n++)i[n]=arguments[n];for(n=0;n<e.length;n+=1){var s=e[n].apply(t,i);void 0!==s&&(t=s)}return t};return n._chained=e,n},r.chainPathBefore=function(e,t,i){return r.set(e,t,r.chain(i,r.get(e,t)))},r.chainPathAfter=function(e,t,i){return r.set(e,t,r.chain(r.get(e,t),i))},r.setDecomp=function(e){r._decomp=e},r.getDecomp=function(){var e=r._decomp;try{e||"undefined"==typeof window||(e=window.decomp),e||void 0===i.g||(e=i.g.decomp)}catch(t){e=null}return e}},48413:(e,t,i)=>{var n={};e.exports=n;var r=i(53614),s=i(66272),a=i(81388),o=i(99561),h=i(35810),c=i(69351),l=i(48140),u=i(53402),d=i(22562);n._deltaMax=1e3/60,n.create=function(e){e=e||{};var t=u.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||c.create({label:"World"}),t.pairs=e.pairs||o.create(),t.detector=e.detector||a.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},n.update=function(e,t){var i,d=u.now(),f=e.world,p=e.detector,g=e.pairs,m=e.timing,v=m.timestamp;t>n._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),t=(void 0!==t?t:u._baseDelta)*m.timeScale,m.timestamp+=t,m.lastDelta=t;var y={timestamp:m.timestamp,delta:t};h.trigger(e,"beforeUpdate",y);var b=c.allBodies(f),x=c.allConstraints(f),E=c.allComposites(f);for(f.isModified&&(a.setBodies(p,b),c.setModified(f,!1,!1,!0)),e.enableSleeping&&r.update(b,t),n._bodiesApplyGravity(b,e.gravity),n.wrap(b,E),n.attractors(b),t>0&&n._bodiesUpdate(b,t),h.trigger(e,"beforeSolve",y),l.preSolveAll(b),i=0;i<e.constraintIterations;i++)l.solveAll(x,t);l.postSolveAll(b);var w=a.collisions(p);o.update(g,w,v),e.enableSleeping&&r.afterCollisions(g.list),g.collisionStart.length>0&&h.trigger(e,"collisionStart",{pairs:g.collisionStart,timestamp:m.timestamp,delta:t});var T=u.clamp(20/e.positionIterations,0,1);for(s.preSolvePosition(g.list),i=0;i<e.positionIterations;i++)s.solvePosition(g.list,t,T);for(s.postSolvePosition(b),l.preSolveAll(b),i=0;i<e.constraintIterations;i++)l.solveAll(x,t);for(l.postSolveAll(b),s.preSolveVelocity(g.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(g.list,t);return n._bodiesUpdateVelocities(b),g.collisionActive.length>0&&h.trigger(e,"collisionActive",{pairs:g.collisionActive,timestamp:m.timestamp,delta:t}),g.collisionEnd.length>0&&h.trigger(e,"collisionEnd",{pairs:g.collisionEnd,timestamp:m.timestamp,delta:t}),n._bodiesClearForces(b),h.trigger(e,"afterUpdate",y),e.timing.lastElapsed=u.now()-d,e},n.merge=function(e,t){if(u.extend(e,t),t.world){e.world=t.world,n.clear(e);for(var i=c.allBodies(e.world),s=0;s<i.length;s++){var a=i[s];r.set(a,!1),a.id=u.nextId()}}},n.clear=function(e){o.clear(e.pairs),a.clear(e.detector)},n._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,n=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var r=0;r<n;r++){var s=e[r];s.ignoreGravity||s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},n._bodiesUpdate=function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];r.isStatic||r.isSleeping||d.update(r,t)}},n._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)d.updateVelocities(e[i])},n.wrap=function(e,t){for(var i=0;i<e.length;i+=1){var n=e[i];null!==n.wrapBounds&&d.wrap(n,n.wrapBounds)}for(i=0;i<t.length;i+=1){var r=t[i];null!==r.wrapBounds&&c.wrap(r,r.wrapBounds)}},n.attractors=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.attractors;if(n&&n.length>0)for(var r=0;r<e.length;r++){var s=e[r];if(t!==r)for(var a=0;a<n.length;a++){var o=n[a],h=o;u.isFunction(o)&&(h=o(i,s)),h&&d.applyForce(s,s.position,h)}}}}},35810:(e,t,i)=>{var n={};e.exports=n;var r=i(53402);n.on=function(e,t,i){for(var n,r=t.split(" "),s=0;s<r.length;s++)n=r[s],e.events=e.events||{},e.events[n]=e.events[n]||[],e.events[n].push(i);return i},n.off=function(e,t,i){if(!t){e.events={};return}"function"==typeof t&&(i=t,t=r.keys(e.events).join(" "));for(var n=t.split(" "),s=0;s<n.length;s++){var a=e.events[n[s]],o=[];if(i&&a)for(var h=0;h<a.length;h++)a[h]!==i&&o.push(a[h]);e.events[n[s]]=o}},n.trigger=function(e,t,i){var n,s,a,o,h=e.events;if(h&&r.keys(h).length>0){i||(i={}),n=t.split(" ");for(var c=0;c<n.length;c++)if(a=h[s=n[c]]){(o=r.clone(i,!1)).name=s,o.source=e;for(var l=0;l<a.length;l++)a[l].apply(e,[o])}}}},6790:(e,t,i)=>{var n={};e.exports=n;var r=i(73832),s=i(53402);n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){r.use(n,Array.prototype.slice.call(arguments))},n.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(n,e,t)},n.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(n,e,t)}},73832:(e,t,i)=>{var n={};e.exports=n;var r=i(53402);n._registry={},n.register=function(e){if(n.isPlugin(e)||r.warn("Plugin.register:",n.toString(e),"does not implement all required fields."),e.name in n._registry){var t=n._registry[e.name],i=n.versionParse(e.version).number,s=n.versionParse(t.version).number;i>s?(r.warn("Plugin.register:",n.toString(t),"was upgraded to",n.toString(e)),n._registry[e.name]=e):i<s?r.warn("Plugin.register:",n.toString(t),"can not be downgraded to",n.toString(e)):e!==t&&r.warn("Plugin.register:",n.toString(e),"is already registered to different plugin object")}else n._registry[e.name]=e;return e},n.resolve=function(e){return n._registry[n.dependencyParse(e).name]},n.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},n.isPlugin=function(e){return e&&e.name&&e.version&&e.install},n.isUsed=function(e,t){return e.used.indexOf(t)>-1},n.isFor=function(e,t){var i=e.for&&n.dependencyParse(e.for);return!e.for||t.name===i.name&&n.versionSatisfies(t.version,i.range)},n.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0===e.uses.length){r.warn("Plugin.use:",n.toString(e),"does not specify any dependencies to install.");return}for(var i=n.dependencies(e),s=r.topologicalSort(i),a=[],o=0;o<s.length;o+=1)if(s[o]!==e.name){var h=n.resolve(s[o]);if(!h){a.push("❌ "+s[o]);continue}n.isUsed(e,h.name)||(n.isFor(h,e)||(r.warn("Plugin.use:",n.toString(h),"is for",h.for,"but installed on",n.toString(e)+"."),h._warned=!0),h.install?h.install(e):(r.warn("Plugin.use:",n.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(a.push("\uD83D\uDD36 "+n.toString(h)),delete h._warned):a.push("✅ "+n.toString(h)),e.used.push(h.name))}a.length>0&&!h.silent&&r.info(a.join("  "))},n.dependencies=function(e,t){var i=n.dependencyParse(e),s=i.name;if(!(s in(t=t||{}))){e=n.resolve(e)||e,t[s]=r.map(e.uses||[],function(t){n.isPlugin(t)&&n.register(t);var s=n.dependencyParse(t),a=n.resolve(t);return a&&!n.versionSatisfies(a.version,s.range)?(r.warn("Plugin.dependencies:",n.toString(a),"does not satisfy",n.toString(s),"used by",n.toString(i)+"."),a._warned=!0,e._warned=!0):a||(r.warn("Plugin.dependencies:",n.toString(t),"used by",n.toString(i),"could not be resolved."),e._warned=!0),s.name});for(var a=0;a<t[s].length;a+=1)n.dependencies(t[s][a],t);return t}},n.dependencyParse=function(e){return r.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||r.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},n.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||r.warn("Plugin.versionParse:",e,"is not a valid version or range.");var i=t.exec(e),n=Number(i[4]),s=Number(i[5]),a=Number(i[6]);return{isRange:!!(i[1]||i[2]),version:i[3],range:e,operator:i[1]||i[2]||"",major:n,minor:s,patch:a,parts:[n,s,a],prerelease:i[7],number:1e8*n+1e4*s+a}},n.versionSatisfies=function(e,t){t=t||"*";var i=n.versionParse(t),r=n.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return r.number>i.number;if(">="===i.operator)return r.number>=i.number;if("~"===i.operator)return r.major===i.major&&r.minor===i.minor&&r.patch>=i.patch;if("^"===i.operator)return i.major>0?r.major===i.major&&r.number>=i.number:i.minor>0?r.minor===i.minor&&r.patch>=i.patch:r.patch===i.patch}return e===t||"*"===e}},13037:(e,t,i)=>{var n,r={};e.exports=r;var s=i(35810),a=i(48413),o=i(53402);r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(e){var t=o.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},r.run=function(e,t){return e.timeBuffer=r._frameDeltaFallback,function i(n){e.frameRequestId=r._onNextFrame(e,i),n&&e.enabled&&r.tick(e,t,n)}(),e},r.tick=function(e,t,i){var h=o.now(),c=e.delta,l=0,u=i-e.timeLastTick;if((!u||!e.timeLastTick||u>Math.max(r._maxFrameDelta,e.maxFrameTime))&&(u=e.frameDelta||r._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(u),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort();u=n(e.frameDeltaHistory.slice(d.length*r._smoothingLowerBound,d.length*r._smoothingUpperBound))||u}e.frameDeltaSnapping&&(u=1e3/Math.round(1e3/u)),e.frameDelta=u,e.timeLastTick=i,e.timeBuffer+=e.frameDelta,e.timeBuffer=o.clamp(e.timeBuffer,0,e.frameDelta+c*r._timeBufferMargin),e.lastUpdatesDeferred=0;var f=e.maxUpdates||Math.ceil(e.maxFrameTime/c),p={timestamp:t.timing.timestamp};s.trigger(e,"beforeTick",p),s.trigger(e,"tick",p);for(var g=o.now();c>0&&e.timeBuffer>=c*r._timeBufferMargin;){s.trigger(e,"beforeUpdate",p),a.update(t,c),s.trigger(e,"afterUpdate",p),e.timeBuffer-=c,l+=1;var m=o.now()-h,v=o.now()-g,y=m+r._elapsedNextEstimate*v/l;if(l>=f||y>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/c-r._timeBufferMargin));break}}t.timing.lastUpdatesPerFrame=l,s.trigger(e,"afterTick",p),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/c)>f?o.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&o.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&o.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&o.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&o.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(e){r._cancelNextFrame(e)},r._onNextFrame=function(e,t){if("undefined"!=typeof window&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(t);else throw Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},r._cancelNextFrame=function(e){if("undefined"!=typeof window&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw Error("Matter.Runner: missing required global window.cancelAnimationFrame.")},n=function(e){for(var t=0,i=e.length,n=0;n<i;n+=1)t+=e[n];return t/i||0}},53614:(e,t,i)=>{var n={};e.exports=n;var r=i(22562),s=i(35810),a=i(53402);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(e,t){for(var i=t/a._baseDelta,s=n._motionSleepThreshold,o=0;o<e.length;o++){var h=e[o],c=r.getSpeed(h),l=r.getAngularSpeed(h),u=c*c+l*l;if(0!==h.force.x||0!==h.force.y){n.set(h,!1);continue}var d=Math.min(h.motion,u),f=Math.max(h.motion,u);h.motion=n._minBias*d+(1-n._minBias)*f,h.sleepThreshold>0&&h.motion<s?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/i&&n.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},n.afterCollisions=function(e){for(var t=n._motionSleepThreshold,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var s=r.collision,a=s.bodyA.parent,o=s.bodyB.parent;if((!a.isSleeping||!o.isSleeping)&&!a.isStatic&&!o.isStatic&&(a.isSleeping||o.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:o,c=h===a?o:a;!h.isStatic&&c.motion>t&&n.set(h,!1)}}}},n.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||s.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&s.trigger(e,"sleepEnd"))}},66280:(e,t,i)=>{var n={};e.exports=n;var r=i(41598),s=i(53402),a=i(22562),o=i(15647),h=i(31725);n.rectangle=function(e,t,i,n,o){o=o||{};var h={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(o.chamfer){var c=o.chamfer;h.vertices=r.chamfer(h.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete o.chamfer}return a.create(s.extend({},h,o))},n.trapezoid=function(e,t,i,n,o,h){h=h||{},o>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,l=(1-2*(o*=.5))*i,u=i*o,d=u+l,f=d+u;c=o<.5?"L 0 0 L "+u+" "+-n+" L "+d+" "+-n+" L "+f+" 0":"L 0 0 L "+d+" "+-n+" L "+f+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(h.chamfer){var g=h.chamfer;p.vertices=r.chamfer(p.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete h.chamfer}return a.create(s.extend({},p,h))},n.circle=function(e,t,i,r,a){r=r||{};var o=Math.ceil(Math.max(10,Math.min(a=a||25,i)));return o%2==1&&(o+=1),n.polygon(e,t,o,i,s.extend({},{label:"Circle Body",circleRadius:i},r))},n.polygon=function(e,t,i,o,h){if(h=h||{},i<3)return n.circle(e,t,o,h);for(var c=2*Math.PI/i,l="",u=.5*c,d=0;d<i;d+=1){var f=u+d*c,p=Math.cos(f)*o,g=Math.sin(f)*o;l+="L "+p.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(l)};if(h.chamfer){var v=h.chamfer;m.vertices=r.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete h.chamfer}return a.create(s.extend({},m,h))},n.fromVertices=function(e,t,i,n,c,l,u,d){var f,p,g,m,v,y,b,x,E,w,T=s.getDecomp();for(f=!!(T&&T.quickDecomp),n=n||{},g=[],c=void 0!==c&&c,l=void 0!==l?l:.01,u=void 0!==u?u:10,d=void 0!==d?d:.01,s.isArray(i[0])||(i=[i]),E=0;E<i.length;E+=1)if(v=i[E],(m=r.isConvex(v))||f||s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!f)v=m?r.clockwiseSort(v):r.hull(v),g.push({position:{x:e,y:t},vertices:v});else{var S=v.map(function(e){return[e.x,e.y]});T.makeCCW(S),!1!==l&&T.removeCollinearPoints(S,l),!1!==d&&T.removeDuplicatePoints&&T.removeDuplicatePoints(S,d);var A=T.quickDecomp(S);for(y=0;y<A.length;y++){var C=A[y].map(function(e){return{x:e[0],y:e[1]}});u>0&&r.area(C)<u||g.push({position:r.centre(C),vertices:C})}}for(y=0;y<g.length;y++)g[y]=a.create(s.extend(g[y],n));if(c)for(y=0;y<g.length;y++){var _=g[y];for(b=y+1;b<g.length;b++){var I=g[b];if(o.overlaps(_.bounds,I.bounds)){var O=_.vertices,P=I.vertices;for(x=0;x<_.vertices.length;x++)for(w=0;w<I.vertices.length;w++){var M=h.magnitudeSquared(h.sub(O[(x+1)%O.length],P[w])),R=h.magnitudeSquared(h.sub(O[x],P[(w+1)%P.length]));M<5&&R<5&&(O[x].isInternal=!0,P[w].isInternal=!0)}}}}return g.length>1?(p=a.create(s.extend({parts:g.slice(0)},n)),a.setPosition(p,{x:e,y:t}),p):g[0]},n.flagCoincidentParts=function(e,t){void 0===t&&(t=5);for(var i=0;i<e.length;i++)for(var n=e[i],r=i+1;r<e.length;r++){var s=e[r];if(o.overlaps(n.bounds,s.bounds))for(var a=n.vertices,c=s.vertices,l=0;l<n.vertices.length;l++)for(var u=0;u<s.vertices.length;u++){var d=h.magnitudeSquared(h.sub(a[(l+1)%a.length],c[u])),f=h.magnitudeSquared(h.sub(a[l],c[(u+1)%c.length]));d<t&&f<t&&(a[l].isInternal=!0,c[u].isInternal=!0)}}return e}},74116:(e,t,i)=>{var n={};e.exports=n;var r=i(69351),s=i(48140),a=i(53402),o=i(22562),h=i(66280);n.stack=function(e,t,i,n,s,a,h){for(var c,l=r.create({label:"Stack"}),u=e,d=t,f=0,p=0;p<n;p++){for(var g=0,m=0;m<i;m++){var v=h(u,d,m,p,c,f);if(v){var y=v.bounds.max.y-v.bounds.min.y,b=v.bounds.max.x-v.bounds.min.x;y>g&&(g=y),o.translate(v,{x:.5*b,y:.5*y}),u=v.bounds.max.x+s,r.addBody(l,v),c=v,f+=1}else u+=s}d+=g+a,u=e}return l},n.chain=function(e,t,i,n,o,h){for(var c=e.bodies,l=1;l<c.length;l++){var u=c[l-1],d=c[l],f=u.bounds.max.y-u.bounds.min.y,p=u.bounds.max.x-u.bounds.min.x,g=d.bounds.max.y-d.bounds.min.y,m=d.bounds.max.x-d.bounds.min.x,v={bodyA:u,pointA:{x:p*t,y:f*i},bodyB:d,pointB:{x:m*n,y:g*o}},y=a.extend(v,h);r.addConstraint(e,s.create(y))}return e.label+=" Chain",e},n.mesh=function(e,t,i,n,o){var h,c,l,u,d,f=e.bodies;for(h=0;h<i;h++){for(c=1;c<t;c++)l=f[c-1+h*t],u=f[c+h*t],r.addConstraint(e,s.create(a.extend({bodyA:l,bodyB:u},o)));if(h>0)for(c=0;c<t;c++)l=f[c+(h-1)*t],u=f[c+h*t],r.addConstraint(e,s.create(a.extend({bodyA:l,bodyB:u},o))),n&&c>0&&(d=f[c-1+(h-1)*t],r.addConstraint(e,s.create(a.extend({bodyA:d,bodyB:u},o)))),n&&c<t-1&&(d=f[c+1+(h-1)*t],r.addConstraint(e,s.create(a.extend({bodyA:d,bodyB:u},o))))}return e.label+=" Mesh",e},n.pyramid=function(e,t,i,r,s,a,h){return n.stack(e,t,i,r,s,a,function(t,n,a,c,l,u){var d=Math.min(r,Math.ceil(i/2)),f=l?l.bounds.max.x-l.bounds.min.x:0;if(!(c>d)){var p=c=d-c,g=i-1-c;if(!(a<p)&&!(a>g))return 1===u&&o.translate(l,{x:(a+(i%2==1?1:-1))*f,y:0}),h(e+(l?a*f:0)+a*s,n,a,c,l,u)}})},n.newtonsCradle=function(e,t,i,n,a){for(var o=r.create({label:"Newtons Cradle"}),c=0;c<i;c++){var l=h.circle(e+1.9*n*c,t+a,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),u=s.create({pointA:{x:e+1.9*n*c,y:t},bodyB:l});r.addBody(o,l),r.addConstraint(o,u)}return o},n.car=function(e,t,i,n,a){var c=o.nextGroup(!0),l=-(.5*i)+20,u=.5*i-20,d=r.create({label:"Car"}),f=h.rectangle(e,t,i,n,{collisionFilter:{group:c},chamfer:{radius:.5*n},density:2e-4}),p=h.circle(e+l,t+0,a,{collisionFilter:{group:c},friction:.8}),g=h.circle(e+u,t+0,a,{collisionFilter:{group:c},friction:.8}),m=s.create({bodyB:f,pointB:{x:l,y:0},bodyA:p,stiffness:1,length:0}),v=s.create({bodyB:f,pointB:{x:u,y:0},bodyA:g,stiffness:1,length:0});return r.addBody(d,f),r.addBody(d,p),r.addBody(d,g),r.addConstraint(d,m),r.addConstraint(d,v),d},n.softBody=function(e,t,i,r,s,o,c,l,u,d){u=a.extend({inertia:1/0},u),d=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var f=n.stack(e,t,i,r,s,o,function(e,t){return h.circle(e,t,l,u)});return n.mesh(f,i,r,c,d),f.label="Soft Body",f}},66615:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(53402);n.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var n=(i+1)%e.length,a=r.normalise({x:e[n].y-e[i].y,y:e[i].x-e[n].x}),o=0===a.y?1/0:a.x/a.y;t[o=o.toFixed(3).toString()]=a}return s.values(t)},n.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),n=Math.sin(t),r=0;r<e.length;r++){var s,a=e[r];s=a.x*i-a.y*n,a.y=a.x*n+a.y*i,a.x=s}}},15647:e=>{var t={};e.exports=t,t.create=function(e){var i={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(i,e),i},t.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<t.length;n++){var r=t[n];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},t.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},t.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},t.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},t.shift=function(e,t){var i=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+n},t.wrap=function(e,t,i){var n=null,r=null;if(void 0!==t.min.x&&void 0!==t.max.x&&(e.min.x>t.max.x?n=t.min.x-e.max.x:e.max.x<t.min.x&&(n=t.max.x-e.min.x)),void 0!==t.min.y&&void 0!==t.max.y&&(e.min.y>t.max.y?r=t.min.y-e.max.y:e.max.y<t.min.y&&(r=t.max.y-e.min.y)),null!==n||null!==r)return{x:n||0,y:r||0}}},74058:(e,t,i)=>{var n={};e.exports=n,i(15647);var r=i(53402);n.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,a,o,h,c,l,u,d,f,p,g=[],m=0,v=0,y=0;t=t||15;var b=function(e,t,i){var n=i%2==1&&i>1;if(!d||e!=d.x||t!=d.y){d&&n?(f=d.x,p=d.y):(f=0,p=0);var r={x:f+e,y:p+t};(n||!d)&&(d=r),g.push(r),v=f+e,y=p+t}},x=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":v=e.x,y=e.y;break;case"H":v=e.x;break;case"V":y=e.y}b(v,y,e.pathSegType)}};for(n._svgPathToAbsolute(e),a=e.getTotalLength(),c=[],i=0;i<e.pathSegList.numberOfItems;i+=1)c.push(e.pathSegList.getItem(i));for(l=c.concat();m<a;){if((h=c[e.getPathSegAtLength(m)])!=u){for(;l.length&&l[0]!=h;)x(l.shift());u=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":b((o=e.getPointAtLength(m)).x,o.y,0)}m+=t}for(i=0,s=l.length;i<s;++i)x(l[i]);return g},n._svgPathToAbsolute=function(e){for(var t,i,n,r,s,a,o=e.pathSegList,h=0,c=0,l=o.numberOfItems,u=0;u<l;++u){var d=o.getItem(u),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(h=d.x),"y"in d&&(c=d.y);else switch("x1"in d&&(n=h+d.x1),"x2"in d&&(s=h+d.x2),"y1"in d&&(r=c+d.y1),"y2"in d&&(a=c+d.y2),"x"in d&&(h+=d.x),"y"in d&&(c+=d.y),f){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(h,c),u);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(h,c),u);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(h),u);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),u);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(h,c,n,r,s,a),u);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(h,c,s,a),u);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(h,c,n,r),u);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(h,c),u);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(h,c,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),u);break;case"z":case"Z":h=t,c=i}("M"==f||"m"==f)&&(t=h,i=c)}}},31725:e=>{var t={};e.exports=t,t.create=function(e,t){return{x:e||0,y:t||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,t,i){var n=Math.cos(t),r=Math.sin(t);i||(i={});var s=e.x*n-e.y*r;return i.y=e.x*r+e.y*n,i.x=s,i},t.rotateAbout=function(e,t,i,n){var r=Math.cos(t),s=Math.sin(t);n||(n={});var a=i.x+((e.x-i.x)*r-(e.y-i.y)*s);return n.y=i.y+((e.x-i.x)*s+(e.y-i.y)*r),n.x=a,n},t.normalise=function(e){var i=t.magnitude(e);return 0===i?{x:0,y:0}:{x:e.x/i,y:e.y/i}},t.dot=function(e,t){return e.x*t.x+e.y*t.y},t.cross=function(e,t){return e.x*t.y-e.y*t.x},t.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},t.add=function(e,t,i){return i||(i={}),i.x=e.x+t.x,i.y=e.y+t.y,i},t.sub=function(e,t,i){return i||(i={}),i.x=e.x-t.x,i.y=e.y-t.y,i},t.mult=function(e,t){return{x:e.x*t,y:e.y*t}},t.div=function(e,t){return{x:e.x/t,y:e.y/t}},t.perp=function(e,t){return{x:-((t=!0===t?-1:1)*e.y),y:t*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]},41598:(e,t,i)=>{var n={};e.exports=n;var r=i(31725),s=i(53402);n.create=function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n],s={x:r.x,y:r.y,index:n,body:t,isInternal:!1};i.push(s)}return i},n.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})}),n.create(i,t)},n.centre=function(e){for(var t,i,s,a=n.area(e,!0),o={x:0,y:0},h=0;h<e.length;h++)s=(h+1)%e.length,t=r.cross(e[h],e[s]),i=r.mult(r.add(e[h],e[s]),t),o=r.add(o,i);return r.div(o,6*a)},n.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return r.div(t,e.length)},n.area=function(e,t){for(var i=0,n=e.length-1,r=0;r<e.length;r++)i+=(e[n].x-e[r].x)*(e[n].y+e[r].y),n=r;return t?i/2:Math.abs(i)/2},n.inertia=function(e,t){for(var i,n,s=0,a=0,o=0;o<e.length;o++)n=(o+1)%e.length,s+=(i=Math.abs(r.cross(e[n],e[o])))*(r.dot(e[n],e[n])+r.dot(e[n],e[o])+r.dot(e[o],e[o])),a+=i;return t/6*(s/a)},n.translate=function(e,t,i){i=void 0!==i?i:1;var n,r=e.length,s=t.x*i,a=t.y*i;for(n=0;n<r;n++)e[n].x+=s,e[n].y+=a;return e},n.rotate=function(e,t,i){if(0!==t){var n,r,s,a,o=Math.cos(t),h=Math.sin(t),c=i.x,l=i.y,u=e.length;for(a=0;a<u;a++)r=(n=e[a]).x-c,s=n.y-l,n.x=c+(r*o-s*h),n.y=l+(r*h+s*o);return e}},n.contains=function(e,t){for(var i,n=t.x,r=t.y,s=e.length,a=e[s-1],o=0;o<s;o++){if(i=e[o],(n-a.x)*(i.y-a.y)+(r-a.y)*(a.x-i.x)>0)return!1;a=i}return!0},n.scale=function(e,t,i,s){if(1===t&&1===i)return e;s=s||n.centre(e);for(var a,o,h=0;h<e.length;h++)a=e[h],o=r.sub(a,s),e[h].x=s.x+o.x*t,e[h].y=s.y+o.y*i;return e},n.chamfer=function(e,t,i,n,a){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,n=n||2,a=a||14;for(var o=[],h=0;h<e.length;h++){var c=e[h-1>=0?h-1:e.length-1],l=e[h],u=e[(h+1)%e.length],d=t[h<t.length?h:t.length-1];if(0===d){o.push(l);continue}var f=r.normalise({x:l.y-c.y,y:c.x-l.x}),p=r.normalise({x:u.y-l.y,y:l.x-u.x}),g=Math.sqrt(2*Math.pow(d,2)),m=r.mult(s.clone(f),d),v=r.normalise(r.mult(r.add(f,p),.5)),y=r.sub(l,r.mult(v,g)),b=i;-1===i&&(b=1.75*Math.pow(d,.32)),(b=s.clamp(b,n,a))%2==1&&(b+=1);for(var x=Math.acos(r.dot(f,p))/b,E=0;E<b;E++)o.push(r.add(r.rotate(m,x*E),y))}return o},n.clockwiseSort=function(e){var t=n.mean(e);return e.sort(function(e,i){return r.angle(t,e)-r.angle(t,i)}),e},n.isConvex=function(e){var t,i,n,r,s=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(i=(t+1)%a,n=(t+2)%a,(r=(e[i].x-e[t].x)*(e[n].y-e[i].y)-(e[i].y-e[t].y)*(e[n].x-e[i].x))<0?s|=1:r>0&&(s|=2),3===s)return!1;return 0!==s||null},n.hull=function(e){var t,i,n=[],s=[];for((e=e.slice(0)).sort(function(e,t){var i=e.x-t.x;return 0!==i?i:e.y-t.y}),i=0;i<e.length;i+=1){for(t=e[i];s.length>=2&&0>=r.cross3(s[s.length-2],s[s.length-1],t);)s.pop();s.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];n.length>=2&&0>=r.cross3(n[n.length-2],n[n.length-1],t);)n.pop();n.push(t)}return n.pop(),s.pop(),n.concat(s)}},55973:e=>{function t(e,t,i,n){var r=t[0]-e[0],s=t[1]-e[1],a=n[0]-i[0],o=n[1]-i[1];if(a*s-o*r==0)return!1;var h=(r*(i[1]-e[1])+s*(e[0]-i[0]))/(a*s-o*r),c=(a*(e[1]-i[1])+o*(i[0]-e[0]))/(o*r-a*s);return h>=0&&h<=1&&c>=0&&c<=1}function i(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function n(e,t,n){return 0>=i(e,t,n)}/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={decomp:function(e){var t=function e(t){for(var r=[],s=[],h=[],f=[],g=Number.MAX_VALUE,m=0;m<t.length;++m)if(c(t,m)){for(var v=0;v<t.length;++v)if(function(e,t,r){if(i(o(e,t+1),o(e,t),o(e,r))>=0&&n(o(e,t-1),o(e,t),o(e,r)))return!1;h=a(o(e,t),o(e,r));for(var s,h,c=0;c!==e.length;++c)if((c+1)%e.length!==t&&c!==t&&i(o(e,t),o(e,r),o(e,c+1))>=0&&n(o(e,t),o(e,r),o(e,c))&&(l[0]=o(e,t),l[1]=o(e,r),u[0]=o(e,c),u[1]=o(e,c+1),s=function(e,t,i){i=i||0;var n,r,s,a,o,h,c,l=[0,0];return n=e[1][1]-e[0][1],r=e[0][0]-e[1][0],s=n*e[0][0]+r*e[0][1],a=t[1][1]-t[0][1],o=t[0][0]-t[1][0],h=a*t[0][0]+o*t[0][1],p(c=n*o-a*r,0,i)||(l[0]=(o*s-r*h)/c,l[1]=(n*h-a*s)/c),l}(l,u),a(o(e,t),s)<h))return!1;return!0}(t,m,v)){s=e(d(t,m,v,f)),h=e(d(t,v,m,f));for(var y=0;y<h.length;y++)s.push(h[y]);s.length<g&&(r=s,g=s.length,r.push([o(t,m),o(t,v)]))}}return r}(e);return t.length>0?function e(t,i){if(0===i.length)return[t];if(i instanceof Array&&i.length&&i[0]instanceof Array&&2===i[0].length&&i[0][0]instanceof Array){for(var n=[t],r=0;r<i.length;r++)for(var s=i[r],a=0;a<n.length;a++){var o=e(n[a],s);if(o){n.splice(a,1),n.push(o[0],o[1]);break}}return n}var s=i,r=t.indexOf(s[0]),a=t.indexOf(s[1]);return -1!==r&&-1!==a&&[d(t,r,a),d(t,a,r)]}(e,t):[e]},quickDecomp:function e(r,s,l,u,d,p,g){p=p||100,g=g||0,d=d||25,s=void 0!==s?s:[],l=l||[],u=u||[];var m=[0,0],v=[0,0],y=[0,0],b=0,x=0,E=0,w=0,T=0,S=0,A=0,C=[],_=[];if(r.length<3)return s;if(++g>p)return console.warn("quickDecomp: max level ("+p+") reached."),s;for(var I=0;I<r.length;++I)if(c(r,I)){l.push(r[I]),b=x=Number.MAX_VALUE;for(var O=0;O<r.length;++O)i(o(r,I-1),o(r,I),o(r,O))>0&&n(o(r,I-1),o(r,I),o(r,O-1))&&(y=f(o(r,I-1),o(r,I),o(r,O),o(r,O-1)),0>i(o(r,I+1),o(r,I),y)&&(E=a(r[I],y))<x&&(x=E,v=y,S=O)),i(o(r,I+1),o(r,I),o(r,O+1))>0&&n(o(r,I+1),o(r,I),o(r,O))&&(y=f(o(r,I+1),o(r,I),o(r,O),o(r,O+1)),i(o(r,I-1),o(r,I),y)>0&&(E=a(r[I],y))<b&&(b=E,m=y,T=O));if(S===(T+1)%r.length)y[0]=(v[0]+m[0])/2,y[1]=(v[1]+m[1])/2,u.push(y),I<T?(h(C,r,I,T+1),C.push(y),_.push(y),0!==S&&h(_,r,S,r.length),h(_,r,0,I+1)):(0!==I&&h(C,r,I,r.length),h(C,r,0,T+1),C.push(y),_.push(y),h(_,r,S,I+1));else{if(S>T&&(T+=r.length),w=Number.MAX_VALUE,T<S)return s;for(var O=S;O<=T;++O)i(o(r,I-1),o(r,I),o(r,O))>=0&&n(o(r,I+1),o(r,I),o(r,O))&&(E=a(o(r,I),o(r,O)))<w&&function(e,i,n){for(var r=0;r!==e.length;++r)if(r!==i&&r!==n&&(r+1)%e.length!==i&&(r+1)%e.length!==n&&t(o(e,i),o(e,n),o(e,r),o(e,r+1)))return!1;return!0}(r,I,O)&&(w=E,A=O%r.length);I<A?(h(C,r,I,A+1),0!==A&&h(_,r,A,r.length),h(_,r,0,I+1)):(0!==I&&h(C,r,I,r.length),h(C,r,0,A+1),h(_,r,A,I+1))}return C.length<_.length?(e(C,s,l,u,d,p,g),e(_,s,l,u,d,p,g)):(e(_,s,l,u,d,p,g),e(C,s,l,u,d,p,g)),s}return s.push(r),s},isSimple:function(e){var i;for(i=0;i<e.length-1;i++)for(var n=0;n<i-1;n++)if(t(e[i],e[i+1],e[n],e[n+1]))return!1;for(i=1;i<e.length-2;i++)if(t(e[0],e[e.length-1],e[i],e[i+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var n,a,h,c=0,l=e.length-1;e.length>3&&l>=0;--l)n=o(e,l-1),a=o(e,l),h=o(e,l+1),(t?(r[0]=a[0]-n[0],r[1]=a[1]-n[1],s[0]=h[0]-a[0],s[1]=h[1]-a[1],Math.acos((r[0]*s[0]+r[1]*s[1])/(Math.sqrt(r[0]*r[0]+r[1]*r[1])*Math.sqrt(s[0]*s[0]+s[1]*s[1])))<t):0===i(n,a,h))&&(e.splice(l%e.length,1),c++);return c},removeDuplicatePoints:function(e,t){for(var i,n=e.length-1;n>=1;--n)for(var r=e[n],s=n-1;s>=0;--s)if(i=e[s],p(r[0],i[0],t)&&p(r[1],i[1],t)){e.splice(n,1);continue}},makeCCW:function(e){for(var t=0,n=1;n<e.length;++n)(e[n][1]<e[t][1]||e[n][1]===e[t][1]&&e[n][0]>e[t][0])&&(t=n);return!(i(o(e,t-1),o(e,t),o(e,t+1))>0)&&(function(e){for(var t=[],i=e.length,n=0;n!==i;n++)t.push(e.pop());for(var n=0;n!==i;n++)e[n]=t[n]}(e),!0)}};var r=[],s=[];function a(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function o(e,t){var i=e.length;return e[t<0?t%i+i:t%i]}function h(e,t,i,n){for(var r=i;r<n;r++)e.push(t[r])}function c(e,t){return 0>i(o(e,t-1),o(e,t),o(e,t+1))}var l=[],u=[];function d(e,t,i,n){var r=n||[];if(r.length=0,t<i)for(var s=t;s<=i;s++)r.push(e[s]);else{for(var s=0;s<=i;s++)r.push(e[s]);for(var s=t;s<e.length;s++)r.push(e[s])}return r}function f(e,t,i,n,r){r=r||0;var s=t[1]-e[1],a=e[0]-t[0],o=s*e[0]+a*e[1],h=n[1]-i[1],c=i[0]-n[0],l=h*i[0]+c*i[1],u=s*c-h*a;return p(u,0,r)?[0,0]:[(c*o-a*l)/u,(s*l-h*o)/u]}function p(e,t,i){return Math.abs(e-t)<=(i=i||0)}},52018:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.pluginManager=e,this.game=e.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=n},42363:e=>{e.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},i={},n={};n.register=function(e,i,n,r){void 0===r&&(r=!1),t[e]={plugin:i,mapping:n,custom:r}},n.registerCustom=function(e,t,n,r){i[e]={plugin:t,mapping:n,data:r}},n.hasCore=function(e){return t.hasOwnProperty(e)},n.hasCustom=function(e){return i.hasOwnProperty(e)},n.getCore=function(e){return t[e]},n.getCustom=function(e){return i[e]},n.getCustomClass=function(e){return i.hasOwnProperty(e)?i[e].plugin:null},n.remove=function(e){t.hasOwnProperty(e)&&delete t[e]},n.removeCustom=function(e){i.hasOwnProperty(e)&&delete i[e]},n.destroyCorePlugins=function(){for(var e in t)t.hasOwnProperty(e)&&delete t[e]},n.destroyCustomPlugins=function(){for(var e in i)i.hasOwnProperty(e)&&delete i[e]},e.exports=n},77332:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(8443),s=i(50792),a=i(74099),o=i(44603),h=i(39429),c=i(95540),l=i(37277),u=i(72905),d=new n({Extends:s,initialize:function(e){s.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once(r.BOOT,this.boot,this)},boot:function(){var e,t,i,n,s,a,o,h=this.game.config,l=h.installGlobalPlugins;for(e=0,l=l.concat(this._pendingGlobal);e<l.length;e++)i=c(t=l[e],"key",null),n=c(t,"plugin",null),s=c(t,"start",!1),a=c(t,"mapping",null),o=c(t,"data",null),i&&(n?this.install(i,n,s,a,o):console.warn("Missing `plugin` for key: "+i));for(e=0,l=(l=h.installScenePlugins).concat(this._pendingScene);e<l.length;e++)i=c(t=l[e],"key",null),n=c(t,"plugin",null),a=c(t,"mapping",null),i&&(n?this.installScenePlugin(i,n,a):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(r.DESTROY,this.destroy,this)},addToScene:function(e,t,i){var n,r,s,a=this.game,o=e.scene,h=e.settings.map,c=e.settings.isBooted;for(n=0;n<t.length;n++)a[r=t[n]]?(e[r]=a[r],h.hasOwnProperty(r)&&(o[h[r]]=e[r])):"game"===r&&h.hasOwnProperty(r)&&(o[h[r]]=a);for(var u=0;u<i.length;u++)for(n=0,s=i[u];n<s.length;n++)if(r=s[n],l.hasCore(r)){var d=l.getCore(r),f=d.mapping,p=new d.plugin(o,this,f);e[f]=p,d.custom?o[f]=p:h.hasOwnProperty(f)&&(o[h[f]]=p),c&&p.boot()}for(n=0,s=this.plugins;n<s.length;n++){var g=s[n];g.mapping&&(o[g.mapping]=g.plugin)}},getDefaultScenePlugins:function(){return this.game.config.defaultPlugins.concat(this.scenePlugins)},installScenePlugin:function(e,t,i,n,r){if(void 0===r&&(r=!1),"function"!=typeof t){console.warn("Invalid Scene Plugin: "+e);return}if(l.hasCore(e)||l.register(e,t,i,!0),-1===this.scenePlugins.indexOf(e))this.scenePlugins.push(e);else if(!r&&l.hasCore(e)){console.warn("Scene Plugin key in use: "+e);return}if(n){var s=new t(n,this,e);n.sys[e]=s,i&&""!==i&&(n[i]=s),s.boot()}},install:function(e,t,i,n,r){if(void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=null),"function"!=typeof t)return console.warn("Invalid Plugin: "+e),null;if(l.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(null!==n&&(i=!0),this.game.isBooted){if(l.registerCustom(e,t,n,r),i)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:t,start:i,mapping:n,data:r});return null},getIndex:function(e){for(var t=this.plugins,i=0;i<t.length;i++)if(t[i].key===e)return i;return -1},getEntry:function(e){var t=this.getIndex(e);if(-1!==t)return this.plugins[t]},isActive:function(e){var t=this.getEntry(e);return t&&t.active},start:function(e,t){void 0===t&&(t=e);var i=this.getEntry(t);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(e,t)),i?i.plugin:null},createEntry:function(e,t){var i=l.getCustom(e);if(i){var n=new i.plugin(this);i={key:t,plugin:n,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),n.init(i.data),n.start()}return i},stop:function(e){var t=this.getEntry(e);return t&&t.active&&(t.active=!1,t.plugin.stop()),this},get:function(e,t){void 0===t&&(t=!0);var i=this.getEntry(e);if(i)return i.plugin;var n=this.getClass(e);return n&&t?(i=this.createEntry(e,e))?i.plugin:null:n||null},getClass:function(e){return l.getCustomClass(e)},removeGlobalPlugin:function(e){var t=this.getEntry(e);t&&u(this.plugins,t),l.removeCustom(e)},removeScenePlugin:function(e){u(this.scenePlugins,e),l.remove(e)},registerGameObject:function(e,t,i){return t&&h.register(e,t),i&&o.register(e,i),this},removeGameObject:function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),t&&h.remove(e),i&&o.remove(e),this},registerFileType:function(e,t,i){a.register(e,t),i&&i.sys.load&&(i.sys.load[e]=t)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});e.exports=d},45145:(e,t,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var n=i(52018),r=i(83419),s=i(44594),a=new r({Extends:n,initialize:function(e,t,i){n.call(this,t),this.scene=e,this.systems=e.sys,this.pluginKey=i,e.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=a},18922:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{"undefined"!=typeof HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(e){let t=performance.now(),i=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,r=(s,a)=>{let o=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(h>n){let n=this.mozFrameDelay||o.totalFrameDelay-i.totalFrameDelay||0,r=a-s;e(a,{presentationTime:a+1e3*n,expectedDisplayTime:a+r,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+r/1e3,presentedFrames:h,processingDuration:n}),delete this._rvfcpolyfillmap[t]}else this._rvfcpolyfillmap[t]=requestAnimationFrame(e=>r(a,e))};return this._rvfcpolyfillmap[t]=requestAnimationFrame(e=>r(t,e)),t},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(e){cancelAnimationFrame(this._rvfcpolyfillmap[e]),delete this._rvfcpolyfillmap[e]})},10312:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:e=>{e.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19715),r=i(32880),s=i(83419),a=i(8054),o=i(50792),h=i(92503),c=i(56373),l=i(97480),u=i(69442),d=i(61340),f=new s({Extends:o,initialize:function(e){o.call(this);var t=e.config;this.config={clearBeforeRender:t.clearBeforeRender,backgroundColor:t.backgroundColor,antialias:t.antialias,roundPixels:t.roundPixels},this.game=e,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=e.canvas;var i={alpha:e.config.transparent,desynchronized:e.config.desynchronized,willReadFrequently:!1};this.gameContext=t.context?t.context:this.gameCanvas.getContext("2d",i),this.currentContext=this.gameContext,this.antialias=e.config.antialias,this.blendModes=c(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(u.READY,this.boot,this)},boot:function(){var e=this.game,t=e.scale.baseSize;this.width=t.width,this.height=t.height,this.isBooted=!0,e.scale.on(l.RESIZE,this.onResize,this),this.resize(t.width,t.height)},onResize:function(e,t){(t.width!==this.width||t.height!==this.height)&&this.resize(t.width,t.height)},resize:function(e,t){this.width=e,this.height=t,this.emit(h.RESIZE,e,t)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(e){return this.currentContext.globalCompositeOperation=e,this},setContext:function(e){return this.currentContext=e||this.gameContext,this},setAlpha:function(e){return this.currentContext.globalAlpha=e,this},preRender:function(){var e=this.gameContext,t=this.config,i=this.width,n=this.height;e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),this.emit(h.PRE_RENDER_CLEAR),t.clearBeforeRender&&(e.clearRect(0,0,i,n),t.transparent||(e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,i,n))),e.save(),this.drawCount=0,this.emit(h.PRE_RENDER)},render:function(e,t,i){var r=t.length;this.emit(h.RENDER,e,i);var s=i.x,a=i.y,o=i.width,c=i.height,l=i.renderToTexture?i.context:e.sys.context;l.save(),this.game.scene.customViewports&&(l.beginPath(),l.rect(s,a,o,c),l.clip()),i.emit(n.PRE_RENDER,i),this.currentContext=l;var u=i.mask;u&&u.preRenderCanvas(this,null,i._maskCamera),i.transparent||(l.fillStyle=i.backgroundColor.rgba,l.fillRect(s,a,o,c)),l.globalAlpha=i.alpha,l.globalCompositeOperation="source-over",this.drawCount+=r,i.renderToTexture&&i.emit(n.PRE_RENDER,i),i.matrix.copyToContext(l);for(var d=0;d<r;d++){var f=t[d];f.mask&&f.mask.preRenderCanvas(this,f,i),f.renderCanvas(this,f,i),f.mask&&f.mask.postRenderCanvas(this,f,i)}l.setTransform(1,0,0,1,0,0),l.globalCompositeOperation="source-over",l.globalAlpha=1,i.flashEffect.postRenderCanvas(l),i.fadeEffect.postRenderCanvas(l),i.dirty=!1,u&&u.postRenderCanvas(this),l.restore(),i.renderToTexture&&(i.emit(n.POST_RENDER,i),i.renderToGame&&e.sys.context.drawImage(i.canvas,s,a)),i.emit(n.POST_RENDER,i)},postRender:function(){this.gameContext.restore(),this.emit(h.POST_RENDER);var e=this.snapshotState;e.callback&&(r(this.gameCanvas,e),e.callback=null)},snapshotCanvas:function(e,t,i,n,s,a,o,h,c){void 0===i&&(i=!1),this.snapshotArea(n,s,a,o,t,h,c);var l=this.snapshotState;return l.getPixel=i,r(e,l),l.callback=null,this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,e,t,i)},snapshotArea:function(e,t,i,n,r,s,a){var o=this.snapshotState;return o.callback=r,o.type=s,o.encoder=a,o.getPixel=!1,o.x=e,o.y=t,o.width=Math.min(i,this.gameCanvas.width),o.height=Math.min(n,this.gameCanvas.height),this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(e,t,i,n){var r=i.alpha*e.alpha;if(0!==r){var s=this.currentContext,a=this._tempMatrix1,o=this._tempMatrix2,h=t.canvasData,c=h.x,l=h.y,u=t.cutWidth,d=t.cutHeight,f=t.customPivot,p=t.source.resolution,g=e.displayOriginX,m=e.displayOriginY,v=-g+t.x,y=-m+t.y;if(e.isCropped){var b=e._crop;(b.flipX!==e.flipX||b.flipY!==e.flipY)&&t.updateCropUVs(b,e.flipX,e.flipY),u=b.cw,d=b.ch,c=b.cx,l=b.cy,v=-g+b.x,y=-m+b.y,e.flipX&&(v>=0?v=-(v+u):v<0&&(v=Math.abs(v)-u)),e.flipY&&(y>=0?y=-(y+d):y<0&&(y=Math.abs(y)-d))}var x=1,E=1;e.flipX&&(f||(v+=-t.realWidth+2*g),x=-1),e.flipY&&(f||(y+=-t.realHeight+2*m),E=-1);var w=e.x,T=e.y;if(i.roundPixels&&(w=Math.floor(w),T=Math.floor(T)),o.applyITRS(w,T,e.rotation,e.scaleX*x,e.scaleY*E),a.copyFrom(i.matrix),n?(a.multiplyWithOffset(n,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),o.e=w,o.f=T):(o.e-=i.scrollX*e.scrollFactorX,o.f-=i.scrollY*e.scrollFactorY),a.multiply(o),i.renderRoundPixels&&(a.e=Math.floor(a.e+.5),a.f=Math.floor(a.f+.5)),s.save(),a.setToContext(s),s.globalCompositeOperation=this.blendModes[e.blendMode],s.globalAlpha=r,s.imageSmoothingEnabled=!t.source.scaleMode,e.mask&&e.mask.preRenderCanvas(this,e,i),u>0&&d>0){var S=u/p,A=d/p;i.roundPixels&&(v=Math.floor(v+.5),y=Math.floor(y+.5),S+=.5,A+=.5),s.drawImage(t.source.image,c,l,u,d,v,y,S,A)}e.mask&&e.mask.postRenderCanvas(this,e,i),s.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});e.exports=f},55830:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(89289);e.exports=function(){var e=[],t=r.supportNewBlendModes,i="source-over";return e[n.NORMAL]=i,e[n.ADD]="lighter",e[n.MULTIPLY]=t?"multiply":i,e[n.SCREEN]=t?"screen":i,e[n.OVERLAY]=t?"overlay":i,e[n.DARKEN]=t?"darken":i,e[n.LIGHTEN]=t?"lighten":i,e[n.COLOR_DODGE]=t?"color-dodge":i,e[n.COLOR_BURN]=t?"color-burn":i,e[n.HARD_LIGHT]=t?"hard-light":i,e[n.SOFT_LIGHT]=t?"soft-light":i,e[n.DIFFERENCE]=t?"difference":i,e[n.EXCLUSION]=t?"exclusion":i,e[n.HUE]=t?"hue":i,e[n.SATURATION]=t?"saturation":i,e[n.COLOR]=t?"color":i,e[n.LUMINOSITY]=t?"luminosity":i,e[n.ERASE]="destination-out",e[n.SOURCE_IN]="source-in",e[n.SOURCE_OUT]="source-out",e[n.SOURCE_ATOP]="source-atop",e[n.DESTINATION_OVER]="destination-over",e[n.DESTINATION_IN]="destination-in",e[n.DESTINATION_OUT]="destination-out",e[n.DESTINATION_ATOP]="destination-atop",e[n.LIGHTER]="lighter",e[n.COPY]="copy",e[n.XOR]="xor",e}},20926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91296);e.exports=function(e,t,i,r,s){var a=r.alpha*i.alpha;if(a<=0)return!1;var o=n(i,r,s).calc;return t.globalCompositeOperation=e.blendModes[i.blendMode],t.globalAlpha=a,t.save(),o.setToContext(t),t.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:e.antialias,!0}},63899:e=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="losewebgl"},6119:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postrender"},48070:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},15640:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="render"},8912:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resize"},87124:e=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="restorewebgl"},92503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(92503),Snapshot:i(89966)},e.exports.Canvas=i(55830),e.exports.WebGL=i(4159)},32880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(40987),s=i(95540);e.exports=function(e,t){var i=s(t,"callback"),a=s(t,"type","image/png"),o=s(t,"encoder",.92),h=Math.abs(Math.round(s(t,"x",0))),c=Math.abs(Math.round(s(t,"y",0))),l=Math.floor(s(t,"width",e.width)),u=Math.floor(s(t,"height",e.height));if(s(t,"getPixel",!1)){var d=e.getContext("2d",{willReadFrequently:!1}).getImageData(h,c,1,1).data;i.call(null,new r(d[0],d[1],d[2],d[3]))}else if(0!==h||0!==c||l!==e.width||u!==e.height){var f=n.createWebGL(this,l,u),p=f.getContext("2d",{willReadFrequently:!0});l>0&&u>0&&p.drawImage(e,h,c,l,u,0,0,l,u);var g=new Image;g.onerror=function(){i.call(null),n.remove(f)},g.onload=function(){i.call(null,g),n.remove(f)},g.src=f.toDataURL(a,o)}else{var m=new Image;m.onerror=function(){i.call(null)},m.onload=function(){i.call(null,m)},m.src=e.toDataURL(a,o)}}},88815:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(40987),s=i(95540);e.exports=function(e,t){var i=s(t,"callback"),a=s(t,"type","image/png"),o=s(t,"encoder",.92),h=Math.abs(Math.round(s(t,"x",0))),c=Math.abs(Math.round(s(t,"y",0))),l=s(t,"getPixel",!1),u=s(t,"isFramebuffer",!1),d=u?s(t,"bufferWidth",1):e.drawingBufferWidth,f=u?s(t,"bufferHeight",1):e.drawingBufferHeight;if(l){var p=new Uint8Array(4),g=u?c:f-c;e.readPixels(h,g,1,1,e.RGBA,e.UNSIGNED_BYTE,p),i.call(null,new r(p[0],p[1],p[2],p[3]))}else{var m=Math.floor(s(t,"width",d)),v=Math.floor(s(t,"height",f)),y=m*v*4,b=new Uint8Array(y);e.readPixels(h,f-c-v,m,v,e.RGBA,e.UNSIGNED_BYTE,b);for(var x=n.createWebGL(this,m,v),E=x.getContext("2d",{willReadFrequently:!0}),w=E.getImageData(0,0,m,v),T=w.data,S=0;S<v;S++)for(var A=0;A<m;A++){var C=((v-S-1)*m+A)*4,_=u?y-(S*m+(m-A))*4:(S*m+A)*4;T[_+0]=b[C+0],T[_+1]=b[C+1],T[_+2]=b[C+2],T[_+3]=b[C+3]}E.putImageData(w,0,0);var I=new Image;I.onerror=function(){i.call(null),n.remove(x)},I.onload=function(){i.call(null,I),n.remove(x)},I.src=x.toDataURL(a,o)}}},89966:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(36060),s=i(90330),a=i(82264),o=i(95540),h=i(32302),c=i(63448),l=i(31302),u=i(58918),d=i(14811),f=i(92651),p=i(96569),g=i(56527),m=i(57516),v=i(43439),y=i(81041),b=i(12385),x=i(7589),E=i(95428),w=i(72905),T=new n({initialize:function(e){this.game=e.game,this.renderer=e,this.classes=new s([[r.UTILITY_PIPELINE,x],[r.MULTI_PIPELINE,m],[r.BITMAPMASK_PIPELINE,l],[r.SINGLE_PIPELINE,b],[r.ROPE_PIPELINE,y],[r.LIGHT_PIPELINE,p],[r.POINTLIGHT_PIPELINE,v],[r.MOBILE_PIPELINE,g]]),this.postPipelineClasses=new s,this.pipelines=new s,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(e,t,i){var n,s,c=this.renderer,l=this.renderTargets;this.frameInc=Math.floor(o(e,"frameInc",32));var p=c.width,g=c.height,m=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(d.BARREL),u.Barrel],[String(d.BLOOM),u.Bloom],[String(d.BLUR),u.Blur],[String(d.BOKEH),u.Bokeh],[String(d.CIRCLE),u.Circle],[String(d.COLOR_MATRIX),u.ColorMatrix],[String(d.DISPLACEMENT),u.Displacement],[String(d.GLOW),u.Glow],[String(d.GRADIENT),u.Gradient],[String(d.PIXELATE),u.Pixelate],[String(d.SHADOW),u.Shadow],[String(d.SHINE),u.Shine],[String(d.VIGNETTE),u.Vignette],[String(d.WIPE),u.Wipe]]),!m){this.classes.set(r.FX_PIPELINE,f);for(var v=Math.ceil(Math.min(p,g)/this.frameInc),y=1;y<v;y++){var b=y*this.frameInc;l.push(new h(c,b,b)),l.push(new h(c,b,b)),l.push(new h(c,b,b)),this.maxDimension=b}l.push(new h(c,p,g,1,0,!0,!0)),l.push(new h(c,p,g,1,0,!0,!0)),l.push(new h(c,p,g,1,0,!0,!0))}var x=this,E=this.game;if(this.classes.each(function(e,t){n=x.add(e,new t({game:E})),e===r.UTILITY_PIPELINE&&(x.UTILITY_PIPELINE=n,x.fullFrame1=n.fullFrame1,x.fullFrame2=n.fullFrame2,x.halfFrame1=n.halfFrame1,x.halfFrame2=n.halfFrame2)}),this.MULTI_PIPELINE=this.get(r.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(r.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(r.MOBILE_PIPELINE),m||(this.FX_PIPELINE=this.get(r.FX_PIPELINE)),e)for(s in e){var w=e[s];(n=new w(E)).name=s,n.isPostFX?this.postPipelineClasses.set(s,w):this.has(s)||(this.classes.set(s,w),this.add(s,n))}this.default=this.get(t),i&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(e){var t=this.get(e);return t&&(this.default=t),t},add:function(e,t){if(t.isPostFX){console.warn(e+" is a Post Pipeline. Use `addPostPipeline` instead");return}var i=this.pipelines,n=this.renderer;return i.has(e)?console.warn("Pipeline exists: "+e):(t.name=e,t.manager=this,i.set(e,t)),t.hasBooted||t.boot(),0===n.width||0===n.height||t.isPreFX||t.resize(n.width,n.height),t},addPostPipeline:function(e,t){this.postPipelineClasses.has(e)||this.postPipelineClasses.set(e,t)},flush:function(){this.current&&this.current.flush()},has:function(e){var t=this.pipelines;return"string"==typeof e?t.has(e):!!t.contains(e)},get:function(e){var t=this.pipelines;return"string"==typeof e?t.get(e):t.contains(e)?e:void 0},getPostPipeline:function(e,t,i){var n,r=this.postPipelineClasses,s="",a=typeof e;if("string"===a||"number"===a?(n=r.get(e),s=e):"function"===a?(r.contains(e)&&(n=e),s=e.name):"object"===a&&(n=r.get(e.name),s=e.name),n){var o=new n(this.game,i);return o.name=s,t&&(o.gameObject=t),this.postPipelineInstances.push(o),o}},removePostPipeline:function(e){w(this.postPipelineInstances,e)},remove:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.pipelines.delete(e),t&&this.classes.delete(e),i&&this.postPipelineClasses.delete(e)},set:function(e,t,i){if(!e.isPostFX)return this.isCurrent(e,i)||(this.flush(),this.current&&this.current.unbind(),this.current=e,e.bind(i)),e.updateProjectionMatrix(),e.onBind(t),e},preBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=t.length-1;i>=0;i--){var n=t[i];n.active&&n.preBatch(e)}}},postBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=0;i<t.length;i++){var n=t[i];n.active&&n.postBatch(e)}}},preBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=t.length-1;i>=0;i--){var n=t[i];n.active&&n.preBatch(e)}}},postBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,i=0;i<t.length;i++){var n=t[i];n.active&&n.postBatch(e)}}},isCurrent:function(e,t){var i=this.renderer,n=this.current;return n&&!t&&(t=n.currentShader),!(n!==e||t.program!==i.currentProgram)},copyFrame:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(e,t,i,n,r),this},copyToGame:function(e){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(e),this},drawFrame:function(e,t,i,n){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(e,t,i,n),this},blendFrames:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(e,t,i,n,r),this},blendFramesAdditive:function(e,t,i,n,r){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(e,t,i,n,r),this},clearFrame:function(e,t){return this.UTILITY_PIPELINE.clearFrame(e,t),this},blitFrame:function(e,t,i,n,r,s){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(e,t,i,n,r,s),this},copyFrameRect:function(e,t,i,n,r,s,a,o){return this.UTILITY_PIPELINE.copyFrameRect(e,t,i,n,r,s,a,o),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(e){return this.UTILITY_PIPELINE.bind(e)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(e,t){t.restoreContext()}),E(this.postPipelineInstances,function(e){e.restoreContext()})},rebind:function(e){void 0===e&&this.previous&&(e=this.previous);var t=this.renderer,i=t.gl;i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),t.hasActiveStencilMask()?i.clear(i.DEPTH_BUFFER_BIT):(i.disable(i.STENCIL_TEST),i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)),i.viewport(0,0,t.width,t.height),t.currentProgram=null,t.setBlendMode(0,!0);var n=t.vaoExtension;n&&n.bindVertexArrayOES(null);var r=this.pipelines.entries;for(var s in r)r[s].glReset=!0;e&&(this.current=e,e.rebind())},clear:function(){var e=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,e.currentProgram=null,e.setBlendMode(0,!0);var t=e.vaoExtension;t&&t.bindVertexArrayOES(null)},getRenderTarget:function(e){var t=this.renderTargets;if(e>this.maxDimension)return this.targetIndex=t.length-3,t[this.targetIndex];var i=(c(e,this.frameInc,0,!0)-1)*3;return this.targetIndex=i,t[i]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});e.exports=T},32302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92503),s=new n({initialize:function(e,t,i,n,s,a,o,h,c){void 0===n&&(n=1),void 0===s&&(s=0),void 0===a&&(a=!0),void 0===o&&(o=!1),void 0===h&&(h=!0),void 0===c&&(c=!0),this.renderer=e,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=n,this.minFilter=s,this.autoClear=a,this.autoResize=!0,this.hasDepthBuffer=h,this.forceClamp=c,this.init(t,i),o?this.renderer.on(r.RESIZE,this.resize,this):this.autoResize=!1},init:function(e,t){var i=this.renderer;this.texture=i.createTextureFromSource(null,e,t,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(e,t,this.texture,this.hasDepthBuffer),this.width=e,this.height=t},setAutoResize:function(e){return e&&!this.autoResize?(this.renderer.on(r.RESIZE,this.resize,this),this.autoResize=!0):!e&&this.autoResize&&(this.renderer.off(r.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(e,t){if(this.autoResize&&this.willResize(e,t)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,e,t,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(e,t,this.texture,this.hasDepthBuffer),this.width=e,this.height=t}return this},willResize:function(e,t){return"number"==typeof e&&"number"==typeof t&&(e=Math.round(e*this.scale),t=Math.round(t*this.scale),e=Math.max(e,1),t=Math.max(t,1),e!==this.width||t!==this.height)},bind:function(e,t,i){void 0===e&&(e=!1);var n=this.renderer;if(e&&n.flush(),t&&i&&this.resize(t,i),n.pushFramebuffer(this.framebuffer,!1,!1),e&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var e=this.renderer.gl;e.viewport(0,0,this.width,this.height),e.disable(e.SCISSOR_TEST)},clear:function(e,t,i,n){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),void 0!==e&&void 0!==t&&void 0!==i&&void 0!==n?(s.enable(s.SCISSOR_TEST),s.scissor(e,t,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(e){void 0===e&&(e=!1);var t=this.renderer;return e&&t.flush(),t.popFramebuffer()},destroy:function(){var e=this.renderer;e.off(r.RESIZE,this.resize,this),e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});e.exports=s},70554:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={getTintFromFloats:function(e,t,i,n){return(((255*n|0)&255)<<24|((255*e|0)&255)<<16|((255*t|0)&255)<<8|(255*i|0)&255)>>>0},getTintAppendFloatAlpha:function(e,t){return(((255*t|0)&255)<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,t){return(((255*t|0)&255)<<24|((0|e)&255)<<16|((e>>8|0)&255)<<8|(e>>16|0)&255)>>>0},getFloatsFromUintRGB:function(e){return[((e>>16|0)&255)/255,((e>>8|0)&255)/255,((0|e)&255)/255]},checkShaderMax:function(e,t){var i=Math.min(16,e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));return t&&-1!==t?Math.min(i,t):i},parseFragmentShaderMaxTextures:function(e,t){if(!e)return"";for(var i="",n=0;n<t;n++)n>0&&(i+="\n	else "),n<t-1&&(i+="if (outTexId < "+n+".5)"),i+="\n	{\n		texture = texture2D(uMainSampler["+n+"], outTexCoord);\n	}";return(e=e.replace(/%count%/gi,t.toString())).replace(/%forloop%/gi,i)},setGlowQuality:function(e,t,i,n){return void 0===i&&(i=t.config.glowFXQuality),void 0===n&&(n=t.config.glowFXDistance),e=(e=e.replace(/__SIZE__/gi,(1/i/n).toFixed(7))).replace(/__DIST__/gi,n.toFixed(0)+".0")}}},29100:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(62644),s=i(50792),a=i(77085),o=i(95540),h=i(37867),c=i(92503),l=i(32302),u=i(70554),d=i(38683),f=new n({Extends:s,initialize:function(e){s.call(this);var t=e.game,i=t.renderer,n=i.gl;this.name=o(e,"name","WebGLPipeline"),this.game=t,this.renderer=i,this.manager,this.gl=n,this.view=t.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(e,"topology",n.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(e,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=e,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(e,"resizeUniform","")},boot:function(){var e,t=this.gl,i=this.config,n=this.renderer;this.isPostFX||(this.projectionMatrix=new h().identity());var r=this.renderTargets,s=o(i,"renderTarget",!1);"boolean"==typeof s&&s&&(s=1);var u=n.width,d=n.height;if("number"==typeof s)for(e=0;e<s;e++)r.push(new l(n,u,d,1,0,!0));else if(Array.isArray(s))for(e=0;e<s.length;e++){var f=o(s[e],"scale",1),p=o(s[e],"minFilter",0),g=o(s[e],"autoClear",1),m=o(s[e],"autoResize",!1),v=o(s[e],"width",null),y=o(s[e],"height",v);v?r.push(new l(n,v,y,1,p,g,m)):r.push(new l(n,u,d,f,p,g,m))}r.length&&(this.currentRenderTarget=r[0]),this.setShadersFromConfig(i);var b=this.shaders,x=0;for(e=0;e<b.length;e++)b[e].vertexSize>x&&(x=b[e].vertexSize);var E=o(i,"batchSize",n.config.batchSize);this.vertexCapacity=6*E;var w=new ArrayBuffer(this.vertexCapacity*x);this.vertexData=w,this.bytes=new Uint8Array(w),this.vertexViewF32=new Float32Array(w),this.vertexViewU32=new Uint32Array(w);var T=o(i,"vertices",null);for(T?(this.vertexViewF32.set(T),this.vertexBuffer=n.createVertexBuffer(w,t.STATIC_DRAW)):this.vertexBuffer=n.createVertexBuffer(w.byteLength,t.DYNAMIC_DRAW),this.setVertexBuffer(),e=b.length-1;e>=0;e--)b[e].rebind();this.hasBooted=!0,n.on(c.RESIZE,this.resize,this),n.on(c.PRE_RENDER,this.onPreRender,this),n.on(c.RENDER,this.onRender,this),n.on(c.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(e,t,i){var n=this.renderer;return(e!==this.currentShader||n.currentProgram!==this.currentShader.program)&&(this.flush(),this.setVertexBuffer(i)&&!t&&(t=!0),e.bind(t,!1),this.currentShader=e),this},getShaderByName:function(e){for(var t=this.shaders,i=0;i<t.length;i++)if(t[i].name===e)return t[i]},setShadersFromConfig:function(e){var t=this.shaders,i=this.renderer;for(m=0;m<t.length;m++)t[m].destroy();var n="vertShader",s="fragShader",a="attributes",h=o(e,n,null),c=u.parseFragmentShaderMaxTextures(o(e,s,null),i.maxTextures),l=o(e,a,null),f=o(e,"shaders",[]),p=f.length;if(0===p)h&&c&&(this.shaders=[new d(this,"default",h,c,r(l))]);else{var g=[];for(m=0;m<p;m++){var m,v,y,b,x,E=f[m];if("string"==typeof E?(v="default",y=h,b=u.parseFragmentShaderMaxTextures(E,i.maxTextures),x=l):(v=o(E,"name","default"),y=o(E,n,h),b=u.parseFragmentShaderMaxTextures(o(E,s,c),i.maxTextures),x=o(E,a,l)),"default"===v){var w=b.split("\n")[0].trim();w.indexOf("#define SHADER_NAME")>-1&&(v=w.substring(20))}y&&b&&g.push(new d(this,v,y,b,r(x)))}this.shaders=g}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(e){return this.currentBatch={start:this.vertexCount,count:0,texture:[e],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=e,this.batch.push(this.currentBatch),0},addTextureToBatch:function(e){var t=this.currentBatch;t&&(t.texture.push(e),t.unit++,t.maxUnit++)},pushBatch:function(e){if(!this.currentBatch||this.forceZero&&e!==this.currentTexture)return this.createBatch(e);if(e===this.currentTexture)return this.currentUnit;var t=this.currentBatch,i=t.texture.indexOf(e);return -1!==i?(this.currentUnit=i,this.currentTexture=e,i):t.texture.length===this.renderer.maxTextures?this.createBatch(e):(t.unit++,t.maxUnit++,t.texture.push(e),this.currentUnit=t.unit,this.currentTexture=e,t.unit)},setGameObject:function(e,t){return void 0===t&&(t=e.frame),this.pushBatch(t.source.glTexture)},shouldFlush:function(e){return void 0===e&&(e=0),this.vertexCount+e>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(e,t){(e!==this.width||t!==this.height)&&this.flush(),this.width=e,this.height=t;for(var i=this.renderTargets,n=0;n<i.length;n++)i[n].resize(e,t);return this.setProjectionMatrix(e,t),this.resizeUniform&&this.set2f(this.resizeUniform,e,t),this.emit(a.RESIZE,e,t,this),this.onResize(e,t),this},setProjectionMatrix:function(e,t){var i=this.projectionMatrix;if(!i)return this;this.projectionWidth=e,this.projectionHeight=t,i.ortho(0,e,t,0,-1e3,1e3);for(var n=this.shaders,r="uProjectionMatrix",s=0;s<n.length;s++){var a=n[s];a.hasUniform(r)&&(a.resetUniform(r),a.setMatrix4fv(r,!1,i.val,a))}return this},flipProjectionMatrix:function(e){void 0===e&&(e=!0);var t=this.projectionMatrix;if(!t)return this;var i=this.projectionWidth,n=this.projectionHeight;e?t.ortho(0,i,0,n,-1e3,1e3):t.ortho(0,i,n,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,t.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var e=this.renderer.projectionWidth,t=this.renderer.projectionHeight;(this.projectionWidth!==e||this.projectionHeight!==t)&&this.setProjectionMatrix(e,t)}},bind:function(e){if(void 0===e&&(e=this.currentShader),this.glReset)return this.rebind(e);var t=!1,i=this.gl;return i.getParameter(i.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,t=!0),e.bind(t),this.currentShader=e,this.activeTextures.length=0,this.emit(a.BIND,this,e),this.onActive(e),this},rebind:function(e){this.activeBuffer=null,this.setVertexBuffer();for(var t=this.shaders,i=t.length-1;i>=0;i--){var n=t[i].rebind();e&&n!==e||(this.currentShader=n)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var e=this.shaders,t=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,t&&this.setVertexBuffer();for(var i=0;i<e.length;i++){var n=e[i];n.syncUniforms(),t&&n.rebind()}},setVertexBuffer:function(e){if(void 0===e&&(e=this.vertexBuffer),e!==this.activeBuffer){var t=this.gl;return this.gl.bindBuffer(t.ARRAY_BUFFER,e.webGLBuffer),this.activeBuffer=e,!0}return!1},preBatch:function(e){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(e),this},postBatch:function(e){return this.onDraw(this.currentRenderTarget),this.onPostBatch(e),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(e){if(void 0===e&&(e=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,e),this.onBeforeFlush(e);var t=this.gl,i=this.vertexCount,n=this.currentShader.vertexSize,r=this.topology;if(this.active){this.setVertexBuffer(),i===this.vertexCapacity?t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.DYNAMIC_DRAW):t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,i*n));var s,o,h,c=this.batch,l=this.activeTextures;if(this.forceZero)for(l[0]||t.activeTexture(t.TEXTURE0),s=0;s<c.length;s++)h=(o=c[s]).texture[0],l[0]!==h&&(t.bindTexture(t.TEXTURE_2D,h.webGLTexture),l[0]=h),t.drawArrays(r,o.start,o.count);else for(s=0;s<c.length;s++){o=c[s];for(var u=0;u<=o.maxUnit;u++)h=o.texture[u],l[u]!==h&&(t.activeTexture(t.TEXTURE0+u),t.bindTexture(t.TEXTURE_2D,h.webGLTexture),l[u]=h);t.drawArrays(r,o.start,o.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,e),this.onAfterFlush(e)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(e,t,i,n,r,s,a){var o=this.vertexViewF32,h=this.vertexViewU32,c=this.vertexCount*this.currentShader.vertexComponentCount-1;o[++c]=e,o[++c]=t,o[++c]=i,o[++c]=n,o[++c]=r,o[++c]=s,h[++c]=a,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(e,t,i,n,r,s,a,o,h,c,l,u,d,f,p,g,m,v,y,b){void 0===b&&(b=this.currentUnit);var x=!1;this.shouldFlush(6)&&(this.flush(),x=!0),this.currentBatch||(b=this.setTexture2D(y));var E=this.vertexViewF32,w=this.vertexViewU32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;return E[++T]=t,E[++T]=i,E[++T]=c,E[++T]=l,E[++T]=b,E[++T]=v,w[++T]=f,E[++T]=n,E[++T]=r,E[++T]=c,E[++T]=d,E[++T]=b,E[++T]=v,w[++T]=g,E[++T]=s,E[++T]=a,E[++T]=u,E[++T]=d,E[++T]=b,E[++T]=v,w[++T]=m,E[++T]=t,E[++T]=i,E[++T]=c,E[++T]=l,E[++T]=b,E[++T]=v,w[++T]=f,E[++T]=s,E[++T]=a,E[++T]=u,E[++T]=d,E[++T]=b,E[++T]=v,w[++T]=m,E[++T]=o,E[++T]=h,E[++T]=u,E[++T]=l,E[++T]=b,E[++T]=v,w[++T]=p,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(e),x},batchTri:function(e,t,i,n,r,s,a,o,h,c,l,u,d,f,p,g,m){void 0===m&&(m=this.currentUnit);var v=!1;this.shouldFlush(3)&&(this.flush(),v=!0),this.currentBatch||(m=this.setTexture2D(g));var y=this.vertexViewF32,b=this.vertexViewU32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;return y[++x]=t,y[++x]=i,y[++x]=o,y[++x]=h,y[++x]=m,y[++x]=p,b[++x]=u,y[++x]=n,y[++x]=r,y[++x]=o,y[++x]=l,y[++x]=m,y[++x]=p,b[++x]=d,y[++x]=s,y[++x]=a,y[++x]=c,y[++x]=l,y[++x]=m,y[++x]=p,b[++x]=f,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(e),v},drawFillRect:function(e,t,i,n,r,s,a,o){void 0===a&&(a=this.renderer.whiteTexture),void 0===o&&(o=!0);var h=Math.floor((e=Math.floor(e))+i),c=Math.floor((t=Math.floor(t))+n),l=this.setTexture2D(a),d=u.getTintAppendFloatAlphaAndSwap(r,s),f=0,p=1;o&&(f=1,p=0),this.batchQuad(null,e,t,e,c,h,c,h,t,0,f,1,p,d,d,d,d,0,a,l)},setTexture2D:function(e){return void 0===e&&(e=this.renderer.whiteTexture),this.pushBatch(e)},bindTexture:function(e,t){void 0===t&&(t=0);var i=this.gl;return i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e.webGLTexture),this},bindRenderTarget:function(e,t){return this.bindTexture(e.texture,t)},setTime:function(e,t){return this.set1f(e,this.game.loop.getDuration(),t),this},setBoolean:function(e,t,i){return void 0===i&&(i=this.currentShader),i.setBoolean(e,t),this},set1f:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1f(e,t),this},set2f:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.set2f(e,t,i),this},set3f:function(e,t,i,n,r){return void 0===r&&(r=this.currentShader),r.set3f(e,t,i,n),this},set4f:function(e,t,i,n,r,s){return void 0===s&&(s=this.currentShader),s.set4f(e,t,i,n,r),this},set1fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1fv(e,t),this},set2fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set2fv(e,t),this},set3fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set3fv(e,t),this},set4fv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set4fv(e,t),this},set1iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1iv(e,t),this},set2iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set2iv(e,t),this},set3iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set3iv(e,t),this},set4iv:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set4iv(e,t),this},set1i:function(e,t,i){return void 0===i&&(i=this.currentShader),i.set1i(e,t),this},set2i:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.set2i(e,t,i),this},set3i:function(e,t,i,n,r){return void 0===r&&(r=this.currentShader),r.set3i(e,t,i,n),this},set4i:function(e,t,i,n,r,s){return void 0===s&&(s=this.currentShader),s.set4i(e,t,i,n,r),this},setMatrix2fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix2fv(e,t,i),this},setMatrix3fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix3fv(e,t,i),this},setMatrix4fv:function(e,t,i,n){return void 0===n&&(n=this.currentShader),n.setMatrix4fv(e,t,i),this},destroy:function(){this.emit(a.DESTROY,this);var e,t=this.shaders;for(e=0;e<t.length;e++)t[e].destroy();var i=this.renderTargets;for(e=0;e<i.length;e++)i[e].destroy();var n=this.renderer;return n.deleteBuffer(this.vertexBuffer),n.off(c.RESIZE,this.resize,this),n.off(c.PRE_RENDER,this.onPreRender,this),n.off(c.RENDER,this.onRender,this),n.off(c.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});e.exports=f},74797:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95428),r=i(72905),s=i(19715),a=i(83419),o=i(8054),h=i(50792),c=i(92503),l=i(50030),u=i(37867),d=i(29747),f=i(7530),p=i(32302),g=i(97480),m=i(69442),v=i(70554),y=i(88815),b=i(26128),x=i(1482),E=i(82751),w=i(84387),T=i(93567),S=i(57183),A=new a({Extends:h,initialize:function(e){h.call(this);var t=e.config,i={alpha:t.transparent,desynchronized:t.desynchronized,depth:!0,antialias:t.antialiasGL,premultipliedAlpha:t.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:t.failIfMajorPerformanceCaveat,powerPreference:t.powerPreference,preserveDrawingBuffer:t.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:t.clearBeforeRender,antialias:t.antialias,backgroundColor:t.backgroundColor,contextCreation:i,roundPixels:t.roundPixels,maxTextures:t.maxTextures,maxTextureSize:t.maxTextureSize,batchSize:t.batchSize,maxLights:t.maxLights,mipmapFilter:t.mipmapFilter},this.game=e,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=e.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(e){var t,i=this.game,n=this.canvas,r=e.backgroundColor;if(!(t=i.config.context?i.config.context:n.getContext("webgl",e.contextCreation)||n.getContext("experimental-webgl",e.contextCreation))||t.isContextLost())throw this.contextLost=!0,Error("WebGL unsupported");this.gl=t,this.setExtensions(),this.setContextHandlers(),i.context=t;for(var s=0;s<=27;s++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});return this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats=[t.BYTE,t.SHORT,t.UNSIGNED_BYTE,t.UNSIGNED_SHORT,t.FLOAT],this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}},e.maxTextures&&-1!==e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(r.redGL,r.greenGL,r.blueGL,r.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(e.mipmapFilter)&&(this.mipmapFilter=t[e.mipmapFilter]),this.maxTextures=v.checkShaderMax(t,e.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),i.textures.once(m.READY,this.boot,this),this},boot:function(){var e=this.game,t=this.pipelines,i=e.scale.baseSize,n=i.width,r=i.height;this.width=n,this.height=r,this.isBooted=!0,this.renderTarget=new p(this,n,r,1,0,!0,!0),this.maskTarget=new p(this,n,r,1,0,!0,!0),this.maskSource=new p(this,n,r,1,0,!0,!0);var s=e.config;t.boot(s.pipeline,s.defaultPipeline,s.autoMobilePipeline),this.blankTexture=e.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=e.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=e.textures.getFrame("__WHITE").glTexture;var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null),a.enable(a.SCISSOR_TEST),e.scale.on(g.RESIZE,this.onResize,this),this.resize(n,r)},setExtensions:function(){var e=this.gl,t=e.getSupportedExtensions();this.supportedExtensions=t;var i="ANGLE_instanced_arrays";this.instancedArraysExtension=t.indexOf(i)>-1?e.getExtension(i):null;var n="OES_vertex_array_object";this.vaoExtension=t.indexOf(n)>-1?e.getExtension(n):null},setContextHandlers:function(e,t){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),"function"==typeof e?this.contextLostHandler=e.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),"function"==typeof t?this.contextRestoredHandler=t.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(e){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(c.LOSE_WEBGL,this),e.preventDefault()},dispatchContextRestored:function(e){var t=this.gl;if(t.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(o.BlendModes.NORMAL),t.disable(t.BLEND),t.disable(t.DEPTH_TEST),t.enable(t.CULL_FACE),this.compression=this.getCompressedTextures();var i=function(e){e.createResource()};n(this.glTextureWrappers,i),n(this.glBufferWrappers,i),n(this.glFramebufferWrappers,i),n(this.glProgramWrappers,i),n(this.glAttribLocationWrappers,i),n(this.glUniformLocationWrappers,i),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(c.RESTORE_WEBGL,this),e.preventDefault()},createTemporaryTextures:function(){for(var e=this.gl,t=0;t<this.maxTextures;t++){var i=e.createTexture();e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(t)}},captureFrame:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=!1),void 0===i&&(i=!1)},stopCapture:function(){},onCapture:function(e){},onResize:function(e,t){(t.width!==this.width||t.height!==this.height)&&this.resize(t.width,t.height)},beginCapture:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.renderTarget.bind(!0,e,t),this.setProjectionMatrix(e,t)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(e,t){var i=this.gl;return this.width=e,this.height=t,this.setProjectionMatrix(e,t),i.viewport(0,0,e,t),this.drawingBufferHeight=i.drawingBufferHeight,i.scissor(0,i.drawingBufferHeight-t,e,t),this.defaultScissor[2]=e,this.defaultScissor[3]=t,this.emit(c.RESIZE,e,t),this},getCompressedTextures:function(){var e="WEBGL_compressed_texture_",t="WEBKIT_"+e,i=function(i,n){var r=i.getExtension(e+n)||i.getExtension(t+n)||i.getExtension("EXT_texture_compression_"+n);if(r){var s={};for(var a in r)s[r[a]]=a;return s}},n=this.gl;return{ETC:i(n,"etc"),ETC1:i(n,"etc1"),ATC:i(n,"atc"),ASTC:i(n,"astc"),BPTC:i(n,"bptc"),RGTC:i(n,"rgtc"),PVRTC:i(n,"pvrtc"),S3TC:i(n,"s3tc"),S3TCSRGB:i(n,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(e,t){var i=this.compression[e.toUpperCase()];if(t in i)return i[t]},supportsCompressedTexture:function(e,t){var i=this.compression[e.toUpperCase()];return!!i&&(!t||t in i)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(e,t){return(e!==this.projectionWidth||t!==this.projectionHeight)&&(this.projectionWidth=e,this.projectionHeight=t,this.projectionMatrix.ortho(0,e,t,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.pipelines.flush()},pushScissor:function(e,t,i,n,r){void 0===r&&(r=this.drawingBufferHeight);var s=this.scissorStack,a=[e,t,i,n];return s.push(a),this.setScissor(e,t,i,n,r),this.currentScissor=a,a},setScissor:function(e,t,i,n,r){void 0===r&&(r=this.drawingBufferHeight);var s=this.gl,a=this.currentScissor,o=i>0&&n>0;if(a&&o){var h=a[0],c=a[1],l=a[2],u=a[3];o=h!==e||c!==t||l!==i||u!==n}o&&(this.flush(),s.scissor(e,r-t-n,i,n))},resetScissor:function(){var e=this.gl;e.enable(e.SCISSOR_TEST);var t=this.currentScissor;if(t){var i=t[0],n=t[1],r=t[2],s=t[3];r>0&&s>0&&e.scissor(i,this.drawingBufferHeight-n-s,r,s)}},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},resetViewport:function(){var e=this.gl;e.viewport(0,0,this.width,this.height),this.drawingBufferHeight=e.drawingBufferHeight},setBlendMode:function(e,t){void 0===t&&(t=!1);var i=this.gl,n=this.blendModes[e];return(!!t||e!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(n.equation),n.func.length>2?i.blendFuncSeparate(n.func[0],n.func[1],n.func[2],n.func[3]):i.blendFunc(n.func[0],n.func[1]),this.currentBlendMode=e,!0)},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,i){return this.blendModes[e]&&(this.blendModes[e].func=t,i&&(this.blendModes[e].equation=i)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},pushFramebuffer:function(e,t,i,n,r){return e===this.currentFramebuffer?this:(this.fboStack.push(e),this.setFramebuffer(e,t,i,n,r))},setFramebuffer:function(e,t,i,n,r){if(void 0===t&&(t=!1),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===r&&(r=!1),e===this.currentFramebuffer)return this;var s=this.gl,a=this.width,o=this.height;return e&&e.renderTexture&&i?(a=e.renderTexture.width,o=e.renderTexture.height):this.flush(),e?s.bindFramebuffer(s.FRAMEBUFFER,e.webGLFramebuffer):s.bindFramebuffer(s.FRAMEBUFFER,null),i&&s.viewport(0,0,a,o),n&&s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,n.webGLTexture,0),r&&(s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)),t&&(e?(this.drawingBufferHeight=o,this.pushScissor(0,0,a,o)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e,this},popFramebuffer:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this.fboStack;i.pop();var n=i[i.length-1];return n||(n=null),this.setFramebuffer(n,e,t),n},restoreFramebuffer:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this.fboStack,n=i[i.length-1];n||(n=null),this.currentFramebuffer=null,this.setFramebuffer(n,e,t)},setProgram:function(e){return e!==this.currentProgram&&(this.flush(),this.gl.useProgram(e.webGLProgram),this.currentProgram=e,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(e,t,i,n,r){void 0===r&&(r=!1);var s=this.gl,a=s.NEAREST,h=s.NEAREST,c=s.CLAMP_TO_EDGE,u=l(t=e?e.width:t,i=e?e.height:i);if(u&&!r&&(c=s.REPEAT),n===o.ScaleModes.LINEAR&&this.config.antialias){var d=e&&e.compressed,f=!d&&u||d&&e.mipmaps.length>1;a=this.mipmapFilter&&f?this.mipmapFilter:s.LINEAR,h=s.LINEAR}return e||"number"!=typeof t||"number"!=typeof i?this.createTexture2D(0,a,h,c,c,s.RGBA,e):this.createTexture2D(0,a,h,c,c,s.RGBA,null,t,i)},createTexture2D:function(e,t,i,n,r,s,a,o,h,c,l,u){"number"!=typeof o&&(o=a?a.width:1),"number"!=typeof h&&(h=a?a.height:1);var d=new E(this.gl,e,t,i,n,r,s,a,o,h,c,l,u);return this.glTextureWrappers.push(d),d},createFramebuffer:function(e,t,i,n){this.currentFramebuffer=null;var r=new w(this.gl,e,t,i,n);return this.glFramebufferWrappers.push(r),r},beginBitmapMask:function(e,t){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==e&&(this.currentMask.mask=e,this.currentMask.camera=t))},drawBitmapMask:function(e,t,i){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),e.renderWebGL(this,e,t),this.maskSource.unbind(!0),this.maskTarget.unbind();var n=this.gl,r=this.getCurrentStencilMask();r?(n.enable(n.STENCIL_TEST),r.mask.applyStencil(this,r.camera,!0)):this.currentMask.mask=null,this.pipelines.set(i),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.maskTarget.texture.webGLTexture),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(e,t){var i=new x(this.gl,e,t);return this.glProgramWrappers.push(i),i},createVertexBuffer:function(e,t){var i=this.gl,n=new b(i,e,i.ARRAY_BUFFER,t);return this.glBufferWrappers.push(n),n},createAttribLocation:function(e,t){var i=new T(this.gl,e,t);return this.glAttribLocationWrappers.push(i),i},createUniformLocation:function(e,t){var i=new S(this.gl,e,t);return this.glUniformLocationWrappers.push(i),i},createIndexBuffer:function(e,t){var i=this.gl,n=new b(i,e,i.ELEMENT_ARRAY_BUFFER,t);return this.glBufferWrappers.push(n),n},deleteTexture:function(e){if(e)return r(this.glTextureWrappers,e),e.destroy(),this},deleteFramebuffer:function(e){return e&&(r(this.fboStack,e),r(this.glFramebufferWrappers,e),e.destroy()),this},deleteProgram:function(e){return e&&(r(this.glProgramWrappers,e),e.destroy()),this},deleteAttribLocation:function(e){return e&&(r(this.glAttribLocationWrappers,e),e.destroy()),this},deleteUniformLocation:function(e){return e&&(r(this.glUniformLocationWrappers,e),e.destroy()),this},deleteBuffer:function(e){return e&&(r(this.glBufferWrappers,e),e.destroy()),this},preRenderCamera:function(e){var t=e.x,i=e.y,n=e.width,r=e.height,a=e.backgroundColor;e.emit(s.PRE_RENDER,e),this.pipelines.preBatchCamera(e),this.pushScissor(t,i,n,r),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),a.alphaGL>0&&this.pipelines.setMulti().drawFillRect(t,i,n,r,v.getTintFromFloats(a.blueGL,a.greenGL,a.redGL,1),a.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,i=this.currentCameraMask;return t.length>0?e=t[t.length-1]:i.mask&&i.mask.isStencil&&(e=i),e},postRenderCamera:function(e){var t=e.flashEffect,i=e.fadeEffect;if(t.isRunning||i.isRunning||i.isComplete){var n=this.pipelines.setMulti();t.postRenderWebGL(n,v.getTintFromFloats),i.postRenderWebGL(n,v.getTintFromFloats)}e.dirty=!1,this.popScissor(),e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera)),this.pipelines.postBatchCamera(e),e.emit(s.POST_RENDER,e)},preRender:function(){if(!this.contextLost){var e=this.gl;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.emit(c.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var t=this.config.backgroundColor;e.clearColor(t.redGL,t.greenGL,t.blueGL,t.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}e.enable(e.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(c.PRE_RENDER)}},render:function(e,t,i){if(!this.contextLost){var n=t.length;if(this.emit(c.RENDER,e,i),this.preRenderCamera(i),0===n){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(i);return}this.currentType="";for(var r=this.currentMask,s=0;s<n;s++){this.finalType=s===n-1;var a=t[s],h=a.mask;(r=this.currentMask).mask&&r.mask!==h&&r.mask.postRenderWebGL(this,r.camera),h&&r.mask!==h&&h.preRenderWebGL(this,a,i),a.blendMode!==this.currentBlendMode&&this.setBlendMode(a.blendMode);var l=a.type;l!==this.currentType&&(this.newType=!0,this.currentType=l),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=t[s+1].type===this.currentType,a.renderWebGL(this,a,i),this.newType=!1}(r=this.currentMask).mask&&r.mask.postRenderWebGL(this,r.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(i)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(c.POST_RENDER);var e=this.snapshotState;e.callback&&(y(this.gl,e),e.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var e=this.gl,t=this.getCurrentStencilMask();if(t){var i=t.mask;e.enable(e.STENCIL_TEST),i.invertAlpha?e.stencilFunc(e.NOTEQUAL,i.level,255):e.stencilFunc(e.EQUAL,i.level,255)}},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,i)},snapshotArea:function(e,t,i,n,r,s,a){var o=this.snapshotState;return o.callback=r,o.type=s,o.encoder=a,o.getPixel=!1,o.x=e,o.y=t,o.width=i,o.height=n,this},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,i,n,r,s,a,o,h,c,l){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===o&&(o=t),void 0===h&&(h=i),"pixel"===c&&(r=!0,c="image/png");var u=this.currentFramebuffer;this.snapshotArea(s,a,o,h,n,c,l);var d=this.snapshotState;return d.getPixel=r,d.isFramebuffer=!0,d.bufferWidth=t,d.bufferHeight=i,d.width=Math.min(d.width,t),d.height=Math.min(d.height,i),this.setFramebuffer(e),y(this.gl,d),this.setFramebuffer(u),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.gl,s=r.NEAREST,a=r.NEAREST,o=e.width,h=e.height,c=r.CLAMP_TO_EDGE,u=l(o,h);return(!i&&u&&(c=r.REPEAT),this.config.antialias&&(s=u&&this.mipmapFilter?this.mipmapFilter:r.LINEAR,a=r.LINEAR),t)?(t.update(e,o,h,n,c,c,s,a,t.format),t):this.createTexture2D(0,s,a,c,c,r.RGBA,e,o,h,!0,!1,n)},createCanvasTexture:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.canvasToTexture(e,null,t,i)},updateCanvasTexture:function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this.canvasToTexture(e,t,n,i)},videoToTexture:function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=this.gl,s=r.NEAREST,a=r.NEAREST,o=e.videoWidth,h=e.videoHeight,c=r.CLAMP_TO_EDGE,u=l(o,h);return(!i&&u&&(c=r.REPEAT),this.config.antialias&&(s=u&&this.mipmapFilter?this.mipmapFilter:r.LINEAR,a=r.LINEAR),t)?(t.update(e,o,h,n,c,c,s,a,t.format),t):this.createTexture2D(0,s,a,c,c,r.RGBA,e,o,h,!0,!0,n)},createVideoTexture:function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),this.videoToTexture(e,null,t,i)},updateVideoTexture:function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this.videoToTexture(e,t,n,i)},createUint8ArrayTexture:function(e,t,i){var n=this.gl,r=n.NEAREST,s=n.NEAREST,a=n.CLAMP_TO_EDGE;return l(t,i)&&(a=n.REPEAT),this.createTexture2D(0,r,s,a,a,n.RGBA,e,t,i)},setTextureFilter:function(e,t){var i=this.gl,n=0===t?i.LINEAR:i.NEAREST;i.activeTexture(i.TEXTURE0);var r=i.getParameter(i.TEXTURE_BINDING_2D);return i.bindTexture(i.TEXTURE_2D,e.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,n),e.minFilter=n,e.magFilter=n,r&&i.bindTexture(i.TEXTURE_2D,r),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var e=function(e){e.destroy()};n(this.glAttribLocationWrappers,e),n(this.glBufferWrappers,e),n(this.glFramebufferWrappers,e),n(this.glProgramWrappers,e),n(this.glTextureWrappers,e),n(this.glUniformLocationWrappers,e),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});e.exports=A},38683:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95428),s=i(95540),a=i(14500),o=new n({initialize:function(e,t,i,n,r){this.pipeline=e,this.name=t,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=i,this.program=this.renderer.createProgram(i,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(r),this.createUniforms()},createAttributes:function(e){var t=0,i=0,n=[];this.vertexComponentCount=0;for(var r=0;r<e.length;r++){var o=e[r],h=o.name,c=s(o,"size",1),l=s(o,"type",a.FLOAT),u=l.enum,d=l.size,f=!!o.normalized;n.push({name:h,size:c,type:u,normalized:f,offset:i,enabled:!1,location:-1}),4===d?t+=c:t++,i+=c*d}this.vertexSize=i,this.vertexComponentCount=t,this.attributes=n},bind:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),t&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){void 0===e&&(e=!1);for(var t=this.gl,i=this.renderer,n=this.vertexSize,r=this.attributes,s=this.program,a=0;a<r.length;a++){var o=r[a],h=o.size,c=o.type,l=o.offset,u=o.enabled,d=o.location,f=!!o.normalized;if(e){-1!==d&&i.deleteAttribLocation(d);var p=this.renderer.createAttribLocation(s,o.name);p.webGLAttribLocation>=0?(t.enableVertexAttribArray(p.webGLAttribLocation),t.vertexAttribPointer(p.webGLAttribLocation,h,c,f,n,l),o.enabled=!0,o.location=p):-1!==p.webGLAttribLocation&&t.disableVertexAttribArray(p.webGLAttribLocation)}else u?t.vertexAttribPointer(d.webGLAttribLocation,h,c,f,n,l):!u&&-1!==d&&d.webGLAttribLocation>-1&&(t.disableVertexAttribArray(d.webGLAttribLocation),o.location=-1)}return this},createUniforms:function(){var e,t,i,n=this.gl,r=this.program,s=this.uniforms,a=n.getProgramParameter(r.webGLProgram,n.ACTIVE_UNIFORMS);for(e=0;e<a;e++){var o=n.getActiveUniform(r.webGLProgram,e);if(o){t=o.name,null!==(i=this.renderer.createUniformLocation(r,t))&&(s[t]={name:t,location:i,setter:null,value1:null,value2:null,value3:null,value4:null});var h=t.indexOf("[");h>0&&(t=t.substr(0,h),s.hasOwnProperty(t)||null===(i=this.renderer.createUniformLocation(r,t))||(s[t]={name:t,location:i,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var e=this.gl;for(var t in this.renderer.setProgram(this.program),this.uniforms){var i=this.uniforms[t];i.setter&&i.setter.call(e,i.location.webGLUniformLocation,i.value1,i.value2,i.value3,i.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var t=this.uniforms[e];return t&&(t.value1=null,t.value2=null,t.value3=null,t.value4=null),this},setUniform1:function(e,t,i,n){var r=this.uniforms[t];return r&&(n||r.value1!==i)&&(r.setter||(r.setter=e),r.value1=i,this.renderer.setProgram(this.program),e.call(this.gl,r.location.webGLUniformLocation,i),this.pipeline.currentShader=this),this},setUniform2:function(e,t,i,n,r){var s=this.uniforms[t];return s&&(r||s.value1!==i||s.value2!==n)&&(s.setter||(s.setter=e),s.value1=i,s.value2=n,this.renderer.setProgram(this.program),e.call(this.gl,s.location.webGLUniformLocation,i,n),this.pipeline.currentShader=this),this},setUniform3:function(e,t,i,n,r,s){var a=this.uniforms[t];return a&&(s||a.value1!==i||a.value2!==n||a.value3!==r)&&(a.setter||(a.setter=e),a.value1=i,a.value2=n,a.value3=r,this.renderer.setProgram(this.program),e.call(this.gl,a.location.webGLUniformLocation,i,n,r),this.pipeline.currentShader=this),this},setUniform4:function(e,t,i,n,r,s,a){var o=this.uniforms[t];return o&&(a||o.value1!==i||o.value2!==n||o.value3!==r||o.value4!==s)&&(o.setter||(o.setter=e),o.value1=i,o.value2=n,o.value3=r,o.value4=s,this.renderer.setProgram(this.program),e.call(this.gl,o.location.webGLUniformLocation,i,n,r,s),this.pipeline.currentShader=this),this},setBoolean:function(e,t){return this.setUniform1(this.gl.uniform1i,e,Number(t))},set1f:function(e,t){return this.setUniform1(this.gl.uniform1f,e,t)},set2f:function(e,t,i){return this.setUniform2(this.gl.uniform2f,e,t,i)},set3f:function(e,t,i,n){return this.setUniform3(this.gl.uniform3f,e,t,i,n)},set4f:function(e,t,i,n,r){return this.setUniform4(this.gl.uniform4f,e,t,i,n,r)},set1fv:function(e,t){return this.setUniform1(this.gl.uniform1fv,e,t,!0)},set2fv:function(e,t){return this.setUniform1(this.gl.uniform2fv,e,t,!0)},set3fv:function(e,t){return this.setUniform1(this.gl.uniform3fv,e,t,!0)},set4fv:function(e,t){return this.setUniform1(this.gl.uniform4fv,e,t,!0)},set1iv:function(e,t){return this.setUniform1(this.gl.uniform1iv,e,t,!0)},set2iv:function(e,t){return this.setUniform1(this.gl.uniform2iv,e,t,!0)},set3iv:function(e,t){return this.setUniform1(this.gl.uniform3iv,e,t,!0)},set4iv:function(e,t){return this.setUniform1(this.gl.uniform4iv,e,t,!0)},set1i:function(e,t){return this.setUniform1(this.gl.uniform1i,e,t)},set2i:function(e,t,i){return this.setUniform2(this.gl.uniform2i,e,t,i)},set3i:function(e,t,i,n){return this.setUniform3(this.gl.uniform3i,e,t,i,n)},set4i:function(e,t,i,n,r){return this.setUniform4(this.gl.uniform4i,e,t,i,n,r)},setMatrix2fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix2fv,e,t,i,!0)},setMatrix3fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix3fv,e,t,i,!0)},setMatrix4fv:function(e,t,i){return this.setUniform2(this.gl.uniformMatrix4fv,e,t,i,!0)},createProgram:function(e,t){return void 0===e&&(e=this.vertSrc),void 0===t&&(t=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=t,this.program=this.renderer.createProgram(e,t),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;r(this.uniforms,function(t){e.deleteUniformLocation(t.location)}),this.uniforms=null,r(this.attributes,function(t){e.deleteAttribLocation(t.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});e.exports=o},14500:e=>{e.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14500),r=i(79291),s={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};s=r(!1,s,n),e.exports=s},31302:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(78908),a=i(85191),o=i(14500),h=i(29100),c=new n({Extends:h,initialize:function(e){e.fragShader=r(e,"fragShader",s),e.vertShader=r(e,"vertShader",a),e.batchSize=r(e,"batchSize",1),e.vertices=r(e,"vertices",[-1,1,-1,-7,7,1]),e.attributes=r(e,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),h.call(this,e)},boot:function(){h.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(e,t){h.prototype.resize.call(this,e,t),this.set2f("uResolution",e,t)},beginMask:function(e,t,i){this.renderer.beginBitmapMask(e,i)},endMask:function(e,t,i){var n=this.gl,r=this.renderer,s=e.bitmapMask;s&&n&&(r.drawBitmapMask(s,t,this),i&&this.set2f("uResolution",i.width,i.height),this.set1i("uInvertMaskAlpha",e.invertAlpha),n.drawArrays(this.topology,0,3),i&&this.set2f("uResolution",this.width,this.height),n.bindTexture(n.TEXTURE_2D,null))}});e.exports=c},92651:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(58918),s=i(14811),a=i(95540),o=i(43558),h=i(89350),c=i(70554),l=new n({Extends:o,initialize:function(e){e.shaders=[c.setGlowQuality(h.FXGlowFrag,e.game),h.FXShadowFrag,h.FXPixelateFrag,h.FXVignetteFrag,h.FXShineFrag,h.FXBlurLowFrag,h.FXBlurMedFrag,h.FXBlurHighFrag,h.FXGradientFrag,h.FXBloomFrag,h.ColorMatrixFrag,h.FXCircleFrag,h.FXBarrelFrag,h.FXDisplacementFrag,h.FXWipeFrag,h.FXBokehFrag],o.call(this,e);var t=this.game;this.glow=new r.Glow(t),this.shadow=new r.Shadow(t),this.pixelate=new r.Pixelate(t),this.vignette=new r.Vignette(t),this.shine=new r.Shine(t),this.gradient=new r.Gradient(t),this.circle=new r.Circle(t),this.barrel=new r.Barrel(t),this.wipe=new r.Wipe(t),this.bokeh=new r.Bokeh(t);var i=[];i[s.GLOW]=this.onGlow,i[s.SHADOW]=this.onShadow,i[s.PIXELATE]=this.onPixelate,i[s.VIGNETTE]=this.onVignette,i[s.SHINE]=this.onShine,i[s.BLUR]=this.onBlur,i[s.GRADIENT]=this.onGradient,i[s.BLOOM]=this.onBloom,i[s.COLOR_MATRIX]=this.onColorMatrix,i[s.CIRCLE]=this.onCircle,i[s.BARREL]=this.onBarrel,i[s.DISPLACEMENT]=this.onDisplacement,i[s.WIPE]=this.onWipe,i[s.BOKEH]=this.onBokeh,this.fxHandlers=i,this.source,this.target,this.swap},onDraw:function(e,t,i){this.source=e,this.target=t,this.swap=i;var n=e.width,r=e.height,s=this.tempSprite,a=this.fxHandlers;if(s&&s.preFX)for(var o=s.preFX.list,h=0;h<o.length;h++){var c=o[h];c.active&&a[c.type].call(this,c,n,r)}this.drawToGame(this.source)},runDraw:function(){var e=this.source,t=this.target;this.copy(e,t),this.source=t,this.target=e},onGlow:function(e,t,i){var n=this.shaders[s.GLOW];this.setShader(n),this.glow.onPreRender(e,n,t,i),this.runDraw()},onShadow:function(e){var t=this.shaders[s.SHADOW];this.setShader(t),this.shadow.onPreRender(e,t),this.runDraw()},onPixelate:function(e,t,i){var n=this.shaders[s.PIXELATE];this.setShader(n),this.pixelate.onPreRender(e,n,t,i),this.runDraw()},onVignette:function(e){var t=this.shaders[s.VIGNETTE];this.setShader(t),this.vignette.onPreRender(e,t),this.runDraw()},onShine:function(e,t,i){var n=this.shaders[s.SHINE];this.setShader(n),this.shine.onPreRender(e,n,t,i),this.runDraw()},onBlur:function(e,t,i){var n=a(e,"quality"),r=this.shaders[s.BLUR+n];this.setShader(r),this.set1i("uMainSampler",0),this.set2f("resolution",t,i),this.set1f("strength",a(e,"strength")),this.set3fv("color",a(e,"glcolor"));for(var o=a(e,"x"),h=a(e,"y"),c=a(e,"steps"),l=0;l<c;l++)this.set2f("offset",o,0),this.runDraw(),this.set2f("offset",0,h),this.runDraw()},onGradient:function(e){var t=this.shaders[s.GRADIENT];this.setShader(t),this.gradient.onPreRender(e,t),this.runDraw()},onBloom:function(e,t,i){var n=this.shaders[s.BLOOM];this.copySprite(this.source,this.swap),this.setShader(n),this.set1i("uMainSampler",0),this.set1f("strength",a(e,"blurStrength")),this.set3fv("color",a(e,"glcolor"));for(var r=2/t*a(e,"offsetX"),o=2/i*a(e,"offsetY"),h=a(e,"steps"),c=0;c<h;c++)this.set2f("offset",r,0),this.runDraw(),this.set2f("offset",0,o),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(e,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(e){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",e.getData()),this.set1f("uAlpha",e.alpha),this.runDraw()},onCircle:function(e,t,i){var n=this.shaders[s.CIRCLE];this.setShader(n),this.circle.onPreRender(e,n,t,i),this.runDraw()},onBarrel:function(e){var t=this.shaders[s.BARREL];this.setShader(t),this.barrel.onPreRender(e,t),this.runDraw()},onDisplacement:function(e){this.setShader(this.shaders[s.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.runDraw()},onWipe:function(e){var t=this.shaders[s.WIPE];this.setShader(t),this.wipe.onPreRender(e,t),this.runDraw()},onBokeh:function(e,t,i){var n=this.shaders[s.BOKEH];this.setShader(n),this.bokeh.onPreRender(e,n,t,i),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});e.exports=l},96569:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(31063),a=i(57516),o=i(61340),h=i(26099),c=i(29100),l=new n({Extends:a,initialize:function(e){var t=r(e,"fragShader",s);e.fragShader=t.replace("%LIGHT_COUNT%",e.game.renderer.config.maxLights),a.call(this,e),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new h,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){c.prototype.boot.call(this)},onRender:function(e,t){var i,n=e.sys.lights;if(this.lightsActive=!1,n&&n.active){var r=n.getLights(t),s=r.length;this.lightsActive=!0;var a=this.renderer.height,o=t.matrix,h=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",t.x,t.y,t.rotation,t.zoom),this.set3f("uAmbientLightColor",n.ambientColor.r,n.ambientColor.g,n.ambientColor.b),this.set1i("uLightCount",s),i=0;i<s;i++){var c=r[i].light,l=c.color,u="uLights["+i+"].";o.transformPoint(c.x,c.y,h),this.set2f(u+"position",h.x-t.scrollX*c.scrollFactorX*t.zoom,a-(h.y-t.scrollY*c.scrollFactorY*t.zoom)),this.set3f(u+"color",l.r,l.g,l.b),this.set1f(u+"intensity",c.intensity),this.set1f(u+"radius",c.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var t=this.inverseRotationMatrix;if(e){var i=-e,n=Math.cos(i),r=Math.sin(i);t[1]=r,t[3]=-r,t[0]=t[4]=n}else t[0]=t[4]=1,t[1]=t[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,t),this.currentNormalMapRotation=e}},setTexture2D:function(e,t){var i=this.renderer;void 0===e&&(e=i.whiteTexture);var n=this.getNormalMap(t);this.isNewNormalMap(e,n)&&(this.flush(),this.createBatch(e),this.addTextureToBatch(n),this.currentNormalMap=n);var r=0;return t&&t.parentContainer?r=t.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:t&&(r=t.rotation),null===this.currentBatch&&(this.createBatch(e),this.addTextureToBatch(n)),this.setNormalMapRotation(r),0},setGameObject:function(e,t){void 0===t&&(t=e.frame);var i=t.glTexture,n=this.getNormalMap(e);if(this.isNewNormalMap(i,n)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(n),this.currentNormalMap=n),e.parentContainer){var r=e.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(r.rotationNormalized)}else this.setNormalMapRotation(e.rotation);return null===this.currentBatch&&(this.createBatch(i),this.addTextureToBatch(n)),0},isNewNormalMap:function(e,t){return this.currentTexture!==e||this.currentNormalMap!==t},getNormalMap:function(e){var t;return e&&(e.displayTexture?t=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?t=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(t=Array.isArray(e.tileset)?e.tileset[0].image.dataSource[0]:e.tileset.image.dataSource[0]),t)?t.glTexture:this.renderer.normalTexture},batchSprite:function(e,t,i){this.lightsActive&&a.prototype.batchSprite.call(this,e,t,i)},batchTexture:function(e,t,i,n,r,s,o,h,c,l,u,d,f,p,g,m,v,y,b,x,E,w,T,S,A,C,_,I,O,P,M,R){this.lightsActive&&a.prototype.batchTexture.call(this,e,t,i,n,r,s,o,h,c,l,u,d,f,p,g,m,v,y,b,x,E,w,T,S,A,C,_,I,O,P,M,R)},batchTextureFrame:function(e,t,i,n,r,s,o){this.lightsActive&&a.prototype.batchTextureFrame.call(this,e,t,i,n,r,s,o)}});e.exports=l},56527:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=i(45561),o=i(60722),h=i(14500),c=i(29100),l=new n({Extends:s,initialize:function(e){e.fragShader=r(e,"fragShader",a),e.vertShader=r(e,"vertShader",o),e.attributes=r(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),e.forceZero=!0,e.resizeUniform="uResolution",s.call(this,e)},boot:function(){c.prototype.boot.call(this);var e=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",e.width,e.height)}});e.exports=l},57516:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(94811),s=i(95540),a=i(98840),o=i(44667),h=i(61340),c=i(70554),l=i(14500),u=i(29100),d=new n({Extends:u,initialize:function(e){var t=e.game.renderer,i=s(e,"fragShader",a);e.fragShader=c.parseFragmentShaderMaxTextures(i,t.maxTextures),e.vertShader=s(e,"vertShader",o),e.attributes=s(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),e.resizeUniform="uResolution",u.call(this,e),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.calcMatrix=new h,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var e=this.renderer;this.set1iv("uMainSampler",e.textureIndexes),this.set2f("uResolution",e.width,e.height)},batchSprite:function(e,t,i){this.manager.set(this,e);var n=this._tempMatrix1,r=this._tempMatrix2,s=this._tempMatrix3,a=e.frame,o=a.glTexture,h=a.u0,l=a.v0,u=a.u1,d=a.v1,f=a.x,p=a.y,g=a.cutWidth,m=a.cutHeight,v=a.customPivot,y=e.displayOriginX,b=e.displayOriginY,x=-y+f,E=-b+p;if(e.isCropped){var w=e._crop;(w.flipX!==e.flipX||w.flipY!==e.flipY)&&a.updateCropUVs(w,e.flipX,e.flipY),h=w.u0,l=w.v0,u=w.u1,d=w.v1,g=w.width,m=w.height,f=w.x,p=w.y,x=-y+f,E=-b+p}var T=1,S=1;e.flipX&&(v||(x+=-a.realWidth+2*y),T=-1),e.flipY&&(v||(E+=-a.realHeight+2*b),S=-1);var A=e.x,C=e.y;t.roundPixels&&(A=Math.floor(A),C=Math.floor(C)),r.applyITRS(A,C,e.rotation,e.scaleX*T,e.scaleY*S),n.copyFrom(t.matrix),i?(n.multiplyWithOffset(i,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),r.e=A,r.f=C):(r.e-=t.scrollX*e.scrollFactorX,r.f-=t.scrollY*e.scrollFactorY),n.multiply(r,s);var _=s.setQuad(x,E,x+g,E+m,t.renderRoundPixels),I=c.getTintAppendFloatAlpha,O=t.alpha,P=I(e.tintTopLeft,O*e._alphaTL),M=I(e.tintTopRight,O*e._alphaTR),R=I(e.tintBottomLeft,O*e._alphaBL),L=I(e.tintBottomRight,O*e._alphaBR);this.shouldFlush(6)&&this.flush();var D=this.setGameObject(e,a);this.manager.preBatch(e),this.batchQuad(e,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],h,l,u,d,P,M,R,L,e.tintFill,o,D),this.manager.postBatch(e)},batchTexture:function(e,t,i,n,r,s,a,o,h,c,l,u,d,f,p,g,m,v,y,b,x,E,w,T,S,A,C,_,I,O,P,M,R){void 0===R&&(R=!1),this.manager.set(this,e);var L=this._tempMatrix1,D=this._tempMatrix2,k=this._tempMatrix3,N=v/i+C,F=y/n+_,B=(v+b)/i+C,U=(y+x)/n+_,V=a,G=o,j=-g,W=-m;if(e.isCropped){var Y=e._crop,H=Y.width,z=Y.height;V=H,G=z,a=H,o=z,v=Y.x,y=Y.y;var X=v,K=y;u&&(X=b-Y.x-H),d&&(K=x-Y.y-z),N=X/i+C,F=K/n+_,B=(X+H)/i+C,U=(K+z)/n+_,j=-g+v,W=-m+y}d^=!P&&t.isRenderTexture?1:0,u&&(V*=-1,j+=a),d&&(G*=-1,W+=o),I.roundPixels&&(r=Math.floor(r),s=Math.floor(s)),D.applyITRS(r,s,l,h,c),L.copyFrom(I.matrix),O?(L.multiplyWithOffset(O,-I.scrollX*f,-I.scrollY*p),D.e=r,D.f=s):(D.e-=I.scrollX*f,D.f-=I.scrollY*p),L.multiply(D,k);var q=k.setQuad(j,W,j+V,W+G,I.renderRoundPixels);null==M&&(M=this.setTexture2D(t)),e&&!R&&this.manager.preBatch(e),this.batchQuad(e,q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],N,F,B,U,E,w,T,S,A,t,M),e&&!R&&this.manager.postBatch(e)},batchTextureFrame:function(e,t,i,n,r,s,a){this.manager.set(this);var o=this._tempMatrix1.copyFrom(s),h=this._tempMatrix2;a?o.multiply(a,h):h=o;var l=h.setQuad(t,i,t+e.width,i+e.height),u=this.setTexture2D(e.source.glTexture);n=c.getTintAppendFloatAlpha(n,r),this.batchQuad(null,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],e.u0,e.v0,e.u1,e.v1,n,n,n,n,0,e.glTexture,u)},batchFillRect:function(e,t,i,n,r,s){this.renderer.pipelines.set(this);var a=this.calcMatrix;s&&s.multiply(r,a);var o=a.setQuad(e,t,e+i,t+n),h=this.fillTint;this.batchQuad(null,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],0,0,1,1,h.TL,h.TR,h.BL,h.BR,2)},batchFillTriangle:function(e,t,i,n,r,s,a,o){this.renderer.pipelines.set(this);var h=this.calcMatrix;o&&o.multiply(a,h);var c=h.getX(e,t),l=h.getY(e,t),u=h.getX(i,n),d=h.getY(i,n),f=h.getX(r,s),p=h.getY(r,s),g=this.fillTint;this.batchTri(null,c,l,u,d,f,p,0,0,1,1,g.TL,g.TR,g.BL,2)},batchStrokeTriangle:function(e,t,i,n,r,s,a,o,h){var c=this.tempTriangle;c[0].x=e,c[0].y=t,c[0].width=a,c[1].x=i,c[1].y=n,c[1].width=a,c[2].x=r,c[2].y=s,c[2].width=a,c[3].x=e,c[3].y=t,c[3].width=a,this.batchStrokePath(c,a,!1,o,h)},batchFillPath:function(e,t,i){this.renderer.pipelines.set(this);var n,s,a=this.calcMatrix;i&&i.multiply(t,a);for(var o=e.length,h=this.polygonCache,c=this.fillTint.TL,l=this.fillTint.TR,u=this.fillTint.BL,d=0;d<o;++d)s=e[d],h.push(s.x,s.y);o=(n=r(h)).length;for(var f=0;f<o;f+=3){var p=2*n[f+0],g=2*n[f+1],m=2*n[f+2],v=h[p+0],y=h[p+1],b=h[g+0],x=h[g+1],E=h[m+0],w=h[m+1],T=a.getX(v,y),S=a.getY(v,y),A=a.getX(b,x),C=a.getY(b,x),_=a.getX(E,w),I=a.getY(E,w);this.batchTri(null,T,S,A,C,_,I,0,0,1,1,c,l,u,2)}h.length=0},batchStrokePath:function(e,t,i,n,r){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=e.length-1,a=0;a<s;a++){var o=e[a],h=e[a+1];this.batchLine(o.x,o.y,h.x,h.y,o.width/2,h.width/2,t,a,!i&&a===s-1,n,r)}},batchLine:function(e,t,i,n,r,s,a,o,h,c,l){this.renderer.pipelines.set(this);var u=this.calcMatrix;l&&l.multiply(c,u);var d=i-e,f=n-t,p=Math.sqrt(d*d+f*f);if(0!==p){var g=r*(n-t)/p,m=r*(e-i)/p,v=s*(n-t)/p,y=s*(e-i)/p,b=i-v,x=n-y,E=e-g,w=t-m,T=i+v,S=n+y,A=e+g,C=t+m,_=u.getX(b,x),I=u.getY(b,x),O=u.getX(E,w),P=u.getY(E,w),M=u.getX(T,S),R=u.getY(T,S),L=u.getX(A,C),D=u.getY(A,C),k=this.strokeTint,N=k.TL,F=k.TR,B=k.BL,U=k.BR;if(this.batchQuad(null,L,D,O,P,_,I,M,R,0,0,1,1,N,F,B,U,2),!(a<=2)){var V=this.prevQuad,G=this.firstQuad;o>0&&V[4]?this.batchQuad(null,L,D,O,P,V[0],V[1],V[2],V[3],0,0,1,1,N,F,B,U,2):(G[0]=L,G[1]=D,G[2]=O,G[3]=P,G[4]=1),h&&G[4]?this.batchQuad(null,_,I,M,R,G[0],G[1],G[2],G[3],0,0,1,1,N,F,B,U,2):(V[0]=_,V[1]=I,V[2]=M,V[3]=R,V[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});e.exports=d},43439:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(4127),a=i(89924),o=i(29100),h=new n({Extends:o,initialize:function(e){e.vertShader=r(e,"vertShader",a),e.fragShader=r(e,"fragShader",s),e.attributes=r(e,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,e)},onRender:function(e,t){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",t.zoom)},batchPointLight:function(e,t,i,n,r,s,a,o,h,c,l,u){var d=e.color,f=e.intensity,p=e.radius,g=e.attenuation,m=d.r*f,v=d.g*f,y=d.b*f,b=t.alpha*e.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,n,l,u,p,g,m,v,y,b),this.batchLightVert(r,s,l,u,p,g,m,v,y,b),this.batchLightVert(a,o,l,u,p,g,m,v,y,b),this.batchLightVert(i,n,l,u,p,g,m,v,y,b),this.batchLightVert(a,o,l,u,p,g,m,v,y,b),this.batchLightVert(h,c,l,u,p,g,m,v,y,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(e,t,i,n,r,s,a,o,h,c){var l=this.vertexViewF32,u=this.vertexCount*this.currentShader.vertexComponentCount-1;l[++u]=e,l[++u]=t,l[++u]=i,l[++u]=n,l[++u]=r,l[++u]=s,l[++u]=a,l[++u]=o,l[++u]=h,l[++u]=c,this.vertexCount++}});e.exports=h},84057:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89422),s=i(95540),a=i(27681),o=i(49627),h=i(29100),c=new n({Extends:h,initialize:function(e){e.renderTarget=s(e,"renderTarget",1),e.fragShader=s(e,"fragShader",a),e.vertShader=s(e,"vertShader",o),e.attributes=s(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.batchSize=1,e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],h.call(this,e),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new r,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){h.prototype.boot.call(this);var e=this.manager.UTILITY_PIPELINE;this.fullFrame1=e.fullFrame1,this.fullFrame2=e.fullFrame2,this.halfFrame1=e.halfFrame1,this.halfFrame2=e.halfFrame2;var t=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",t.width,t.height);for(var i=this.renderTargets,n=0;n<i.length;n++)i[n].autoResize=!0},postBatch:function(e){return!this.hasBooted&&(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(e),this},onDraw:function(e){this.bindAndDraw(e)},getController:function(e){return void 0!==e?e:this.controller?this.controller:this},copySprite:function(e,t,i){void 0===i&&(i=!1);var n=this.gl;n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture.webGLTexture);var r=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.texture.webGLTexture,0),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),i&&(n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,r))},copyFrame:function(e,t,i,n,r){this.manager.copyFrame(e,t,i,n,r)},copyToGame:function(e){this.manager.copyToGame(e)},drawFrame:function(e,t,i){this.manager.drawFrame(e,t,i,this.colorMatrix)},blendFrames:function(e,t,i,n,r){this.manager.blendFrames(e,t,i,n,r)},blendFramesAdditive:function(e,t,i,n,r){this.manager.blendFramesAdditive(e,t,i,n,r)},clearFrame:function(e,t){this.manager.clearFrame(e,t)},blitFrame:function(e,t,i,n,r,s){this.manager.blitFrame(e,t,i,n,r,s)},copyFrameRect:function(e,t,i,n,r,s,a,o){this.manager.copyFrameRect(e,t,i,n,r,s,a,o)},bindAndDraw:function(e,t,i,n,r){void 0===i&&(i=!0),void 0===n&&(n=!0);var s=this.gl,a=this.renderer;this.bind(r),this.set1i("uMainSampler",0),t?(s.viewport(0,0,t.width,t.height),s.bindFramebuffer(s.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t.texture.webGLTexture,0),i&&(n?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT))):(a.popFramebuffer(!1,!1),a.currentFramebuffer||s.viewport(0,0,a.width,a.height)),a.restoreStencilMask(),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.webGLTexture),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),t&&(s.bindTexture(s.TEXTURE_2D,null),s.bindFramebuffer(s.FRAMEBUFFER,a.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),h.prototype.destroy.call(this),this}});e.exports=c},43558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(67502),s=i(83419),a=i(96293),o=i(95540),h=i(57516),c=i(27681),l=i(87841),u=i(32302),d=i(45561),f=i(60722),p=i(29100),g=new s({Extends:h,initialize:function(e){var t=o(e,"fragShader",c),i=o(e,"vertShader",f),n=[{name:"DrawSprite",fragShader:d,vertShader:f},{name:"CopySprite",fragShader:t,vertShader:i},{name:"DrawGame",fragShader:o(e,"drawShader",c),vertShader:f},{name:"ColorMatrix",fragShader:a}],r=o(e,"shaders",[]);e.shaders=n.concat(r),e.vertShader||(e.vertShader=i),e.batchSize=1,h.call(this,e),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var e=this.shaders,t=this.renderer;this.drawSpriteShader=e[0],this.copyShader=e[1],this.gameShader=e[2],this.colorMatrixShader=e[3],this.fsTarget=new u(t,t.width,t.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var i=new ArrayBuffer(168);this.quadVertexData=i,this.quadVertexViewF32=new Float32Array(i),this.quadVertexBuffer=t.createVertexBuffer(i,this.gl.STATIC_DRAW),this.onResize(t.width,t.height),this.currentShader=this.copyShader,this.set2f("uResolution",t.width,t.height)},onResize:function(e,t){var i=this.quadVertexViewF32;i[1]=t,i[22]=t,i[14]=e,i[28]=e,i[35]=e,i[36]=t},batchQuad:function(e,t,i,n,s,a,o,h,c,l,u,d,f,p,g,m,v,y,b){var x=Math.min(t,n,a,h),E=Math.min(i,s,o,c),w=Math.max(t,n,a,h)-x,T=Math.max(i,s,o,c)-E,S=this.spriteBounds.setTo(x,E,w,T),A=e?e.preFX.padding:0,C=Math.abs(Math.max(w+2*A,T+2*A)),_=this.manager.getRenderTarget(C),I=this.targetBounds.setTo(0,0,_.width,_.height);r(I,Math.round(S.centerX),Math.round(S.centerY)),this.tempSprite=e;var O=this.gl,P=this.renderer;P.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",P.width,P.height),this.flipProjectionMatrix(!0),e&&(this.onDrawSprite(e,_),e.preFX.onFX(this));var M=this.fsTarget;return this.flush(),O.viewport(0,0,P.width,P.height),O.bindFramebuffer(O.FRAMEBUFFER,M.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,M.texture.webGLTexture,0),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),this.setTexture2D(b),this.batchVert(t,i,l,u,0,y,p),this.batchVert(n,s,l,f,0,y,m),this.batchVert(a,o,d,f,0,y,v),this.batchVert(t,i,l,u,0,y,p),this.batchVert(a,o,d,f,0,y,v),this.batchVert(h,c,d,u,0,y,g),this.flush(),this.flipProjectionMatrix(!1),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,_.texture.webGLTexture),O.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,I.x,I.y,I.width,I.height),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null),this.onBatch(e),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(e,t,i,r,s,a,o){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===o&&(o=this.copyShader);var h=this.gl,c=this.tempSprite;a&&(o=this.colorMatrixShader),this.currentShader=o;var l=this.setVertexBuffer(this.quadVertexBuffer);o.bind(l,!1);var u=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height),c.preFX.onFXCopy(this),this.onCopySprite(e,t,c),a&&(this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha)),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,e.texture.webGLTexture),e.height>t.height)h.viewport(0,0,e.width,e.height),this.setTargetUVs(e,t);else{var d=t.height-e.height;h.viewport(0,d,e.width,e.height),this.resetUVs()}if(h.bindFramebuffer(h.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t.texture.webGLTexture,0),i&&(h.clearColor(0,0,0,Number(!r)),h.clear(h.COLOR_BUFFER_BIT)),s){var f=this.renderer.currentBlendMode;this.renderer.setBlendMode(n.ERASE)}h.bufferData(h.ARRAY_BUFFER,this.quadVertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),s&&this.renderer.setBlendMode(f),h.bindFramebuffer(h.FRAMEBUFFER,null)},copy:function(e,t){var i=this.gl;this.set1i("uMainSampler",0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture.webGLTexture),i.viewport(0,0,e.width,e.height),this.setUVs(0,0,0,1,1,1,1,0),i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.texture.webGLTexture,0),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.bufferData(i.ARRAY_BUFFER,this.quadVertexData,i.STATIC_DRAW),i.drawArrays(i.TRIANGLES,0,6),i.bindFramebuffer(i.FRAMEBUFFER,null)},blendFrames:function(e,t,i,n,r){this.manager.blendFrames(e,t,i,n,r)},blendFramesAdditive:function(e,t,i,n,r){this.manager.blendFramesAdditive(e,t,i,n,r)},drawToGame:function(e){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(e)},copyToGame:function(e){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(e)},bindAndDraw:function(e){var t=this.gl,i=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(e.texture);var n=this._tempMatrix1.loadIdentity(),r=this.targetBounds.x,s=this.targetBounds.y,a=r+e.width,o=s+e.height,h=n.getX(r,s),c=n.getX(r,o),l=n.getX(a,o),u=n.getX(a,s),d=n.getY(r,s),f=n.getY(r,o),p=n.getY(a,o),g=n.getY(a,s);this.batchVert(h,d,0,0,0,0,16777215),this.batchVert(c,f,0,1,0,0,16777215),this.batchVert(l,p,1,1,0,0,16777215),this.batchVert(h,d,0,0,0,0,16777215),this.batchVert(l,p,1,1,0,0,16777215),this.batchVert(u,g,1,0,0,0,16777215),i.restoreFramebuffer(!1,!0),i.currentFramebuffer||t.viewport(0,0,i.width,i.height),i.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(e){this.drawToGame(e)},setUVs:function(e,t,i,n,r,s,a,o){var h=this.quadVertexViewF32;h[2]=e,h[3]=t,h[9]=i,h[10]=n,h[16]=r,h[17]=s,h[23]=e,h[24]=t,h[30]=r,h[31]=s,h[37]=a,h[38]=o},setTargetUVs:function(e,t){var i=t.height/e.height;i=i>.5?.5-(i-.5):.5+(.5-i),this.setUVs(0,i,0,1+i,1,1+i,1,i)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,h.prototype.destroy.call(this),this}});e.exports=g},81041:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=new n({Extends:s,initialize:function(e){e.topology=5,e.batchSize=r(e,"batchSize",256),s.call(this,e)}});e.exports=a},12385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(57516),a=i(45561),o=i(60722),h=i(29100),c=new n({Extends:s,initialize:function(e){e.fragShader=r(e,"fragShader",a),e.vertShader=r(e,"vertShader",o),e.forceZero=!0,s.call(this,e)},boot:function(){h.prototype.boot.call(this);var e=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",e.width,e.height)}});e.exports=c},7589:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35407),r=i(10312),s=i(83419),a=i(89422),o=i(96293),h=i(36682),c=i(95540),l=i(48247),u=i(49627),d=i(29100),f=new s({Extends:d,initialize:function(e){e.renderTarget=c(e,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),e.vertShader=c(e,"vertShader",u),e.shaders=c(e,"shaders",[{name:"Copy",fragShader:h},{name:"AddBlend",fragShader:n},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:o}]),e.attributes=c(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.batchSize=1,d.call(this,e),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var e=this.shaders,t=this.renderTargets;this.copyShader=e[0],this.addShader=e[1],this.linearShader=e[2],this.colorMatrixShader=e[3],this.fullFrame1=t[0],this.fullFrame2=t[1],this.halfFrame1=t[2],this.halfFrame2=t[3]},copyFrame:function(e,t,i,n,r){void 0===i&&(i=1),void 0===n&&(n=!0),void 0===r&&(r=!0);var s=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture.webGLTexture),t?(s.viewport(0,0,t.width,t.height),s.bindFramebuffer(s.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t.texture.webGLTexture,0)):s.viewport(0,0,e.width,e.height),n&&(r?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT)),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)},blitFrame:function(e,t,i,n,s,a,o){void 0===i&&(i=1),void 0===n&&(n=!0),void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===o&&(o=!1);var h=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,e.texture.webGLTexture),e.height>t.height)h.viewport(0,0,e.width,e.height),this.setTargetUVs(e,t);else{var c=t.height-e.height;h.viewport(0,c,e.width,e.height)}if(h.bindFramebuffer(h.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t.texture.webGLTexture,0),n&&(s?h.clearColor(0,0,0,0):h.clearColor(0,0,0,1),h.clear(h.COLOR_BUFFER_BIT)),a){var l=this.renderer.currentBlendMode;this.renderer.setBlendMode(r.ERASE)}o&&this.flipY(),h.bufferData(h.ARRAY_BUFFER,this.vertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),a&&this.renderer.setBlendMode(l),h.bindFramebuffer(h.FRAMEBUFFER,null),h.bindTexture(h.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(e,t,i,n,r,s,a,o){void 0===a&&(a=!0),void 0===o&&(o=!0);var h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,e.texture.webGLTexture,0),a&&(o?h.clearColor(0,0,0,0):h.clearColor(0,0,0,1),h.clear(h.COLOR_BUFFER_BIT)),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,t.texture.webGLTexture),h.copyTexSubImage2D(h.TEXTURE_2D,0,0,0,i,n,r,s),h.bindFramebuffer(h.FRAMEBUFFER,null),h.bindTexture(h.TEXTURE_2D,null)},copyToGame:function(e){var t=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e.texture.webGLTexture),t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.STATIC_DRAW),t.drawArrays(t.TRIANGLES,0,6)},drawFrame:function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=this.colorMatrix);var r=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture.webGLTexture),t?(r.viewport(0,0,t.width,t.height),r.bindFramebuffer(r.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.texture.webGLTexture,0)):r.viewport(0,0,e.width,e.height),i?r.clearColor(0,0,0,0):r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.bufferData(r.ARRAY_BUFFER,this.vertexData,r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null)},blendFrames:function(e,t,i,n,r,s){void 0===n&&(n=1),void 0===r&&(r=!0),void 0===s&&(s=this.linearShader);var a=this.gl;this.setShader(s),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",n),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e.texture.webGLTexture),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,t.texture.webGLTexture),i?(a.bindFramebuffer(a.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,i.texture.webGLTexture,0),a.viewport(0,0,i.width,i.height)):a.viewport(0,0,e.width,e.height),r?a.clearColor(0,0,0,0):a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT),a.bufferData(a.ARRAY_BUFFER,this.vertexData,a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindTexture(a.TEXTURE_2D,null)},blendFramesAdditive:function(e,t,i,n,r){this.blendFrames(e,t,i,n,r,this.addShader)},clearFrame:function(e,t){void 0===t&&(t=!0);var i=this.gl;i.viewport(0,0,e.width,e.height),i.bindFramebuffer(i.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),t?i.clearColor(0,0,0,0):i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);var n=this.renderer.currentFramebuffer;i.bindFramebuffer(i.FRAMEBUFFER,n.webGLFramebuffer)},setUVs:function(e,t,i,n,r,s,a,o){var h=this.vertexViewF32;h[2]=e,h[3]=t,h[6]=i,h[7]=n,h[10]=r,h[11]=s,h[14]=e,h[15]=t,h[18]=r,h[19]=s,h[22]=a,h[23]=o},setTargetUVs:function(e,t){var i=t.height/e.height;i=i>.5?.5-(i-.5):.5+(.5-i),this.setUVs(0,i,0,1+i,1,1+i,1,i)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});e.exports=f},36060:e=>{e.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineafterflush"},36712:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinebeforeflush"},40285:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinebind"},65918:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineboot"},92852:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinedestroy"},56072:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelinerebind"},57566:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pipelineresize"},77085:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(99155),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.amount=1},onPreRender:function(e,t){e=this.getController(e),this.set1f("amount",e.amount,t)}});e.exports=a},67329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(24400),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(e){e=this.getController(e),this.set1f("strength",e.blurStrength),this.set3fv("color",e.glcolor)},onDraw:function(e){var t=this.getController(),i=this.fullFrame1,n=this.fullFrame2;this.copyFrame(e,n);for(var r=2/e.width*t.offsetX,s=2/e.height*t.offsetY,a=0;a<t.steps;a++)this.set2f("offset",r,0),this.copySprite(e,i),this.set2f("offset",0,s),this.copySprite(i,e);this.blendFrames(n,e,i,t.strength),this.copyToGame(i)}});e.exports=a},8861:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(41514),s=i(51078),a=i(94328),o=i(84057),h=new n({Extends:o,initialize:function(e){o.call(this,{game:e,shaders:[{name:"Gaussian5",fragShader:r},{name:"Gaussian9",fragShader:s},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(e){var t=this.getController(),i=this.gl,n=this.fullFrame1,r=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[t.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,e.width,e.height),this.set1i("uMainSampler",0),this.set2f("resolution",e.width,e.height),this.set1f("strength",t.strength),this.set3fv("color",t.glcolor);for(var s=0;s<t.steps;s++)this.set2f("offset",t.x,0),this.copySprite(e,n),this.set2f("offset",0,t.y),this.copySprite(n,e);i.bindFramebuffer(i.FRAMEBUFFER,r),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(e)}});e.exports=h},51051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(90610),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("radius",e.radius,t),this.set1f("amount",e.amount,t),this.set1f("contrast",e.contrast,t),this.set1f("strength",e.strength,t),this.set2f("blur",e.blurX,e.blurY,t),this.setBoolean("isTiltShift",e.isTiltShift,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},89428:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91899),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("scale",e.scale,t),this.set1f("feather",e.feather,t),this.set1f("thickness",e.thickness,t),this.set3fv("color",e.glcolor,t),this.set4fv("backgroundColor",e.glcolor2,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},88904:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(84057),s=new n({Extends:r,initialize:function(e){r.call(this,{game:e})},onDraw:function(e){var t=this.fullFrame1;this.controller?this.manager.drawFrame(e,t,!0,this.controller):this.drawFrame(e,t),this.copyToGame(t)}});e.exports=s},63563:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(47838),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(e){var t=this.game.textures.getFrame(e);t&&(this.glTexture=t.glTexture)},onDraw:function(e){var t=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",t.x,t.y),this.bindTexture(t.glTexture,1),this.copySprite(e,i),this.copyToGame(i)}});e.exports=a},94045:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=i(98656),a=i(84057),o=i(70554),h=new n({Extends:a,initialize:function(e,t){var i=r(t,"quality",.1),n=r(t,"distance",10);a.call(this,{game:e,fragShader:o.setGlowQuality(s,e,i,n)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("outerStrength",e.outerStrength,t),this.set1f("innerStrength",e.innerStrength,t),this.set4fv("glowColor",e.glcolor,t),this.setBoolean("knockout",e.knockout,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=h},74088:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(70463),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(e,t){e=this.getController(e),this.set1f("alpha",e.alpha,t),this.set1i("size",e.size,t),this.set3fv("color1",e.glcolor1,t),this.set3fv("color2",e.glcolor2,t),this.set2f("positionFrom",e.fromX,e.fromY,t),this.set2f("positionTo",e.toX,e.toY,t)}});e.exports=a},99636:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50831),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.amount=1},onPreRender:function(e,t,i,n){e=this.getController(e),this.set1f("amount",e.amount,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},34700:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(92595),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(e,t){var i=(e=this.getController(e)).samples;this.set1i("samples",i,t),this.set1f("intensity",e.intensity,t),this.set1f("decay",e.decay,t),this.set1f("power",e.power/i,t),this.set2f("lightPosition",e.x,e.y,t),this.set4fv("color",e.glcolor,t)}});e.exports=a},91157:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(72464),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(e,t,i,n){e=this.getController(e),this.setTime("time",t),this.set1f("speed",e.speed,t),this.set1f("lineWidth",e.lineWidth,t),this.set1f("gradient",e.gradient,t),this.setBoolean("reveal",e.reveal,t),i&&n&&this.set2f("resolution",i,n,t)},onDraw:function(e){this.set2f("resolution",e.width,e.height),this.bindAndDraw(e)}});e.exports=a},27797:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(39249),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(e,t){e=this.getController(e),this.set1f("radius",e.radius,t),this.set1f("strength",e.strength,t),this.set2f("position",e.x,e.y,t)}});e.exports=a},67603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(2878),s=i(84057),a=new n({Extends:s,initialize:function(e){s.call(this,{game:e,fragShader:r}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(e,t){var i=(e=this.getController(e)).progress,n=e.wipeWidth,r=e.direction,s=e.axis;this.set4f("config",i,n,r,s,t),this.setBoolean("reveal",e.reveal,t)}});e.exports=a},58918:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};e.exports=n},96615:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(36060),r=i(79291),s={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};s=r(!1,s,n),e.exports=s},35407:e=>{e.exports="#define SHADER_NAME PHASER_ADD_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor = frame1 + frame2 * uStrength;\n}"},78908:e=>{e.exports="#define SHADER_NAME PHASER_BITMAP_MASK_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uMaskSampler;\nuniform bool uInvertMaskAlpha;\nvoid main ()\n{\n    vec2 uv = gl_FragCoord.xy / uResolution;\n    vec4 mainColor = texture2D(uMainSampler, uv);\n    vec4 maskColor = texture2D(uMaskSampler, uv);\n    if (!uInvertMaskAlpha)\n    {\n        mainColor *= maskColor.a;\n    }\n    else\n    {\n        mainColor *= (1.0 - maskColor.a);\n    }\n    gl_FragColor = mainColor;\n}"},85191:e=>{e.exports="#define SHADER_NAME PHASER_BITMAP_MASK_VS\nprecision mediump float;\nattribute vec2 inPosition;\nvoid main ()\n{\n    gl_Position = vec4(inPosition, 0.0, 1.0);\n}"},96293:e=>{e.exports="#define SHADER_NAME PHASER_COLORMATRIX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uColorMatrix[20];\nuniform float uAlpha;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 c = texture2D(uMainSampler, outTexCoord);\n    if (uAlpha == 0.0)\n    {\n        gl_FragColor = c;\n        return;\n    }\n    if (c.a > 0.0)\n    {\n        c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];\n    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];\n    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];\n    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n    rgb *= result.a;\n    gl_FragColor = vec4(rgb, result.a);\n}"},36682:e=>{e.exports="#define SHADER_NAME PHASER_COPY_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uBrightness;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;\n}"},99155:e=>{e.exports="#define SHADER_NAME BARREL_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float amount;\nvarying vec2 outTexCoord;\nvec2 Distort(vec2 p)\n{\n    float theta  = atan(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius, amount);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    return 0.5 * (p + 1.0);\n}\nvoid main()\n{\n    vec2 xy = 2.0 * outTexCoord - 1.0;\n    vec2 texCoord = outTexCoord;\n    if (length(xy) < 1.0)\n    {\n        texCoord = Distort(xy);\n    }\n    gl_FragColor = texture2D(uMainSampler, texCoord);\n}"},24400:e=>{e.exports="#define SHADER_NAME BLOOM_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;\n    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;\n    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;\n    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;\n    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);\n}"},94328:e=>{e.exports="#define SHADER_NAME BLUR_HIGH_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 off1 = vec2(1.411764705882353) * offset * strength;\n    vec2 off2 = vec2(3.2941176470588234) * offset * strength;\n    vec2 off3 = vec2(5.176470588235294) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.1964825501511404;\n    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;\n    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;\n    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;\n    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;\n    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;\n    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},41514:e=>{e.exports="#define SHADER_NAME BLUR_LOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 offset = vec2(1.333) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.29411764705882354;\n    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;\n    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},51078:e=>{e.exports="#define SHADER_NAME BLUR_MED_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 col = vec4(0.0);\n    vec2 off1 = vec2(1.3846153846) * offset * strength;\n    vec2 off2 = vec2(3.2307692308) * offset * strength;\n    col += texture2D(uMainSampler, uv) * 0.2270270270;\n    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;\n    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;\n    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;\n    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;\n    gl_FragColor = col * vec4(color, 1.0);\n}"},90610:e=>{e.exports="#define SHADER_NAME BOKEH_FS\nprecision mediump float;\n#define ITERATIONS 100.0\n#define ONEOVER_ITR 1.0 / ITERATIONS\n#define PI 3.141596\n#define GOLDEN_ANGLE 2.39996323\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float radius;\nuniform float amount;\nuniform float contrast;\nuniform bool isTiltShift;\nuniform float strength;\nuniform vec2 blur;\nvarying vec2 outTexCoord;\nvec2 Sample (in float theta, inout float r)\n{\n    r += 1.0 / r;\n    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;\n}\nvec3 Bokeh (sampler2D tex, vec2 uv, float radius)\n{\n    vec3 acc = vec3(0.0);\n    vec3 div = vec3(0.0);\n    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;\n    float r = 1.0;\n    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)\n    {\n        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;\n        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;\n        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;\n        acc += col * bokeh;\n        div += bokeh;\n    }\n    return acc / div;\n}\nvoid main ()\n{\n    float shift = 1.0;\n    if (isTiltShift)\n    {\n        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;\n        float centerStrength = 1.0;\n        shift = length(uv * blur * strength) * centerStrength;\n    }\n    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);\n}"},91899:e=>{e.exports="#define SHADER_NAME CIRCLE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec3 color;\nuniform vec4 backgroundColor;\nuniform float thickness;\nuniform float scale;\nuniform float feather;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;\n    float aspectRatio = resolution.x / resolution.y;\n    position.x *= aspectRatio;\n    float grad = length(position);\n    float outer = aspectRatio;\n    float inner = outer - (thickness * 2.0 / resolution.y);\n    if (aspectRatio >= 1.0)\n    {\n        float f = 2.0 + (resolution.y / resolution.x);\n        outer = 1.0;\n        inner = 1.0 - (thickness * f / resolution.x);\n    }\n    outer *= scale;\n    inner *= scale;\n    float circle = smoothstep(outer, outer - 0.01, grad);\n    float ring = circle - smoothstep(inner, inner - feather, grad);\n    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);\n    texture = (texture * (circle - ring));\n    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);\n}"},47838:e=>{e.exports="#define SHADER_NAME DISPLACEMENT_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform sampler2D uDisplacementSampler;\nuniform vec2 amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;\n    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;\n}"},98656:e=>{e.exports="#define SHADER_NAME GLOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec2 resolution;\nuniform vec4 glowColor;\nuniform bool knockout;\nconst float PI = 3.14159265358979323846264;\nconst float DIST = __DIST__;\nconst float SIZE = min(__SIZE__, PI * 2.0);\nconst float STEP = ceil(PI * 2.0 / SIZE);\nconst float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;\nvoid main ()\n{\n    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    float totalAlpha = 0.0;\n    vec2 direction;\n    vec2 displaced;\n    vec4 color;\n    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)\n    {\n        direction = vec2(cos(angle), sin(angle)) * px;\n        for (float curDistance = 0.0; curDistance < DIST; curDistance++)\n        {\n            displaced = outTexCoord + direction * (curDistance + 1.0);\n            color = texture2D(uMainSampler, displaced);\n            totalAlpha += (DIST - curDistance) * color.a;\n        }\n    }\n    color = texture2D(uMainSampler, outTexCoord);\n    float alphaRatio = (totalAlpha / MAX_ALPHA);\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    vec4 innerColor = mix(color, glowColor, innerGlowStrength);\n    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\n    if (knockout)\n    {\n        float resultAlpha = outerGlowAlpha + innerGlowAlpha;\n        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else\n    {\n        gl_FragColor = innerColor + outerGlowColor;\n    }\n}"},70463:e=>{e.exports="#define SHADER_NAME GRADIENT_FS\n#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))\n#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))\n#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 positionFrom;\nuniform vec2 positionTo;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform float alpha;\nuniform int size;\nvarying vec2 outTexCoord;\nfloat gradientNoise(in vec2 uv)\n{\n    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);\n    return fract(magic.z * fract(dot(uv, magic.xy)));\n}\nfloat stepped (in float s, in float scale, in int steps)\n{\n    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;\n}\nvoid main ()\n{\n    vec2 a = positionFrom;\n    vec2 b = positionTo;\n    vec2 ba = b - a;\n    float d = dot(outTexCoord - a, ba) / dot(ba, ba);\n    float t = size > 0 ? stepped(d, 1.0, size) : d;\n    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));\n    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);\n    color = LINEAR_TO_SRGB(color);\n    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;\n}"},50831:e=>{e.exports="#define SHADER_NAME PIXELATE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    float pixelSize = floor(2.0 + amount);\n    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);\n    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);\n    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);\n    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);\n    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);\n    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);\n    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);\n    gl_FragColor = pixel;\n}"},92595:e=>{e.exports="#define SHADER_NAME SHADOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform vec2 lightPosition;\nuniform vec4 color;\nuniform float decay;\nuniform float power;\nuniform float intensity;\nuniform int samples;\nconst int MAX = 12;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec2 pc = (lightPosition - outTexCoord) * intensity;\n    float shadow = 0.0;\n    float limit = max(float(MAX), float(samples));\n    for (int i = 0; i < MAX; ++i)\n    {\n        if (i >= samples)\n        {\n            break;\n        }\n        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;\n    }\n    float mask = 1.0 - texture.a;\n    gl_FragColor = mix(texture, color, shadow * mask);\n}"},72464:e=>{e.exports="#define SHADER_NAME SHINE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform bool reveal;\nuniform float speed;\nuniform float time;\nuniform float lineWidth;\nuniform float gradient;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n	vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec4 tex = texture2D(uMainSampler, outTexCoord);\n    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);\n    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);\n    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;\n    float y = uv.x * gradient;\n    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);\n    gl_FragColor = (((s * col1) + (s * col2)) * tex);\n    if (!reveal)\n    {\n        gl_FragColor += tex;\n    }\n}"},39249:e=>{e.exports="#define SHADER_NAME VIGNETTE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 position;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 col = vec4(1.0);\n    float d = length(outTexCoord - position);\n    if (d <= radius)\n    {\n        float g = d / radius;\n        g = sin(g * 3.14 * strength);\n    	col = vec4(g * g * g);\n    }\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    gl_FragColor = texture * (1.0 - col);\n}"},2878:e=>{e.exports="#define SHADER_NAME WIPE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec4 config;\nuniform bool reveal;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv = outTexCoord;\n    vec4 color0;\n    vec4 color1;\n    if (reveal)\n    {\n        color0 = vec4(0);\n        color1 = texture2D(uMainSampler, uv);\n    }\n    else\n    {\n        color0 = texture2D(uMainSampler, uv);\n        color1 = vec4(0);\n    }\n    float distance = config.x;\n    float width = config.y;\n    float direction = config.z;\n    float axis = uv.x;\n    if (config.w == 1.0)\n    {\n        axis = uv.y;\n    }\n    float adjust = mix(width, -width, distance);\n    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);\n    gl_FragColor = mix(color1, color0, value);\n}"},31063:e=>{e.exports="#define SHADER_NAME PHASER_LIGHT_FS\nprecision mediump float;\nstruct Light\n{\n    vec2 position;\n    vec3 color;\n    float intensity;\n    float radius;\n};\nconst int kMaxLights = %LIGHT_COUNT%;\nuniform vec4 uCamera; /* x, y, rotation, zoom */\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uNormSampler;\nuniform vec3 uAmbientLightColor;\nuniform Light uLights[kMaxLights];\nuniform mat3 uInverseRotationMatrix;\nuniform int uLightCount;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec3 finalColor = vec3(0.0, 0.0, 0.0);\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;\n    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));\n    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;\n    for (int index = 0; index < kMaxLights; ++index)\n    {\n        if (index < uLightCount)\n        {\n            Light light = uLights[index];\n            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);\n            vec3 lightNormal = normalize(lightDir);\n            float distToSurf = length(lightDir) * uCamera.w;\n            float diffuseFactor = max(dot(normal, lightNormal), 0.0);\n            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;\n            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);\n            vec3 diffuse = light.color * diffuseFactor;\n            finalColor += (attenuation * diffuse) * light.intensity;\n        }\n    }\n    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);\n    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);\n}"},48247:e=>{e.exports="#define SHADER_NAME PHASER_LINEAR_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);\n}"},41214:e=>{e.exports="#define SHADER_NAME PHASER_MESH_FS\nprecision mediump float;\nuniform vec3 uLightPosition;\nuniform vec3 uLightAmbient;\nuniform vec3 uLightDiffuse;\nuniform vec3 uLightSpecular;\nuniform vec3 uFogColor;\nuniform float uFogNear;\nuniform float uFogFar;\nuniform vec3 uMaterialAmbient;\nuniform vec3 uMaterialDiffuse;\nuniform vec3 uMaterialSpecular;\nuniform float uMaterialShine;\nuniform vec3 uCameraPosition;\nuniform sampler2D uTexture;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main (void)\n{\n    vec4 color = texture2D(uTexture, vTextureCoord);\n    vec3 ambient = uLightAmbient * uMaterialAmbient;\n    vec3 norm = normalize(vNormal);\n    vec3 lightDir = normalize(uLightPosition - vPosition);\n    float diff = max(dot(norm, lightDir), 0.0);\n    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);\n    vec3 viewDir = normalize(uCameraPosition - vPosition);\n    vec3 reflectDir = reflect(-lightDir, norm);\n    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);\n    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);\n    vec3 result = (ambient + diffuse + specular) * color.rgb;\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep(uFogNear, uFogFar, depth);\n    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);\n    gl_FragColor.a = color.a;\n}"},39653:e=>{e.exports="#define SHADER_NAME PHASER_MESH_VS\nprecision mediump float;\nattribute vec3 aVertexPosition;\nattribute vec3 aVertexNormal;\nattribute vec2 aTextureCoord;\nuniform mat4 uViewProjectionMatrix;\nuniform mat4 uModelMatrix;\nuniform mat4 uNormalMatrix;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main ()\n{\n    vTextureCoord = aTextureCoord;\n    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));\n    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));\n    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n}"},62143:e=>{e.exports="#define SHADER_NAME PHASER_MOBILE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},47940:e=>{e.exports="#define SHADER_NAME PHASER_MOBILE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},98840:e=>{e.exports="#define SHADER_NAME PHASER_MULTI_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler[%count%];\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture;\n    %forloop%\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},44667:e=>{e.exports="#define SHADER_NAME PHASER_MULTI_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTexId = inTexId;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},4127:e=>{e.exports="#define SHADER_NAME PHASER_POINTLIGHT_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform float uCameraZoom;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);\n    float distToSurf = length(center - gl_FragCoord.xy);\n    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);\n    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);\n    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;\n    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);\n}"},89924:e=>{e.exports="#define SHADER_NAME PHASER_POINTLIGHT_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nattribute vec2 inPosition;\nattribute vec2 inLightPosition;\nattribute vec4 inLightColor;\nattribute float inLightRadius;\nattribute float inLightAttenuation;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    lightColor = inLightColor;\n    lightRadius = inLightRadius;\n    lightAttenuation = inLightAttenuation;\n    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n}"},27681:e=>{e.exports="#define SHADER_NAME PHASER_POSTFX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor = texture2D(uMainSampler, outTexCoord);\n}"},49627:e=>{e.exports="#define SHADER_NAME PHASER_QUAD_VS\nprecision mediump float;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nvarying vec2 outFragCoord;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    outFragCoord = inPosition.xy * 0.5 + 0.5;\n    outTexCoord = inTexCoord;\n    gl_Position = vec4(inPosition, 0, 1);\n}"},45561:e=>{e.exports="#define SHADER_NAME PHASER_SINGLE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture = texture2D(uMainSampler, outTexCoord);\n    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color = texture * texel;\n    if (outTintEffect == 1.0)\n    {\n        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect == 2.0)\n    {\n        color = texel;\n    }\n    gl_FragColor = color;\n}"},60722:e=>{e.exports="#define SHADER_NAME PHASER_SINGLE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    outTexCoord = inTexCoord;\n    outTint = inTint;\n    outTintEffect = inTintEffect;\n}"},89350:(e,t,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLAttribLocation=-1,this.gl=e,this.program=t,this.name=i,this.createResource()},createResource:function(){if(null===this.program.webGLProgram){this.webGLAttribLocation=-1;return}var e=this.gl;e.isContextLost()||(this.webGLAttribLocation=e.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});e.exports=n},26128:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n){this.webGLBuffer=null,this.gl=e,this.initialDataOrSize=t,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var e=this.gl;if(!e.isContextLost()){var t=this.bufferType,i=e.createBuffer();this.webGLBuffer=i,e.bindBuffer(t,this.webGLBuffer),e.bufferData(t,this.initialDataOrSize,this.bufferUsage),e.bindBuffer(t,null)}}},destroy:function(){var e=this.gl;e.isContextLost()||e.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});e.exports=n},84387:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},s=new n({initialize:function(e,t,i,n,r){this.webGLFramebuffer=null,this.gl=e,this.width=t,this.height=i,this.renderTexture=n,this.addDepthStencilBuffer=!!r,this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){var t=this.renderTexture,i=0,n=e.createFramebuffer();if(this.webGLFramebuffer=n,e.bindFramebuffer(e.FRAMEBUFFER,n),t.isRenderTexture=!0,t.isAlphaPremultiplied=!1,e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.webGLTexture,0),(i=e.checkFramebufferStatus(e.FRAMEBUFFER))!==e.FRAMEBUFFER_COMPLETE)throw Error("Framebuffer status: "+(r[i]||i));if(this.addDepthStencilBuffer){var s=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,s)}e.bindFramebuffer(e.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var e=this.gl;if(!e.isContextLost()){e.bindFramebuffer(e.FRAMEBUFFER,this.webGLFramebuffer);var t=e.getFramebufferAttachmentParameter(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==t&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),e.deleteTexture(t));var i=e.getFramebufferAttachmentParameter(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==i&&e.deleteRenderbuffer(i),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});e.exports=s},1482:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLProgram=null,this.gl=e,this.vertexSource=t,this.fragmentSource=i,this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){var t=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,this.vertexSource),e.shaderSource(n,this.fragmentSource),e.compileShader(i),e.compileShader(n);var r="Shader failed:\n";if(!e.getShaderParameter(i,e.COMPILE_STATUS))throw Error("Vertex "+r+e.getShaderInfoLog(i));if(!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Fragment "+r+e.getShaderInfoLog(n));if(e.attachShader(t,i),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw Error("Link "+r+e.getProgramInfoLog(t));e.useProgram(t),this.webGLProgram=t}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});e.exports=n},82751:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50030),s=new n({initialize:function(e,t,i,n,r,s,a,o,h,c,l,u,d){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=e,this.mipLevel=t,this.minFilter=i,this.magFilter=n,this.wrapT=r,this.wrapS=s,this.format=a,this.pixels=o,this.width=h,this.height=c,this.pma=null==l||l,this.forceSize=!!u,this.flipY=!!d,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var e=this.gl;if(!e.isContextLost()){if(this.pixels instanceof s){this.webGLTexture=this.pixels.webGLTexture;return}var t=e.createTexture();t.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=t,this._processTexture()}},update:function(e,t,i,n,r,s,a,o,h){0!==t&&0!==i&&(this.pixels=e,this.width=t,this.height=i,this.flipY=n,this.wrapS=r,this.wrapT=s,this.minFilter=a,this.magFilter=o,this.format=h,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var e=this.gl;e.activeTexture(e.TEXTURE0);var t=e.getParameter(e.TEXTURE_BINDING_2D);e.bindTexture(e.TEXTURE_2D,this.webGLTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.minFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,this.magFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this.wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this.wrapT),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,s=this.width,a=this.height,o=this.format,h=!1;if(null==i)e.texImage2D(e.TEXTURE_2D,n,o,s,a,0,o,e.UNSIGNED_BYTE,null),h=r(s,a);else if(i.compressed){s=i.width,a=i.height,h=i.generateMipmap;for(var c=0;c<i.mipmaps.length;c++)e.compressedTexImage2D(e.TEXTURE_2D,c,i.internalFormat,i.mipmaps[c].width,i.mipmaps[c].height,0,i.mipmaps[c].data)}else i instanceof Uint8Array?e.texImage2D(e.TEXTURE_2D,n,o,s,a,0,o,e.UNSIGNED_BYTE,i):(this.forceSize||(s=i.width,a=i.height),e.texImage2D(e.TEXTURE_2D,n,o,o,e.UNSIGNED_BYTE,i)),h=r(s,a);h&&e.generateMipmap(e.TEXTURE_2D),t?e.bindTexture(e.TEXTURE_2D,t):e.bindTexture(e.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(e){this.__SPECTOR_Metadata=e,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=e)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof s||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});e.exports=s},57183:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i){this.webGLUniformLocation=null,this.gl=e,this.program=t,this.name=i,this.createResource()},createResource:function(){if(null===this.program.webGLProgram){this.webGLUniformLocation=null;return}var e=this.gl;e.isContextLost()||(this.webGLUniformLocation=e.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});e.exports=n},9503:(e,t,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};e.exports=n},76531:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(13560),r=i(83419),s=i(50792),a=i(97480),o=i(8443),h=i(57811),c=i(74403),l=i(45818),u=i(29747),d=i(87841),f=i(86555),p=i(56583),g=i(26099),m=i(38058),v=new r({Extends:s,initialize:function(e){s.call(this),this.game=e,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=n.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=n.CENTER.NO_CENTER,this.orientation=n.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var e=this.game;this.canvas=e.canvas,this.fullscreen=e.device.fullscreen;var t=this.scaleMode;t!==n.SCALE_MODE.RESIZE&&t!==n.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(t),t===n.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),e.events.on(o.PRE_STEP,this.step,this),e.events.once(o.READY,this.refresh,this),e.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(e){this.getParent(e),this.getParentBounds();var t=e.width,i=e.height,r=e.scaleMode,s=e.zoom,a=e.autoRound;if("string"==typeof t){if("%"!==t.substr(-1))t=parseInt(t,10);else{var o=this.parentSize.width;0===o&&(o=window.innerWidth),t=Math.floor(o*(parseInt(t,10)/100))}}if("string"==typeof i){if("%"!==i.substr(-1))i=parseInt(i,10);else{var h=this.parentSize.height;0===h&&(h=window.innerHeight),i=Math.floor(h*(parseInt(i,10)/100))}}this.scaleMode=r,this.autoRound=a,this.autoCenter=e.autoCenter,this.resizeInterval=e.resizeInterval,a&&(t=Math.floor(t),i=Math.floor(i)),this.gameSize.setSize(t,i),s===n.ZOOM.MAX_ZOOM&&(s=this.getMaxZoom()),this.zoom=s,1!==s&&(this._resetZoom=!0),this.baseSize.setSize(t,i),a&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),e.minWidth>0&&this.displaySize.setMin(e.minWidth*s,e.minHeight*s),e.maxWidth>0&&this.displaySize.setMax(e.maxWidth*s,e.maxHeight*s),this.displaySize.setSize(t,i),(e.snapWidth>0||e.snapHeight>0)&&this.displaySize.setSnap(e.snapWidth,e.snapHeight),this.orientation=l(t,i)},getParent:function(e){var t=e.parent;if(null!==t){if(this.parent=c(t),this.parentIsWindow=this.parent===document.body,e.expandParent&&e.scaleMode!==n.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}e.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=c(e.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=h(!0));var i=t.width,n=t.height;if(e.width!==i||e.height!==n)return e.setSize(i,n),!0;if(this.canvas){var r=this.canvasBounds,s=this.canvas.getBoundingClientRect();if(s.x!==r.x||s.y!==r.y)return!0}return!1},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!t&&t.call(screen,e)},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var i=this.autoRound;i&&(e=Math.floor(e),t=Math.floor(t));var n=this.width,r=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e,t),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(e/t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,r)},resize:function(e,t){var i=this.zoom,n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var r=this.width,s=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e,t),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*i,t*i),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var a=this.canvas.style,o=e*i,h=t*i;return n&&(o=Math.floor(o),h=Math.floor(h)),(o!==e||h!==t)&&(a.width=o+"px",a.height=h+"px"),this.refresh(r,s)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displaySize.setSnap(e,t),this.refresh()},refresh:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var n=this.canvas.style,r=i.style;r.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",r.marginLeft=n.marginLeft,r.marginTop=n.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=l(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(a.ORIENTATION_CHANGE,e))}},updateScale:function(){var e,t,i=this.canvas.style,r=this.gameSize.width,s=this.gameSize.height,a=this.zoom,o=this.autoRound;if(this.scaleMode===n.SCALE_MODE.NONE)this.displaySize.setSize(r*a,s*a),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this._resetZoom&&(i.width=e+"px",i.height=t+"px",this._resetZoom=!1);else if(this.scaleMode===n.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t;else if(this.scaleMode===n.SCALE_MODE.EXPAND){var h=this.game.config.width,c=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),i.width=e+"px",i.height=t+"px";var l=this.parentSize.width/h,u=this.parentSize.height/c;l<u&&0!==l?this.baseSize.setSize(h,this.parentSize.height/l):0!==u&&this.baseSize.setSize(this.displaySize.width/u,c),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),e=this.baseSize.width,t=this.baseSize.height,o&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width,t=this.displaySize.height,o&&(e=Math.floor(e),t=Math.floor(t)),i.width=e+"px",i.height=t+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){return Math.max(Math.min(p(this.parentSize.width,this.gameSize.width,0,!0),p(this.parentSize.height,this.gameSize.height,0,!0)),1)},updateCenter:function(){var e=this.autoCenter;if(e!==n.CENTER.NO_CENTER){var t=this.canvas,i=t.style,r=t.getBoundingClientRect(),s=r.width,a=r.height,o=Math.floor((this.parentSize.width-s)/2),h=Math.floor((this.parentSize.height-a)/2);e===n.CENTER.CENTER_HORIZONTALLY?h=0:e===n.CENTER.CENTER_VERTICALLY&&(o=0),i.marginLeft=o+"px",i.marginTop=h+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){void 0===e&&(e={navigationUI:"hide"});var t=this.fullscreen;if(!t.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!t.active){var i=this.getFullscreenTarget();t.keyboard?i[t.request](Element.ALLOW_KEYBOARD_INPUT):i[t.request](e)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;e.active&&document[e.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.domlisteners;t.orientationChange=function(){e.updateBounds(),e._checkOrientation=!0,e.dirty=!0,e.refresh()},t.windowResize=function(){e.updateBounds(),e.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",t.orientationChange,!1):window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available&&(t.fullScreenChange=function(t){return e.onFullScreenChange(t)},t.fullScreenError=function(t){return e.onFullScreenError(t)},["webkit","moz",""].forEach(function(e){document.addEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(e+"fullscreenerror",t.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(e,t){e instanceof m||(t=e,e=void 0),void 0===t&&(t=new d);var i,n,r=this.baseSize,s=this.parentSize,a=this.canvasBounds,o=this.displayScale,h=a.x>=0?0:-(a.x*o.x),c=a.y>=0?0:-(a.y*o.y);return i=s.width>=a.width?r.width:r.width-(a.width-s.width)*o.x,n=s.height>=a.height?r.height:r.height-(a.height-s.height)*o.y,t.setTo(h,c,i,n),e&&(t.width/=e.zoomX,t.height/=e.zoomY,t.centerX=e.centerX+e.scrollX,t.centerY=e.centerY+e.scrollY),t},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",e.orientationChange,!1):window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1),["webkit","moz",""].forEach(function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===n.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===n.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});e.exports=v},64743:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};e.exports=n},56139:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="enterfullscreen"},2336:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fullscreenfailed"},47412:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="fullscreenunsupported"},51452:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="leavefullscreen"},20666:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="orientationchange"},47945:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resize"},97480:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(13560),s={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};s=n(!1,s,r.CENTER),s=n(!1,s,r.ORIENTATION),s=n(!1,s,r.SCALE_MODE),s=n(!1,s,r.ZOOM),e.exports=s},27397:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(35355);e.exports=function(e){var t=e.game.config.defaultPhysicsSystem,i=n(e.settings,"physics",!1);if(t||i){var s=[];if(t&&s.push(r(t+"Physics")),i)for(var a in i)a=r(a.concat("Physics")),-1===s.indexOf(a)&&s.push(a);return s}}},52106:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e){var t=e.plugins.getDefaultScenePlugins(),i=n(e.settings,"plugins",!1);return Array.isArray(i)?i:t||[]}},87033:e=>{e.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(2368),s=new n({initialize:function(e){this.sys=new r(this,e),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});e.exports=s},60903:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89993),s=i(44594),a=i(8443),o=i(35154),h=i(54899),c=i(29747),l=i(97482),u=i(2368),d=new n({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,t){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)this._pending.push({key:"default",scene:t[i],autoStart:0===i,data:{}})}e.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){var e,t,i,n,r;if(!this.isBooted){for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new l),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this),e=0;e<this._pending.length;e++)i=(t=this._pending[e]).key,(n=t.scene)instanceof l?r=this.createSceneFromInstance(i,n):"object"==typeof n?r=this.createSceneFromObject(i,n):"function"==typeof n&&(r=this.createSceneFromFunction(i,n)),i=r.sys.settings.key,this.keys[i]=r,this.scenes.push(r),this._data[i]&&(r.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(t.autoStart=!0)),(t.autoStart||r.sys.settings.active)&&this._start.push(i);for(e=0,this._pending.length=0,this._data={},this.isBooted=!0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e,t,i=this._pending.length,n=this._queue.length;if(0!==i||0!==n){if(i){for(e=0;e<i;e++)t=this._pending[e],this.add(t.key,t.scene,t.autoStart,t.data);for(e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0,this._pending.length=0}for(e=0;e<this._queue.length;e++)this[(t=this._queue[e]).op](t.keyA,t.keyB,t.data);this._queue.length=0}},add:function(e,t,i,n){var r;return(void 0===i&&(i=!1),void 0===n&&(n={}),this.isProcessing||!this.isBooted)?(this._pending.push({key:e,scene:t,autoStart:i,data:n}),this.isBooted||(this._data[e]={data:n}),null):(e=this.getKey(e,t),t instanceof l?r=this.createSceneFromInstance(e,t):"object"==typeof t?(t.key=e,r=this.createSceneFromObject(e,t)):"function"==typeof t&&(r=this.createSceneFromFunction(e,t)),r.sys.settings.data=n,e=r.sys.settings.key,this.keys[e]=r,this.scenes.push(r),(i||r.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),r)},remove:function(e){if(this.isProcessing)return this.queueOp("remove",e);var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var i=this.scenes.indexOf(t),n=t.sys.settings.key;return i>-1&&(delete this.keys[n],this.scenes.splice(i,1),this._start.indexOf(n)>-1&&(i=this._start.indexOf(n),this._start.splice(i,1)),t.sys.destroy()),this},bootScene:function(e){var t,i=e.sys,n=i.settings;i.sceneUpdate=c,e.init&&(e.init.call(e,n.data),n.status=r.INIT,n.isTransition&&i.events.emit(s.TRANSITION_INIT,n.transitionFrom,n.transitionDuration)),i.load&&(t=i.load).reset(),t&&e.preload?(e.preload.call(e),n.status=r.LOADING,t.once(h.COMPLETE,this.loadComplete,this),t.start()):this.create(e)},loadComplete:function(e){this.create(e.scene)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var n=this.scenes[i].sys;n.settings.status>r.START&&n.settings.status<=r.RUNNING&&n.step(e,t),n.scenePlugin&&n.scenePlugin._target&&n.scenePlugin.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var i=this.scenes[t].sys;i.settings.visible&&i.settings.status>=r.LOADING&&i.settings.status<r.SLEEPING&&i.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,i=t.settings;e.create&&(i.status=r.CREATING,e.create.call(e,i.data),i.status===r.DESTROYED)||(i.isTransition&&t.events.emit(s.TRANSITION_START,i.transitionFrom,i.transitionDuration),e.update&&(t.sceneUpdate=e.update),i.status=r.RUNNING,t.events.emit(s.CREATE,e))},createSceneFromFunction:function(e,t){var i=new t;if(!(i instanceof l))return i.sys=new u(i),i.sys.settings.key=e,i.sys.init(this.game),i;var n=i.sys.settings.key;if(""!==n&&(e=n),this.keys.hasOwnProperty(e))throw Error("Cannot add Scene with duplicate key: "+e);return this.createSceneFromInstance(e,i)},createSceneFromInstance:function(e,t){return""===t.sys.settings.key&&(t.sys.settings.key=e),t.sys.init(this.game),t},createSceneFromObject:function(e,t){var i=new l(t),n=i.sys.settings.key;""!==n?e=n:i.sys.settings.key=e,i.sys.init(this.game);for(var r=["init","preload","create","update","render"],s=0;s<r.length;s++){var a=o(t,r[s],null);a&&(i[r[s]]=a)}if(t.hasOwnProperty("extend")){for(var h in t.extend)if(t.extend.hasOwnProperty(h)){var c=t.extend[h];"data"===h&&i.hasOwnProperty("data")&&"object"==typeof c?i.data.merge(c):"sys"!==h&&(i[h]=c)}}return i},getKey:function(e,t){if(e||(e="default"),"function"==typeof t||(t instanceof l?e=t.sys.settings.key:"object"==typeof t&&t.hasOwnProperty("key")&&(e=t.key),!this.keys.hasOwnProperty(e)))return e;throw Error("Cannot add Scene with duplicate key: "+e)},getScenes:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var i=[],n=this.scenes,r=0;r<n.length;r++){var s=n[r];s&&(!e||e&&s.sys.isActive())&&i.push(s)}return t?i.reverse():i},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var i=this.getScene(e);return i&&i.sys.pause(t),this},resume:function(e,t){var i=this.getScene(e);return i&&i.sys.resume(t),this},sleep:function(e,t){var i=this.getScene(e);return i&&!i.sys.isTransitioning()&&i.sys.sleep(t),this},wake:function(e,t){var i=this.getScene(e);return i&&i.sys.wake(t),this},run:function(e,t){var i=this.getScene(e);if(!i){for(var n=0;n<this._pending.length;n++)if(this._pending[n].key===e){this.queueOp("start",e,t);break}return this}i.sys.isSleeping()?i.sys.wake(t):i.sys.isPaused()?i.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var i,n=this.getScene(e);if(!n)return console.warn("Scene key not found: "+e),this;var s=n.sys,a=s.settings.status;if(a>=r.START&&a<=r.CREATING)return this;if(a>=r.RUNNING&&a<=r.SLEEPING)s.shutdown(),s.sceneUpdate=c,s.start(t);else if(s.sceneUpdate=c,s.start(t),s.load&&(i=s.load),i&&s.settings.hasOwnProperty("pack")&&(i.reset(),i.addPack({payload:s.settings.pack})))return s.settings.status=r.LOADING,i.once(h.COMPLETE,this.payloadComplete,this),i.start(),this;return this.bootScene(n),this},stop:function(e,t){var i=this.getScene(e);if(i&&!i.sys.isTransitioning()&&i.sys.settings.status!==r.SHUTDOWN){var n=i.sys.load;n&&(n.off(h.COMPLETE,this.loadComplete,this),n.off(h.COMPLETE,this.payloadComplete,this)),i.sys.shutdown(t)}return this},switch:function(e,t,i){var n=this.getScene(e),r=this.getScene(t);return n&&r&&n!==r&&(this.sleep(e),this.isSleeping(t)?this.wake(t,i):this.start(t,i)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)return this.queueOp("bringToTop",e);var t=this.getIndex(e),i=this.scenes;if(-1!==t&&t<i.length){var n=this.getScene(e);i.splice(t,1),i.push(n)}return this},sendToBack:function(e){if(this.isProcessing)return this.queueOp("sendToBack",e);var t=this.getIndex(e);if(-1!==t&&t>0){var i=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(i)}return this},moveDown:function(e){if(this.isProcessing)return this.queueOp("moveDown",e);var t=this.getIndex(e);if(t>0){var i=t-1,n=this.getScene(e),r=this.getAt(i);this.scenes[t]=r,this.scenes[i]=n}return this},moveUp:function(e){if(this.isProcessing)return this.queueOp("moveUp",e);var t=this.getIndex(e);if(t<this.scenes.length-1){var i=t+1,n=this.getScene(e),r=this.getAt(i);this.scenes[t]=r,this.scenes[i]=n}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("moveAbove",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(-1!==i&&-1!==n&&n<i){var r=this.getAt(n);this.scenes.splice(n,1),this.scenes.splice(i+(n>i),0,r)}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("moveBelow",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(-1!==i&&-1!==n&&n>i){var r=this.getAt(n);this.scenes.splice(n,1),0===i?this.scenes.unshift(r):this.scenes.splice(i-(n<i),0,r)}return this},queueOp:function(e,t,i,n){return this._queue.push({op:e,keyA:t,keyB:i,data:n}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)return this.queueOp("swapPosition",e,t);var i=this.getIndex(e),n=this.getIndex(t);if(i!==n&&-1!==i&&-1!==n){var r=this.getAt(i);this.scenes[i]=this.scenes[n],this.scenes[n]=r}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var n=this.scenes[i].sys,s=n.settings.visible&&(n.settings.status===r.RUNNING||n.settings.status===r.PAUSED)?"[*] ":"[-] ";s+=n.settings.key+" ("+t[n.settings.status]+")",e.push(s)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++)this.scenes[e].sys.destroy();this.systemScene.sys.destroy(),this.update=c,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});e.exports=d},52209:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(44594),a=i(95540),o=i(37277),h=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.key=e.sys.settings.key,this.manager=e.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,t),this},restart:function(e){var t=this.key;return this.manager.queueOp("stop",t),this.manager.queueOp("start",t,e),this},transition:function(e){void 0===e&&(e={});var t=a(e,"target",!1),i=this.manager.getScene(t);if(!t||!this.checkValidTransition(i))return!1;var n=a(e,"duration",1e3);this._elapsed=0,this._target=i,this._duration=n,this._willSleep=a(e,"sleep",!1),this._willRemove=a(e,"remove",!1);var r=a(e,"onUpdate",null);r&&(this._onUpdate=r,this._onUpdateScope=a(e,"onUpdateScope",this.scene));var o=a(e,"allowInput",!1);this.settings.transitionAllowInput=o;var h=i.sys.settings;h.isTransition=!0,h.transitionFrom=this.scene,h.transitionDuration=n,h.transitionAllowInput=o,a(e,"moveAbove",!1)?this.manager.moveAbove(this.key,t):a(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,t),i.sys.isSleeping()?i.sys.wake(a(e,"data")):this.manager.start(t,a(e,"data"));var c=a(e,"onStart",null),l=a(e,"onStartScope",this.scene);return c&&c.call(l,this.scene,i,n),this.systems.events.emit(s.TRANSITION_OUT,i,n),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,t){this._elapsed+=t,this.transitionProgress=n(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,t=this._target.sys.settings;e.events.emit(s.TRANSITION_COMPLETE,this.scene),t.isTransition=!1,t.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,t,i,n){return this.manager.add(e,t,i,n)},launch:function(e,t){return e&&e!==this.key&&this.manager.queueOp("start",e,t),this},run:function(e,t){return e&&e!==this.key&&this.manager.queueOp("run",e,t),this},pause:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("pause",e,t),this},resume:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("resume",e,t),this},sleep:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("sleep",e,t),this},wake:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("wake",e,t),this},switch:function(e,t){return e!==this.key&&this.manager.queueOp("switch",this.key,e,t),this},stop:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",e,t),this},setActive:function(e,t,i){void 0===t&&(t=this.key);var n=this.manager.getScene(t);return n&&n.sys.setActive(e,i),this},setVisible:function(e,t){void 0===t&&(t=this.key);var i=this.manager.getScene(t);return i&&i.sys.setVisible(e),this},isSleeping:function(e){return void 0===e&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return void 0===e&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return void 0===e&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return void 0===e&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.swapPosition(e,t),this},moveAbove:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveAbove(e,t),this},moveBelow:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveBelow(e,t),this},remove:function(e){return void 0===e&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return void 0===e&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return void 0===e&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return void 0===e&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return void 0===e&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getStatus:function(e){var t=this.manager.getScene(e);if(t)return t.sys.getStatus()},getIndex:function(e){return void 0===e&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(s.SHUTDOWN,this.shutdown,this),e.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",h,"scenePlugin"),e.exports=h},55681:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89993),r=i(35154),s=i(46975),a=i(87033);e.exports={create:function(e){return"string"==typeof e?e={key:e}:void 0===e&&(e={}),{status:n.PENDING,key:r(e,"key",""),active:r(e,"active",!1),visible:r(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:r(e,"pack",!1),cameras:r(e,"cameras",null),map:r(e,"map",s(a,r(e,"mapAdd",{}))),physics:r(e,"physics",{}),loader:r(e,"loader",{}),plugins:r(e,"plugins",!1),input:r(e,"input",{})}}}},2368:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(89993),s=i(42363),a=i(44594),o=i(27397),h=i(52106),c=i(29747),l=i(55681),u=new n({initialize:function(e,t){this.scene=e,this.game,this.renderer,this.config=t,this.settings=l.create(t),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=c},init:function(e){this.settings.status=r.INIT,this.sceneUpdate=c,this.game=e,this.renderer=e.renderer,this.canvas=e.canvas,this.context=e.context;var t=e.plugins;this.plugins=t,t.addToScene(this,s.Global,[s.CoreScene,h(this),o(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(e,t){var i=this.events;i.emit(a.PRE_UPDATE,e,t),i.emit(a.UPDATE,e,t),this.sceneUpdate.call(this.scene,e,t),i.emit(a.POST_UPDATE,e,t)},render:function(e){var t=this.displayList;t.depthSort(),this.events.emit(a.PRE_RENDER,e),this.cameras.render(e,t),this.events.emit(a.RENDER,e)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(e){var t=this.settings,i=this.getStatus();return i!==r.CREATING&&i!==r.RUNNING?console.warn("Cannot pause non-running Scene",t.key):this.settings.active&&(t.status=r.PAUSED,t.active=!1,this.events.emit(a.PAUSE,this,e)),this},resume:function(e){var t=this.events,i=this.settings;return this.settings.active||(i.status=r.RUNNING,i.active=!0,t.emit(a.RESUME,this,e)),this},sleep:function(e){var t=this.settings,i=this.getStatus();return i!==r.CREATING&&i!==r.RUNNING?console.warn("Cannot sleep non-running Scene",t.key):(t.status=r.SLEEPING,t.active=!1,t.visible=!1,this.events.emit(a.SLEEP,this,e)),this},wake:function(e){var t=this.events,i=this.settings;return i.status=r.RUNNING,i.active=!0,i.visible=!0,t.emit(a.WAKE,this,e),i.isTransition&&t.emit(a.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var e=this.settings.status;return e>r.PENDING&&e<=r.RUNNING},isSleeping:function(){return this.settings.status===r.SLEEPING},isActive:function(){return this.settings.status===r.RUNNING},isPaused:function(){return this.settings.status===r.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(e){return this.settings.visible=e,this},setActive:function(e,t){return e?this.resume(t):this.pause(t)},start:function(e){var t=this.events,i=this.settings;e&&(i.data=e),i.status=r.START,i.active=!0,i.visible=!0,t.emit(a.START,this),t.emit(a.READY,this,e)},shutdown:function(e){var t=this.events,i=this.settings;t.off(a.TRANSITION_INIT),t.off(a.TRANSITION_START),t.off(a.TRANSITION_COMPLETE),t.off(a.TRANSITION_OUT),i.status=r.SHUTDOWN,i.active=!1,i.visible=!1,t.emit(a.SHUTDOWN,this,e)},destroy:function(){var e=this.events,t=this.settings;t.status=r.DESTROYED,t.active=!1,t.visible=!1,e.emit(a.DESTROY,this),e.removeAllListeners();for(var i=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],n=0;n<i.length;n++)this[i[n]]=null}});e.exports=u},89993:e=>{e.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addedtoscene"},7919:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="boot"},46763:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="create"},11763:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},71555:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},36735:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="postupdate"},3809:e=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="prerender"},90716:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="preupdate"},58262:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},91633:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removedfromscene"},10319:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="render"},87132:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},81961:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="shutdown"},90194:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="sleep"},6265:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},33178:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitioncomplete"},43063:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitioninit"},11259:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionout"},61611:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionstart"},45209:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="transitionwake"},22966:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},21747:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="wake"},44594:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89993),r=i(79291),s={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};s=r(!1,s,n),e.exports=s},30341:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(14463),a=i(79291),o=new n({Extends:r,initialize:function(e,t,i){r.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(e){return!!e&&!!e.name&&"string"==typeof e.name&&(this.markers[e.name]?(console.error("addMarker "+e.name+" already exists in Sound"),!1):(e=a(!0,{name:"",start:0,duration:this.totalDuration-(e.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},e),this.markers[e.name]=e,!0))},updateMarker:function(e){return!!e&&!!e.name&&"string"==typeof e.name&&(this.markers[e.name]?(this.markers[e.name]=a(!0,this.markers[e.name],e),!0):(console.warn("Audio Marker: "+e.name+" missing in Sound: "+this.key),!1))},removeMarker:function(e){var t=this.markers[e];return t?(this.markers[e]=null,t):null},play:function(e,t){if(void 0===e&&(e=""),"object"==typeof e&&(t=e,e=""),"string"!=typeof e)return!1;if(e){if(!this.markers[e])return console.warn("Marker: "+e+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[e],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=a(this.currentConfig,t),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!this.isPaused&&!!this.isPlaying&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!!this.isPaused&&!this.isPlaying&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return(!!this.isPaused||!!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:i(29747),calculateRate:function(){var e=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.stop(),this.emit(s.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});e.exports=o},85034:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(41786),s=i(50792),a=i(14463),o=i(8443),h=i(46710),c=i(58731),l=i(29747),u=i(26099),d=new n({Extends:s,initialize:function(e){s.call(this),this.game=e,this.jsonCache=e.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u,e.events.on(o.BLUR,this.onGameBlur,this),e.events.on(o.FOCUS,this.onGameFocus,this),e.events.on(o.PRE_STEP,this.update,this),e.events.once(o.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(e,t){void 0===t&&(t={});var i=this.add(e,t);for(var n in i.spritemap=this.jsonCache.get(e).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(n)){var s=r(t),a=i.spritemap[n];s.loop=!!a.hasOwnProperty("loop")&&a.loop,i.addMarker({name:n,start:a.start,duration:a.end-a.start,config:s})}return i},get:function(e){return c(this.sounds,"key",e)},getAll:function(e){return e?h(this.sounds,"key",e):h(this.sounds)},getAllPlaying:function(){return h(this.sounds,"isPlaying",!0)},play:function(e,t){var i=this.add(e);return(i.once(a.COMPLETE,i.destroy,i),t)?t.name?(i.addMarker(t),i.play(t.name)):i.play(t):i.play()},playAudioSprite:function(e,t,i){var n=this.addAudioSprite(e);return n.once(a.COMPLETE,n.destroy,n),n.play(t,i)},remove:function(e){var t=this.sounds.indexOf(e);return -1!==t&&(e.destroy(),this.sounds.splice(t,1),!0)},removeAll:function(){this.sounds.forEach(function(e){e.destroy()}),this.sounds.length=0},removeByKey:function(e){for(var t=0,i=this.sounds.length-1;i>=0;i--){var n=this.sounds[i];n.key===e&&(n.destroy(),this.sounds.splice(i,1),t++)}return t},pauseAll:function(){this.forEachActiveSound(function(e){e.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(e){e.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(e){e.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(e){var t=0;return this.getAll(e).forEach(function(e){e.stop()&&t++}),t},isPlaying:function(e){var t,i=this.sounds.length-1;if(void 0===e){for(;i>=0;i--)if((t=this.sounds[i]).isPlaying)return!0}else for(;i>=0;i--)if((t=this.sounds[i]).key===e&&t.isPlaying)return!0;return!1},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(e,t){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(i){i.update(e,t)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(e,t){var i=this;this.sounds.forEach(function(n,r){n&&!n.pendingRemove&&e.call(t||i,n,r,i.sounds)})},setRate:function(e){return this.rate=e,this},rate:{get:function(){return this._rate},set:function(e){this._rate=e,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit(a.GLOBAL_RATE,this,e)}},setDetune:function(e){return this.detune=e,this},detune:{get:function(){return this._detune},set:function(e){this._detune=e,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,e)}}});e.exports=d},14747:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33684),r=i(25960),s=i(57490);e.exports={create:function(e){var t=e.config.audio,i=e.device.audio;return!t.noAudio&&(i.webAudio||i.audioData)?i.webAudio&&!t.disableWebAudio?new s(e):new n(e):new r(e)}}},19723:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},98882:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="decodedall"},57506:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="decoded"},73146:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="destroy"},11305:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="detune"},40577:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="detune"},30333:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="mute"},20394:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="rate"},21802:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="volume"},1299:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="looped"},99190:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},97125:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="mute"},89259:e=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pan"},79986:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pauseall"},17586:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},19618:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="play"},42306:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="rate"},10387:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resumeall"},48959:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},9960:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="seek"},19180:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stopall"},98328:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},50401:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="unlocked"},52498:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="volume"},14463:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(14463),a=i(45319),o=new r({Extends:n,initialize:function(e,t,i){if(void 0===i&&(i={}),this.tags=e.game.cache.audio.get(t),!this.tags)throw Error('No cached audio asset with key "'+t);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,n.call(this,e,t,i)},play:function(e,t){return!!(!this.manager.isLocked(this,"play",[e,t])&&n.prototype.play.call(this,e,t)&&this.pickAndPlayAudioTag())&&(this.emit(s.PLAY,this),!0)},pause:function(){return!this.manager.isLocked(this,"pause")&&!(this.startTime>0)&&!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return!this.manager.isLocked(this,"resume")&&!(this.startTime>0)&&!!n.prototype.resume.call(this)&&!!this.pickAndPlayAudioTag()&&(this.emit(s.RESUME,this),!0)},stop:function(){return!this.manager.isLocked(this,"stop")&&!!n.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,t=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===t?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*t,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var t=this.tags[e];if("false"===t.dataset.used)return t.dataset.used="true",this.audio=t,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound(function(e){e.key===this.key&&e.audio&&i.push(e)},this),i.sort(function(e,t){return e.loop===t.loop?t.seek/t.duration-e.seek/e.duration:e.loop?1:-1});var n=i[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(e){console.warn(e)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){n.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var t=this.currentMarker?this.currentMarker.start:0,i=t+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=i-this.manager.loopEndOffset?(this.audio.currentTime=t+Math.max(0,n-i),n=this.audio.currentTime):n<t&&(this.audio.currentTime+=t,n=this.audio.currentTime),n<this.previousTime&&this.emit(s.LOOPED,this);else if(n>=i){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=n}},destroy:function(){n.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){n.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,this.manager.isLocked(this,"mute",e)||(this.updateMute(),this.emit(s.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,this.manager.isLocked(this,"volume",e)||(this.updateVolume(),this.emit(s.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.manager.isLocked(this,s.RATE,e)||(this.calculateRate(),this.emit(s.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.manager.isLocked(this,s.DETUNE,e)||(this.calculateRate(),this.emit(s.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){!this.manager.isLocked(this,"seek",e)&&!(this.startTime>0)&&(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.manager.isLocked(this,"loop",e)||(this.audio&&(this.audio.loop=e),this.emit(s.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=o},33684:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85034),r=i(83419),s=i(14463),a=i(64895),o=new r({Extends:n,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,n.call(this,e)},add:function(e,t){var i=new a(this,e,t);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(t,i){for(var n=0;n<i.length;n++)if("true"===i[n].dataset.locked)return e.locked=!0,!1;return!0}),this.locked){var t=!1,i=function(){t=!0},n=function(){if(t){t=!1;return}document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",n);var r=[];if(e.game.cache.audio.entries.each(function(e,t){for(var i=0;i<t.length;i++){var n=t[i];"true"===n.dataset.locked&&r.push(n)}return!0}),0!==r.length){var s=r[r.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,r.forEach(function(e){e.dataset.locked="false"}),e.unlocked=!0},r.forEach(function(e){e.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(e){null===e.currentMarker&&0===e.duration&&(e.duration=e.tags[0].duration),e.totalDuration=e.tags[0].duration});this.lockedActionsQueue.length;){var e=this.lockedActionsQueue.shift();e.sound[e.prop].apply?e.sound[e.prop].apply(e.sound,e.value||[]):e.sound[e.prop]=e.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){n.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,t,i){return"true"===e.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:e,prop:t,value:i}),!0)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(e){e.updateMute()}),this.emit(s.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(e){e.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,e)}}});e.exports=o},23717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(50792),a=i(79291),o=i(29747),h=function(){return!1},c=function(){return null},l=function(){return this},u=new r({Extends:s,initialize:function(e,t,i){void 0===i&&(i={}),s.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:h,updateMarker:h,removeMarker:c,play:h,pause:h,resume:h,stop:h,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:c,resetConfig:c,update:o,calculateRate:c,destroy:function(){n.prototype.destroy.call(this)}});e.exports=u},25960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85034),r=i(83419),s=i(50792),a=i(4603),o=i(29747),h=new r({Extends:s,initialize:function(e){s.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var i=new a(this,e,t);return this.sounds.push(i),i},addAudioSprite:function(e,t){var i=this.add(e,t);return i.spritemap={},i},get:function(e){return n.prototype.get.call(this,e)},getAll:function(e){return n.prototype.getAll.call(this,e)},play:function(e,t){return!1},playAudioSprite:function(e,t,i){return!1},remove:function(e){return n.prototype.remove.call(this,e)},removeAll:function(){return n.prototype.removeAll.call(this)},removeByKey:function(e){return n.prototype.removeByKey.call(this,e)},stopByKey:function(e){return n.prototype.stopByKey.call(this,e)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(e,t){n.prototype.forEachActiveSound.call(this,e,t)},destroy:function(){n.prototype.destroy.call(this)}});e.exports=h},71741:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30341),r=i(83419),s=i(14463),a=i(95540),o=new r({Extends:n,initialize:function(e,t,i){if(void 0===i&&(i={}),this.audioBuffer=e.game.cache.audio.get(t),!this.audioBuffer)throw Error('Audio key "'+t+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),e.context.createPanner&&(this.spatialNode=e.context.createPanner(),this.volumeNode.connect(this.spatialNode)),e.context.createStereoPanner?(this.pannerNode=e.context.createStereoPanner(),e.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(e.destination)):e.context.createPanner?this.spatialNode.connect(e.destination):this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,n.call(this,e,t,i)},play:function(e,t){return!!n.prototype.play.call(this,e,t)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&!!n.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return!!n.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0)},createAndStartBufferSource:function(){var e=this.currentConfig.seek,t=this.currentConfig.delay,i=this.manager.context.currentTime+t,n=(this.currentMarker?this.currentMarker.start:0)+e,r=this.duration-e;this.playTime=i-e,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,n),Math.max(0,r)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),t=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,t),Math.max(0,i))},createBufferSource:function(){var e=this,t=this.manager.context.createBufferSource();return t.buffer=this.audioBuffer,t.connect(this.muteNode),t.onended=function(t){var i=t.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},t},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var t=this.spatialNode;t.panningModel=a(e,"panningModel","equalpower"),t.distanceModel=a(e,"distanceModel","inverse"),t.orientationX.value=a(e,"orientationX",0),t.orientationY.value=a(e,"orientationY",0),t.orientationZ.value=a(e,"orientationZ",-1),t.refDistance=a(e,"refDistance",1),t.maxDistance=a(e,"maxDistance",1e4),t.rolloffFactor=a(e,"rolloffFactor",1),t.coneInnerAngle=a(e,"coneInnerAngle",360),t.coneOuterAngle=a(e,"coneOuterAngle",0),t.coneOuterGain=a(e,"coneOuterGain",0),this.spatialSource=a(e,"follow",null),this.spatialSource||(t.positionX.value=a(e,"x",0),t.positionY.value=a(e,"y",0),t.positionZ.value=a(e,"z",0))}n.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=a(this.spatialSource,"x",null),t=a(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),t&&t!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=t)}this.hasEnded?(n.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){this.pendingRemove||(n.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){n.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,t=0;t<this.rateUpdates.length;t++)e+=((t<this.rateUpdates.length-1?this.rateUpdates[t+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return e},getLoopTime:function(){for(var e=0,t=0;t<this.rateUpdates.length-1;t++)e+=(this.rateUpdates[t+1].time-this.rateUpdates[t].time)*this.rateUpdates[t].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-e)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(s.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(s.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(s.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(s.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){!(this.manager.context.currentTime<this.startTime)&&(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(s.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=o},57490:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(53134),r=i(85034),s=i(83419),a=i(14463),o=i(8443),h=i(71741),c=i(95540),l=new s({Extends:r,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),r.call(this,e),this.locked&&e.isBooted?this.unlock():e.events.once(o.BOOT,this.unlock,this)},createAudioContext:function(e){var t=e.config.audio;return t.context?(t.context.resume(),t.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,t){var i=new h(this,e,t);return this.sounds.push(i),i},decodeAudio:function(e,t){i=Array.isArray(e)?e:[{key:e,data:t}];for(var i,r=this.game.cache.audio,s=i.length,o=0;o<i.length;o++){var h=i[o],c=h.key,l=h.data;"string"==typeof l&&(l=n(l));var u=(function(e,t){r.add(e,t),this.emit(a.DECODED,e),0==--s&&this.emit(a.DECODED_ALL)}).bind(this,c),d=(function(e,t){console.error("Error decoding audio: "+e+" - ",t?t.message:""),0==--s&&this.emit(a.DECODED_ALL)}).bind(this,c);this.context.decodeAudioData(l,u,d)}},setListenerPosition:function(e,t){return void 0===e&&(e=this.game.scale.width/2),void 0===t&&(t=this.game.scale.height/2),this.listenerPosition.set(e,t),this},unlock:function(){var e=this,t=document.body,i=function i(){if(e.context&&t){var n=t.removeEventListener.bind(t);e.context.resume().then(function(){n("touchstart",i),n("touchend",i),n("click",i),n("keydown",i),e.unlocked=!0},function(){n("touchstart",i),n("touchend",i),n("click",i),n("keydown",i)})}};t&&(t.addEventListener("touchstart",i,!1),t.addEventListener("touchend",i,!1),t.addEventListener("click",i,!1),t.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var e=this.context;e&&!this.locked&&("suspended"===e.state||"interrupted"===e.state)&&e.resume()},update:function(e,t){var i=this.context.listener;if(i&&void 0!==i.positionX){var n=c(this.listenerPosition,"x",null),s=c(this.listenerPosition,"y",null);n&&n!==this._spatialx&&(this._spatialx=i.positionX.value=n),s&&s!==this._spatialy&&(this._spatialy=i.positionY.value=s)}r.prototype.update.call(this,e,t),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then(function(){e.context=null})}r.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(a.GLOBAL_VOLUME,this,e)}}});e.exports=l},73162:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37105),r=i(83419),s=i(29747),a=i(19186),o=new r({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(e,t){return t?n.Add(this.list,e):n.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,t,i){return i?n.AddAt(this.list,e,t):n.AddAt(this.list,e,t,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e&&(void 0===t&&(t=function(t,i){return t[e]-i[e]}),a(this.list,t)),this},getByName:function(e){return n.GetFirst(this.list,"name",e)},getRandom:function(e,t){return n.GetRandom(this.list,e,t)},getFirst:function(e,t,i,r){return n.GetFirst(this.list,e,t,i,r)},getAll:function(e,t,i,r){return n.GetAll(this.list,e,t,i,r)},count:function(e,t){return n.CountAllMatching(this.list,e,t)},swap:function(e,t){n.Swap(this.list,e,t)},moveTo:function(e,t){return n.MoveTo(this.list,e,t)},moveAbove:function(e,t){return n.MoveAbove(this.list,e,t)},moveBelow:function(e,t){return n.MoveBelow(this.list,e,t)},remove:function(e,t){return t?n.Remove(this.list,e):n.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,t){return t?n.RemoveAt(this.list,e):n.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,t,i){return i?n.RemoveBetween(this.list,e,t):n.RemoveBetween(this.list,e,t,this.removeCallback,this)},removeAll:function(e){for(var t=this.list.length;t--;)this.remove(this.list[t],e);return this},bringToTop:function(e){return n.BringToTop(this.list,e)},sendToBack:function(e){return n.SendToBack(this.list,e)},moveUp:function(e){return n.MoveUp(this.list,e),e},moveDown:function(e){return n.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(e,t){return n.Replace(this.list,e,t)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,i,r){return n.SetAll(this.list,e,t,i,r),this},each:function(e,t){for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);for(n=0;n<this.list.length;n++)i[0]=this.list[n],e.apply(t,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return(this.position=0,this.list.length>0)?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});e.exports=o},90330:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){this.entries={},this.size=0,this.setAll(e)},setAll:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1]);return this},set:function(e,t){return!this.has(e)&&this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(e){delete this.entries[e]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var i in t)e.push(t[i]);return e},dump:function(){var e=this.entries;for(var t in console.group("Map"),e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var i in t)if(!1===e(i,t[i]))break;return this},contains:function(e){var t=this.entries;for(var i in t)if(t[i]===e)return!0;return!1},merge:function(e,t){void 0===t&&(t=!1);var i=this.entries,n=e.entries;for(var r in n)i.hasOwnProperty(r)&&t?i[r]=n[r]:this.set(r,n[r]);return this}});e.exports=n},25774:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(82348),a=new n({Extends:r,initialize:function(){r.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(e){return this._active.indexOf(e)>-1},isPending:function(e){return this._toProcess>0&&this._pending.indexOf(e)>-1},isDestroying:function(e){return this._destroy.indexOf(e)>-1},add:function(e){return this.checkQueue&&this.isActive(e)&&!this.isDestroying(e)||this.isPending(e)||(this._pending.push(e),this._toProcess++),e},remove:function(e){if(this.isPending(e)){var t=this._pending,i=t.indexOf(e);-1!==i&&t.splice(i,1)}else this.isActive(e)&&(this._destroy.push(e),this._toProcess++);return e},removeAll:function(){for(var e=this._active,t=this._destroy,i=e.length;i--;)t.push(e[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var e,t,i=this._destroy,n=this._active;for(e=0;e<i.length;e++){t=i[e];var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.emit(s.PROCESS_QUEUE_REMOVE,t))}for(e=0,i.length=0,i=this._pending;e<i.length;e++)t=i[e],(!this.checkQueue||this.checkQueue&&-1===n.indexOf(t))&&(n.push(t),this.emit(s.PROCESS_QUEUE_ADD,t));return i.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});e.exports=a},59542:(e,t,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(43886);function r(e){if(!(this instanceof r))return new r(e,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(e,t){a(e,0,e.children.length,t,e)}function a(e,t,i,n,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],o(r,e.leaf?n(s):s);return r}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function h(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,i,r,s){for(var a,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=r||(n(e,a=t+Math.ceil((i-t)/r/2)*r,t,i,s),o.push(t,a,a,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!f(e,t))return i;for(var r,s,a,o,h=[];t;){for(r=0,s=t.children.length;r<s;r++)a=t.children[r],f(e,o=t.leaf?n(a):a)&&(t.leaf?i.push(a):d(e,o)?this._all(a,i):h.push(a));t=h.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!f(e,t))return!1;for(var n,r,s,a,o=[];t;){for(n=0,r=t.children.length;n<r;n++)if(s=t.children[n],f(e,a=t.leaf?i(s):s)){if(t.leaf||d(e,a))return!0;o.push(s)}t=o.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length){if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,s,a=this.data,o=this.toBBox(e),h=[],c=[];a||h.length;){if(a||(a=h.pop(),n=h[h.length-1],i=c.pop(),s=!0),a.leaf&&-1!==(r=function(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return -1}(e,a.children,t))){a.children.splice(r,1),h.push(a),this._condense(h);break}!s&&!a.leaf&&d(a,o)?(h.push(a),c.push(i),i=0,n=a,a=a.children[0]):n?(i++,a=n.children[i],s=!1):a=null}return this},toBBox:function(e){return e},compareMinX:h,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,a=i-t+1,o=this._maxEntries;if(a<=o)return s(r=p(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(r=p([])).leaf=!1,r.height=n;var h,c,l,u,d=Math.ceil(a/o),f=d*Math.ceil(Math.sqrt(o));for(g(e,t,i,f,this.compareMinX),h=t;h<=i;h+=f)for(l=Math.min(h+f-1,i),g(e,h,l,d,this.compareMinY),c=h;c<=l;c+=d)u=Math.min(c+d-1,l),r.children.push(this._build(e,c,u,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,s,a,o,h,c,u,d;n.push(t),!t.leaf&&n.length-1!==i;){for(r=0,u=d=1/0,s=t.children.length;r<s;r++)h=l(a=t.children[r]),(c=(Math.max(a.maxX,e.maxX)-Math.min(a.minX,e.minX))*(Math.max(a.maxY,e.maxY)-Math.min(a.minY,e.minY))-h)<d?(d=c,u=h<u?h:u,o=a):c===d&&h<u&&(u=h,o=a);t=o||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),o(a,r);t>=0;)if(s[t].children.length>this._maxEntries)this._split(s,t),t--;else break;this._adjustParentBBoxes(r,s,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),o=p(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,s(i,this.toBBox),s(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,s,o,h,c,u,d;for(c=u=1/0,n=t;n<=i-t;n++)o=function(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY);return Math.max(0,Math.min(e.maxX,t.maxX)-i)*Math.max(0,Math.min(e.maxY,t.maxY)-n)}(r=a(e,0,n,this.toBBox),s=a(e,n,i,this.toBBox)),h=l(r)+l(s),o<c?(c=o,d=n,u=h<u?h:u):o===c&&h<u&&(u=h,d=n);return d},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:h,r=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,s,h=this.toBBox,c=a(e,0,t,h),l=a(e,i-t,i,h),d=u(c)+u(l);for(r=t;r<i-t;r++)s=e.children[r],o(c,e.leaf?h(s):s),d+=u(c);for(r=i-t-1;r>=t;r--)s=e.children[r],o(l,e.leaf?h(s):s),d+=u(l);return d},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)o(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():s(e[i],this.toBBox)},compareMinX:function(e,t){return e.left-t.left},compareMinY:function(e,t){return e.top-t.top},toBBox:function(e){return{minX:e.left,minY:e.top,maxX:e.right,maxY:e.bottom}}},e.exports=r},35072:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){if(this.entries=[],Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t])},set:function(e){return -1===this.entries.indexOf(e)&&this.entries.push(e),this},get:function(e,t){for(var i=0;i<this.entries.length;i++){var n=this.entries[i];if(n[e]===t)return n}},getArray:function(){return this.entries.slice(0)},delete:function(e){var t=this.entries.indexOf(e);return t>-1&&this.entries.splice(t,1),this},dump:function(){console.group("Set");for(var e=0;e<this.entries.length;e++)console.log(this.entries[e]);console.groupEnd()},each:function(e,t){var i,n=this.entries.slice(),r=n.length;if(t)for(i=0;i<r&&!1!==e.call(t,n[i],i);i++);else for(i=0;i<r&&!1!==e(n[i],i);i++);return this},iterate:function(e,t){var i,n=this.entries.length;if(t)for(i=0;i<n&&!1!==e.call(t,this.entries[i],i);i++);else for(i=0;i<n&&!1!==e(this.entries[i],i);i++);return this},iterateLocal:function(e){var t,i=[];for(t=1;t<arguments.length;t++)i.push(arguments[t]);var n=this.entries.length;for(t=0;t<n;t++){var r=this.entries[t];r[e].apply(r,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(e){return this.entries.indexOf(e)>-1},union:function(e){var t=new n;return e.entries.forEach(function(e){t.set(e)}),this.entries.forEach(function(e){t.set(e)}),t},intersect:function(e){var t=new n;return this.entries.forEach(function(i){e.contains(i)&&t.set(i)}),t},difference:function(e){var t=new n;return this.entries.forEach(function(i){e.contains(i)||t.set(i)}),t},size:{get:function(){return this.entries.length},set:function(e){return e<this.entries.length?this.entries.length=e:this.entries.length}}});e.exports=n},86555:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45319),r=i(83419),s=i(56583),a=i(26099),o=new r({initialize:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=0),void 0===n&&(n=null),this._width=e,this._height=t,this._parent=n,this.aspectMode=i,this.aspectRatio=0===t?1:e/t,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(e){return void 0===e&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.snapTo.set(e,t),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.minWidth=n(e,0,this.maxWidth),this.minHeight=n(t,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,t){return void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=e),this.maxWidth=n(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=n(t,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,t){switch(void 0===e&&(e=0),void 0===t&&(t=e),this.aspectMode){case o.NONE:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(t,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(e,t,!0);break;case o.ENVELOP:this.constrain(e,t,!1)}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,t){return this._width=this.getNewWidth(s(e,this.snapTo.x)),this._height=this.getNewHeight(s(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(e,t){return void 0===t&&(t=!0),e=n(e,this.minWidth,this.maxWidth),t&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,t){return void 0===t&&(t=!0),e=n(e,this.minHeight,this.maxHeight),t&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=e),void 0===i&&(i=!0),e=this.getNewWidth(e),t=this.getNewHeight(t);var n=this.snapTo,r=0===t?1:e/t;return i&&this.aspectRatio>r||!i&&this.aspectRatio<r?(t=(e=s(e,n.x))/this.aspectRatio,n.y>0&&(e=(t=s(t,n.y))*this.aspectRatio)):(i&&this.aspectRatio<r||!i&&this.aspectRatio>r)&&(e=(t=s(t,n.y))*this.aspectRatio,n.x>0&&(t=(e=s(e,n.x))*(1/this.aspectRatio))),this._width=e,this._height=t,this},fitTo:function(e,t){return this.constrain(e,t,!0)},envelop:function(e,t){return this.constrain(e,t,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,e.exports=o},15238:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="add"},56187:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="remove"},82348:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(40987),a=i(8054),o=i(50030),h=i(79237),c=new n({Extends:h,initialize:function(e,t,i,n,r){h.call(this,e,t,i,n,r),this.add("__BASE",0,0,0,n,r),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=n,this.height=r,this.imageData=this.context.getImageData(0,0,n,r),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(e,t,i,n){return void 0===n&&(n=!0),this.context.drawImage(i,e,t),n&&this.update(),this},drawFrame:function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=!0);var s=this.manager.getFrame(e,t);if(s){var a=s.canvasData,o=s.cutWidth,h=s.cutHeight,c=s.source.resolution;this.context.drawImage(s.source.image,a.x,a.y,o,h,i,n,o/c,h/c),r&&this.update()}return this},setPixel:function(e,t,i,n,r,s){if(void 0===s&&(s=255),e=Math.abs(Math.floor(e)),t=Math.abs(Math.floor(t)),this.getIndex(e,t)>-1){var a=this.context.getImageData(e,t,1,1);a.data[0]=i,a.data[1]=n,a.data[2]=r,a.data[3]=s,this.context.putImageData(a,e,t)}return this},putData:function(e,t,i,n,r,s,a){return void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=e.width),void 0===a&&(a=e.height),this.context.putImageData(e,t,i,n,r,s,a),this},getData:function(e,t,i,n){return e=r(Math.floor(e),0,this.width-1),t=r(Math.floor(t),0,this.height-1),i=r(i,1,this.width-e),n=r(n,1,this.height-t),this.context.getImageData(e,t,i,n)},getPixel:function(e,t,i){i||(i=new s);var n=this.getIndex(e,t);if(n>-1){var r=this.data,a=r[n+0],o=r[n+1],h=r[n+2],c=r[n+3];i.setTo(a,o,h,c)}return i},getPixels:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=i),e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t));for(var a=r(e,0,this.width),o=r(e+i,0,this.width),h=r(t,0,this.height),c=r(t+n,0,this.height),l=new s,u=[],d=h;d<c;d++){for(var f=[],p=a;p<o;p++)l=this.getPixel(p,d,l),f.push({x:p,y:d,color:l.color,alpha:l.alphaGL});u.push(f)}return u},getIndex:function(e,t){return(e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t)),e<this.width&&t<this.height)?(e+t*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(e,t,i,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.width),void 0===n&&(n=this.height),void 0===r&&(r=!0),this.context.clearRect(e,t,i,n),r&&this.update(),this},setSize:function(e,t){return void 0===t&&(t=e),(e!==this.width||t!==this.height)&&(this.canvas.width=e,this.canvas.height=t,this._source.width=e,this._source.height=t,this._source.isPowerOf2=o(e,t),this.frames.__BASE.setSize(e,t,0,0),this.width=e,this.height=t,this.refresh()),this},destroy:function(){h.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});e.exports=c},81320:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(10312),r=i(38058),s=i(27919),a=i(83419),o=i(8054),h=i(4327),c=i(95540),l=i(36060),u=i(32302),d=i(79237),f=i(70554),p=new a({Extends:d,initialize:function(e,t,i,n){void 0===i&&(i=256),void 0===n&&(n=256),this.type="DynamicTexture";var a=e.game.renderer,h=a&&a.type===o.CANVAS,c=h?s.create2D(this,i,n):[this];d.call(this,e,t,c,i,n),this.add("__BASE",0,0,0,i,n),this.renderer=a,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=h?c:null,this.context=h?c.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new r(0,0,i,n).setScene(e.game.scene.systemScene,!1),this.renderTarget=h?null:new u(a,i,n,1,0,!1,!1,!0,!1),this.pipeline=h?null:a.pipelines.get(l.SINGLE_PIPELINE),this.setSize(i,n)},setSize:function(e,t){void 0===t&&(t=e);var i=this.get(),n=i.source;if(e!==this.width||t!==this.height){this.canvas&&(this.canvas.width=e,this.canvas.height=t);var r=this.renderTarget;r&&(r.willResize(e,t)&&r.resize(e,t),r.texture!==n.glTexture&&this.renderer.deleteTexture(n.glTexture),this.setFromRenderTarget()),this.camera.setSize(e,t),n.width=e,n.height=t,i.setSize(e,t),this.width=e,this.height=t}else{var s=this.getSourceImage();i.cutX+e>s.width&&(e=s.width-i.cutX),i.cutY+t>s.height&&(t=s.height-i.cutY),i.setSize(e,t,i.cutX,i.cutY)}return this},setFromRenderTarget:function(){var e=this.get().source,t=this.renderTarget;return e.isRenderTexture=!0,e.isGLTexture=!0,e.glTexture=t.texture,this},setIsSpriteTexture:function(e){return this.isSpriteTexture=e,this},fill:function(e,t,i,n,r,s){var a=this.camera,o=this.renderer;void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height);var h=e>>16&255,c=e>>8&255,l=255&e,u=this.renderTarget;if(a.preRender(),u){u.bind(!0);var d=this.pipeline.manager.set(this.pipeline),p=o.width/u.width,g=o.height/u.height,m=u.height-(n+s);d.drawFillRect(i*p,m*g,r*p,s*g,f.getTintFromFloats(l/255,c/255,h/255,1),t),u.unbind(!0)}else{var v=this.context;o.setContext(v),v.globalCompositeOperation="source-over",v.fillStyle="rgba("+h+","+c+","+l+","+t+")",v.fillRect(i,n,r,s),o.setContext()}return this.dirty=!0,this},clear:function(e,t,i,n){if(this.dirty){var r=this.context,s=this.renderTarget;s?s.clear(e,t,i,n):r&&(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==n?r.clearRect(e,t,i,n):(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.width,this.height),r.restore())),this.dirty=!1}return this},stamp:function(e,t,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0);var s=c(r,"alpha",1),a=c(r,"tint",16777215),o=c(r,"angle",0),h=c(r,"rotation",0),l=c(r,"scale",1),u=c(r,"scaleX",l),d=c(r,"scaleY",l),f=c(r,"originX",.5),p=c(r,"originY",.5),g=c(r,"blendMode",0),m=c(r,"erase",!1),v=c(r,"skipBatch",!1),y=this.manager.resetStamp(s,a);return y.setAngle(0),0!==o?y.setAngle(o):0!==h&&y.setRotation(h),y.setScale(u,d),y.setTexture(e,t),y.setOrigin(f,p),y.setBlendMode(g),m&&(this._eraseMode=!0),v?this.batchGameObject(y,i,n):this.draw(y,i,n),m&&(this._eraseMode=!1),this},erase:function(e,t,i){return this._eraseMode=!0,this.draw(e,t,i),this._eraseMode=!1,this},draw:function(e,t,i,n,r){return this.beginDraw(),this.batchDraw(e,t,i,n,r),this.endDraw(),this},drawFrame:function(e,t,i,n,r,s){return this.beginDraw(),this.batchDrawFrame(e,t,i,n,r,s),this.endDraw(),this},repeat:function(e,t,i,n,r,s,a,o,c){if(void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height),void 0===a&&(a=1),void 0===o&&(o=16777215),void 0===c&&(c=!1),!(t=e instanceof h?e:this.manager.getFrame(e,t)))return this;var l=this.manager.resetStamp(a,o);l.setFrame(t),l.setOrigin(0);var u=t.width,d=t.height,f=Math.ceil((r=Math.floor(r))/u),p=Math.ceil((s=Math.floor(s))/d),g=f*u-r,m=p*d-s;g>0&&(g=u-g),m>0&&(m=d-m),i<0&&(f+=Math.ceil(Math.abs(i)/u)),n<0&&(p+=Math.ceil(Math.abs(n)/d));var v=i,y=n,b=!1,x=this.manager.stampCrop.setTo(0,0,u,d);c||this.beginDraw();for(var E=0;E<p;E++){if(y+d<0){y+=d;continue}for(var w=0;w<f;w++){if(b=!1,v+u<0){v+=u;continue}v<0&&(b=!0,x.width=u+v,x.x=u-x.width),y<0&&(b=!0,x.height=d+y,x.y=d-x.height),g>0&&w===f-1&&(b=!0,x.width=g),m>0&&E===p-1&&(b=!0,x.height=m),b&&l.setCrop(x),this.batchGameObject(l,v,y),l.isCropped=!1,x.setTo(0,0,u,d),v+=u}v=i,y+=d}return c||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var e=this.camera,t=this.renderer,i=this.renderTarget;e.preRender(),i?t.beginCapture(i.width,i.height):t.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(e,t,i,n,r){return Array.isArray(e)||(e=[e]),this.batchList(e,t,i,n,r),this},batchDrawFrame:function(e,t,i,n,r,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===s&&(s=16777215);var a=this.manager.getFrame(e,t);return a&&(this.renderTarget?this.pipeline.batchTextureFrame(a,i,n,s,r,this.camera.matrix,null):this.batchTextureFrame(a,i,n,r,s)),this},endDraw:function(e){if(void 0===e&&(e=this._eraseMode),this.isDrawing){var t=this.renderer,i=this.renderTarget;if(i){var n=t.endCapture();t.pipelines.setUtility().blitFrame(n,i,1,!1,!1,e,this.isSpriteTexture),t.resetScissor(),t.resetViewport()}else t.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(e,t,i,n,r){var s=e.length;if(0!==s)for(var a=0;a<s;a++){var o=e[a];o&&o!==this&&(o.renderWebGL||o.renderCanvas?this.batchGameObject(o,t,i):o.isParent||o.list?this.batchGroup(o.getChildren(),t,i):"string"==typeof o?this.batchTextureFrameKey(o,null,t,i,n,r):o instanceof h?this.batchTextureFrame(o,t,i,n,r):Array.isArray(o)&&this.batchList(o,t,i,n,r))}},batchGroup:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);for(var n=0;n<e.length;n++){var r=e[n];r.willRender(this.camera)&&this.batchGameObject(r,r.x+t,r.y+i)}},batchGameObject:function(e,t,i){void 0===t&&(t=e.x),void 0===i&&(i=e.y);var r=e.x,s=e.y,a=this.camera,o=this.renderer,h=this._eraseMode,c=e.mask;if(e.setPosition(t,i),this.canvas){if(h){var l=e.blendMode;e.blendMode=n.ERASE}c&&c.preRenderCanvas(o,e,a),e.renderCanvas(o,e,a,null),c&&c.postRenderCanvas(o,e,a),h&&(e.blendMode=l)}else o&&(c&&c.preRenderWebGL(o,e,a),h||o.setBlendMode(e.blendMode),e.renderWebGL(o,e,a),c&&c.postRenderWebGL(o,a,this.renderTarget));e.setPosition(r,s)},batchTextureFrameKey:function(e,t,i,n,r,s){var a=this.manager.getFrame(e,t);a&&this.batchTextureFrame(a,i,n,r,s)},batchTextureFrame:function(e,t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=16777215);var s=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(e,t,i,r,n,s,null);else{var a=this.context,o=e.canvasData,h=e.source.image;a.save(),a.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",a.globalAlpha=n,s.setToContext(a),o.width>0&&o.height>0&&a.drawImage(h,o.x,o.y,o.width,o.height,t,i,o.width,o.height),a.restore()}},snapshotArea:function(e,t,i,n,r,s,a){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,r,!1,e,t,i,n,s,a):this.renderer.snapshotCanvas(this.canvas,r,!1,e,t,i,n,s,a),this},snapshot:function(e,t,i){return this.snapshotArea(0,0,this.width,this.height,e,t,i)},snapshotPixel:function(e,t,i){return this.snapshotArea(e,t,1,1,i,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(e,t,i,n){var r=this.manager.resetStamp();r.setTexture(this),r.setOrigin(0),r.renderWebGL(e,r,i,n)},renderCanvas:function(){},destroy:function(){var e=this.manager.stamp;e&&e.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});e.exports=p},4327:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(45319),s=i(79291),a=new n({initialize:function(e,t,i,n,r,s,a){this.texture=e,this.name=t,this.source=e.source[i],this.sourceIndex=i,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(s,a,n,r)},setCutPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.cutX=e,this.cutY=t,this.updateUVs()},setCutSize:function(e,t){return this.cutWidth=e,this.cutHeight=t,this.updateUVs()},setSize:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.setCutPosition(i,n),this.setCutSize(e,t),this.width=e,this.height=t,this.halfWidth=Math.floor(.5*e),this.halfHeight=Math.floor(.5*t),this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2);var r=this.data,s=r.cut;s.x=i,s.y=n,s.w=e,s.h=t,s.r=i+e,s.b=n+t,r.sourceSize.w=e,r.sourceSize.h=t,r.spriteSourceSize.w=e,r.spriteSourceSize.h=t,r.radius=.5*Math.sqrt(e*e+t*t);var a=r.drawImage;return a.x=i,a.y=n,a.width=e,a.height=t,this.updateUVs()},setTrim:function(e,t,i,n,r,s){var a=this.data,o=a.spriteSourceSize;return a.trim=!0,a.sourceSize.w=e,a.sourceSize.h=t,o.x=i,o.y=n,o.w=r,o.h=s,o.r=i+r,o.b=n+s,this.x=i,this.y=n,this.width=r,this.height=s,this.halfWidth=.5*r,this.halfHeight=.5*s,this.centerX=Math.floor(r/2),this.centerY=Math.floor(s/2),this.updateUVs()},setScale9:function(e,t,i,n){var r=this.data;return r.scale9=!0,r.is3Slice=0===t&&n===this.height,r.scale9Borders.x=e,r.scale9Borders.y=t,r.scale9Borders.w=i,r.scale9Borders.h=n,this},setCropUVs:function(e,t,i,n,s,a,o){var h=this.cutX,c=this.cutY,l=this.cutWidth,u=this.cutHeight,d=this.realWidth,f=this.realHeight;t=r(t,0,d),i=r(i,0,f),n=r(n,0,d-t),s=r(s,0,f-i);var p=h+t,g=c+i,m=n,v=s,y=this.data;if(y.trim){var b=y.spriteSourceSize;n=r(n,0,l-t),s=r(s,0,u-i);var x=t+n,E=i+s;if(b.r<t||b.b<i||b.x>x||b.y>E)p=0,g=0,m=0,v=0;else{var w=Math.max(b.x,t),T=Math.max(b.y,i),S=Math.min(b.r,x)-w,A=Math.min(b.b,E)-T;m=S,v=A,p=a?h+(l-(w-b.x)-S):h+(w-b.x),g=o?c+(u-(T-b.y)-A):c+(T-b.y),t=w,i=T,n=S,s=A}}else a&&(p=h+(l-t-n)),o&&(g=c+(u-i-s));var C=this.source.width,_=this.source.height;return e.u0=Math.max(0,p/C),e.v0=Math.max(0,g/_),e.u1=Math.min(1,(p+m)/C),e.v1=Math.min(1,(g+v)/_),e.x=t,e.y=i,e.cx=p,e.cy=g,e.cw=m,e.ch=v,e.width=n,e.height=s,e.flipX=a,e.flipY=o,e},updateCropUVs:function(e,t,i){return this.setCropUVs(e,e.x,e.y,e.width,e.height,t,i)},setUVs:function(e,t,i,n,r,s){var a=this.data.drawImage;return a.width=e,a.height=t,this.u0=i,this.v0=n,this.u1=r,this.v1=s,this},updateUVs:function(){var e=this.cutX,t=this.cutY,i=this.cutWidth,n=this.cutHeight,r=this.data.drawImage;r.width=i,r.height=n;var s=this.source.width,a=this.source.height;return this.u0=e/s,this.v0=t/a,this.u1=(e+i)/s,this.v1=(t+n)/a,this},updateUVsInverted:function(){var e=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/e,this.v0=this.cutY/t,this.u1=this.cutX/e,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var e=new a(this.texture,this.name,this.sourceIndex);return e.cutX=this.cutX,e.cutY=this.cutY,e.cutWidth=this.cutWidth,e.cutHeight=this.cutHeight,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e.halfWidth=this.halfWidth,e.halfHeight=this.halfHeight,e.centerX=this.centerX,e.centerY=this.centerY,e.rotated=this.rotated,e.data=s(!0,e.data,this.data),e.updateUVs(),e},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});e.exports=a},79237:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(4327),s=i(11876),a='Texture "%s" has no frame "%s"',o=new n({initialize:function(e,t,i,n,r){Array.isArray(i)||(i=[i]),this.manager=e,this.key=t,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var a=0;a<i.length;a++)this.source.push(new s(this,i[a],n,r))},add:function(e,t,i,n,s,a){if(this.has(e))return null;var o=new r(this,e,t,i,n,s,a);return this.frames[e]=o,"__BASE"===this.firstFrame&&(this.firstFrame=e),this.frameTotal++,o},remove:function(e){return!!this.has(e)&&(this.get(e).destroy(),delete this.frames[e],!0)},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var t=this.frames[e];return t||(console.warn(a,this.key,e),t=this.frames[this.firstFrame]),t},getTextureSourceIndex:function(e){for(var t=0;t<this.source.length;t++)if(this.source[t]===e)return t;return -1},getFramesFromTextureSource:function(e,t){void 0===t&&(t=!1);var i=[];for(var n in this.frames)if("__BASE"!==n||t){var r=this.frames[n];r.sourceIndex===e&&i.push(r)}return i},getFrameBounds:function(e){void 0===e&&(e=0);for(var t=this.getFramesFromTextureSource(e,!0),i=t[0],n=i.cutX,r=i.cutY,s=i.cutX+i.cutWidth,a=i.cutY+i.cutHeight,o=1;o<t.length;o++){var h=t[o];h.cutX<n&&(n=h.cutX),h.cutY<r&&(r=h.cutY),h.cutX+h.cutWidth>s&&(s=h.cutX+h.cutWidth),h.cutY+h.cutHeight>a&&(a=h.cutY+h.cutHeight)}return{x:n,y:r,width:s-n,height:a-r}},getFrameNames:function(e){void 0===e&&(e=!1);var t=Object.keys(this.frames);if(!e){var i=t.indexOf("__BASE");-1!==i&&t.splice(i,1)}return t},getSourceImage:function(e){(null==e||1===this.frameTotal)&&(e="__BASE");var t=this.frames[e];return t?t.source.image:(console.warn(a,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(null==e||1===this.frameTotal)&&(e="__BASE");var t,i=this.frames[e];return i?t=i.sourceIndex:(console.warn(a,this.key,e),t=this.frames.__BASE.sourceIndex),this.dataSource[t].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=this.source[t];this.dataSource.push(new s(this,e[t],i.width,i.height))}},setFilter:function(e){var t;for(t=0;t<this.source.length;t++)this.source[t].setFilter(e);for(t=0;t<this.dataSource.length;t++)this.dataSource[t].setFilter(e)},destroy:function(){var e,t=this.source,i=this.dataSource;for(e=0;e<t.length;e++)t[e]&&t[e].destroy();for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(var n in this.frames){var r=this.frames[n];r&&r.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});e.exports=o},17130:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(57382),s=i(83419),a=i(40987),o=i(8054),h=i(81320),c=i(50792),l=i(69442),u=i(4327),d=i(8443),f=i(99584),p=i(35154),g=i(88571),m=i(41212),v=i(61309),y=i(87841),b=i(79237),x=new s({Extends:c,initialize:function(e){c.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=n.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,e.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var e=this.game.config;null!==e.defaultImage&&this.addBase64("__DEFAULT",e.defaultImage),null!==e.missingImage&&this.addBase64("__MISSING",e.missingImage),null!==e.whiteImage&&this.addBase64("__WHITE",e.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(e){this.stamp=new g(e).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(e){return!(!e||"string"!=typeof e||this.exists(e))||(this.silentWarnings||console.error("Texture key already in use: "+e),!1)},remove:function(e){if("string"==typeof e){if(!this.exists(e))return this.silentWarnings||console.warn("No texture found matching key: "+e),this;e=this.get(e)}var t=e.key;return this.list.hasOwnProperty(t)&&(e.destroy(),this.emit(l.REMOVE,t),this.emit(l.REMOVE_KEY+t)),this},removeKey:function(e){return this.list.hasOwnProperty(e)&&delete this.list[e],this},addBase64:function(e,t){if(this.checkKey(e)){var i=this,n=new Image;n.onerror=function(){i.emit(l.ERROR,e)},n.onload=function(){var t=i.create(e,n);v.Image(t,0),i.emit(l.ADD,e,t),i.emit(l.ADD_KEY+e,t),i.emit(l.LOAD,e,t)},n.src=t}return this},getBase64:function(e,t,i,r){void 0===i&&(i="image/png"),void 0===r&&(r=.92);var s="",a=this.getFrame(e,t);if(a&&(a.source.isRenderTexture||a.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(a){var o=a.canvasData,h=n.create2D(this,o.width,o.height),c=h.getContext("2d",{willReadFrequently:!0});o.width>0&&o.height>0&&c.drawImage(a.source.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),s=h.toDataURL(i,r),n.remove(h)}return s},addImage:function(e,t,i){var n=null;return this.checkKey(e)&&(n=this.create(e,t),v.Image(n,0),i&&n.setDataSource(i),this.emit(l.ADD,e,n),this.emit(l.ADD_KEY+e,n)),n},addGLTexture:function(e,t){var i=null;if(this.checkKey(e)){var n=t.width,r=t.height;(i=this.create(e,t,n,r)).add("__BASE",0,0,0,n,r),this.emit(l.ADD,e,i),this.emit(l.ADD_KEY+e,i)}return i},addCompressedTexture:function(e,t,i){var n=null;if(this.checkKey(e)){if((n=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),i){var r=function(e,t,i){Array.isArray(i.textures)||Array.isArray(i.frames)?v.JSONArray(e,t,i):v.JSONHash(e,t,i)};if(Array.isArray(i))for(var s=0;s<i.length;s++)r(n,s,i[s]);else r(n,0,i)}this.emit(l.ADD,e,n),this.emit(l.ADD_KEY+e,n)}return n},addRenderTexture:function(e,t){var i=null;return this.checkKey(e)&&((i=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),this.emit(l.ADD,e,i),this.emit(l.ADD_KEY+e,i)),i},generate:function(e,t){if(!this.checkKey(e))return null;var i=n.create(this,1,1);return t.canvas=i,f(t),this.addCanvas(e,i)},createCanvas:function(e,t,i){if(void 0===t&&(t=256),void 0===i&&(i=256),this.checkKey(e)){var r=n.create(this,t,i,o.CANVAS,!0);return this.addCanvas(e,r)}return null},addCanvas:function(e,t,i){void 0===i&&(i=!1);var n=null;return i?n=new r(this,e,t,t.width,t.height):this.checkKey(e)&&(n=new r(this,e,t,t.width,t.height),this.list[e]=n,this.emit(l.ADD,e,n),this.emit(l.ADD_KEY+e,n)),n},addDynamicTexture:function(e,t,i){var n=null;return"string"!=typeof e||this.exists(e)?e=(n=e).key:n=new h(this,e,t,i),this.checkKey(e)?(this.list[e]=n,this.emit(l.ADD,e,n),this.emit(l.ADD_KEY+e,n)):n=null,n},addAtlas:function(e,t,i,n){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(e,t,i,n):this.addAtlasJSONHash(e,t,i,n)},addAtlasJSONArray:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){if(Array.isArray(i))for(var s=1===i.length,a=0;a<r.source.length;a++){var o=s?i[0]:i[a];v.JSONArray(r,a,o)}else v.JSONArray(r,0,i);n&&r.setDataSource(n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r)}return r},addAtlasJSONHash:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){if(Array.isArray(i))for(var s=0;s<i.length;s++)v.JSONHash(r,s,i[s]);else v.JSONHash(r,0,i);n&&r.setDataSource(n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r)}return r},addAtlasXML:function(e,t,i,n){var r=null;return t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r&&(v.AtlasXML(r,0,i),n&&r.setDataSource(n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r)),r},addUnityAtlas:function(e,t,i,n){var r=null;return t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r&&(v.UnityYAML(r,0,i),n&&r.setDataSource(n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r)),r},addSpriteSheet:function(e,t,i,n){var r=null;if(t instanceof b?(e=t.key,r=t):this.checkKey(e)&&(r=this.create(e,t)),r){var s=r.source[0].width,a=r.source[0].height;v.SpriteSheet(r,0,0,0,s,a,i),n&&r.setDataSource(n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r)}return r},addSpriteSheetFromAtlas:function(e,t){if(!this.checkKey(e))return null;var i=p(t,"atlas",null),n=p(t,"frame",null);if(i&&n){var r=this.get(i).get(n);if(r){var s=r.source.image;s||(s=r.source.glTexture);var a=this.create(e,s);return r.trimmed?v.SpriteSheetFromAtlas(a,r,t):v.SpriteSheet(a,0,r.cutX,r.cutY,r.cutWidth,r.cutHeight,t),this.emit(l.ADD,e,a),this.emit(l.ADD_KEY+e,a),a}}},addUint8Array:function(e,t,i,n){if(!this.checkKey(e)||t.length/4!=i*n)return null;var r=this.create(e,t,i,n);return r.add("__BASE",0,0,0,i,n),this.emit(l.ADD,e,r),this.emit(l.ADD_KEY+e,r),r},create:function(e,t,i,n){var r=null;return this.checkKey(e)&&(r=new b(this,e,t,i,n),this.list[e]=r),r},exists:function(e){return this.list.hasOwnProperty(e)},get:function(e){return(void 0===e&&(e="__DEFAULT"),this.list[e])?this.list[e]:e instanceof b?e:e instanceof u?e.texture:this.list.__MISSING},cloneFrame:function(e,t){if(this.list[e])return this.list[e].get(t).clone()},getFrame:function(e,t){if(this.list[e])return this.list[e].get(t)},parseFrame:function(e){if(e){if("string"==typeof e)return this.getFrame(e);if(Array.isArray(e)&&2===e.length)return this.getFrame(e[0],e[1]);if(m(e))return this.getFrame(e.key,e.frame);if(e instanceof b)return e.get();else if(e instanceof u)return e}},getTextureKeys:function(){var e=[];for(var t in this.list)"__DEFAULT"!==t&&"__MISSING"!==t&&"__WHITE"!==t&&"__NORMAL"!==t&&e.push(t);return e},getPixel:function(e,t,i,n){var r=this.getFrame(i,n);if(r){e-=r.x,t-=r.y;var s=r.data.cut;if(e+=s.x,t+=s.y,e>=s.x&&e<s.r&&t>=s.y&&t<s.b){var o=this._tempContext;o.clearRect(0,0,1,1),o.drawImage(r.source.image,e,t,1,1,0,0,1,1);var h=o.getImageData(0,0,1,1);return new a(h.data[0],h.data[1],h.data[2],h.data[3])}}return null},getPixelAlpha:function(e,t,i,n){var r=this.getFrame(i,n);if(r){e-=r.x,t-=r.y;var s=r.data.cut;if(e+=s.x,t+=s.y,e>=s.x&&e<s.r&&t>=s.y&&t<s.b){var a=this._tempContext;return a.clearRect(0,0,1,1),a.drawImage(r.source.image,e,t,1,1,0,0,1,1),a.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(e,t,i){return this.list[t]&&(e.texture=this.list[t],e.frame=e.texture.get(i)),e},renameTexture:function(e,t){var i=this.get(e);return!!i&&e!==t&&(i.key=t,this.list[t]=i,delete this.list[e],!0)},each:function(e,t){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],e.apply(t,i)},resetStamp:function(e,t){void 0===e&&(e=1),void 0===t&&(t=16777215);var i=this.stamp;return i.setCrop(),i.setPosition(0),i.setAngle(0),i.setScale(1),i.setAlpha(e),i.setTint(t),i.setTexture("__WHITE"),i},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,n.remove(this._tempCanvas)}});e.exports=x},11876:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(27919),r=i(83419),s=i(50030),a=i(29795),o=i(82751),h=new r({initialize:function(e,t,i,n,r){void 0===r&&(r=!1);var h=e.manager.game;this.renderer=h.renderer,this.texture=e,this.source=t,this.image=t.compressed?null:t,this.compressionAlgorithm=t.compressed?t.format:null,this.resolution=1,this.width=i||t.naturalWidth||t.videoWidth||t.width||0,this.height=n||t.naturalHeight||t.videoHeight||t.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&t instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===t.type||"DynamicTexture"===t.type,this.isGLTexture=t instanceof o,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=r,this.init(h)},init:function(e){var t=this.renderer;if(t){var i=this.source;if(t.gl){var n=this.image,r=this.flipY,s=this.width,a=this.height,o=this.scaleMode;this.isCanvas?this.glTexture=t.createCanvasTexture(n,!1,r):this.isVideo?this.glTexture=t.createVideoTexture(n,!1,r):this.isRenderTexture?this.glTexture=t.createTextureFromSource(null,s,a,o):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=t.createTextureFromSource(i,void 0,void 0,o):i instanceof Uint8Array?this.glTexture=t.createUint8ArrayTexture(i,s,a,o):this.glTexture=t.createTextureFromSource(n,s,a,o)}else this.isRenderTexture&&(this.image=i.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return void 0===e&&(e=!0),e===this.flipY||(this.flipY=e,this.update()),this},update:function(){var e=this.renderer,t=this.image,i=this.flipY,n=e.gl;n&&this.isCanvas?e.updateCanvasTexture(t,this.glTexture,i):n&&this.isVideo&&e.updateVideoTexture(t,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&n.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});e.exports=h},19673:e=>{e.exports={LINEAR:0,NEAREST:1}},44538:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addtexture"},63486:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="addtexture-"},94851:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="onerror"},29099:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="onload"},8678:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="ready"},86415:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removetexture"},30879:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="removetexture-"},69442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(19673),s={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:r,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};s=n(!1,s,r),e.exports=s},89905:e=>{e.exports=function(e,t,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var n,r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);for(var s=i.getElementsByTagName("SubTexture"),a=0;a<s.length;a++){var o=s[a].attributes,h=o.name.value,c=parseInt(o.x.value,10),l=parseInt(o.y.value,10),u=parseInt(o.width.value,10),d=parseInt(o.height.value,10);if(n=e.add(h,t,c,l,u,d),o.frameX){var f=Math.abs(parseInt(o.frameX.value,10)),p=Math.abs(parseInt(o.frameY.value,10)),g=parseInt(o.frameWidth.value,10),m=parseInt(o.frameHeight.value,10);n.setTrim(u,d,f,p,g,m)}}return e}},72893:e=>{e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},4832:e=>{e.exports=function(e,t){var i=e.source[t];return e.add("__BASE",t,0,0,i.width,i.height),e}},78566:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r,s=e.source[t];e.add("__BASE",t,0,0,s.width,s.height);for(var a=Array.isArray(i.textures)?i.textures[t].frames:i.frames,o=0;o<a.length;o++){var h=a[o];if(!(r=e.add(h.filename,t,h.frame.x,h.frame.y,h.frame.w,h.frame.h))){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&r.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(r.rotated=!0,r.updateUVsInverted());var c=h.anchor||h.pivot;c&&(r.customPivot=!0,r.pivotX=c.x,r.pivotY=c.y),h.scale9Borders&&r.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),r.customData=n(h)}for(var l in i)"frames"!==l&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e}},39711:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r,s=e.source[t];e.add("__BASE",t,0,0,s.width,s.height);var a=i.frames;for(var o in a)if(a.hasOwnProperty(o)){var h=a[o];if(!(r=e.add(o,t,h.frame.x,h.frame.y,h.frame.w,h.frame.h))){console.warn("Invalid atlas json, frame already exists: "+o);continue}h.trimmed&&r.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(r.rotated=!0,r.updateUVsInverted());var c=h.anchor||h.pivot;c&&(r.customPivot=!0,r.pivotX=c.x,r.pivotY=c.y),h.scale9Borders&&r.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),r.customData=n(h)}for(var l in i)"frames"!==l&&(Array.isArray(i[l])?e.customData[l]=i[l].slice(0):e.customData[l]=i[l]);return e}},31403:e=>{e.exports=function(e){var t,i=[171,75,84,88,32,49,49,187,13,10,26,10],n=new Uint8Array(e,0,12);for(t=0;t<n.length;t++)if(n[t]!==i[t]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(e,12,13*r),a=67305985===s.getUint32(0,!0);if(0!==s.getUint32(1*r,a)){console.warn("KTXParser - Only compressed formats supported");return}var o=s.getUint32(4*r,a),h=s.getUint32(6*r,a),c=s.getUint32(7*r,a),l=Math.max(1,s.getUint32(11*r,a)),u=s.getUint32(12*r,a),d=Array(l),f=64+u,p=h,g=c;for(t=0;t<l;t++){var m=new Int32Array(e,f,1)[0];f+=4,d[t]={data:new Uint8Array(e,f,m),width:p,height:g},p=Math.max(1,p>>1),g=Math.max(1,g>>1),f+=m}return{mipmaps:d,width:h,height:c,internalFormat:o,compressed:!0,generateMipmap:!1}}},82038:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,i,n,r,s,a){return void 0===a&&(a=16),Math.floor((e+i)/r)*Math.floor((t+n)/s)*a}function i(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function n(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function r(e,t){return Math.ceil(e/4)*Math.ceil(t/4)*16}function s(e,i){return t(e,i,3,3,4,4,8)}function a(e,i){return t(e,i,3,3,4,4)}var o={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:n,glFormat:[35840]},3:{sizeFunc:n,glFormat:[35842]},6:{sizeFunc:s,glFormat:[36196]},7:{sizeFunc:s,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:r,glFormat:[36494,36495]},15:{sizeFunc:r,glFormat:[36492,36493]},22:{sizeFunc:s,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:s,glFormat:[37494,37495]},25:{sizeFunc:s,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:function(e,i){return t(e,i,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function(e,i){return t(e,i,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function(e,i){return t(e,i,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function(e,i){return t(e,i,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function(e,i){return t(e,i,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function(e,i){return t(e,i,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function(e,i){return t(e,i,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function(e,i){return t(e,i,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function(e,i){return t(e,i,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function(e,i){return t(e,i,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function(e,i){return t(e,i,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function(e,i){return t(e,i,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function(e,i){return t(e,i,11,11,12,12)},glFormat:[37821,37853]}};e.exports=function(e){for(var t=new Uint32Array(e,0,13),i=t[0],n=55727696===i?t[2]:t[3],r=t[4],s=o[n].glFormat[r],a=o[n].sizeFunc,h=t[11],c=t[7],l=t[6],u=new Uint8Array(e,52+t[12]),d=Array(h),f=0,p=c,g=l,m=0;m<h;m++){var v=a(p,g);d[m]={data:new Uint8Array(u.buffer,u.byteOffset+f,v),width:p,height:g},p=Math.max(1,p>>1),g=Math.max(1,g>>1),f+=v}return{mipmaps:d,width:c,height:l,internalFormat:s,compressed:!0,generateMipmap:!1}}},75549:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i,r,s,a,o){var h=n(o,"frameWidth",null),c=n(o,"frameHeight",h);if(null===h)throw Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=e.source[t];e.add("__BASE",t,0,0,l.width,l.height);var u=n(o,"startFrame",0),d=n(o,"endFrame",-1),f=n(o,"margin",0),p=n(o,"spacing",0),g=Math.floor((s-f+p)/(h+p))*Math.floor((a-f+p)/(c+p));0===g&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",e.key),(u>g||u<-g)&&(u=0),u<0&&(u=g+u),(-1===d||d>g||d<u)&&(d=g);for(var m=f,v=f,y=0,b=0,x=0,E=0;E<g;E++){y=0,b=0;var w=m+h,T=v+c;w>s&&(y=w-s),T>a&&(b=T-a),E>=u&&E<=d&&(e.add(x,t,i+m,r+v,h-y,c-b),x++),(m+=h+p)+h>s&&(m=f,v+=c+p)}return e}},47534:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i){var r,s=n(i,"frameWidth",null),a=n(i,"frameHeight",s);if(!s)throw Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=e.source[0];e.add("__BASE",0,0,0,o.width,o.height);var h=n(i,"startFrame",0),c=n(i,"endFrame",-1),l=n(i,"margin",0),u=n(i,"spacing",0),d=t.cutX,f=t.cutY,p=t.cutWidth,g=t.cutHeight,m=t.realWidth,v=t.realHeight,y=Math.floor((m-l+u)/(s+u)),b=Math.floor((v-l+u)/(a+u)),x=y*b,E=t.x,w=s-E,T=s-(m-p-E),S=t.y,A=a-S,C=a-(v-g-S);(h>x||h<-x)&&(h=0),h<0&&(h=x+h),-1!==c&&(x=h+(c+1));for(var _=l,I=l,O=0,P=0;P<b;P++){for(var M=0===P,R=P===b-1,L=0;L<y;L++){var D=0===L,k=L===y-1;if(r=e.add(O,0,d+_,f+I,s,a),D||M||k||R){var N=D?E:0,F=M?S:0,B=0,U=0;D&&(B+=s-w),k&&(B+=s-T),M&&(U+=a-A),R&&(U+=a-C);var V=s-B,G=a-U;r.cutWidth=V,r.cutHeight=G,r.setTrim(s,a,N,F,V,G)}_+=u,D?_+=w:k?_+=T:_+=s,O++}_=l,I+=u,M?I+=A:R?I+=C:I+=a}return e}},86147:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,i=function(e,i,n,r){var s=t-r.y-r.height;e.add(n,i,r.x,s,r.width,r.height)};e.exports=function(e,n,r){var s=e.source[n];e.add("__BASE",n,0,0,s.width,s.height),t=s.height;for(var a=r.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",c="",l={x:0,y:0,width:0,height:0},u=0;u<a.length;u++){var d=a[u].match(o);if(d){var f="- "===d[1],p=d[2],g=d[3];if(f&&(c!==h&&(i(e,n,c,l),h=c),l={x:0,y:0,width:0,height:0}),"name"===p){c=g;continue}switch(p){case"x":case"y":case"width":case"height":l[p]=parseInt(g,10)}}}return c!==h&&i(e,n,c,l),e}},55222:(e,t,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(50030);function r(e){for(var t=e.mipmaps,i=0;i<t.length;i++){var n=t[i].width,r=t[i].height;if((n<<i)%4!=0||(r<<i)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+i+" is "+n+"x"+r),!1}return!0}function s(){return!0}function a(e){var t=e.mipmaps[0];return!!n(t.width,t.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+t.width+"x"+t.height),!1)}function o(e){var t=e.mipmaps[0];return t.width%4==0&&t.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+t.width+"x"+t.height+" pixels"),!1)}var h={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:r,36493:r,36494:r,36495:r,36283:r,36284:r,36285:r,36286:r,35840:a,35841:a,35842:a,35843:a,33776:r,33777:r,33778:r,33779:r,35916:o,35917:o,35918:o,35919:o};e.exports=function(e){for(var t=e.mipmaps,i=1;i<t.length;i++){var r=t[i].width,s=t[i].height;if(!n(r,s))return console.warn("Mip level "+i+" is not a power-of-two size: "+r+"x"+s),!1}var a=h[e.internalFormat];return a?a(e):(console.warn("No format checker found for internal format "+e.internalFormat+". Assuming valid."),!0)}},61309:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(e,t,i)=>{var n=new(i(83419))({initialize:function(e,t,i,n,r,s,a){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===s&&(s=0),this.name=e,this.firstgid=0|t,this.imageWidth=0|i,this.imageHeight=0|n,this.imageMargin=0|r,this.imageSpacing=0|s,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){return this.images.push({gid:e,image:t}),this.total++,this}});e.exports=n},27462:(e,t,i)=>{var n=new(i(83419))({initialize:function(e){if(this.gids=[],void 0!==e)for(var t=0;t<e.length;++t)for(var i=e[t],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(e){this.gids=e?this._gids:void 0}},getTypeIncludingTile:function(e){if(void 0!==e.type&&""!==e.type)return e.type;if(this.gids&&void 0!==e.gid){var t=this.gids[e.gid];if(t){var i=t.getTileData(e.gid);if(i)return i.type}}},setTextureAndFrame:function(e,t,i,n){if(null===t&&this.gids&&void 0!==n.gid){var r=this.gids[n.gid];r&&(null===t&&void 0!==r.image&&(t=r.image.key),null===i&&(i=n.gid-r.firstgid),e.scene.textures.getFrame(t,i)||(t=null,i=null))}e.setTexture(t,i)},setPropertiesFromTiledObject:function(e,t){if(void 0!==this.gids&&void 0!==t.gid){var i=this.gids[t.gid];void 0!==i&&this.setFromJSON(e,i.getTileProperties(t.gid))}this.setFromJSON(e,t.properties)},setFromJSON:function(e,t){if(t){if(Array.isArray(t)){for(var i=0;i<t.length;i++){var n=t[i];void 0!==e[n.name]?e[n.name]=n.value:e.setData(n.name,n.value)}return}for(var r in t)void 0!==e[r]?e[r]=t[r]:e.setData(r,t[r])}}});e.exports=n},31989:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(87010),s=i(46177),a=i(49075);e.exports=function(e,t,i,o,h,c,l,u){void 0===i&&(i=32),void 0===o&&(o=32),void 0===h&&(h=10),void 0===c&&(c=10),void 0===u&&(u=!1);var d=null;if(Array.isArray(l))d=s(void 0!==t?t:"map",n.ARRAY_2D,l,i,o,u);else if(void 0!==t){var f=e.cache.tilemap.get(t);f?d=s(t,f.format,f.data,i,o,u):console.warn("No map data found for key "+t)}return null===d&&(d=new r({tileWidth:i,tileHeight:o,width:h,height:c})),new a(e,d)}},23029:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(31401),s=i(91907),a=i(62644),o=i(93232),h=new n({Mixins:[r.AlphaSingle,r.Flip,r.Visible],initialize:function(e,t,i,n,r,s,a,o){this.layer=e,this.index=t,this.x=i,this.y=n,this.width=r,this.height=s,this.right,this.bottom,this.baseWidth=void 0!==a?a:r,this.baseHeight=void 0!==o?o:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(e,t){return!(e<this.pixelX||t<this.pixelY||e>this.right||t>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=a(e.properties),this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var t=this.tilemapLayer;return t?t.tileToWorldXY(this.x,this.y,void 0,e).x:this.x*this.baseWidth},getRight:function(e){var t=this.tilemapLayer;return t?this.getLeft(e)+this.width*t.scaleX:this.getLeft(e)+this.width},getTop:function(e){var t=this.tilemapLayer;return t?t.tileToWorldXY(this.x,this.y,void 0,e).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(e){var t=this.tilemapLayer;return t?this.getTop(e)+this.height*t.scaleY:this.getTop(e)+this.height},getBounds:function(e,t){return void 0===t&&(t=new o),t.x=this.getLeft(e),t.y=this.getTop(e),t.width=this.getRight(e)-t.x,t.height=this.getBottom(e)-t.y,t},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},intersects:function(e,t,i,n){return!(i<=this.pixelX||n<=this.pixelY||e>=this.right||t>=this.bottom)},isInteresting:function(e,t){return e&&t?this.canCollide||this.hasInterestingFace:e?this.collides:!!t&&this.hasInterestingFace},resetCollision:function(e){return void 0===e&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,t,i,n,r){return void 0===t&&(t=e),void 0===i&&(i=e),void 0===n&&(n=e),void 0===r&&(r=!0),this.collideLeft=e,this.collideRight=t,this.collideUp=i,this.collideDown=n,this.faceLeft=e,this.faceRight=t,this.faceTop=i,this.faceBottom=n,r&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(e,t){return null===e?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=t),this},setSize:function(e,t,i,n){return void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==i&&(this.baseWidth=i),void 0!==n&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){var e=this.layer.orientation;if(e===s.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(e===s.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(e===s.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(e===s.HEXAGONAL){var t,i,n=this.layer.staggerAxis,r=this.layer.staggerIndex,a=this.layer.hexSideLength;"y"===n?(i=(this.baseHeight-a)/2+a,"odd"===r?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*i):"x"===n&&(t=(this.baseWidth-a)/2+a,this.pixelX=this.x*t,"odd"===r?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var t=e.gidMap[this.index];if(t)return t}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});e.exports=h},49075:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(84101),r=i(83419),s=i(39506),a=i(80341),o=i(95540),h=i(14977),c=i(27462),l=i(91907),u=i(36305),d=i(19133),f=i(68287),p=i(23029),g=i(81086),m=i(20442),v=i(33629),y=new r({initialize:function(e,t){this.scene=e,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.width=t.width,this.height=t.height,this.orientation=t.orientation,this.renderOrder=t.renderOrder,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.imageCollections=t.imageCollections,this.images=t.images,this.layers=t.layers,this.tiles=t.tiles,this.tilesets=t.tilesets,this.objects=t.objects,this.currentLayerIndex=0,this.hexSideLength=t.hexSideLength;var i=this.orientation;this._convert={WorldToTileXY:g.GetWorldToTileXYFunction(i),WorldToTileX:g.GetWorldToTileXFunction(i),WorldToTileY:g.GetWorldToTileYFunction(i),TileToWorldXY:g.GetTileToWorldXYFunction(i),TileToWorldX:g.GetTileToWorldXFunction(i),TileToWorldY:g.GetTileToWorldYFunction(i),GetTileCorners:g.GetTileCornersFunction(i)}},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return"number"==typeof e&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,i,r,s,o,h,c){if(void 0===e)return null;null==t&&(t=e);var l=this.scene.sys.textures;if(!l.exists(t))return console.warn('Texture key "%s" not found',t),null;var u=l.get(t),d=this.getTilesetIndex(e);if(null===d&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',e,this.tilesets),null;var f=this.tilesets[d];return f?((i||r)&&f.setTileSize(i,r),(s||o)&&f.setSpacing(s,o),f.setImage(u)):(void 0===i&&(i=this.tileWidth),void 0===r&&(r=this.tileHeight),void 0===s&&(s=0),void 0===o&&(o=0),void 0===h&&(h=0),void 0===c&&(c={x:0,y:0}),(f=new v(e,h,i,r,s,o,void 0,void 0,c)).setImage(u),this.tilesets.push(f),this.tiles=n(this)),f},copy:function(e,t,i,n,r,s,a,o){return null!==(o=this.getLayer(o))?(g.Copy(e,t,i,n,r,s,a,o),this):null},createBlankLayer:function(e,t,i,n,r,s,a,o){if(void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.width),void 0===s&&(s=this.height),void 0===a&&(a=this.tileWidth),void 0===o&&(o=this.tileHeight),null!==this.getLayerIndex(e))return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var c,l=new h({name:e,tileWidth:a,tileHeight:o,width:r,height:s,orientation:this.orientation}),u=0;u<s;u++){c=[];for(var d=0;d<r;d++)c.push(new p(l,-1,d,u,a,o,this.tileWidth,this.tileHeight));l.data.push(c)}this.layers.push(l),this.currentLayerIndex=this.layers.length-1;var f=new m(this.scene,this,this.currentLayerIndex,t,i,n);return f.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(f),f},createLayer:function(e,t,i,n){var r=this.getLayerIndex(e);if(null===r)return console.warn("Invalid Tilemap Layer ID: "+e),"string"==typeof e&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var s=this.layers[r];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=r,void 0===i&&(i=s.x),void 0===n&&(n=s.y);var a=new m(this.scene,this,r,t,i,n);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(e,t,i){void 0===i&&(i=!0);var n=[],r=this.getObjectLayer(e);if(!r)return console.warn("createFromObjects: Invalid objectLayerName given: "+e),n;var a=new c(i?this.tilesets:void 0);Array.isArray(t)||(t=[t]);for(var h=r.objects,d=0;d<t.length;d++){var p,g=t[d],m=o(g,"id",null),v=o(g,"gid",null),y=o(g,"name",null),b=o(g,"type",null);a.enabled=!o(g,"ignoreTileset",null);for(var x=[],E=0;E<h.length;E++)p=h[E],(null===m&&null===v&&null===y&&null===b||null!==m&&p.id===m||null!==v&&p.gid===v||null!==y&&p.name===y||null!==b&&a.getTypeIncludingTile(p)===b)&&x.push(p);for(var w=o(g,"classType",f),T=o(g,"scene",this.scene),S=o(g,"container",null),A=o(g,"key",null),C=o(g,"frame",null),_=0;_<x.length;_++){p=x[_];var I=new w(T);if(I.setName(p.name),I.setPosition(p.x,p.y),a.setTextureAndFrame(I,A,C,p),p.width&&(I.displayWidth=p.width),p.height&&(I.displayHeight=p.height),this.orientation===l.ISOMETRIC){var O=this.tileWidth/this.tileHeight,P={x:I.x-I.y,y:(I.x+I.y)/O};I.x=P.x,I.y=P.y}var M={x:I.originX*p.width,y:(I.originY-(p.gid?1:0))*p.height};if(p.rotation){var R=s(p.rotation);u(M,R),I.rotation=R}I.x+=M.x,I.y+=M.y,(void 0!==p.flippedHorizontal||void 0!==p.flippedVertical)&&I.setFlip(p.flippedHorizontal,p.flippedVertical),p.visible||(I.visible=!1),a.setPropertiesFromTiledObject(I,p),S?S.add(I):T.add.existing(I),n.push(I)}}return n},createFromTiles:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:g.CreateFromTiles(e,t,i,n,r,s)},fill:function(e,t,i,n,r,s,a){return(void 0===s&&(s=!0),null===(a=this.getLayer(a)))?null:(g.Fill(e,t,i,n,r,s,a),this)},filterObjects:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.filter(t,i)},filterTiles:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:g.FilterTiles(e,t,i,n,r,s,a,o)},findByIndex:function(e,t,i,n){return null===(n=this.getLayer(n))?null:g.FindByIndex(e,t,i,n)},findObject:function(e,t,i){if("string"==typeof e){var n=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+n),null}return e.objects.find(t,i)||null},findTile:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:g.FindTile(e,t,i,n,r,s,a,o)},forEachTile:function(e,t,i,n,r,s,a,o){return null===(o=this.getLayer(o))?null:(g.ForEachTile(e,t,i,n,r,s,a,o),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(e){return e.name}):[]},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayer:function(e){var t=this.getLayerIndex(e);return null!==t?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return null!==t?this.objects[t]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(e){return e.name}):[]},getLayerIndex:function(e){return void 0===e?this.currentLayerIndex:"string"==typeof e?this.getLayerIndexByName(e):"number"==typeof e&&e<this.layers.length?e:e instanceof m&&e.tilemap===this?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,i,n){return null===(n=this.getLayer(n))?null:g.GetTileAt(e,t,i,n)},getTileAtWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:g.GetTileAtWorldXY(e,t,i,n,r)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(e){return e.name}):[]},getTilesWithin:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:g.GetTilesWithin(e,t,i,n,r,s)},getTilesWithinShape:function(e,t,i,n){return null===(n=this.getLayer(n))?null:g.GetTilesWithinShape(e,t,i,n)},getTilesWithinWorldXY:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:g.GetTilesWithinWorldXY(e,t,i,n,r,s,a)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return null!==t?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,i){return null===(i=this.getLayer(i))?null:g.HasTileAt(e,t,i)},hasTileAtWorldXY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:g.HasTileAtWorldXY(e,t,i,n)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,i,n,r){return(void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:g.PutTileAt(e,t,i,n,r)},putTileAtWorldXY:function(e,t,i,n,r,s){return(void 0===n&&(n=!0),null===(s=this.getLayer(s)))?null:g.PutTileAtWorldXY(e,t,i,n,r,s)},putTilesAt:function(e,t,i,n,r){return(void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:(g.PutTilesAt(e,t,i,n,r),this)},randomize:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:(g.Randomize(e,t,i,n,r,s),this)},calculateFacesAt:function(e,t,i){return null===(i=this.getLayer(i))?null:(g.CalculateFacesAt(e,t,i),this)},calculateFacesWithin:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(g.CalculateFacesWithin(e,t,i,n,r),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(null===t)return null;d(this.layers,t);for(var i=t;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this},destroyLayer:function(e){var t=this.getLayerIndex(e);return null!==t?((e=this.layers[t]).tilemapLayer.destroy(),d(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=!0);var n=[];Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=e[r];n.push(this.removeTileAt(s.x,s.y,!0,i,s.tilemapLayer)),t>-1&&this.putTileAt(t,s.x,s.y,i,s.tilemapLayer)}return n},removeTileAt:function(e,t,i,n,r){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:g.RemoveTileAt(e,t,i,n,r)},removeTileAtWorldXY:function(e,t,i,n,r,s){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(s=this.getLayer(s)))?null:g.RemoveTileAtWorldXY(e,t,i,n,r,s)},renderDebug:function(e,t,i){return null===(i=this.getLayer(i))?null:(this.orientation===l.ORTHOGONAL&&g.RenderDebug(e,t,i),this)},renderDebugFull:function(e,t){for(var i=this.layers,n=0;n<i.length;n++)g.RenderDebug(e,t,i[n]);return this},replaceByIndex:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(g.ReplaceByIndex(e,t,i,n,r,s,a),this)},setCollision:function(e,t,i,n,r){return(void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),null===(n=this.getLayer(n)))?null:(g.SetCollision(e,t,i,n,r),this)},setCollisionBetween:function(e,t,i,n,r){return(void 0===i&&(i=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r)))?null:(g.SetCollisionBetween(e,t,i,n,r),this)},setCollisionByProperty:function(e,t,i,n){return(void 0===t&&(t=!0),void 0===i&&(i=!0),null===(n=this.getLayer(n)))?null:(g.SetCollisionByProperty(e,t,i,n),this)},setCollisionByExclusion:function(e,t,i,n){return(void 0===t&&(t=!0),void 0===i&&(i=!0),null===(n=this.getLayer(n)))?null:(g.SetCollisionByExclusion(e,t,i,n),this)},setCollisionFromCollisionGroup:function(e,t,i){return(void 0===e&&(e=!0),void 0===t&&(t=!0),null===(i=this.getLayer(i)))?null:(g.SetCollisionFromCollisionGroup(e,t,i),this)},setTileIndexCallback:function(e,t,i,n){return null===(n=this.getLayer(n))?null:(g.SetTileIndexCallback(e,t,i,n),this)},setTileLocationCallback:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(g.SetTileLocationCallback(e,t,i,n,r,s,a),this)},setLayer:function(e){var t=this.getLayerIndex(e);return null!==t&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=e,this.layers[i].baseTileHeight=t;for(var n=this.layers[i].data,r=this.layers[i].width,s=this.layers[i].height,a=0;a<s;a++)for(var o=0;o<r;o++){var h=n[a][o];null!==h&&h.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=e,i.tileHeight=t;for(var n=i.data,r=i.width,s=i.height,a=0;a<s;a++)for(var o=0;o<r;o++){var h=n[a][o];null!==h&&h.setSize(e,t)}return this},shuffle:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:(g.Shuffle(e,t,i,n,r),this)},swapByIndex:function(e,t,i,n,r,s,a){return null===(a=this.getLayer(a))?null:(g.SwapByIndex(e,t,i,n,r,s,a),this)},tileToWorldX:function(e,t,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldX(e,t,i)},tileToWorldY:function(e,t,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldY(e,t,i)},tileToWorldXY:function(e,t,i,n,r){return null===(r=this.getLayer(r))?null:this._convert.TileToWorldXY(e,t,i,n,r)},getTileCorners:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.GetTileCorners(e,t,i,n)},weightedRandomize:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:(g.WeightedRandomize(t,i,n,r,e,s),this)},worldToTileX:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.WorldToTileX(e,t,i,n)},worldToTileY:function(e,t,i,n){return null===(n=this.getLayer(n))?null:this._convert.WorldToTileY(e,t,i,n)},worldToTileXY:function(e,t,i,n,r,s){return null===(s=this.getLayer(s))?null:this._convert.WorldToTileXY(e,t,i,n,r,s)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});e.exports=y},45939:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(44603),r=i(31989);n.register("tilemap",function(e){var t=void 0!==e?e:{};return r(this.scene,t.key,t.tileWidth,t.tileHeight,t.width,t.height,t.data,t.insertNull)})},46029:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(39429),r=i(31989);n.register("tilemap",function(e,t,i,n,s,a,o){return null===e&&(e=void 0),null===t&&(t=void 0),null===i&&(i=void 0),null===n&&(n=void 0),null===s&&(s=void 0),r(this.scene,e,t,i,n,s,a,o)})},20442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(78389),s=i(31401),a=i(95643),o=i(81086),h=i(19218),c=i(26099),l=new n({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,r,h],initialize:function(e,t,i,n,r,s){a.call(this,e,"TilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=i,this.layer=t.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new c,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(r,s),this.setOrigin(0,0),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(e){var t=[],i=[],n=this.tilemap;Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=e[r];if("string"==typeof s&&(s=n.getTileset(s)),s){i.push(s);for(var a=s.firstgid,o=0;o<s.total;o++)t[a+o]=s}}this.gidMap=t,this.tileset=i},setRenderOrder:function(e){return"string"==typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,t){return o.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,i,n){return o.CalculateFacesWithin(e,t,i,n,this.layer),this},createFromTiles:function(e,t,i,n,r){return o.CreateFromTiles(e,t,i,n,r,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,t,i,n,r,s,a){return o.Copy(e,t,i,n,r,s,a,this.layer),this},fill:function(e,t,i,n,r,s){return o.Fill(e,t,i,n,r,s,this.layer),this},filterTiles:function(e,t,i,n,r,s,a){return o.FilterTiles(e,t,i,n,r,s,a,this.layer)},findByIndex:function(e,t,i){return o.FindByIndex(e,t,i,this.layer)},findTile:function(e,t,i,n,r,s,a){return o.FindTile(e,t,i,n,r,s,a,this.layer)},forEachTile:function(e,t,i,n,r,s,a){return o.ForEachTile(e,t,i,n,r,s,a,this.layer),this},setTint:function(e,t,i,n,r,s){return void 0===e&&(e=16777215),this.forEachTile(function(t){t.tint=e,t.tintFill=!1},this,t,i,n,r,s)},setTintFill:function(e,t,i,n,r,s){return void 0===e&&(e=16777215),this.forEachTile(function(t){t.tint=e,t.tintFill=!0},this,t,i,n,r,s)},getTileAt:function(e,t,i){return o.GetTileAt(e,t,i,this.layer)},getTileAtWorldXY:function(e,t,i,n){return o.GetTileAtWorldXY(e,t,i,n,this.layer)},getIsoTileAtWorldXY:function(e,t,i,n,r){void 0===i&&(i=!0);var s=this.tempVec;return o.IsometricWorldToTileXY(e,t,!0,s,r,this.layer,i),this.getTileAt(s.x,s.y,n)},getTilesWithin:function(e,t,i,n,r){return o.GetTilesWithin(e,t,i,n,r,this.layer)},getTilesWithinShape:function(e,t,i){return o.GetTilesWithinShape(e,t,i,this.layer)},getTilesWithinWorldXY:function(e,t,i,n,r,s){return o.GetTilesWithinWorldXY(e,t,i,n,r,s,this.layer)},hasTileAt:function(e,t){return o.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,i){return o.HasTileAtWorldXY(e,t,i,this.layer)},putTileAt:function(e,t,i,n){return o.PutTileAt(e,t,i,n,this.layer)},putTileAtWorldXY:function(e,t,i,n,r){return o.PutTileAtWorldXY(e,t,i,n,r,this.layer)},putTilesAt:function(e,t,i,n){return o.PutTilesAt(e,t,i,n,this.layer),this},randomize:function(e,t,i,n,r){return o.Randomize(e,t,i,n,r,this.layer),this},removeTileAt:function(e,t,i,n){return o.RemoveTileAt(e,t,i,n,this.layer)},removeTileAtWorldXY:function(e,t,i,n,r){return o.RemoveTileAtWorldXY(e,t,i,n,r,this.layer)},renderDebug:function(e,t){return o.RenderDebug(e,t,this.layer),this},replaceByIndex:function(e,t,i,n,r,s){return o.ReplaceByIndex(e,t,i,n,r,s,this.layer),this},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},setCollision:function(e,t,i,n){return o.SetCollision(e,t,i,this.layer,n),this},setCollisionBetween:function(e,t,i,n){return o.SetCollisionBetween(e,t,i,n,this.layer),this},setCollisionByProperty:function(e,t,i){return o.SetCollisionByProperty(e,t,i,this.layer),this},setCollisionByExclusion:function(e,t,i){return o.SetCollisionByExclusion(e,t,i,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return o.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileIndexCallback:function(e,t,i){return o.SetTileIndexCallback(e,t,i,this.layer),this},setTileLocationCallback:function(e,t,i,n,r,s){return o.SetTileLocationCallback(e,t,i,n,r,s,this.layer),this},shuffle:function(e,t,i,n){return o.Shuffle(e,t,i,n,this.layer),this},swapByIndex:function(e,t,i,n,r,s){return o.SwapByIndex(e,t,i,n,r,s,this.layer),this},tileToWorldX:function(e,t){return this.tilemap.tileToWorldX(e,t,this)},tileToWorldY:function(e,t){return this.tilemap.tileToWorldY(e,t,this)},tileToWorldXY:function(e,t,i,n){return this.tilemap.tileToWorldXY(e,t,i,n,this)},getTileCorners:function(e,t,i){return this.tilemap.getTileCorners(e,t,i,this)},weightedRandomize:function(e,t,i,n,r){return o.WeightedRandomize(t,i,n,r,e,this.layer),this},worldToTileX:function(e,t,i){return this.tilemap.worldToTileX(e,t,i,this)},worldToTileY:function(e,t,i){return this.tilemap.worldToTileY(e,t,i,this)},worldToTileXY:function(e,t,i,n,r){return this.tilemap.worldToTileXY(e,t,i,n,r,this)},destroy:function(e){void 0===e&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});e.exports=l},16153:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61340),r=new n,s=new n,a=new n;e.exports=function(e,t,i,n){var o=t.cull(i),h=o.length,c=i.alpha*t.alpha;if(0!==h&&!(c<=0)){s.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(i.matrix);var l=e.currentContext,u=t.gidMap;l.save(),n?(r.multiplyWithOffset(n,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),s.e=t.x,s.f=t.y,r.multiply(s,a),a.copyToContext(l)):(s.e-=i.scrollX*t.scrollFactorX,s.f-=i.scrollY*t.scrollFactorY,s.copyToContext(l)),(!e.antialias||t.scaleX>1||t.scaleY>1)&&(l.imageSmoothingEnabled=!1);for(var d=0;d<h;d++){var f=o[d],p=u[f.index];if(p){var g=p.image.getSourceImage(),m=p.getTileTextureCoordinates(f.index),v=p.tileWidth,y=p.tileHeight;if(null!==m&&0!==v&&0!==y){var b=.5*v,x=.5*y;m.x+=p.tileOffset.x,m.y+=p.tileOffset.y,l.save(),l.translate(f.pixelX+b,f.pixelY+x),0!==f.rotation&&l.rotate(f.rotation),(f.flipX||f.flipY)&&l.scale(f.flipX?-1:1,f.flipY?-1:1),l.globalAlpha=c*f.alpha,l.drawImage(g,m.x,m.y,v,y,-b,-x,v,y),l.restore()}}}l.restore()}}},19218:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(29747),r=n,s=n;r=i(99558),s=i(16153),e.exports={renderWebGL:r,renderCanvas:s}},99558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70554);e.exports=function(e,t,i){var r=t.cull(i),s=r.length,a=i.alpha*t.alpha;if(0!==s&&!(a<=0)){var o=t.gidMap,h=e.pipelines.set(t.pipeline,t),c=n.getTintAppendFloatAlpha,l=t.scrollFactorX,u=t.scrollFactorY,d=t.x,f=t.y,p=t.scaleX,g=t.scaleY;e.pipelines.preBatch(t);for(var m=0;m<s;m++){var v=r[m],y=o[v.index];if(y){var b=y.getTileTextureCoordinates(v.index),x=y.tileWidth,E=y.tileHeight;if(b&&0!==x&&0!==E){var w=.5*x,T=.5*E,S=y.glTexture,A=h.setTexture2D(S,t),C=b.x,_=b.y,I=y.tileOffset.x,O=y.tileOffset.y,P=c(v.tint,a*v.alpha);h.batchTexture(t,S,S.width,S.height,d+v.pixelX*p+(w*p-I),f+v.pixelY*g+(T*g-O),x,E,p,g,v.rotation,v.flipX,v.flipY,l,u,w,T,C,_,x,E,P,P,P,P,v.tintFill,0,0,i,null,!0,A,!0)}}}e.pipelines.postBatch(t)}}},33629:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(26099),s=new n({initialize:function(e,t,i,n,s,a,o,h,c){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===s&&(s=0),void 0===a&&(a=0),void 0===o&&(o={}),void 0===h&&(h={}),this.name=e,this.firstgid=t,this.tileWidth=i,this.tileHeight=n,this.tileMargin=s,this.tileSpacing=a,this.tileProperties=o,this.tileData=h,this.tileOffset=new r,void 0!==c&&this.tileOffset.set(c.x,c.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(e){return this.containsTileIndex(e)?this.tileProperties[e-this.firstgid]:null},getTileData:function(e){return this.containsTileIndex(e)?this.tileData[e-this.firstgid]:null},getTileCollisionGroup:function(e){var t=this.getTileData(e);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},getTileTextureCoordinates:function(e){return this.containsTileIndex(e)?this.texCoordinates[e-this.firstgid]:null},setImage:function(e){this.image=e;var t=e.get(),i=e.getFrameBounds();return this.glTexture=t.source.glTexture,t.width>i.width||t.height>i.height?this.updateTileData(t.width,t.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(e,t){return void 0!==e&&(this.tileWidth=e),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(e,t){return void 0!==e&&(this.tileMargin=e),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(e-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(r%1!=0||s%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),r=Math.floor(r),s=Math.floor(s),this.rows=r,this.columns=s,this.total=r*s,this.texCoordinates.length=0;for(var a=this.tileMargin+i,o=this.tileMargin+n,h=0;h<this.rows;h++){for(var c=0;c<this.columns;c++)this.texCoordinates.push({x:a,y:o}),a+=this.tileWidth+this.tileSpacing;a=this.tileMargin+i,o+=this.tileHeight+this.tileSpacing}return this}});e.exports=s},72023:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423);e.exports=function(e,t,i){var r=n(e,t,!0,i),s=n(e,t-1,!0,i),a=n(e,t+1,!0,i),o=n(e-1,t,!0,i),h=n(e+1,t,!0,i),c=r&&r.collides;return c&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),s&&s.collides&&(c&&(r.faceTop=!1),s.faceBottom=!c),a&&a.collides&&(c&&(r.faceBottom=!1),a.faceTop=!c),o&&o.collides&&(c&&(r.faceLeft=!1),o.faceRight=!c),h&&h.collides&&(c&&(r.faceRight=!1),h.faceLeft=!c),r&&!r.collides&&r.resetFaces(),r}},42573:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423),r=i(7386);e.exports=function(e,t,i,s,a){for(var o=null,h=null,c=null,l=null,u=r(e,t,i,s,null,a),d=0;d<u.length;d++){var f=u[d];f&&(f.collides?(o=n(f.x,f.y-1,!0,a),h=n(f.x,f.y+1,!0,a),c=n(f.x-1,f.y,!0,a),l=n(f.x+1,f.y,!0,a),f.faceTop=!o||!o.collides,f.faceBottom=!h||!h.collides,f.faceLeft=!c||!c.collides,f.faceRight=!l||!l.collides):f.resetFaces())}}},33528:(e,t,i)=>{var n=new(i(26099));e.exports=function(e,t,i,r){var s=i.tilemapLayer,a=s.cullPaddingX,o=s.cullPaddingY,h=s.tilemap.tileToWorldXY(e,t,n,r,s);return h.x>r.worldView.x+s.scaleX*i.tileWidth*(-a-.5)&&h.x<r.worldView.right+s.scaleX*i.tileWidth*(a-.5)&&h.y>r.worldView.y+s.scaleY*i.tileHeight*(-o-1)&&h.y<r.worldView.bottom+s.scaleY*i.tileHeight*(o-.5)}},1785:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42573),r=i(7386),s=i(62991),a=i(23029);e.exports=function(e,t,i,o,h,c,l,u){void 0===l&&(l=!0);var d=r(e,t,i,o,null,u),f=[];d.forEach(function(e){var t=new a(e.layer,e.index,e.x,e.y,e.width,e.height,e.baseWidth,e.baseHeight);t.copy(e),f.push(t)});for(var p=h-e,g=c-t,m=0;m<f.length;m++){var v=f[m],y=v.x+p,b=v.y+g;s(y,b,u)&&u.data[b][y]&&(v.x=y,v.y=b,v.updatePixelXY(),u.data[b][y]=v)}l&&n(h-1,c-1,i+2,o+2,u),d.length=0,f.length=0}},78419:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62644),r=i(7386),s=i(27987);e.exports=function(e,t,i,a,o,h){i||(i={}),Array.isArray(e)||(e=[e]);var c,l=h.tilemapLayer;a||(a=l.scene),o||(o=a.cameras.main);var u=h.width,d=h.height,f=r(0,0,u,d,null,h),p=[];for(c=0;c<f.length;c++){var g=f[c],m=n(i);if(-1!==e.indexOf(g.index)){var v=l.tileToWorldXY(g.x,g.y,void 0,o,h);m.x=v.x,m.y=v.y,function(e,t,i){for(var n=0;n<i.length;n++){var r=i[n];e.hasOwnProperty(r)||(e[r]=t[r])}}(m,g,["rotation","flipX","flipY","alpha","visible","tint"]),m.hasOwnProperty("origin")||(m.x+=.5*g.width,m.y+=.5*g.height),m.hasOwnProperty("useSpriteSheet")&&(m.key=g.tileset.image,m.frame=g.index-1),p.push(a.make.sprite(m))}}if(Array.isArray(t))for(c=0;c<e.length;c++)s(e[c],t[c],0,0,u,d,h);else if(null!==t)for(c=0;c<e.length;c++)s(e[c],t,0,0,u,d,h);return p}},19545:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(87841),r=i(63448),s=i(56583),a=new n;e.exports=function(e,t){var i=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(i.tileWidth*n.scaleX),h=Math.floor(i.tileHeight*n.scaleY),c=s(t.worldView.x-n.x,o,0,!0)-n.cullPaddingX,l=r(t.worldView.right-n.x,o,0,!0)+n.cullPaddingX,u=s(t.worldView.y-n.y,h,0,!0)-n.cullPaddingY,d=r(t.worldView.bottom-n.y,h,0,!0)+n.cullPaddingY;return a.setTo(c,u,l-c,d-u)}},30003:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19545),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return(a.skipCull||1!==a.scrollFactorX||1!==a.scrollFactorY)&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},35137:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(42573),s=i(20576);e.exports=function(e,t,i,a,o,h,c){for(var l=-1!==c.collideIndexes.indexOf(e),u=n(t,i,a,o,null,c),d=0;d<u.length;d++)u[d].index=e,s(u[d],l);h&&r(t-1,i-1,a+2,o+2,c)}},40253:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,h){return n(i,r,s,a,o,h).filter(e,t)}},52692:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=!1);var r,s,a,o=0;if(i){for(s=n.height-1;s>=0;s--)for(r=n.width-1;r>=0;r--)if((a=n.data[s][r])&&a.index===e){if(o===t)return a;o+=1}}else for(s=0;s<n.height;s++)for(r=0;r<n.width;r++)if((a=n.data[s][r])&&a.index===e){if(o===t)return a;o+=1}return null}},66151:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,h){return n(i,r,s,a,o,h).find(e,t)||null}},97560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o,h){n(i,r,s,a,o,h).forEach(e,t)}},43305:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(30003),s=i(9474),a=i(14018),o=i(29747),h=i(54503);e.exports=function(e){return e===n.ORTHOGONAL?r:e===n.HEXAGONAL?s:e===n.STAGGERED?h:e===n.ISOMETRIC?a:o}},7423:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62991);e.exports=function(e,t,i,r){if(!n(e,t,r))return null;var s=r.data[t][e]||null;return s?-1===s.index?i?s:null:s:null}},60540:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7423),r=new(i(26099));e.exports=function(e,t,i,s,a){return a.tilemapLayer.worldToTileXY(e,t,!0,r,s),n(r.x,r.y,i,a)}},55826:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r){var s=r.baseTileWidth,a=r.baseTileHeight,o=r.tilemapLayer,h=0,c=0;o&&(i||(i=o.scene.cameras.main),h=o.x+i.scrollX*(1-o.scrollFactorX),c=o.y+i.scrollY*(1-o.scrollFactorY),s*=o.scaleX,a*=o.scaleY);var l=h+e*s,u=c+t*a;return[new n(l,u),new n(l+s,u),new n(l+s,u+a),new n(l,u+a)]}},11758:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(27229),s=i(29747),a=i(55826);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:(n.STAGGERED,s)}},39167:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(29747),s=i(97281);e.exports=function(e){return e===n.ORTHOGONAL?s:r}},62e3:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(19951),s=i(14127),a=i(29747),o=i(97202),h=i(70326);e.exports=function(e){return e===n.ORTHOGONAL?h:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:e===n.STAGGERED?o:a}},5984:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(29747),s=i(28054),a=i(29650);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.STAGGERED?s:r}},7386:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i,r,s,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=a.width),void 0===r&&(r=a.height),s||(s={});var o=n(s,"isNotEmpty",!1),h=n(s,"isColliding",!1),c=n(s,"hasInterestingFace",!1);e<0&&(i+=e,e=0),t<0&&(r+=t,t=0),e+i>a.width&&(i=Math.max(a.width-e,0)),t+r>a.height&&(r=Math.max(a.height-t,0));for(var l=[],u=t;u<t+r;u++)for(var d=e;d<e+i;d++){var f=a.data[u][d];if(null!==f){if(o&&-1===f.index||h&&!f.collides||c&&!f.hasInterestingFace)continue;l.push(f)}}return l}},91141:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(55738),r=i(7386),s=i(91865),a=i(29747),o=i(26099),h=function(e,t){return s.RectangleToTriangle(t,e)},c=new o,l=new o,u=new o;e.exports=function(e,t,i,o){if(void 0===e)return[];var d=a;e instanceof n.Circle?d=s.CircleToRectangle:e instanceof n.Rectangle?d=s.RectangleToRectangle:e instanceof n.Triangle?d=h:e instanceof n.Line&&(d=s.LineToRectangle),o.tilemapLayer.worldToTileXY(e.left,e.top,!0,l,i);var f=l.x,p=l.y;o.tilemapLayer.worldToTileXY(e.right,e.bottom,!1,u,i);var g=Math.ceil(u.x),m=Math.ceil(u.y),v=Math.max(g-f,1),y=Math.max(m-p,1),b=r(f,p,v,y,t,o),x=o.tileWidth,E=o.tileHeight;o.tilemapLayer&&(x*=o.tilemapLayer.scaleX,E*=o.tilemapLayer.scaleY);for(var w=[],T=new n.Rectangle(0,0,x,E),S=0;S<b.length;S++){var A=b[S];o.tilemapLayer.tileToWorldXY(A.x,A.y,c,i),T.x=c.x,T.y=c.y,d(e,T)&&w.push(A)}return w}},96523:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(26099),s=new r,a=new r;e.exports=function(e,t,i,r,o,h,c){var l=c.tilemapLayer.tilemap._convert.WorldToTileXY;l(e,t,!0,s,h,c);var u=s.x,d=s.y;return l(e+i,t+r,!1,a,h,c),n(u,d,Math.ceil(a.x)-u,Math.ceil(a.y)-d,o,c)}},96113:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(20242),s=i(10095);e.exports=function(e){return e===n.ORTHOGONAL?s:r}},16926:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(86625),s=i(96897),a=i(29747),o=i(15108),h=i(85896);e.exports=function(e){return e===n.ORTHOGONAL?h:e===n.ISOMETRIC?s:e===n.HEXAGONAL?r:e===n.STAGGERED?o:a}},55762:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907),r=i(20242),s=i(51900),a=i(63288);e.exports=function(e){return e===n.ORTHOGONAL?a:e===n.STAGGERED?s:r}},45091:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62991);e.exports=function(e,t,i){if(!n(e,t,i))return!1;var r=i.data[t][e];return null!==r&&r.index>-1}},24152:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(45091),r=new(i(26099));e.exports=function(e,t,i,s){return s.tilemapLayer.worldToTileXY(e,t,!0,r,i),n(r.x,r.y,s)}},90454:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63448),r=i(56583);e.exports=function(e,t){var i,s,a,o,h=e.tilemapLayer.tilemap,c=e.tilemapLayer,l=Math.floor(h.tileWidth*c.scaleX),u=Math.floor(h.tileHeight*c.scaleY),d=e.hexSideLength;if("y"===e.staggerAxis){var f=(u-d)/2+d;i=r(t.worldView.x-c.x,l,0,!0)-c.cullPaddingX,s=n(t.worldView.right-c.x,l,0,!0)+c.cullPaddingX,a=r(t.worldView.y-c.y,f,0,!0)-c.cullPaddingY,o=n(t.worldView.bottom-c.y,f,0,!0)+c.cullPaddingY}else{var p=(l-d)/2+d;i=r(t.worldView.x-c.x,p,0,!0)-c.cullPaddingX,s=n(t.worldView.right-c.x,p,0,!0)+c.cullPaddingX,a=r(t.worldView.y-c.y,u,0,!0)-c.cullPaddingY,o=n(t.worldView.bottom-c.y,u,0,!0)+c.cullPaddingY}return{left:i,right:s,top:a,bottom:o}}},9474:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(90454),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},27229:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19951),r=i(26099),s=new r;e.exports=function(e,t,i,a){var o,h,c=a.baseTileWidth,l=a.baseTileHeight,u=a.tilemapLayer;u&&(c*=u.scaleX,l*=u.scaleY);var d=n(e,t,s,i,a),f=[];"y"===a.staggerAxis?(o=.5773502691896257*c,h=l/2):(o=c/2,h=.5773502691896257*l);for(var p=0;p<6;p++){var g=2*Math.PI*(.5-p)/6;f.push(new r(d.x+o*Math.cos(g),d.y+h*Math.sin(g)))}return f}},19951:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a,o,h=s.baseTileWidth,c=s.baseTileHeight,l=s.tilemapLayer,u=0,d=0;l&&(r||(r=l.scene.cameras.main),u=l.x+r.scrollX*(1-l.scrollFactorX),d=l.y+r.scrollY*(1-l.scrollFactorY),h*=l.scaleX,c*=l.scaleY);var f=h/2,p=c/2,g=s.staggerAxis,m=s.staggerIndex;return"y"===g?(a=u+h*e+h,o=d+1.5*t*p+p,t%2==0&&("odd"===m?a-=f:a+=f)):"x"===g&&"odd"===m&&(a=u+1.5*e*f+f,o=d+c*e+c,e%2==0&&("odd"===m?o-=p:o+=p)),i.set(a,o)}},86625:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){r||(r=new n);var o,h,c,l,u,d,f=a.baseTileWidth,p=a.baseTileHeight,g=a.tilemapLayer;g&&(s||(s=g.scene.cameras.main),e-=g.x+s.scrollX*(1-g.scrollFactorX),t-=g.y+s.scrollY*(1-g.scrollFactorY),f*=g.scaleX,p*=g.scaleY);var m=f/2,v=p/2;"y"===a.staggerAxis?(c=.5773502691896257*(o=(e-m)/(.5773502691896257*f))+-.3333333333333333*(h=(t-v)/v),l=0*o+.6666666666666666*h):(c=-.3333333333333333*(o=(e-m)/m)+.5773502691896257*(h=(t-v)/(.5773502691896257*p)),l=.6666666666666666*o+0*h),u=-c-l;var y=Math.round(c),b=Math.round(l),x=Math.round(u),E=Math.abs(y-c),w=Math.abs(b-l),T=Math.abs(x-u);E>w&&E>T?y=-b-x:w>T&&(b=-y-x);var S=b;return d="odd"===a.staggerIndex?S%2==0?b/2+y:b/2+y-.5:S%2==0?b/2+y:b/2+y+.5,r.set(d,S)}},62991:e=>{e.exports=function(e,t,i){return e>=0&&e<i.width&&t>=0&&t<i.height}},14018:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33528);e.exports=function(e,t,i,r){void 0===i&&(i=[]),void 0===r&&(r=0),i.length=0;var s,a,o,h=e.tilemapLayer,c=e.data,l=e.width,u=e.height,d=h.skipCull;if(0===r)for(a=0;a<u;a++)for(s=0;s<l;s++)(o=c[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(1===r)for(a=0;a<u;a++)for(s=l;s>=0;s--)(o=c[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(2===r)for(a=u;a>=0;a--)for(s=0;s<l;s++)(o=c[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);else if(3===r)for(a=u;a>=0;a--)for(s=l;s>=0;s--)(o=c[a][s])&&-1!==o.index&&o.visible&&0!==o.alpha&&(d||n(s,a,e,t))&&i.push(o);return h.tilesDrawn=i.length,h.tilesTotal=l*u,i}},14127:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,c=0,l=0;h&&(r||(r=h.scene.cameras.main),c=h.x+r.scrollX*(1-h.scrollFactorX),a*=h.scaleX,l=h.y+r.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var u=c+a/2*(e-t),d=l+o/2*(e+t);return i.set(u,d)}},96897:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a,o){r||(r=new n);var h=a.baseTileWidth,c=a.baseTileHeight,l=a.tilemapLayer;l&&(s||(s=l.scene.cameras.main),t-=l.y+s.scrollY*(1-l.scrollFactorY),c*=l.scaleY,e-=l.x+s.scrollX*(1-l.scrollFactorX),h*=l.scaleX);var u=h/2,d=c/2;e-=u,o||(t-=c);var f=.5*(e/u+t/d),p=.5*(-e/u+t/d);return i&&(f=Math.floor(f),p=Math.floor(p)),r.set(f,p)}},71558:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23029),r=i(62991),s=i(72023),a=i(20576);e.exports=function(e,t,i,o,h){if(void 0===o&&(o=!0),!r(t,i,h))return null;var c,l=h.data[i][t],u=l&&l.collides;e instanceof n?(null===h.data[i][t]&&(h.data[i][t]=new n(h,e.index,t,i,h.tileWidth,h.tileHeight)),h.data[i][t].copy(e)):(c=e,null===h.data[i][t]?h.data[i][t]=new n(h,c,t,i,h.tileWidth,h.tileHeight):h.data[i][t].index=c);var d=h.data[i][t],f=-1!==h.collideIndexes.indexOf(d.index);if(-1===(c=e instanceof n?e.index:e))d.width=h.tileWidth,d.height=h.tileHeight;else{var p=h.tilemapLayer.tilemap,g=p.tiles[c][2],m=p.tilesets[g];d.width=m.tileWidth,d.height=m.tileHeight}return a(d,f),o&&u!==d.collides&&s(t,i,h),d}},26303:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(71558),r=new(i(26099));e.exports=function(e,t,i,s,a,o){return o.tilemapLayer.worldToTileXY(t,i,!0,r,a,o),n(e,r.x,r.y,s,o)}},14051:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(42573),r=i(71558);e.exports=function(e,t,i,s,a){if(void 0===s&&(s=!0),!Array.isArray(e))return null;Array.isArray(e[0])||(e=[e]);for(var o=e.length,h=e[0].length,c=0;c<o;c++)for(var l=0;l<h;l++)r(e[c][l],t+l,i+c,!1,a);s&&n(t-1,i-1,h+2,o+2,a)}},77389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(26546);e.exports=function(e,t,i,s,a,o){var h,c=n(e,t,i,s,{},o);if(!a)for(h=0,a=[];h<c.length;h++)-1===a.indexOf(c[h].index)&&a.push(c[h].index);for(h=0;h<c.length;h++)c[h].index=r(a)}},63557:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(23029),r=i(62991),s=i(72023);e.exports=function(e,t,i,a,o){if(void 0===i&&(i=!0),void 0===a&&(a=!0),!r(e,t,o))return null;var h=o.data[t][e];return h?(o.data[t][e]=i?null:new n(o,-1,e,t,o.tileWidth,o.tileHeight),a&&h&&h.collides&&s(e,t,o),h):null}},94178:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63557),r=new(i(26099));e.exports=function(e,t,i,s,a,o){return o.tilemapLayer.worldToTileXY(e,t,!0,r,a,o),n(r.x,r.y,i,s,o)}},15533:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(3956),s=new r(105,210,231,150),a=new r(243,134,48,200),o=new r(40,39,37,150);e.exports=function(e,t,i){void 0===t&&(t={});var r=void 0!==t.tileColor?t.tileColor:s,h=void 0!==t.collidingTileColor?t.collidingTileColor:a,c=void 0!==t.faceColor?t.faceColor:o,l=n(0,0,i.width,i.height,null,i);e.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),e.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var u=0;u<l.length;u++){var d=l[u],f=d.width,p=d.height,g=d.pixelX,m=d.pixelY,v=d.collides?h:r;null!==v&&(e.fillStyle(v.color,v.alpha/255),e.fillRect(g,m,f,p)),g+=1,m+=1,f-=2,p-=2,null!==c&&(e.lineStyle(1,c.color,c.alpha/255),d.faceTop&&e.lineBetween(g,m,g+f,m),d.faceRight&&e.lineBetween(g+f,m,g+f,m+p),d.faceBottom&&e.lineBetween(g,m+p,g+f,m+p),d.faceLeft&&e.lineBetween(g,m,g,m+p))}}},27987:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var h=n(i,r,s,a,null,o),c=0;c<h.length;c++)h[c]&&h[c].index===e&&(h[c].index=t)}},32483:e=>{e.exports=function(e,t,i,n){var r,s,a,o=e.data,h=e.width,c=e.height,l=e.tilemapLayer,u=Math.max(0,t.left),d=Math.min(h,t.right),f=Math.max(0,t.top),p=Math.min(c,t.bottom);if(0===i)for(s=f;s<p;s++)for(r=u;o[s]&&r<d;r++)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(1===i)for(s=f;s<p;s++)for(r=d;o[s]&&r>=u;r--)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(2===i)for(s=p;s>=f;s--)for(r=u;o[s]&&r<d;r++)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);else if(3===i)for(s=p;s>=f;s--)for(r=d;o[s]&&r>=u;r--)(a=o[s][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&n.push(a);return l.tilesDrawn=n.length,l.tilesTotal=h*c,n}},57068:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a,o){void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===o&&(o=!0),Array.isArray(e)||(e=[e]);for(var h=0;h<e.length;h++)s(e[h],t,a);if(o)for(var c=0;c<a.height;c++)for(var l=0;l<a.width;l++){var u=a.data[c][l];u&&-1!==e.indexOf(u.index)&&n(u,t)}i&&r(0,0,a.width,a.height,a)}},37266:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a,o,h){if(void 0===i&&(i=!0),void 0===a&&(a=!0),void 0===h&&(h=!0),!(e>t)){for(var c=e;c<=t;c++)s(c,i,o);if(h)for(var l=0;l<o.height;l++)for(var u=0;u<o.width;u++){var d=o.data[l][u];d&&d.index>=e&&d.index<=t&&n(d,i)}a&&r(0,0,o.width,o.height,o)}}},75661:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(9589);e.exports=function(e,t,i,a){void 0===t&&(t=!0),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);for(var o=0;o<a.height;o++)for(var h=0;h<a.width;h++){var c=a.data[o][h];c&&-1===e.indexOf(c.index)&&(n(c,t),s(c.index,t,a))}i&&r(0,0,a.width,a.height,a)}},64740:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573),s=i(97022);e.exports=function(e,t,i,a){void 0===t&&(t=!0),void 0===i&&(i=!0);for(var o=0;o<a.height;o++)for(var h=0;h<a.width;h++){var c=a.data[o][h];if(c){for(var l in e)if(s(c.properties,l)){var u=e[l];Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++)c.properties[l]===u[d]&&n(c,t)}}}i&&r(0,0,a.width,a.height,a)}},63307:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(20576),r=i(42573);e.exports=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!0);for(var s=0;s<i.height;s++)for(var a=0;a<i.width;a++){var o=i.data[s][a];if(o){var h=o.getCollisionGroup();h&&h.objects&&h.objects.length>0&&n(o,e)}}t&&r(0,0,i.width,i.height,i)}},9589:e=>{e.exports=function(e,t,i){var n=i.collideIndexes.indexOf(e);t&&-1===n?i.collideIndexes.push(e):t||-1===n||i.collideIndexes.splice(n,1)}},20576:e=>{e.exports=function(e,t){t?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)}},79583:e=>{e.exports=function(e,t,i,n){if("number"==typeof e)n.callbacks[e]=null!==t?{callback:t,callbackContext:i}:void 0;else for(var r=0,s=e.length;r<s;r++)n.callbacks[e[r]]=null!==t?{callback:t,callbackContext:i}:void 0}},93254:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var h=n(e,t,i,r,null,o),c=0;c<h.length;c++)h[c].setCollisionCallback(s,a)}},32903:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(33680);e.exports=function(e,t,i,s,a){var o=n(e,t,i,s,null,a),h=o.map(function(e){return e.index});r(h);for(var c=0;c<o.length;c++)o[c].index=h[c]}},61325:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(63448),r=i(56583);e.exports=function(e,t){var i=e.tilemapLayer.tilemap,s=e.tilemapLayer,a=Math.floor(i.tileWidth*s.scaleX),o=Math.floor(i.tileHeight*s.scaleY);return{left:r(t.worldView.x-s.x,a,0,!0)-s.cullPaddingX,right:n(t.worldView.right-s.x,a,0,!0)+s.cullPaddingX,top:r(t.worldView.y-s.y,o/2,0,!0)-s.cullPaddingY,bottom:n(t.worldView.bottom-s.y,o/2,0,!0)+s.cullPaddingY}}},54503:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(61325),r=i(32483);e.exports=function(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var a=e.tilemapLayer,o=n(e,t);return a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY&&(o.left=0,o.right=e.width,o.top=0,o.bottom=e.height),r(e,o,s,i),i}},97202:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s){i||(i=new n);var a=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,c=0,l=0;h&&(r||(r=h.scene.cameras.main),c=h.x+r.scrollX*(1-h.scrollFactorX),a*=h.scaleX,l=h.y+r.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var u=c+e*a+t%2*(a/2),d=l+o/2*t;return i.set(u,d)}},28054:e=>{e.exports=function(e,t,i){var n=i.baseTileHeight,r=i.tilemapLayer,s=0;return r&&(void 0===t&&(t=r.scene.cameras.main),s=r.y+t.scrollY*(1-r.scrollFactorY),n*=r.scaleY),s+n/2*e+n}},15108:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){r||(r=new n);var o=a.baseTileWidth,h=a.baseTileHeight,c=a.tilemapLayer;c&&(s||(s=c.scene.cameras.main),t-=c.y+s.scrollY*(1-c.scrollFactorY),h*=c.scaleY,e-=c.x+s.scrollX*(1-c.scrollFactorX),o*=c.scaleX);var l=i?Math.floor(t/(h/2)):t/(h/2),u=i?Math.floor((e+l%2*.5*o)/o):(e+l%2*.5*o)/o;return r.set(u,l)}},51900:e=>{e.exports=function(e,t,i,n){var r=n.baseTileHeight,s=n.tilemapLayer;return s&&(i||(i=s.scene.cameras.main),e-=s.y+i.scrollY*(1-s.scrollFactorY),r*=s.scaleY),t?Math.floor(e/(r/2)):e/(r/2)}},86560:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386);e.exports=function(e,t,i,r,s,a,o){for(var h=n(i,r,s,a,null,o),c=0;c<h.length;c++)h[c]&&(h[c].index===e?h[c].index=t:h[c].index===t&&(h[c].index=e))}},97281:e=>{e.exports=function(e,t,i){var n=i.baseTileWidth,r=i.tilemapLayer,s=0;return r&&(t||(t=r.scene.cameras.main),s=r.x+t.scrollX*(1-r.scrollFactorX),n*=r.scaleX),s+e*n}},70326:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97281),r=i(29650),s=i(26099);e.exports=function(e,t,i,a,o){return i||(i=new s(0,0)),i.x=n(e,a,o),i.y=r(t,a,o),i}},29650:e=>{e.exports=function(e,t,i){var n=i.baseTileHeight,r=i.tilemapLayer,s=0;return r&&(t||(t=r.scene.cameras.main),s=r.y+t.scrollY*(1-r.scrollFactorY),n*=r.scaleY),s+e*n}},77366:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(7386),r=i(75508);e.exports=function(e,t,i,s,a,o){if(a){var h,c=n(e,t,i,s,null,o),l=0;for(h=0;h<a.length;h++)l+=a[h].weight;if(!(l<=0))for(h=0;h<c.length;h++){for(var u=r.RND.frac()*l,d=0,f=-1,p=0;p<a.length;p++)if(u<=(d+=a[p].weight)){var g=a[p].index;f=Array.isArray(g)?g[Math.floor(r.RND.frac()*g.length)]:g;break}c[h].index=f}}}},10095:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85896),r=new(i(26099));e.exports=function(e,t,i,s){return n(e,0,t,r,i,s),r.x}},85896:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(26099);e.exports=function(e,t,i,r,s,a){void 0===i&&(i=!0),r||(r=new n);var o=a.baseTileWidth,h=a.baseTileHeight,c=a.tilemapLayer;c&&(s||(s=c.scene.cameras.main),e-=c.x+s.scrollX*(1-c.scrollFactorX),t-=c.y+s.scrollY*(1-c.scrollFactorY),o*=c.scaleX,h*=c.scaleY);var l=e/o,u=t/h;return i&&(l=Math.floor(l),u=Math.floor(u)),r.set(l,u)}},63288:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(85896),r=new(i(26099));e.exports=function(e,t,i,s){return n(0,e,t,r,i,s),r.y}},81086:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={ORIENTATION:i(91907)};e.exports=n},62501:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291),r=i(21829),s={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};s=n(!1,s,r.ORIENTATION),e.exports=s},14977:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91907),s=i(95540),a=new n({initialize:function(e){void 0===e&&(e={}),this.name=s(e,"name","layer"),this.id=s(e,"id",0),this.x=s(e,"x",0),this.y=s(e,"y",0),this.width=s(e,"width",0),this.height=s(e,"height",0),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.baseTileWidth=s(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(e,"baseTileHeight",this.tileHeight),this.orientation=s(e,"orientation",r.ORTHOGONAL),this.widthInPixels=s(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(e,"alpha",1),this.visible=s(e,"visible",!0),this.properties=s(e,"properties",[]),this.indexes=s(e,"indexes",[]),this.collideIndexes=s(e,"collideIndexes",[]),this.callbacks=s(e,"callbacks",[]),this.bodies=s(e,"bodies",[]),this.data=s(e,"data",[]),this.tilemapLayer=s(e,"tilemapLayer",null),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});e.exports=a},87010:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(91907),s=i(95540),a=new n({initialize:function(e){void 0===e&&(e={}),this.name=s(e,"name","map"),this.width=s(e,"width",0),this.height=s(e,"height",0),this.infinite=s(e,"infinite",!1),this.tileWidth=s(e,"tileWidth",0),this.tileHeight=s(e,"tileHeight",0),this.widthInPixels=s(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(e,"heightInPixels",this.height*this.tileHeight),this.format=s(e,"format",null),this.orientation=s(e,"orientation",r.ORTHOGONAL),this.renderOrder=s(e,"renderOrder","right-down"),this.version=s(e,"version","1"),this.properties=s(e,"properties",{}),this.layers=s(e,"layers",[]),this.images=s(e,"images",[]),this.objects=s(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=s(e,"collision",{}),this.tilesets=s(e,"tilesets",[]),this.imageCollections=s(e,"imageCollections",[]),this.tiles=s(e,"tiles",[]),this.hexSideLength=s(e,"hexSideLength",0),this.staggerAxis=s(e,"staggerAxis","y"),this.staggerIndex=s(e,"staggerIndex","odd")}});e.exports=a},48700:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=new n({initialize:function(e){void 0===e&&(e={}),this.name=r(e,"name","object layer"),this.id=r(e,"id",0),this.opacity=r(e,"opacity",1),this.properties=r(e,"properties",{}),this.propertyTypes=r(e,"propertytypes",{}),this.type=r(e,"type","objectgroup"),this.visible=r(e,"visible",!0),this.objects=r(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});e.exports=s},6641:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(91907);e.exports=function(e){return"isometric"===(e=e.toLowerCase())?n.ISOMETRIC:"staggered"===e?n.STAGGERED:"hexagonal"===e?n.HEXAGONAL:n.ORTHOGONAL}},46177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(2342),s=i(82593),a=i(46594),o=i(87021);e.exports=function(e,t,i,h,c,l){var u;switch(t){case n.ARRAY_2D:u=r(e,i,h,c,l);break;case n.CSV:u=s(e,i,h,c,l);break;case n.TILED_JSON:u=a(e,i,l);break;case n.WELTMEISTER:u=o(e,i,l);break;default:console.warn("Unrecognized tilemap data format: "+t),u=null}return u}},2342:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(14977),s=i(87010),a=i(23029);e.exports=function(e,t,i,o,h){for(var c=new r({tileWidth:i,tileHeight:o}),l=new s({name:e,tileWidth:i,tileHeight:o,format:n.ARRAY_2D,layers:[c]}),u=[],d=t.length,f=0,p=0;p<t.length;p++){u[p]=[];for(var g=t[p],m=0;m<g.length;m++){var v=parseInt(g[m],10);isNaN(v)||-1===v?u[p][m]=h?null:new a(c,-1,m,p,i,o):u[p][m]=new a(c,v,m,p,i,o)}0===f&&(f=g.length)}return l.width=c.width=f,l.height=c.height=d,l.widthInPixels=c.widthInPixels=f*i,l.heightInPixels=c.heightInPixels=d*o,c.data=u,l}},82593:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(2342);e.exports=function(e,t,i,s,a){var o=r(e,t.trim().split("\n").map(function(e){return e.split(",")}),i,s,a);return o.format=n.CSV,o}},6656:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(14977),r=i(23029);e.exports=function(e,t){for(var i=[],s=0;s<e.layer.length;s++){for(var a=e.layer[s],o=new n({name:a.name,width:a.width,height:a.height,tileWidth:a.tilesize,tileHeight:a.tilesize,visible:1===a.visible}),h=[],c=[],l=0;l<a.data.length;l++){for(var u=0;u<a.data[l].length;u++){var d,f=a.data[l][u]-1;d=f>-1?new r(o,f,u,l,a.tilesize,a.tilesize):t?null:new r(o,-1,u,l,a.tilesize,a.tilesize),h.push(d)}c.push(h),h=[]}o.data=c,i.push(o)}return i}},96483:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629);e.exports=function(e){for(var t=[],i=[],r=0;r<e.layer.length;r++){var s=e.layer[r],a=s.tilesetName;""!==a&&-1===i.indexOf(a)&&(i.push(a),t.push(new n(a,0,s.tilesize,s.tilesize,0,0)))}return t}},87021:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(80341),r=i(87010),s=i(6656),a=i(96483);e.exports=function(e,t,i){if(0===t.layer.length)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var o=0,h=0,c=0;c<t.layer.length;c++)t.layer[c].width>o&&(o=t.layer[c].width),t.layer[c].height>h&&(h=t.layer[c].height);var l=new r({width:o,height:h,name:e,tileWidth:t.layer[0].tilesize,tileHeight:t.layer[0].tilesize,format:n.WELTMEISTER});return l.layers=s(t,i),l.tilesets=a(t),l}},52833:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(79291);e.exports=function(e){for(var t,i,r,s,a,o=0;o<e.layers.length;o++){t=e.layers[o],s=null;for(var h=0;h<t.data.length;h++){a=t.data[h];for(var c=0;c<a.length;c++)null!==(i=a[c])&&!(i.index<0)&&(r=e.tiles[i.index][2],s=e.tilesets[r],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=n(i.properties,s.tileProperties[i.index-s.firstgid])))}}}},41868:e=>{e.exports=function(e){for(var t=window.atob(e),i=t.length,n=Array(i/4),r=0;r<i;r+=4)n[r/4]=(t.charCodeAt(r)|t.charCodeAt(r+1)<<8|t.charCodeAt(r+2)<<16|t.charCodeAt(r+3)<<24)>>>0;return n}},84101:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629);e.exports=function(e){var t,i,r=[];for(t=0;t<e.imageCollections.length;t++)for(var s=e.imageCollections[t],a=s.images,o=0;o<a.length;o++){var h=a[o];(i=new n(h.image,h.gid,s.imageWidth,s.imageHeight,0,0)).updateTileData(s.imageWidth,s.imageHeight),e.tilesets.push(i)}for(t=0;t<e.tilesets.length;t++)for(var c=(i=e.tilesets[t]).tileMargin,l=i.tileMargin,u=0,d=0,f=0,p=i.firstgid;p<i.firstgid+i.total&&(r[p]=[c,l,t],c+=i.tileWidth+i.tileSpacing,++u!==i.total&&(++d!==i.columns||(c=i.tileMargin,l+=i.tileHeight+i.tileSpacing,d=0,++f!==i.rows)));p++);return r}},79677:(e,t,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540);e.exports=function(e,t,i){if(!t)return{i:0,layers:e.layers,name:"",opacity:1,visible:!0,x:0,y:0};var r=t.x+n(t,"startx",0)*e.tilewidth+n(t,"offsetx",0),s=t.y+n(t,"starty",0)*e.tileheight+n(t,"offsety",0);return{i:0,layers:t.layers,name:i.name+t.name+"/",opacity:i.opacity*t.opacity,visible:i.visible&&t.visible,x:i.x+r,y:i.y+s}}},29920:e=>{e.exports=function(e){var t=!!(2147483648&e),i=!!(1073741824&e),n=!!(536870912&e);e&=536870911;var r=0,s=!1;return t&&i&&n?(r=Math.PI/2,s=!0):t&&i&&!n?(r=Math.PI,s=!1):t&&!i&&n?(r=Math.PI/2,s=!1):!t||i||n?!t&&i&&n?(r=3*Math.PI/2,s=!1):t||!i||n?t||i||!n?t||i||n||(r=0,s=!1):(r=3*Math.PI/2,s=!0):(r=Math.PI,s=!0):(r=0,s=!0),{gid:e,flippedHorizontal:t,flippedVertical:i,flippedAntiDiagonal:n,rotation:r,flipped:s}}},12635:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(79677);e.exports=function(e){for(var t=[],i=[],s=r(e);s.i<s.layers.length||i.length>0;){if(s.i>=s.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=i.pop();continue}var a=s.layers[s.i];if(s.i++,"imagelayer"!==a.type){if("group"===a.type){var o=r(e,a,s);i.push(s),s=o}continue}var h=n(a,"offsetx",0)+n(a,"startx",0),c=n(a,"offsety",0)+n(a,"starty",0);t.push({name:s.name+a.name,image:a.image,x:s.x+h+a.x,y:s.y+c+a.y,alpha:s.opacity*a.opacity,visible:s.visible&&a.visible,properties:n(a,"properties",{})})}return t}},46594:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(51233),r=i(84101),s=i(91907),a=i(62644),o=i(80341),h=i(6641),c=i(87010),l=i(12635),u=i(22611),d=i(28200),f=i(24619);e.exports=function(e,t,i){var p=a(t),g=new c({width:p.width,height:p.height,name:e,tileWidth:p.tilewidth,tileHeight:p.tileheight,orientation:h(p.orientation),format:o.TILED_JSON,version:p.version,properties:p.properties,renderOrder:p.renderorder,infinite:p.infinite});g.orientation===s.HEXAGONAL&&(g.hexSideLength=p.hexsidelength,g.staggerAxis=p.staggeraxis,g.staggerIndex=p.staggerindex),g.layers=d(p,i),g.images=l(p);var m=f(p);return g.tilesets=m.tilesets,g.imageCollections=m.imageCollections,g.objects=u(p),g.tiles=r(g),n(g),g}},52205:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(18254),r=i(29920),s=function(e){return{x:e.x,y:e.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"];e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var o=n(e,a);if(o.x+=t,o.y+=i,e.gid){var h=r(e.gid);o.gid=h.gid,o.flippedHorizontal=h.flippedHorizontal,o.flippedVertical=h.flippedVertical,o.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?o.polyline=e.polyline.map(s):e.polygon?o.polygon=e.polygon.map(s):e.ellipse?o.ellipse=e.ellipse:e.text?o.text=e.text:e.point?o.point=!0:o.rectangle=!0;return o}},22611:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95540),r=i(52205),s=i(48700),a=i(79677);e.exports=function(e){for(var t=[],i=[],o=a(e);o.i<o.layers.length||i.length>0;){if(o.i>=o.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=i.pop();continue}var h=o.layers[o.i];if(o.i++,h.opacity*=o.opacity,h.visible=o.visible&&h.visible,"objectgroup"!==h.type){if("group"===h.type){var c=a(e,h,o);i.push(o),o=c}continue}h.name=o.name+h.name;for(var l=o.x+n(h,"startx",0)+n(h,"offsetx",0),u=o.y+n(h,"starty",0)+n(h,"offsety",0),d=[],f=0;f<h.objects.length;f++){var p=r(h.objects[f],l,u);d.push(p)}var g=new s(h);g.objects=d,t.push(g)}return t}},28200:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41868),r=i(91907),s=i(79677),a=i(6641),o=i(95540),h=i(14977),c=i(29920),l=i(23029);e.exports=function(e,t){for(var i=o(e,"infinite",!1),u=[],d=[],f=s(e);f.i<f.layers.length||d.length>0;){if(f.i>=f.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=d.pop();continue}var p,g,m,v,y=f.layers[f.i];if(f.i++,"tilelayer"!==y.type){if("group"===y.type){var b=s(e,y,f);d.push(f),f=b}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}if(y.encoding&&"base64"===y.encoding){if(y.chunks)for(var x=0;x<y.chunks.length;x++)y.chunks[x].data=n(y.chunks[x].data);y.data&&(y.data=n(y.data)),delete y.encoding}var E=[],w=0;if(i){var T=o(y,"startx",0)+y.x,S=o(y,"starty",0)+y.y;(p=new h({name:f.name+y.name,id:y.id,x:f.x+o(y,"offsetx",0)+T*e.tilewidth,y:f.y+o(y,"offsety",0)+S*e.tileheight,width:y.width,height:y.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:f.opacity*y.opacity,visible:f.visible&&y.visible,properties:o(y,"properties",[]),orientation:a(e.orientation)})).orientation===r.HEXAGONAL&&(p.hexSideLength=e.hexsidelength,p.staggerAxis=e.staggeraxis,p.staggerIndex=e.staggerindex);for(var A=0;A<y.height;A++){E[A]=[null];for(var C=0;C<y.width;C++)E[A][C]=null}for(A=0,F=y.chunks.length;A<F;A++)for(var _=y.chunks[A],I=_.x-T,O=_.y-S,P=0,M=0,R=_.data.length;M<R;M++){var L=w+I,D=P+O;(g=c(_.data[M])).gid>0?((m=new l(p,g.gid,L,D,e.tilewidth,e.tileheight)).rotation=g.rotation,m.flipX=g.flipped,E[D][L]=m):(v=t?null:new l(p,-1,L,D,e.tilewidth,e.tileheight),E[D][L]=v),++w===_.width&&(P++,w=0)}}else{(p=new h({name:f.name+y.name,id:y.id,x:f.x+o(y,"offsetx",0)+y.x,y:f.y+o(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:f.opacity*y.opacity,visible:f.visible&&y.visible,properties:o(y,"properties",[]),orientation:a(e.orientation)})).orientation===r.HEXAGONAL&&(p.hexSideLength=e.hexsidelength,p.staggerAxis=e.staggeraxis,p.staggerIndex=e.staggerindex);for(var k=[],N=0,F=y.data.length;N<F;N++)(g=c(y.data[N])).gid>0?((m=new l(p,g.gid,w,E.length,e.tilewidth,e.tileheight)).rotation=g.rotation,m.flipX=g.flipped,k.push(m)):(v=t?null:new l(p,-1,w,E.length,e.tilewidth,e.tileheight),k.push(v)),++w===y.width&&(E.push(k),w=0,k=[])}p.data=E,u.push(p)}return u}},24619:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(33629),r=i(16536),s=i(52205),a=i(57880);e.exports=function(e){for(var t,i=[],o=[],h=null,c=0;c<e.tilesets.length;c++){var l=e.tilesets[c];if(l.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(l.image){var u=new n(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,void 0,void 0,l.tileoffset);if(e.version>1){var d=void 0,f=void 0;if(Array.isArray(l.tiles)){d=d||{},f=f||{};for(var p=0;p<l.tiles.length;p++){var g=l.tiles[p];if(g.properties){var m={};g.properties.forEach(function(e){m[e.name]=e.value}),f[g.id]=m}if(g.objectgroup&&((d[g.id]||(d[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var v=g.objectgroup.objects.map(function(e){return s(e)});d[g.id].objectgroup.objects=v}g.animation&&((d[g.id]||(d[g.id]={})).animation=g.animation),g.type&&((d[g.id]||(d[g.id]={})).type=g.type)}}Array.isArray(l.wangsets)&&(d=d||{},f=f||{},a(l.wangsets,d)),d&&(u.tileData=d,u.tileProperties=f)}else if(l.tileproperties&&(u.tileProperties=l.tileproperties),l.tiles)for(t in u.tileData=l.tiles,u.tileData){var y=u.tileData[t].objectgroup;if(y&&y.objects){var b=y.objects.map(function(e){return s(e)});u.tileData[t].objectgroup.objects=b}}u.updateTileData(l.imagewidth,l.imageheight),i.push(u)}else{var x=new r(l.name,l.firstgid,l.tilewidth,l.tileheight,l.margin,l.spacing,l.properties),E=0;for(p=0;p<l.tiles.length;p++){var w=(g=l.tiles[p]).image,T=parseInt(g.id,10),S=l.firstgid+T;x.addImage(S,w),E=Math.max(T,E)}x.maxId=E,o.push(x)}h&&(h.lastgid=l.firstgid-1),h=l}return{tilesets:i,imageCollections:o}}},57880:e=>{e.exports=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=i;if(n.name&&""!==n.name&&(r=n.name),Array.isArray(n.wangtiles)&&n.wangtiles.length>0){var s,a,o,h={},c={};if(Array.isArray(n.edgecolors))for(s=0;s<n.edgecolors.length;s++)o=1+s,""!==(a=n.edgecolors[s]).name&&(h[o]=a.name);if(Array.isArray(n.cornercolors))for(s=0;s<n.cornercolors.length;s++)o=1+s,""!==(a=n.cornercolors[s]).name&&(c[o]=a.name);if(Array.isArray(n.colors))for(s=0;s<n.colors.length;s++)a=n.colors[s],o=1+s,""!==a.name&&(h[o]=c[o]=a.name);for(var l=[h,c,h,c,h,c,h,c],u=0;u<n.wangtiles.length;u++){var d=n.wangtiles[u],f=t[d.tileid]||(t[d.tileid]={});f=f.wangid||(f.wangid={});for(var p=[],g=0;g<Math.min(l.length,d.wangid.length);g++){if(0===(a=d.wangid[g])){p.push(void 0);continue}var m=l[g][a];if(void 0!==m){p.push(m);continue}p.push(a)}f[r]=p}}}}},96761:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(37277),s=i(44594),a=i(94880),o=i(72905),h=new n({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var e=this.systems.events;e.on(s.PRE_UPDATE,this.preUpdate,this),e.on(s.UPDATE,this.update,this),e.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t;return e instanceof a?(t=e,this.removeEvent(t),t.elapsed=t.startAt,t.hasDispatched=!1,t.repeatCount=-1===t.repeat||t.loop?999999999999:t.repeat):t=new a(e),this._pendingInsertion.push(t),t},delayedCall:function(e,t,i,n){return this.addEvent({delay:e,callback:t,args:i,callbackScope:n})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];o(this._pendingRemoval,i),o(this._pendingInsertion,i),o(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e,t,i=this._pendingRemoval.length,n=this._pendingInsertion.length;if(0!==i||0!==n){for(e=0;e<i;e++){t=this._pendingRemoval[e];var r=this._active.indexOf(t);r>-1&&this._active.splice(r,1),t.destroy()}for(e=0;e<n;e++)t=this._pendingInsertion[e],this._active.push(t);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var i=0;i<this._active.length;i++){var n=this._active[i];if(!n.paused&&(n.elapsed+=t*n.timeScale,n.elapsed>=n.delay)){var r=n.elapsed-n.delay;if(n.elapsed=n.delay,!n.hasDispatched&&n.callback&&(n.hasDispatched=!0,n.callback.apply(n.callbackScope,n.args)),n.repeatCount>0){if(n.repeatCount--,r>=n.delay)for(;r>=n.delay&&n.repeatCount>0;)n.callback&&n.callback.apply(n.callbackScope,n.args),r-=n.delay,n.repeatCount--;n.elapsed=r,n.hasDispatched=!1}else n.hasDispatched&&this._pendingRemoval.push(n)}}}},shutdown:function(){for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e,t=this.systems.events;t.off(s.PRE_UPDATE,this.preUpdate,this),t.off(s.UPDATE,this.update,this),t.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});r.register("Clock",h,"time"),e.exports=h},96120:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(39429),a=i(95540),o=i(44594),h=i(89809),c=new n({Extends:r,initialize:function(e,t){r.call(this),this.scene=e,this.systems=e.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var i=this.systems.events;i.on(o.PRE_UPDATE,this.preUpdate,this),i.on(o.UPDATE,this.update,this),i.once(o.SHUTDOWN,this.destroy,this),t&&this.add(t)},preUpdate:function(e,t){this.paused||(this.elapsed+=t*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var e,t,i=this.events,n=!1,r=this.systems;for(e=0;e<i.length;e++){var s=i[e];if(!s.complete&&s.time<=this.elapsed){if(s.complete=!0,this.totalComplete++,t=s.target?s.target:this,s.if&&!s.if.call(t,s))continue;if(s.once&&(n=!0),s.set&&s.target)for(var a in s.set)s.target[a]=s.set[a];this.iteration&&s.repeat++,s.loop&&s.repeat&&s.loop.call(t),s.tween&&(s.tweenInstance=r.tweens.add(s.tween)),s.sound&&("string"==typeof s.sound?r.sound.play(s.sound):r.sound.play(s.sound.key,s.sound.config)),s.event&&this.emit(s.event,t),s.run&&s.run.call(t),s.stop&&this.stop()}}if(n)for(e=0;e<i.length;e++)i[e].complete&&i[e].once&&(i.splice(e,1),e--);this.totalComplete>=i.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(h.COMPLETE,this)}},play:function(e){return void 0===e&&(e=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,e&&this.reset(),this},pause:function(){this.paused=!0;for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&(i.tweenInstance.paused=!0)}return this},repeat:function(e){return(void 0===e||!0===e)&&(e=-1),!1===e&&(e=0),this.loop=e,this},resume:function(){this.paused=!1;for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&(i.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(e){void 0===e&&(e=!1),this.elapsed=0,e||(this.iteration=0);for(var t=this.events,i=0;i<t.length;i++){var n=t[i];n.complete=!1,e||(n.repeat=0),n.tweenInstance&&n.tweenInstance.stop()}return this.play(!1)},add:function(e){Array.isArray(e)||(e=[e]);var t=this.events,i=0;t.length>0&&(i=t[t.length-1].time);for(var n=0;n<e.length;n++){var r=e[n],s=a(r,"at",0),o=a(r,"in",null);null!==o&&(s=this.elapsed+o);var h=a(r,"from",null);null!==h&&(s=i+h),t.push({complete:!1,time:s,repeat:0,if:a(r,"if",null),run:a(r,"run",null),loop:a(r,"loop",null),event:a(r,"event",null),target:a(r,"target",null),set:a(r,"set",null),tween:a(r,"tween",null),sound:a(r,"sound",null),once:a(r,"once",!1),stop:a(r,"stop",!1)}),i=s}return this.complete=!1,this},clear:function(){for(var e=this.events,t=0;t<e.length;t++){var i=e[t];i.tweenInstance&&i.tweenInstance.stop()}return e=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var e=this.systems.events;e.off(o.PRE_UPDATE,this.preUpdate,this),e.off(o.UPDATE,this.update,this),e.off(o.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});s.register("timeline",function(e){return new c(this.scene,e)}),e.exports=c},94880:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(95540),s=new n({initialize:function(e){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(e)},reset:function(e){if(this.delay=r(e,"delay",0),this.repeat=r(e,"repeat",0),this.loop=r(e,"loop",!1),this.callback=r(e,"callback",void 0),this.callbackScope=r(e,"callbackScope",this),this.args=r(e,"args",[]),this.timeScale=r(e,"timeScale",1),this.startAt=r(e,"startAt",0),this.paused=r(e,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(!(this.repeat>0))return this.getProgress();var e=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/e},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return .001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return .001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return .001*this.getOverallRemaining()},remove:function(e){void 0===e&&(e=!1),this.elapsed=this.delay,this.hasDispatched=!e,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});e.exports=s},35945:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},89809:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={COMPLETE:i(35945)}},90291:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(83419),s=i(43491),a=i(88032),o=i(37277),h=i(44594),c=i(93109),l=i(86081),u=i(8357),d=i(43960),f=i(26012),p=new r({initialize:function(e){this.scene=e,this.events=e.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(h.UPDATE,this.update,this),this.events.once(h.SHUTDOWN,this.shutdown,this)},create:function(e){Array.isArray(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i];n instanceof l||n instanceof d?t.push(n):Array.isArray(n.tweens)?t.push(f(this,n)):t.push(u(this,n))}return 1===t.length?t[0]:t},add:function(e){var t=e,i=this.tweens;return t instanceof l||t instanceof d||(t=Array.isArray(t.tweens)?f(this,t):u(this,t)),i.push(t.reset()),t},addMultiple:function(e){for(var t,i=[],n=this.tweens,r=0;r<e.length;r++)(t=e[r])instanceof l||t instanceof d||(t=Array.isArray(t.tweens)?f(this,t):u(this,t)),n.push(t.reset()),i.push(t);return i},chain:function(e){var t=f(this,e);return this.tweens.push(t.init()),t},getChainedTweens:function(e){return e.getChainedTweens()},has:function(e){return this.tweens.indexOf(e)>-1},existing:function(e){return this.has(e)||this.tweens.push(e.reset()),this},addCounter:function(e){var t=a(this,e);return this.tweens.push(t.reset()),t},stagger:function(e,t){return c(e,t)},setLagSmooth:function(e,t){return void 0===e&&(e=1/1e-8),void 0===t&&(t=0),this.maxLag=e,this.lagSkip=Math.min(t,this.maxLag),this},setFps:function(e){return void 0===e&&(e=240),this.gap=1e3/e,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(e){var t=Date.now()-this.prevTime;t>this.maxLag&&(this.startTime+=t-this.lagSkip),this.prevTime+=t;var i=this.prevTime-this.startTime,n=i-this.nextTime,r=i-1e3*this.time;return n>0||e?(i/=1e3,this.time=i,this.nextTime+=n+(n>=this.gap?4:this.gap-n)):r=0,r},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(e){void 0===e&&(e=!1);var t,i,n=this.getDelta(e);if(!(n<=0)){this.processing=!0;var r=[],s=this.tweens;for(t=0;t<s.length;t++)(i=s[t]).update(n)&&r.push(i);var a=r.length;if(a&&s.length>0){for(t=0;t<a;t++){i=r[t];var o=s.indexOf(i);o>-1&&(i.isPendingRemove()||i.isDestroyed())&&(s.splice(o,1),i.destroy())}r.length=0}this.processing=!1}},remove:function(e){return this.processing?e.setPendingRemoveState():(n(this.tweens,e),e.setRemovedState()),this},reset:function(e){return this.existing(e),e.seek(),e.setActiveState(),this},makeActive:function(e){return this.existing(e),e.setActiveState(),this},each:function(e,t){var i,n=[null];for(i=1;i<arguments.length;i++)n.push(arguments[i]);return this.tweens.forEach(function(i){n[0]=i,e.apply(t,n)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(e){for(var t=[],i=this.tweens,n=(e=Array.isArray(e)?s(e):[e]).length,r=0;r<i.length;r++)for(var a=i[r],o=0;o<n;o++)!a.isDestroyed()&&a.hasTarget(e[o])&&t.push(a);return t},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(e){return this.timeScale=e,this},isTweening:function(e){for(var t,i=this.tweens,n=0;n<i.length;n++)if((t=i[n]).isPlaying()&&t.hasTarget(e))return!0;return!1},killAll:function(){for(var e=this.processing?this.getTweens():this.tweens,t=0;t<e.length;t++)e[t].destroy();return this.processing||(e.length=0),this},killTweensOf:function(e){for(var t=this.getTweensOf(e),i=0;i<t.length;i++)t[i].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(h.UPDATE,this.update,this),this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",p,"tweens"),e.exports=p},57355:e=>{e.exports=function(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}},6113:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(62640),r=i(35355);e.exports=function(e,t){var i=n.Power0;if("string"==typeof e){if(n.hasOwnProperty(e))i=n[e];else{var s="";if(e.indexOf(".")){var a=(s=e.substring(e.indexOf(".")+1)).toLowerCase();"in"===a?s="easeIn":"out"===a?s="easeOut":"inout"===a&&(s="easeInOut")}e=r(e.substring(0,e.indexOf(".")+1)+s),n.hasOwnProperty(e)&&(i=n[e])}}else"function"==typeof e&&(i=e);if(!t)return i;var o=t.slice(0);return o.unshift(0),function(e){return o[0]=e,i.apply(this,o)}}},91389:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(89318),r=i(77259),s={bezier:n,catmull:r,catmullrom:r,linear:i(28392)};e.exports=function(e){if(null===e)return null;var t=s.linear;return"string"==typeof e?s.hasOwnProperty(e)&&(t=s[e]):"function"==typeof e&&(t=e),t}},55292:e=>{e.exports=function(e,t,i){return e.hasOwnProperty(t)?"function"==typeof e[t]?function(i,n,r,s,a,o){return e[t](i,n,r,s,a,o)}:function(){return e[t]}:"function"==typeof i?i:function(){return i}}},82985:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(81076);e.exports=function(e){var t,i=[];if(e.hasOwnProperty("props"))for(t in e.props)"_"!==t.substring(0,1)&&i.push({key:t,value:e.props[t]});else for(t in e)-1===n.indexOf(t)&&"_"!==t.substring(0,1)&&i.push({key:t,value:e[t]});return i}},62329:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154);e.exports=function(e){var t=n(e,"targets",null);return null===t||("function"==typeof t&&(t=t.call()),Array.isArray(t)||(t=[t])),t}},17777:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(30976),r=i(99472);function s(e){return!!e.getActive&&"function"==typeof e.getActive}function a(e){return!!e.getStart&&"function"==typeof e.getStart}function o(e){return!!e.getEnd&&"function"==typeof e.getEnd}var h=function(e,t){var i,c=function(e,t,i){return i},l=function(e,t,i){return i},u=null,d=typeof t;if("number"===d)c=function(){return t};else if(Array.isArray(t))l=function(){return t[0]},c=function(){return t[t.length-1]};else if("string"===d){var f=t.toLowerCase(),p="random"===f.substring(0,6),g="int"===f.substring(0,3);if(p||g){var m=f.indexOf("("),v=f.indexOf(")"),y=f.indexOf(",");if(m&&v&&y){var b=parseFloat(f.substring(m+1,y)),x=parseFloat(f.substring(y+1,v));c=p?function(){return r(b,x)}:function(){return n(b,x)}}else throw Error("invalid random() format")}else{f=f[0];var E=parseFloat(t.substr(2));switch(f){case"+":c=function(e,t,i){return i+E};break;case"-":c=function(e,t,i){return i-E};break;case"*":c=function(e,t,i){return i*E};break;case"/":c=function(e,t,i){return i/E};break;default:c=function(){return parseFloat(t)}}}}else if("function"===d)c=t;else if("object"===d){if(a(t)||o(t)||s(t))s(t)&&(u=t.getActive),o(t)&&(c=t.getEnd),a(t)&&(l=t.getStart);else if(t.hasOwnProperty("value"))i=h(e,t.value);else{var w=t.hasOwnProperty("to"),T=t.hasOwnProperty("from"),S=t.hasOwnProperty("start");if(w&&(T||S)){if(i=h(e,t.to),S){var A=h(e,t.start);i.getActive=A.getEnd}if(T){var C=h(e,t.from);i.getStart=C.getEnd}}}}return i||(i={getActive:u,getEnd:c,getStart:l}),i};e.exports=h},88032:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(69902),s=i(23568),a=i(57355),o=i(6113),h=i(55292),c=i(35154),l=i(17777),u=i(269),d=i(86081);e.exports=function(e,t,i){if(t instanceof d)return t.parent=e,t;i=void 0===i?r:u(r,i);var f=c(t,"from",0),p=c(t,"to",1),g=c(t,"delay",i.delay),m=c(t,"easeParams",i.easeParams),v=c(t,"ease",i.ease),y=l("value",p),b=new d(e,[{value:f}]),x=b.add(0,"value",y.getEnd,y.getStart,y.getActive,o(c(t,"ease",v),c(t,"easeParams",m)),h(t,"delay",g),c(t,"duration",i.duration),a(t,"yoyo",i.yoyo),c(t,"hold",i.hold),c(t,"repeat",i.repeat),c(t,"repeatDelay",i.repeatDelay),!1,!1);x.start=f,x.current=f,b.completeDelay=s(t,"completeDelay",0),b.loop=Math.round(s(t,"loop",0)),b.loopDelay=Math.round(s(t,"loopDelay",0)),b.paused=a(t,"paused",!1),b.persist=a(t,"persist",!1),b.callbackScope=c(t,"callbackScope",b);for(var E=n.TYPES,w=0;w<E.length;w++){var T=E[w],S=c(t,T,!1);if(S){var A=c(t,T+"Params",[]);b.setCallback(T,S,A)}}return b}},93109:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(6113),r=i(35154),s=i(36383);e.exports=function(e,t){void 0===t&&(t={});var i=r(t,"start",0),a=r(t,"ease",null),o=r(t,"grid",null),h=r(t,"from",0),c="first"===h,l="center"===h,u="last"===h,d="number"==typeof h,f=Array.isArray(e),p=f?parseFloat(e[0]):parseFloat(e),g=f?parseFloat(e[1]):0,m=Math.max(p,g);if(f&&(i+=p),o){var v=o[0],y=o[1],b=0,x=0,E=0,w=0,T=[];u?(b=v-1,x=y-1):d?(b=h%v,x=Math.floor(h/v)):l&&(b=(v-1)/2,x=(y-1)/2);for(var S=s.MIN_SAFE_INTEGER,A=0;A<y;A++){T[A]=[];for(var C=0;C<v;C++){var _=Math.sqrt((E=b-C)*E+(w=x-A)*w);_>S&&(S=_),T[A][C]=_}}}var I=a?n(a):null;return o?function(e,t,n,r){var s,a=0,o=r%v,h=Math.floor(r/v);if(o>=0&&o<v&&h>=0&&h<y&&(a=T[h][o]),f){var c=g-p;s=I?a/S*c*I(a/S):a/S*c}else s=I?a*p*I(a/S):a*p;return s+i}:function(e,t,n,r,s){var a,o,v;return s--,c?a=r:l?a=Math.abs(s/2-r):u?a=s-r:d&&(a=Math.abs(h-r)),f?(v=l?(g-p)/s*(2*a):(g-p)/s*a,o=I?v*I(a/s):v):o=I?s*m*I(a/s):a*p,o+i}}},8357:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(69902),s=i(23568),a=i(57355),o=i(6113),h=i(91389),c=i(55292),l=i(82985),u=i(62329),d=i(35154),f=i(17777),p=i(269),g=i(86081);e.exports=function(e,t,i){if(t instanceof g)return t.parent=e,t;i=void 0===i?r:p(r,i);var m=u(t);!m&&i.targets&&(m=i.targets);for(var v=l(t),y=d(t,"delay",i.delay),b=d(t,"duration",i.duration),x=d(t,"easeParams",i.easeParams),E=d(t,"ease",i.ease),w=d(t,"hold",i.hold),T=d(t,"repeat",i.repeat),S=d(t,"repeatDelay",i.repeatDelay),A=a(t,"yoyo",i.yoyo),C=a(t,"flipX",i.flipX),_=a(t,"flipY",i.flipY),I=d(t,"interpolation",i.interpolation),O=function(e,t,i,n){if("texture"===i){var r=n,s=void 0;Array.isArray(n)?(r=n[0],s=n[1]):n.hasOwnProperty("value")?(r=n.value,Array.isArray(n.value)?(r=n.value[0],s=n.value[1]):"string"==typeof n.value&&(r=n.value)):"string"==typeof n&&(r=n),e.addFrame(t,r,s,c(n,"delay",y),d(n,"duration",b),d(n,"hold",w),d(n,"repeat",T),d(n,"repeatDelay",S),a(n,"flipX",C),a(n,"flipY",_))}else{var l=f(i,n),u=h(d(n,"interpolation",I));e.add(t,i,l.getEnd,l.getStart,l.getActive,o(d(n,"ease",E),d(n,"easeParams",x)),c(n,"delay",y),d(n,"duration",b),a(n,"yoyo",A),d(n,"hold",w),d(n,"repeat",T),d(n,"repeatDelay",S),a(n,"flipX",C),a(n,"flipY",_),u,u?n:null)}},P=new g(e,m),M=0;M<v.length;M++)for(var R=v[M].key,L=v[M].value,D=0;D<m.length;D++)"scale"!==R||m[D].hasOwnProperty("scale")?O(P,D,R,L):(O(P,D,"scaleX",L),O(P,D,"scaleY",L));P.completeDelay=s(t,"completeDelay",0),P.loop=Math.round(s(t,"loop",0)),P.loopDelay=Math.round(s(t,"loopDelay",0)),P.paused=a(t,"paused",!1),P.persist=a(t,"persist",!1),P.callbackScope=d(t,"callbackScope",P);for(var k=n.TYPES,N=0;N<k.length;N++){var F=k[N],B=d(t,F,!1);if(B){var U=d(t,F+"Params",[]);P.setCallback(F,B,U)}}return P}},26012:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(23568),s=i(57355),a=i(62329),o=i(35154),h=i(8357),c=i(43960);e.exports=function(e,t){if(t instanceof c)return t.parent=e,t;var i,l=new c(e);l.startDelay=o(t,"delay",0),l.completeDelay=r(t,"completeDelay",0),l.loop=Math.round(r(t,"loop",o(t,"repeat",0))),l.loopDelay=Math.round(r(t,"loopDelay",o(t,"repeatDelay",0))),l.paused=s(t,"paused",!1),l.persist=s(t,"persist",!1),l.callbackScope=o(t,"callbackScope",l);var u=n.TYPES;for(i=0;i<u.length;i++){var d=u[i],f=o(t,d,!1);if(f){var p=o(t,d+"Params",[]);l.setCallback(d,f,p)}}var g=o(t,"tweens",null);if(Array.isArray(g)){var m=[],v=a(t),y=void 0;for(v&&(y={targets:v}),i=0;i<g.length;i++)m.push(h(l,g[i],y));l.add(m)}return l}},30231:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="active"},98540:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="complete"},67233:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="loop"},2859:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="pause"},98336:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="repeat"},25764:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="resume"},32193:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="start"},84371:e=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="stop"},70766:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="update"},55659:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports="yoyo"},842:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};e.exports=n},70402:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(50792),s=i(842),a=i(86353),o=new n({Extends:r,initialize:function(e){r.call(this),this.parent=e,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(s.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(s.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(s.TWEEN_COMPLETE,"onComplete")},complete:function(e){return void 0===e&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return void 0===e&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return!this.parent||this.isRemoved()||this.isPendingRemove()||this.isDestroyed()||(this.dispatchEvent(s.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(s.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,t,i){return void 0===i&&(i=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:t,params:i}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],e.exports=o},95042:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(83419),r=i(842),s=i(86353),a=new n({initialize:function(e,t,i,n,r,s,a,o,h,c){this.tween=e,this.targetIndex=t,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=i,this.yoyo=r,this.hold=s,this.repeat=a,this.repeatDelay=o,this.repeatCounter=0,this.flipX=h,this.flipY=c,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(e){void 0===e&&(e=this.current),this.tween.targets[this.targetIndex][this.key]=e},setCreatedState:function(){this.state=s.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=s.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=s.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=s.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=s.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=s.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=s.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=s.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===s.CREATED},isDelayed:function(){return this.state===s.DELAY},isPendingRender:function(){return this.state===s.PENDING_RENDER},isPlayingForward:function(){return this.state===s.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===s.PLAYING_BACKWARD},isHolding:function(){return this.state===s.HOLD_DELAY},isRepeating:function(){return this.state===s.REPEAT_DELAY},isComplete:function(){return this.state===s.COMPLETE},setStateFromEnd:function(e){this.yoyo?this.onRepeat(e,!0,!0):this.repeatCounter>0?this.onRepeat(e,!0,!1):this.setCompleteState()},setStateFromStart:function(e){this.repeatCounter>0?this.onRepeat(e,!1):this.setCompleteState()},reset:function(){var e=this.tween,t=e.totalTargets,i=this.targetIndex,n=e.targets[i],r=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(n,r,0,i,t,e),this.repeatCounter=-1===this.repeat?s.MAX:this.repeat,this.setPendingRenderState();var a=this.duration+this.hold;this.yoyo&&(a+=this.duration);var o=a+this.repeatDelay;this.totalDuration=this.delay+a,-1===this.repeat?(this.totalDuration+=o*s.MAX,e.isInfinite=!0):this.repeat>0&&(this.totalDuration+=o*this.repeat),this.totalDuration>e.duration&&(e.duration=this.totalDuration),this.delay<e.startDelay&&(e.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(e,t,i){var n=this.tween,s=n.totalTargets,a=this.targetIndex,o=n.targets[a],h=this.key,c="texture"!==h;if(this.elapsed=e,this.progress=e/this.duration,this.flipX&&o.toggleFlipX(),this.flipY&&o.toggleFlipY(),c&&(t||i)&&(this.start=this.getStartValue(o,h,this.start,a,s,n)),i){this.setPlayingBackwardState(),this.dispatchEvent(r.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,c&&(this.end=this.getEndValue(o,h,this.start,a,s,n)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-e,c&&(this.current=this.start,o[h]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});e.exports=a},69902:e=>{e.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(70402),r=i(83419),s=i(842),a=i(44603),o=i(39429),h=i(36383),c=i(86353),l=i(48177),u=i(42220),d=new r({Extends:n,initialize:function(e,t){n.call(this,e),this.targets=t,this.totalTargets=t.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(e,t,i,n,r,s,a,o,h,c,u,d,f,p,g,m){var v=new l(this,e,t,i,n,r,s,a,o,h,c,u,d,f,p,g,m);return this.totalData=this.data.push(v),v},addFrame:function(e,t,i,n,r,s,a,o,h,c){var l=new u(this,e,t,i,n,r,s,a,o,h,c);return this.totalData=this.data.push(l),l},getValue:function(e){void 0===e&&(e=0);var t=null;return this.data&&(t=this.data[e].current),t},hasTarget:function(e){return this.targets&&-1!==this.targets.indexOf(e)},updateTo:function(e,t,i){if(void 0===i&&(i=!1),"texture"!==e)for(var n=0;n<this.totalData;n++){var r=this.data[n];r.key===e&&(r.isPlayingForward()||r.isPlayingBackward())&&(r.end=t,i&&(r.start=r.current))}return this},restart:function(){switch(this.state){case c.REMOVED:case c.FINISHED:this.seek(),this.parent.makeActive(this);break;case c.PENDING:case c.PENDING_REMOVE:this.parent.reset(this);break;case c.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,n.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?console.warn("Cannot play destroyed Tween",this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState()),this},seek:function(e,t,i){if(void 0===e&&(e=0),void 0===t&&(t=16.6),void 0===i&&(i=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;i||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive");var n=this.paused;if(this.paused=!1,e>0){for(var r=Math.floor(e/t),a=e-r*t,o=0;o<r;o++)this.update(t);a>0&&this.update(a)}return this.paused=n,this.isSeeking=!1,this},initTweenData:function(e){void 0===e&&(e=!1),this.duration=0,this.startDelay=h.MAX_SAFE_INTEGER;for(var t=this.data,i=0;i<this.totalData;i++)t[i].reset(e);this.duration=Math.max(this.duration,.01);var n=this.duration,r=this.completeDelay,s=this.loopCounter,a=this.loopDelay;s>0?this.totalDuration=n+r+(n+a)*s:this.totalDuration=n+r},reset:function(e){return void 0===e&&(e=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=c.MAX),e||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive")),this},update:function(e){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(e*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(e),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(e),!1;!this.hasStarted&&(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(s.TWEEN_START,"onStart"),e=0));var t=!1;if(this.isActive())for(var i=this.data,n=0;n<this.totalData;n++)i[n].update(e)&&(t=!0);this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),t||this.nextState();var r=this.isPendingRemove();return r&&this.persist&&(this.setFinishedState(),r=!1),r},forward:function(e){return this.update(e),this},rewind:function(e){return this.update(-e),this},dispatchEvent:function(e,t){if(!this.isSeeking){this.emit(e,this,this.targets);var i=this.callbacks[t];i&&i.func.apply(this.callbackScope,[this,this.targets].concat(i.params))}},destroy:function(){n.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(e){return this.scene.sys.tweens.add(e)}),a.register("tween",function(e){return this.scene.sys.tweens.create(e)}),e.exports=d},43960:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(72905),r=i(70402),s=i(83419),a=i(842),o=i(44603),h=i(39429),c=i(86353),l=new s({Extends:r,initialize:function(e){r.call(this,e),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?c.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(e){var t=this.parent.create(e);Array.isArray(t)||(t=[t]);for(var i=this.data,n=0;n<t.length;n++){var r=t[n];r.parent=this,i.push(r.reset())}return this.totalData=i.length,this},remove:function(e){return n(this.data,e),e.setRemovedState(),e===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(e){for(var t=this.data,i=0;i<this.totalData;i++)if(t[i].hasTarget(e))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(e){return e.seek(),e.setActiveState(),this},makeActive:function(e){return e.reset(),e.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?console.warn("Cannot play destroyed TweenChain",this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState()),this},resetTweens:function(){for(var e=this.data,t=this.totalData,i=0;i<t;i++)e[i].reset(!1);this.setCurrentTween(0)},update:function(e){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;e*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(e):this.isCompleteDelayed()?this.updateCompleteDelay(e):this.isStartDelayed()&&(e=this.updateStartCountdown(e));var t=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(e)&&this.nextTween()&&this.nextState(),(t=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),t=!1)),t},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(e){this.currentIndex=e,this.currentTween=this.data[e],this.currentTween.setActiveState()},dispatchEvent:function(e,t){this.emit(e,this);var i=this.callbacks[t];i&&i.func.apply(this.callbackScope,[this].concat(i.params))},destroy:function(){r.prototype.destroy.call(this),this.currentTween=null}});h.register("tweenchain",function(e){return this.scene.sys.tweens.chain(e)}),o.register("tweenchain",function(e){return this.scene.sys.tweens.create(e)}),e.exports=l},48177:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95042),r=i(45319),s=i(83419),a=i(842),o=new s({Extends:n,initialize:function(e,t,i,r,s,a,o,h,c,l,u,d,f,p,g,m,v){n.call(this,e,t,h,c,l,u,d,f,p,g),this.key=i,this.getActiveValue=a,this.getEndValue=r,this.getStartValue=s,this.ease=o,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=m,this.interpolationData=v},reset:function(e){n.prototype.reset.call(this);var t=this.tween.targets[this.targetIndex],i=this.key;e&&(t[i]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(t[i]=this.getActiveValue(t,i,0))},update:function(e){var t=this.tween,i=t.totalTargets,n=this.targetIndex,s=t.targets[n],o=this.key;if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(s,o,s[o],n,i,t),this.end=this.getEndValue(s,o,this.start,n,i,t),this.current=this.start,s[o]=this.start,this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),c=this.isPlayingBackward();if(h||c){var l=this.elapsed,u=this.duration,d=0,f=!1;(l+=e)>=u?(d=l-u,l=u,f=!0):l<0&&(l=0);var p=r(l/u,0,1);this.elapsed=l,this.progress=p,this.previous=this.current,h||(p=1-p);var g=this.ease(p);this.interpolation?this.current=this.interpolation(this.interpolationData,g):this.current=this.start+(this.end-this.start)*g,s[o]=this.current,f&&(h?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(d):this.setStateFromStart(d)),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,t){var i=this.tween;if(!i.isSeeking){var n=i.targets[this.targetIndex],r=this.key,s=this.current,a=this.previous;i.emit(e,i,r,n,s,a);var o=i.callbacks[t];o&&o.func.apply(i.callbackScope,[i,n,r,s,a].concat(o.params))}},destroy:function(){n.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});e.exports=o},42220:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(95042),r=i(45319),s=i(83419),a=i(842),o=new s({Extends:n,initialize:function(e,t,i,r,s,a,o,h,c,l,u){n.call(this,e,t,s,a,!1,o,h,c,l,u),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=r,this.yoyo=0!==h},reset:function(e){n.prototype.reset.call(this);var t=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=t.texture.key,this.startFrame=t.frame.name),e&&t.setTexture(this.startTexture,this.startFrame)},update:function(e){var t=this.tween,i=this.targetIndex,n=t.targets[i];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var s=this.isPlayingForward(),o=this.isPlayingBackward();if(s||o){var h=this.elapsed,c=this.duration,l=0,u=!1;(h+=e)>=c?(l=h-c,h=c,u=!0):h<0&&(h=0);var d=r(h/c,0,1);this.elapsed=h,this.progress=d,u&&(s?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(l)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(l))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,t){var i=this.tween;if(!i.isSeeking){var n=i.targets[this.targetIndex],r=this.key;i.emit(e,i,r,n);var s=i.callbacks[t];s&&s.func.apply(i.callbackScope,[i,n,r].concat(s.params))}},destroy:function(){n.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});e.exports=o},86353:e=>{e.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:e=>{function t(e,t,i,r){for(var s in t)if(t.hasOwnProperty(s)){var a=function(e,t,i){var n,r=i?e[t]:Object.getOwnPropertyDescriptor(e,t);return!i&&r.value&&"object"==typeof r.value&&(r=r.value),!!r&&(!!(n=r).get&&"function"==typeof n.get||!!n.set&&"function"==typeof n.set)&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}(t,s,i);if(!1!==a){if(function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}((r||e).prototype,s)){if(n.ignoreFinals)continue;throw Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,s,a)}else e.prototype[s]=t[s]}}function i(e,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)t(e,i[n].prototype||i[n])}}function n(e){if(e||(e={}),e.initialize){if("function"!=typeof e.initialize)throw Error("initialize must be a function");n=e.initialize,delete e.initialize}else if(e.Extends){var n,r,s=e.Extends;n=function(){s.apply(this,arguments)}}else n=function(){};e.Extends?(n.prototype=Object.create(e.Extends.prototype),n.prototype.constructor=n,r=e.Extends,delete e.Extends):n.prototype.constructor=n;var a=null;return e.Mixins&&(a=e.Mixins,delete e.Mixins),i(n,a),t(n,e,!0,r),n}n.extend=t,n.mixin=i,n.ignoreFinals=!1,e.exports=n},29747:e=>{e.exports=function(){}},20242:e=>{e.exports=function(){return null}},71146:e=>{e.exports=function(e,t,i,n,r){if(void 0===r&&(r=e),i>0){var s=i-e.length;if(s<=0)return null}if(!Array.isArray(t))return -1===e.indexOf(t)?(e.push(t),n&&n.call(r,t),t):null;for(var a=t.length-1;a>=0;)-1!==e.indexOf(t[a])&&t.splice(a,1),a--;if(0===(a=t.length))return null;i>0&&a>s&&(t.splice(s),a=s);for(var o=0;o<a;o++){var h=t[o];e.push(h),n&&n.call(r,h)}return t}},51067:e=>{e.exports=function(e,t,i,n,r,s){if(void 0===i&&(i=0),void 0===s&&(s=e),n>0){var a=n-e.length;if(a<=0)return null}if(!Array.isArray(t))return -1===e.indexOf(t)?(e.splice(i,0,t),r&&r.call(s,t),t):null;for(var o=t.length-1;o>=0;)-1!==e.indexOf(t[o])&&t.pop(),o--;if(0===(o=t.length))return null;n>0&&o>a&&(t.splice(a),o=a);for(var h=o-1;h>=0;h--){var c=t[h];e.splice(i,0,c),r&&r.call(s,c)}return t}},66905:e=>{e.exports=function(e,t){var i=e.indexOf(t);return -1!==i&&i<e.length&&(e.splice(i,1),e.push(t)),t}},21612:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=e.length);var a=0;if(n(e,r,s))for(var o=r;o<s;o++)e[o][t]===i&&a++;return a}},95428:e=>{e.exports=function(e,t,i){var n,r=[null];for(n=3;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<e.length;n++)r[0]=e[n],t.apply(i,r);return e}},36914:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s)){var a,o=[null];for(a=5;a<arguments.length;a++)o.push(arguments[a]);for(a=r;a<s;a++)o[0]=e[a],t.apply(i,o)}return e}},81957:e=>{e.exports=function(e,t,i){if(!t.length)return NaN;if(1===t.length)return t[0];var n,r,s=1;if(i){if(e<t[0][i])return t[0];for(;t[s][i]<e;)s++}else for(;t[s]<e;)s++;return(s>t.length&&(s=t.length),i)?(n=t[s-1][i],(r=t[s][i])-e<=e-n?t[s]:t[s-1]):(n=t[s-1],(r=t[s])-e<=e-n?r:n)}},43491:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,i){void 0===i&&(i=[]);for(var n=0;n<e.length;n++)Array.isArray(e[n])?t(e[n],i):i.push(e[n]);return i};e.exports=t},46710:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){void 0===r&&(r=0),void 0===s&&(s=e.length);var a=[];if(n(e,r,s))for(var o=r;o<s;o++){var h=e[o];(!t||t&&void 0===i&&h.hasOwnProperty(t)||t&&void 0!==i&&h[t]===i)&&a.push(h)}return a}},58731:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s))for(var a=r;a<s;a++){var o=e[a];if(!t||t&&void 0===i&&o.hasOwnProperty(t)||t&&void 0!==i&&o[t]===i)return o}return null}},26546:e=>{e.exports=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);var n=t+Math.floor(Math.random()*i);return void 0===e[n]?null:e[n]}},85835:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return n>r||(e.splice(n,1),r=e.indexOf(i),e.splice(r+1,0,t)),e}},83371:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return n<r||(e.splice(n,1),0===r?e.unshift(t):e.splice(r,0,t)),e}},70864:e=>{e.exports=function(e,t){var i=e.indexOf(t);if(i>0){var n=e[i-1],r=e.indexOf(n);e[i]=n,e[r]=t}return e}},69693:e=>{e.exports=function(e,t,i){var n=e.indexOf(t);if(-1===n||i<0||i>=e.length)throw Error("Supplied index out of bounds");return n!==i&&(e.splice(n,1),e.splice(i,0,t)),t}},40853:e=>{e.exports=function(e,t){var i=e.indexOf(t);if(-1!==i&&i<e.length-1){var n=e[i+1],r=e.indexOf(n);e[i]=n,e[r]=t}return e}},20283:e=>{e.exports=function(e,t,i,n){var r,s=[],a=!1;if((i||n)&&(a=!0,i||(i=""),n||(n="")),t<e)for(r=e;r>=t;r--)a?s.push(i+r.toString()+n):s.push(r);else for(r=e;r<=t;r++)a?s.push(i+r.toString()+n):s.push(r);return s}},593:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(2284);e.exports=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=null),void 0===i&&(i=1),null===t&&(t=e,e=0);for(var r=[],s=Math.max(n((t-e)/(i||1)),0),a=0;a<s;a++)r.push(e),e+=i;return r}},43886:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function i(e,t){return e<t?-1:e>t?1:0}var n=function(e,r,s,a,o){for(void 0===s&&(s=0),void 0===a&&(a=e.length-1),void 0===o&&(o=i);a>s;){if(a-s>600){var h=a-s+1,c=r-s+1,l=Math.log(h),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(h-u)/h)*(c-h/2<0?-1:1),f=Math.max(s,Math.floor(r-c*u/h+d)),p=Math.min(a,Math.floor(r+(h-c)*u/h+d));n(e,r,f,p,o)}var g=e[r],m=s,v=a;for(t(e,s,r),o(e[a],g)>0&&t(e,s,a);m<v;){for(t(e,m,v),m++,v--;0>o(e[m],g);)m++;for(;o(e[v],g)>0;)v--}0===o(e[s],g)?t(e,s,v):t(e,++v,a),v<=r&&(s=v+1),r<=v&&(a=v-1)}};e.exports=n},88492:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r=i(33680),s=function(e,t,i){for(var n=[],r=0;r<e.length;r++)for(var s=0;s<t.length;s++)for(var a=0;a<i;a++)n.push({a:e[r],b:t[s]});return n};e.exports=function(e,t,i){var a=n(i,"max",0),o=n(i,"qty",1),h=n(i,"random",!1),c=n(i,"randomB",!1),l=n(i,"repeat",0),u=n(i,"yoyo",!1),d=[];if(c&&r(t),-1===l){if(0===a)l=0;else{var f=e.length*t.length*o;u&&(f*=2),l=Math.ceil(a/f)}}for(var p=0;p<=l;p++){var g=s(e,t,o);h&&r(g),d=d.concat(g),u&&(g.reverse(),d=d.concat(g))}return a&&d.splice(a),d}},72905:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i,r){if(void 0===r&&(r=e),!Array.isArray(t))return -1!==(s=e.indexOf(t))?(n(e,s),i&&i.call(r,t),t):null;for(var s,a=t.length-1,o=[];a>=0;){var h=t[a];-1!==(s=e.indexOf(h))&&(n(e,s),o.push(h),i&&i.call(r,h)),a--}return o}},60248:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i,r){if(void 0===r&&(r=e),t<0||t>e.length-1)throw Error("Index out of bounds");var s=n(e,t);return i&&i.call(r,s),s}},81409:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===t&&(t=0),void 0===i&&(i=e.length),void 0===s&&(s=e),!n(e,t,i))return[];var a=i-t,o=e.splice(t,a);if(r)for(var h=0;h<o.length;h++){var c=o[h];r.call(s,c)}return o}},31856:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(19133);e.exports=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=e.length),n(e,t+Math.floor(Math.random()*i))}},42169:e=>{e.exports=function(e,t,i){var n=e.indexOf(t),r=e.indexOf(i);return -1!==n&&-1===r&&(e[n]=i,!0)}},86003:e=>{e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,n=0;n<t;n++)i=e.shift(),e.push(i);return i}},49498:e=>{e.exports=function(e,t){void 0===t&&(t=1);for(var i=null,n=0;n<t;n++)i=e.pop(),e.unshift(i);return i}},82011:e=>{e.exports=function(e,t,i,n){var r=e.length;if(!(t<0)&&!(t>r)&&!(t>=i)&&!(i>r))return!0;if(n)throw Error("Range Error: Values outside acceptable range");return!1}},89545:e=>{e.exports=function(e,t){var i=e.indexOf(t);return -1!==i&&i>0&&(e.splice(i,1),e.unshift(t)),t}},17810:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82011);e.exports=function(e,t,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=e.length),n(e,r,s))for(var a=r;a<s;a++){var o=e[a];o.hasOwnProperty(t)&&(o[t]=i)}return e}},33680:e=>{e.exports=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e}},90126:e=>{e.exports=function(e){var t=/\D/g;return e.sort(function(e,i){return parseInt(e.replace(t,""),10)-parseInt(i.replace(t,""),10)}),e}},19133:e=>{e.exports=function(e,t){if(!(t>=e.length)){for(var i=e.length-1,n=e[t],r=t;r<i;r++)e[r]=e[r+1];return e.length=i,n}}},19186:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(82264);function r(e,t){return String(e).localeCompare(t)}function s(e,t,i,n){var r,s,a,o,h,c=e.length,l=0,u=2*i;for(r=0;r<c;r+=u)for(a=(s=r+i)+i,s>c&&(s=c),a>c&&(a=c),o=r,h=s;;)if(o<s&&h<a)0>=t(e[o],e[h])?n[l++]=e[o++]:n[l++]=e[h++];else if(o<s)n[l++]=e[o++];else if(h<a)n[l++]=e[h++];else break}e.exports=function(e,t){if(void 0===t&&(t=r),!e||e.length<2)return e;if(n.features.stableSort)return e.sort(t);var i=function(e,t){var i=e.length;if(i<=1)return e;for(var n=Array(i),r=1;r<i;r*=2){s(e,t,r,n);var a=e;e=n,n=a}return e}(e,t);return i!==e&&s(i,null,e.length,e),e}},25630:e=>{e.exports=function(e,t,i){if(t===i)return e;var n=e.indexOf(t),r=e.indexOf(i);if(n<0||r<0)throw Error("Supplied items must be elements of the same array");return e[n]=i,e[r]=t,e}},37105:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:e=>{e.exports=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var t=e[0].length,i=1;i<e.length;i++)if(e[i].length!==t)return!1;return!0}},63362:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41836),r=i(86922);e.exports=function(e){var t="";if(!r(e))return t;for(var i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++){var a=e[i][s].toString();"undefined"!==a?t+=n(a,2):t+="?",s<e[i].length-1&&(t+=" |")}if(i<e.length-1){t+="\n";for(var o=0;o<e[i].length;o++)t+="---",o<e[i].length-1&&(t+="+");t+="\n"}}return t}},92598:e=>{e.exports=function(e){return e.reverse()}},21224:e=>{e.exports=function(e){for(var t=0;t<e.length;t++)e[t].reverse();return e}},98717:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e){return n(e,180)}},44657:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e,t){void 0===t&&(t=1);for(var i=0;i<t;i++)e=n(e,90);return e}},37829:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(86922),r=i(2429);e.exports=function(e,t){if(void 0===t&&(t=90),!n(e))return null;if("string"!=typeof t&&(t=(t%360+360)%360),90===t||-270===t||"rotateLeft"===t)(e=r(e)).reverse();else if(-90===t||270===t||"rotateRight"===t)e.reverse(),e=r(e);else if(180===Math.abs(t)||"rotate180"===t){for(var i=0;i<e.length;i++)e[i].reverse();e.reverse()}return e}},92632:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(37829);e.exports=function(e,t){void 0===t&&(t=1);for(var i=0;i<t;i++)e=n(e,-90);return e}},69512:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(86003),r=i(49498);e.exports=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=0),0!==i&&(i<0?n(e,Math.abs(i)):r(e,i)),0!==t)for(var s=0;s<e.length;s++){var a=e[s];t<0?n(a,Math.abs(t)):r(a,t)}return e}},2429:e=>{e.exports=function(e){for(var t=e.length,i=e[0].length,n=Array(i),r=0;r<i;r++){n[r]=Array(t);for(var s=t-1;s>-1;s--)n[r][s]=e[s][r]}return n}},54915:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:e=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports=function(e,i){for(var n=new Uint8Array(e),r=n.length,s=i?"data:"+i+";base64,":"",a=0;a<r;a+=3)s+=t[n[a]>>2]+t[(3&n[a])<<4|n[a+1]>>4]+t[(15&n[a+1])<<2|n[a+2]>>6]+t[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s}},53134:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),n=0;n<t.length;n++)i[t.charCodeAt(n)]=n;e.exports=function(e){var t,n,r,s,a=(e=e.substr(e.indexOf(",")+1)).length,o=.75*a,h=0;"="===e[a-1]&&(o--,"="===e[a-2]&&o--);for(var c=new ArrayBuffer(o),l=new Uint8Array(c),u=0;u<a;u+=4)t=i[e.charCodeAt(u)],n=i[e.charCodeAt(u+1)],r=i[e.charCodeAt(u+2)],s=i[e.charCodeAt(u+3)],l[h++]=t<<2|n>>4,l[h++]=(15&n)<<4|r>>2,l[h++]=(3&r)<<6|63&s;return c}},65839:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:e=>{e.exports=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t}},62644:e=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var i,n,r;if("object"!=typeof e||null===e)return e;for(r in i=Array.isArray(e)?[]:{},e)n=e[r],i[r]=t(n);return i};e.exports=t},79291:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41212),r=function(){var e,t,i,s,a,o,h=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof h&&(u=h,h=arguments[1]||{},c=2),l===c&&(h=this,--c);c<l;c++)if(null!=(e=arguments[c]))for(t in e)i=h[t],h!==(s=e[t])&&(u&&s&&(n(s)||(a=Array.isArray(s)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n(i)?i:{},h[t]=r(u,o,s)):void 0!==s&&(h[t]=s));return h};e.exports=r},23568:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(75508),r=i(35154);e.exports=function(e,t,i){var s=r(e,t,null);if(null===s)return i;if(Array.isArray(s))return n.RND.pick(s);if("object"==typeof s){if(s.hasOwnProperty("randInt"))return n.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return n.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"==typeof s)return s(t);return s}},95540:e=>{e.exports=function(e,t,i){var n=typeof e;return e&&"number"!==n&&"string"!==n&&e.hasOwnProperty(t)&&void 0!==e[t]?e[t]:i}},82840:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(35154),r=i(45319);e.exports=function(e,t,i,s,a){return void 0===a&&(a=i),r(n(e,t,a),i,s)}},35154:e=>{e.exports=function(e,t,i,n){if(!e&&!n||"number"==typeof e)return i;if(e&&e.hasOwnProperty(t))return e[t];if(n&&n.hasOwnProperty(t))return n[t];if(-1===t.indexOf("."))return i;for(var r=t.split("."),s=e,a=n,o=i,h=i,c=!0,l=!0,u=0;u<r.length;u++)s&&s.hasOwnProperty(r[u])?(o=s[r[u]],s=s[r[u]]):c=!1,a&&a.hasOwnProperty(r[u])?(h=a[r[u]],a=a[r[u]]):l=!1;return c?o:l?h:i}},69036:e=>{e.exports=function(e,t){for(var i=0;i<t.length;i++)if(!e.hasOwnProperty(t[i]))return!1;return!0}},1985:e=>{e.exports=function(e,t){for(var i=0;i<t.length;i++)if(e.hasOwnProperty(t[i]))return!0;return!1}},97022:e=>{e.exports=function(e,t){return e.hasOwnProperty(t)}},41212:e=>{e.exports=function(e){if(!e||"object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!({}).hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},46975:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t){var i=n(e);for(var r in t)i.hasOwnProperty(r)||(i[r]=t[r]);return i}},269:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(41786);e.exports=function(e,t){var i=n(e);for(var r in t)i.hasOwnProperty(r)&&(i[r]=t[r]);return i}},18254:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var n=i(97022);e.exports=function(e,t){for(var i={},r=0;r<t.length;r++){var s=t[r];n(e,s)&&(i[s]=e[s])}return i}},61622:e=>{e.exports=function(e,t,i){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t]=i,!0;if(-1!==t.indexOf(".")){for(var n=t.split("."),r=e,s=e,a=0;a<n.length;a++){if(!r.hasOwnProperty(n[a]))return!1;s=r,r=r[n[a]]}return s[n[n.length-1]]=i,!0}}return!1}},1183:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:e=>{e.exports=function(e,t){return e.replace(/%([0-9]+)/g,function(e,i){return t[Number(i)-1]})}},41836:e=>{e.exports=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=" "),void 0===n&&(n=3);var r=0;if(t+1>=(e=e.toString()).length)switch(n){case 1:e=Array(t+1-e.length).join(i)+e;break;case 3:var s=Math.ceil((r=t-e.length)/2);e=Array(r-s+1).join(i)+e+Array(s+1).join(i);break;default:e+=Array(t+1-e.length).join(i)}return e}},33628:e=>{e.exports=function(e,t){return 0===t?e.slice(1):e.slice(0,t)+e.slice(t+1)}},27671:e=>{e.exports=function(e){return e.split("").reverse().join("")}},45650:e=>{e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},35355:e=>{e.exports=function(e){return e&&e[0].toUpperCase()+e.slice(1)}},31749:(e,t,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i(85454)})(),t.exports=n()},{"57a99fe9b8471a10":"4VGCc"}],"4VGCc":[function(e,t,i){},{}],e7OdC:[function(e,t,i){t.exports.FPSCounter=class{constructor(e){this.lastFrameTime=performance.now(),this.frameCount=0,this.fpsDisplay=e.createElementWithStyles("div","fps-counter",{padding:"0 20px",background:"#000",color:"#00ff00"}),e.getElement(".header").appendChild(this.fpsDisplay)}updateFPS(){let e=performance.now(),t=e-this.lastFrameTime;this.lastFrameTime=e;let i=Math.round(1e3/t);this.frameCount++,0==this.frameCount%60&&(this.fpsDisplay.textContent="FPS: "+i),requestAnimationFrame(this.updateFPS.bind(this))}start(){this.updateFPS()}}},{}],izuLV:[function(e,t,i){let n="objects.";t.exports.ObjectsConst={OBJECT_ANIMATION:"oa",OBJECT_INTERACTION:"oi",TYPE_OBJECT:"obj",TYPE_ANIMATION:"anim",TYPE_NPC:"npc",TYPE_ENEMY:"enemy",TYPE_TRADER:"trader",TYPE_DROP:"drop",DYNAMIC_ANIMATION:"dyn",MESSAGE:{DATA_VALUES:{NAMESPACE:"objects"}},EVENT_PREFIX:{BASE:"bo",ANIMATION:"ao",DROP:"dep",ENEMY:"eo",NPC:"npc",TRADER:"tnpc"},SNIPPETS:{PREFIX:n,NPC_INVALID:n+"npcInvalid",TRADER:{CONTENT:n+"trader.content",OPTIONS:{BUY:n+"trader.options.buy",SELL:n+"trader.options.sell"},BUY_CONFIRMED:n+"trader.buyConfirmed",SELL_CONFIRMED:n+"trader.sellConfirmed"}},DEFAULTS:{BASE_OBJECT:{CONTENT:"",OPTIONS:{}},TRADER_OBJECT:{INVENTORY_MAP:{buy:"A",sell:"B"},OPTIONS:{BUY:"buy",SELL:"sell"}},TARGETS:{OBJECT:0,PLAYER:1}},TRADE_ACTIONS_FUNCTION_NAME:{ADD:"add",REMOVE:"remove",CONFIRM:"confirm",DISCONFIRM:"disconfirm",CANCEL:"cancel"},TRADE_ACTIONS:{SUB_ACTION:"sub",ADD:"ta",REMOVE:"tr",CONFIRM:"tc",DISCONFIRM:"td"},DROPS:{KEY:"drp",REMOVE:"drmv",PARAMS:"drpp",ASSET_KEY:"dk",PICK_UP_ACT:"rpu",ASSETS_PATH:"/assets/custom/sprites/",FILE:"df",TYPE:"dt"}}},{}],"7XAJ0":[function(e,t,i){let{PlayerEngine:n}=e("ad34e884dd74ab75"),{SceneDynamic:r}=e("8c3cc377813bccbe"),{ScenePreloader:s}=e("eb7c0f886bf8e7c7"),{GameConst:a}=e("dd0538535f6f136a"),{ErrorManager:o,Logger:h,sc:c}=e("2b2fa27d8710e574");t.exports.RoomEvents=class{constructor(e,t){this.room=!1,this.sceneData=!1,this.scenePreloader=!1,this.playersOnAddCallback=!1,this.playersOnRemoveCallback=!1,this.playersQueue={},this.gameManager=t,this.gameEngine=t.gameEngine,this.roomName=e,this.events=t.events,this.objectsUi={},this.tradeUi={},this.gameOverRetries=0,this.gameOverMaxRetries=0,this.gameOverRetryTime=200,this.automaticallyCloseAllDialogsOnSceneChange=t.config.getWithoutLogs("client/rooms/automaticallyCloseAllDialogsOnSceneChange",!0)}async activateRoom(e,t=!1){await this.events.emit("reldens.activateRoom",e,this.gameManager),this.room=e,this.playersOnAddCallback=this.room.state.players.onAdd((e,i)=>{this.checkAndCreateScene(),this.playersOnAdd(e,i,t),this.listenPlayerAndStateChanges(e,i)}),this.playersOnRemoveCallback=this.room.state.players.onRemove((e,t)=>{this.playersOnRemove(e,t)}),this.room.onMessage("*",async e=>{await this.roomOnMessage(e)}),this.room.onLeave(e=>{this.roomOnLeave(e)})}listenPlayerAndStateChanges(e,t){let i=this.gameManager.getCurrentPlayer().player_id,n=Object.keys(e),r=Object.keys(e.state);for(let i of n)e.listen(i,i=>{this.playersOnChange(e,t,"playerChange")});for(let n of r)e.state.listen(n,r=>{if(e.state[n]=r,this.playersOnChange(e,t,"playerChange"),"inState"===n&&e.player_id===i){if(a.STATUS.DEATH===r)return this.showGameOverBox();this.hideGameOverBox()}})}checkAndCreateScene(){if(!this.room.state||this.room.state.sceneData===this.sceneData||(this.sceneData=c.toJson(this.room.state.sceneData),this.gameEngine.scene.getScene(this.roomName)))return;let e=this.createSceneInstance(this.roomName,this.sceneData,this.gameManager);this.gameEngine.scene.add(this.roomName,e,!1)}async playersOnAdd(e,t,i){await this.events.emit("reldens.playersOnAdd",e,t,i,this);let n={x:e.state.x,y:e.state.y,dir:e.state.dir,playerName:e.playerName,avatarKey:e.avatarKey,playedTime:e.playedTime,player_id:e.player_id};if(this.isCurrentPlayer(t))return await this.createCurrentPlayer(e,i,t);this.addOtherPlayers(e,t,n)}isCurrentPlayer(e){return e===this.room.sessionId}addOtherPlayers(e,t,i){if(!this.engineStarted)return this.playersQueue[t]=i,!1;let n=this.getActiveScene();if(!this.isValidScene(n,e))return!1;n.player.addPlayer(t,i)}async createCurrentPlayer(e,t,i){this.engineStarted=!0,await this.startEngineScene(e,this.room,t);let n=this.getActiveScene();if(!this.isValidScene(n,e))return!1;for(let r of(await this.events.emit("reldens.playersQueueBefore",e,i,t,this),Object.keys(this.playersQueue)))n.player.addPlayer(r,this.playersQueue[r]);let r={player:e,key:i,previousScene:t,roomEvents:this};return await this.events.emit("reldens.createCurrentPlayer",r),r}isValidScene(e,t){return e.key===t.state.scene&&e.player&&e.player.players}playersOnChange(e,t,i){if(e.state.scene!==this.roomName){e.player_id!==this.gameManager.getCurrentPlayer().player_id||this.gameManager.isChangingScene||h.info("Player scene miss match.",{currentScene:this.roomName,playerSceneOnState:e?.state.scene,player:e?.sessionId,currentPlayer:this.gameManager.getCurrentPlayer()?.playerId,isChangingScene:this.gameManager.isChangingScene});return}let n=this.getActiveScene();this.playerExists(n,t)&&n.player.updatePlayer(t,e)}playersOnRemove(e,t){return(this.events.emitSync("reldens.playersOnRemove",e,t,this),t===this.room.sessionId)?this.gameOverReload():this.removePlayerByKey(t)}removePlayerByKey(e){let t=this.getActiveScene();this.playerExists(t,e)&&(t.player.removePlayer(e),t.player.currentTarget?.id===e&&this.gameEngine.clearTarget())}gameOverReload(){let e={confirmed:!0};this.events.emitSync("reldens.gameOverReload",this,e),!this.gameManager.gameOver&&e.confirmed&&this.gameManager.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.sessionEnded"))}playerExists(e,t){return e.player&&c.hasOwn(e.player.players,t)}async roomOnMessage(e){await this.runGameOver(e),await this.runRevived(e),await this.runChangeScene(e),await this.runReconnect(e),await this.runUpdateStats(e),await this.runInitUi(e),await this.closeBox(e),await this.runCustomMessageListener(e)}async runInitUi(e){if(e.act!==a.UI||!e.id)return!1;await this.events.emit("reldens.initUiBefore",e,this),this.initUi(e),await this.events.emit("reldens.initUiAfter",e,this)}async closeBox(e){if(a.CLOSE_UI_ACTION!==e.act||!e.id)return!1;let t=this.gameManager.gameDom.getElement("#box-"+e.id+" .box-close");return t?(t.click(),!0):(h.error('Box could not be closed ID "'+e.id+'".'),!1)}async runCustomMessageListener(e){let t=c.get(e,"listener","");if(""===t)return!1;let i=this.gameManager.config.get("client/message/listeners",{}),n=this.gameManager.config.get("client/customClasses/message/listeners",{}),r=c.get(n,t,!1);return(r||(r=c.get(i,t,!1)),r)?c.isFunction(r.executeClientMessageActions)?void r.executeClientMessageActions({message:e,roomEvents:this}):(h.error('Listener is missing "executeClientMessageActions" method.',r),!1):(h.error('Listener "'+t+'" is missing.'),!1)}async runUpdateStats(e){return e.act===a.PLAYER_STATS&&(await this.events.emit("reldens.playerStatsUpdateBefore",e,this),await this.updatePlayerStats(e))}async runReconnect(e){if(e.act!==a.RECONNECT)return!1;await this.events.emit("reldens.beforeReconnectGameClient",e,this),await this.gameManager.reconnectGameClient(e,this.room)}async runChangeScene(e){if(e.act===a.CHANGING_SCENE&&this.room.sessionId===e.id&&(this.gameManager.isChangingScene=!0,this.closeAllActiveDialogs(),this.gameManager.getActiveScene().scene.setVisible(!1)),e.act!==a.CHANGED_SCENE||e.scene!==this.room.name||this.room.sessionId===e.id)return!1;await this.events.emit("reldens.startChangedScene",{message:e,roomEvents:this});let t=this.getActiveScene(),{id:i,x:n,y:r,dir:s,playerName:o,playedTime:h,avatarKey:c,player_id:l}=e,u=this.gameManager.config.get("client/players/size/topOffset"),d=this.gameManager.config.get("client/players/size/leftOffset");t.player.addPlayer(i,{x:n-d,y:r-u,dir:s,playerName:o,playedTime:h,avatarKey:c,player_id:l}),this.gameManager.isChangingScene=!1,await this.events.emit("reldens.endChangedScene",{message:e,roomEvents:this})}closeAllActiveDialogs(){if(!this.automaticallyCloseAllDialogsOnSceneChange)return;let e=this.gameManager.gameDom.getElements(".box-close");if(0!==e.length)for(let t of e)t.click()}async runRevived(e){if(e.act!==a.REVIVED)return!1;this.gameManager.gameDom.getElement("#game-over").classList.add("hidden");let t=this.gameManager.getCurrentPlayer(),i=c.get(t.players,e.t,!1);if(!i)return!1;i.visible=!0,c.hasOwn(i,"nameSprite")&&i.nameSprite&&(i.nameSprite.visible=!0),this.getActiveScene().stopOnDeathOrDisabledSent=!1}async runGameOver(e){if(e.act!==a.GAME_OVER)return!1;try{await this.events.emit("reldens.runGameOver",{message:e,defaultBehavior:!0,roomEvents:this}),await this.events.emit("reldens.gameOver",e,this),this.gameManager.gameOver=!0;let t=this.gameManager.getCurrentPlayer();if(!t)return this.gameOverRetries<this.gameOverMaxRetries&&(setTimeout(()=>this.runGameOver(e),this.gameOverRetryTime),this.gameOverRetries++),!1;t.players[t.playerId].visible=!1,this.showGameOverBox()}catch(t){return setTimeout(()=>this.runGameOver(e),200),this.gameOverRetries++,!1}}showGameOverBox(){return this.displayGameOverBox(!0)}hideGameOverBox(){return this.displayGameOverBox(!1)}displayGameOverBox(e){h.debug("Display game over box: "+(e?"yes":"no")+".");let t=this.gameManager.gameDom.getElement("#game-over");return t?e?(t.classList.remove("hidden"),!0):(t.classList.add("hidden"),!1):(h.debug("GameOver box element not found."),!1)}async roomOnLeave(e){!this.isAbnormalShutdown(e)||this.gameManager.gameOver||this.gameManager.forcedDisconnection||(h.error("There was a connection error.",{code:e,isGameOver:this.gameManager.gameOver,isForcedDisconnection:this.gameManager.forcedDisconnection}),this.gameManager.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.serverDown"))),await this.events.emit("reldens.playerLeftScene",{code:e,roomEvents:this})}isAbnormalShutdown(e){return 1001<=e&&1015>=e}async updatePlayerStats(e){if(!c.hasOwn(e,"stats")||!e.stats)return!1;let t=this.getActiveScene();if(!t.player||!c.hasOwn(t.player.players,this.room.sessionId))return h.error("Player not available.",this.room,t),!1;t.player.players[this.room.sessionId].stats=e.stats,this.gameManager.playerData.stats=e.stats,this.gameManager.playerData.statsBase=e.statsBase;let i=this.gameManager.getUiElement("playerStats");if(!i)return!1;let n=i.getChildByProperty("id","player-stats-container");if(!n)return!1;let r=this.gameEngine.uiScene.cache.html.get("playerStat");for(let t of(n.innerHTML="",Object.keys(e.stats))){let i=c.get(this.gameManager.config.client.players.initialStats[t],"data",!1),s=i&&c.get(i,"showBase",!1)?" / "+e.statsBase[t]:"",a=this.gameManager.gameEngine.parseTemplate(r,{statLabel:t,statValue:e.stats[t]+s});n.innerHTML=n.innerHTML+a}await this.events.emit("reldens.playerStatsUpdateAfter",e,this)}initUi(e){let t=this.gameEngine.uiScene;if(!t||!c.hasOwn(t.elementsUi,e.id))return h.error("User interface not found on UI Scene: "+e.id),!1;let i=t.elementsUi[e.id];this.uiSetTitle(i,e),this.uiSetContent(i,e,t);let n=i.getChildByID("box-"+e.id),r=e.keepCurrentDisplay&&"none"===n.style.display;n.style.display=r?"none":"block",i.setDepth(2),this.gameManager.config.get("client/ui/uiTarget/hideOnDialog")&&this.gameEngine.clearTarget()}uiSetTitleAndContent(e,t,i){this.uiSetTitle(e,t),this.uiSetContent(e,t,i)}uiSetTitle(e,t){let i=c.get(t,"title",!1);if(!1===i)return!1;let n=e.getChildByProperty("className","box-title");if(!n)return!1;n.innerHTML=i}uiSetContent(e,t,i){let n=c.get(t,"content",!1);if(!1===n)return!1;let r=e.getChildByProperty("className","box-content");if(!r)return!1;r.innerHTML=n,this.uiSetContentOptions(i,t,r)}uiSetContentOptions(e,t,i){if(!t.options)return!1;let n=e.cache.html.get("uiOptionsContainer"),r=this.gameManager.gameEngine.parseTemplate(n,{id:"ui-"+t.id});i.innerHTML+=r;let s=Object.keys(t.options);if(0===s.length)return!1;for(let i of s){let{label:n,value:r,icon:s}=t.options[i],o=s?"Icon":"Button",h=e.cache.html.get("uiOption"+o),l={id:i,object_id:t.id,label:n,value:r,icon:"/assets/custom/items/"+s+a.FILES.EXTENSIONS.PNG},u=this.gameManager.gameEngine.parseTemplate(h,l);this.gameManager.gameDom.appendToElement("#ui-"+t.id,u);let d="#opt-"+i+"-"+t.id;this.gameManager.gameDom.getElement(d)?.addEventListener("click",e=>{let i={id:t.id,act:a.BUTTON_OPTION,value:e.target.getAttribute("data-option-value")};Object.assign(i,c.get(t,"overrideSendOptions",{})),this.send(i)})}}async startEngineScene(e,t,i=!1){await this.events.emit("reldens.startEngineScene",this,e,t,i);let n=!1;this.gameEngine.uiScene||(n=!0);let r=a.SCENE_PRELOADER+this.sceneData.roomName;this.gameEngine.scene.getScene(r)?await this.createEngineOnScene(r,e,t,i):await this.createPreloaderAndScene(r,n,e,t,i)}async createEngineOnScene(e,t,i,n){this.getActiveScene().objectsAnimationsData=this.sceneData.objectsAnimationsData,this.scenePreloader=this.gameEngine.scene.getScene(e),await this.events.emit("reldens.createdPreloaderRecurring",this,this.scenePreloader),await this.createEngineScene(t,i,n)}async createPreloaderAndScene(e,t,i,n,r){this.scenePreloader=this.createPreloaderInstance({name:e,map:this.sceneData.roomMap,images:this.sceneData.sceneImages,uiScene:t,gameManager:this.gameManager,preloadAssets:this.sceneData.preloadAssets,objectsAnimationsData:this.sceneData.objectsAnimationsData}),this.gameEngine.scene.add(e,this.scenePreloader,!0),await this.events.emit("reldens.createdPreloaderInstance",this,this.scenePreloader);let s=this.gameEngine.scene.getScene(e);s.load.on("complete",async()=>{this.gameEngine.uiScene||(this.gameEngine.uiScene=s,this.showPlayerName(this.gameManager.playerData.id+" - "+this.gameManager.playerData.name)),await this.createEngineScene(i,n,r)})}showPlayerName(e){let t=this.gameManager.getUiElement("playerBox");if(!t)return!1;let i=t.getChildByProperty("className","player-name");if(!i)return!1;i.innerHTML=e}async createEngineScene(e,t,i){let n=this.gameEngine.scene.getScene(i);n&&n.scene.setVisible(!1),await this.events.emit("reldens.createEngineScene",e,t,i,this),this.gameManager.room?await this.destroyPreviousScene(i,e):this.gameEngine.scene.start(e.state.scene),this.gameManager.room=t;let r=this.gameEngine.scene.getScene(e.state.scene);r.player=this.createPlayerEngineInstance(r,e,this.gameManager,t),r.player.create(),this.addExistentPlayers(t,r),this.updateSceneLabel(this.sceneData.roomTitle),this.send({act:a.PLAYER_STATS}),this.send({act:a.CLIENT_JOINED});let s={player:r.player,previousScene:i,roomEvents:this};await this.events.emit("reldens.playersOnAddReady",s);let o={currentScene:r,previousScene:i,roomEvents:this};return await this.events.emit("reldens.createEngineSceneDone",o),o}addExistentPlayers(e,t){if(0===this.playersCountFromState(e))return!1;for(let i of this.playersKeysFromState(e)){let n=this.playerBySessionIdFromState(e,i);if(!n.sessionId||n.sessionId===e.sessionId)continue;let r={x:n.state.x,y:n.state.y,dir:n.state.dir,playerName:n.playerName,playedTime:n.playedTime,avatarKey:n.avatarKey,player_id:n.player_id};t.player.addPlayer(n.sessionId,r)}}playerBySessionIdFromState(e,t){return e.state.players.get(t)}playersCountFromState(e){return e.state.players.size}playersKeysFromState(e){return Array.from(e.state.players.keys())}async destroyPreviousScene(e,t){if(!e)return h.warning("Missing previous scene data.",e),!1;let i=this.gameEngine.scene.getScene(e);if(!i)return h.warning("Missing previous scene instance.",i),!1;await i.changeScene(),this.gameEngine.scene.stop(e),this.gameEngine.scene.start(t.state.scene)}updateSceneLabel(e){let t=this.gameManager.getUiElement("sceneLabel");if(!t)return!1;let i=t.getChildByProperty("className","scene-label");if(!i)return!1;i.innerHTML=e}getActiveScene(){return this.gameEngine.scene.getScene(this.roomName)}createSceneInstance(e,t,i){return new r(e,t,i)}createPlayerEngineInstance(e,t,i,r){return new n({scene:e,playerData:t,gameManager:i,room:r,roomEvents:this})}createPreloaderInstance(e){return new s(e)}send(e,t){try{return(this.room.connection.transport.ws.readyState===this.room.connection.transport.ws.CLOSED||this.room.connection.transport.ws.readyState===this.room.connection.transport.ws.CLOSING)&&o.error("Connection lost."),t||(t="*"),this.room.send(t,e),!0}catch(t){h.critical(t.message,e)}this.gameManager.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.connectionLost"))}}},{ad34e884dd74ab75:"3GkIQ","8c3cc377813bccbe":"6Vn5m",eb7c0f886bf8e7c7:"45YPY",dd0538535f6f136a:"93TbC","2b2fa27d8710e574":"3lwy5"}],"3GkIQ":[function(e,t,i){let{SpriteTextFactory:n}=e("94c0b713770985e9"),{GameConst:r}=e("c99c71c42a9e0f59"),{ActionsConst:s}=e("51d102aa478bf778"),{Logger:a,sc:o}=e("369ffb9744f96759");t.exports.PlayerEngine=class{constructor(e){let{scene:t,playerData:i,gameManager:n,room:r,roomEvents:s}=e;this.scene=t,this.config=n.config,this.gameManager=n,this.events=n.events,this.playerName=i.playerName,this.avatarKey=i.avatarKey,this.roomName=i.state.scene,this.state=i.state,this.room=r,this.roomEvents=s,this.playerId=r.sessionId,this.player_id=i.player_id,this.players={},this.playedTime=i.playedTime,this.mov=!1,this.dir=!1,this.currentTarget=!1,this.pointsValidator=!1,this.animationBasedOnPress=this.config.get("client/players/animations/basedOnPress"),this.topOff=this.config.get("client/players/size/topOffset"),this.leftOff=this.config.get("client/players/size/leftOffset"),this.collideWorldBounds=this.config.get("client/players/animations/collideWorldBounds"),this.fadeDuration=Number(this.config.get("client/players/animations/fadeDuration")),this.cameraRoundPixels=!!this.config.getWithoutLogs("client/general/engine/cameraRoundPixels",!0),this.cameraInterpolationX=Number(this.config.getWithoutLogs("client/general/engine/cameraInterpolationX",.02)),this.cameraInterpolationY=Number(this.config.getWithoutLogs("client/general/engine/cameraInterpolationY",.02)),this.globalConfigNameText=this.config.get("client/ui/players/nameText"),this.globalConfigShowNames=!!this.config.get("client/ui/players/showNames"),this.globalConfigShowNamesLimit=this.config.getWithoutLogs("client/ui/players/showNamesLimit",10),this.defaultActionKeyConfig=this.config.get("client/ui/controls/defaultActionKey"),this.highlightOnOver=!!this.config.getWithoutLogs("client/ui/players/highlightOnOver",!0),this.highlightColor=this.config.getWithoutLogs("client/ui/players/highlightColor","0x00ff00"),this.lastKeyState={}}create(){let e={x:this.state.x,y:this.state.y,dir:this.state.dir,playerName:this.playerName,avatarKey:this.avatarKey,playedTime:this.playedTime,player_id:this.player_id};this.addPlayer(this.playerId,e),this.scene.cameras.main.startFollow(this.players[this.playerId]),this.scene.scene.setVisible(!0,this.roomName),this.scene.cameras.main.fadeFrom(this.fadeDuration),this.scene.physics.world.fixedStep=!1,this.scene.physics.world.setBounds(0,0,this.scene.map.widthInPixels,this.scene.map.heightInPixels),this.scene.cameras.main.setBounds(0,0,this.scene.map.widthInPixels,this.scene.map.heightInPixels),this.scene.cameras.main.setIsSceneCamera(!0),this.scene.cameras.main.on("camerafadeincomplete",()=>{this.scene.cameras.main.startFollow(this.players[this.playerId]),this.scene.cameras.main.setLerp(this.cameraInterpolationX,this.cameraInterpolationY),this.scene.cameras.main.setRoundPixels(this.cameraRoundPixels)})}addPlayer(e,t){if(o.hasOwn(this.players,e))return this.players[e];let{x:i,y:n,dir:r,playerName:s,avatarKey:a,playedTime:h,player_id:c}=t,l=this.gameManager.mappedAvatars[a];return this.players[e]=this.scene.physics.add.sprite(i,n-this.topOff,l),this.players[e].playerName=s,this.players[e].playedTime=h,this.players[e].avatarKey=a,this.players[e].playerId=e,this.players[e].player_id=c,this.players[e].anims.play(l+"_"+r),this.players[e].anims.stop(),this.showPlayerName(e),this.makePlayerInteractive(e),this.players[e].moveSprites={},this.players[e].setDepth(this.players[e].y+this.players[e].body.height),this.players[e].setCollideWorldBounds(this.collideWorldBounds),this.events.emitSync("reldens.playerEngineAddPlayer",this,e,t),this.players[e]}makePlayerInteractive(e){this.players[e].setInteractive({useHandCursor:!0}).on("pointerdown",t=>{if(r.SELECTORS.CANVAS!==t.downElement.nodeName)return!1;this.setTargetPlayerById(e)}),this.highlightOnOver&&(this.players[e].on("pointerover",()=>{this.players[e].setTint(this.highlightColor)}),this.players[e].on("pointerout",()=>{this.players[e].clearTint()}))}setTargetPlayerById(e){if(!o.get(this.players,e,!1))return a.info('Target player ID "'+e+'" was not found.'),this.gameManager.gameEngine.clearTarget(),!1;let t=Object.assign({},this.currentTarget);this.currentTarget={id:e,type:r.TYPE_PLAYER,player_id:this.players[e].player_id},this.gameManager.gameEngine.showTarget(this.players[e].playerName,this.currentTarget,t)}showPlayerName(e){if(!this.globalConfigShowNames)return!1;if(!this.players[e])return a.critical('Player ID "'+e+'" not found.',this.players),!1;let t=this.players[e].playerName;if(!t)return a.critical('Player name not found on player ID "'+e+'".',this.players[e]),!1;n.attachTextToSprite(this.players[e],this.applyNameLengthLimit(t),this.globalConfigNameText,this.topOff,"nameSprite",this.scene)}applyNameLengthLimit(e){return 0<this.globalConfigShowNamesLimit&&e.length>this.globalConfigShowNamesLimit&&(e=e.slice(0,this.globalConfigShowNamesLimit)+"..."),e}updatePlayer(e,t){let i=this.players[e];if(!i){a.error("PlayerSprite not defined.",this.players,e);return}if(a.debug('Updating player ID "'+e+'". - Current player ID "'+this.player_id+'".'),this.scene.clientInterpolation){this.scene.interpolatePlayersPosition[e]=t.state;return}this.processPlayerPositionAnimationUpdate(i,t.state,e,t.state.x-this.leftOff,t.state.y-this.topOff)}processPlayerPositionAnimationUpdate(e,t,i,n=0,s=0){if(a.debug("Process player position animation update.",{playerSprite:e,playerState:t,playerId:i,newX:n,newY:s}),!e){a.error("Missing player sprite to process animation update.",e,t,i);return}if(!t){a.error("Missing player state to process animation update.",e,t,i);return}if(!i){a.error("Missing player ID to process animation update.",e,t,i);return}if(0!==Object.keys(this.scene.interpolatePlayersPosition).length){if(r.STATUS.DEATH===t.inState||r.STATUS.DISABLED===t.inState){delete this.scene.interpolatePlayersPosition[i];return}this.playPlayerAnimation(e,t,i),this.stopPlayerAnimation(e,t),this.updateSpritePosition(e,n,s),this.updatePlayerState(e,t,i)}}updatePlayerState(e,t,i){let n=e.y+e.body.height;e.depth!==n&&e.setDepth(n),this.events.emitSync("reldens.runPlayerAnimation",this,i,t,e),this.updateNamePosition(e),this.moveAttachedSprites(e,n)}updateSpritePosition(e,t,i){e.x!==t&&(e.x=t),e.y!==i&&(e.y=i)}updateNamePosition(e){if(!this.globalConfigShowNames||!e.nameSprite)return!1;let t=n.getTextPosition(e,this.applyNameLengthLimit(e.playerName),this.globalConfigNameText,this.topOff);e.nameSprite.x=t.x,e.nameSprite.y=t.y}moveAttachedSprites(e,t){let i=Object.keys(e.moveSprites);if(0===i.length)return!1;for(let n of i){let i=e.moveSprites[n];if(i.x===e.x&&i.y===e.y)continue;i.x=e.x,i.y=e.y;let r=t+("above"===o.get(i,"depthByPlayer","")?1:-.1);a.debug('Sprite "'+n+'" new depth: '+r+".",i),i.setDepth(r)}}playPlayerAnimation(e,t,i){if(this.isDeath(t)||this.isDisabled(t))return a.debug('Player with ID "'+i+'" is disabled to play the animation.',t),!1;a.debug("Play player animation.",e.avatarKey,t);let n=this.gameManager.mappedAvatars[e.avatarKey];if(this.animationBasedOnPress){let i=n+"_"+t.dir;return t.x===e.x&&t.y===e.y?(a.debug('Player has not changed, skipped animation "'+i+'".'),!1):(a.debug("Animation played based on press active.",n,{x:t.x+" / "+e.x,y:t.y+" / "+e.y}),void e.anims.play(i,!0))}if(t.x!==e.x){let i=t.x<e.x?n+"_"+r.LEFT:n+"_"+r.RIGHT;e.anims.play(i,!0)}if(t.y!==e.y){let i=t.y<e.y?n+"_"+r.UP:n+"_"+r.DOWN;e.anims.play(i,!0)}}stopPlayerAnimation(e,t){t.mov||(e.anims.stop(),e.mov=t.mov)}removePlayer(e){o.hasOwn(this.players,e)&&o.hasOwn(this.players[e],"nameSprite")&&(this.players[e].nameSprite.destroy(),this.players[e].destroy(),delete this.players[e])}left(){"pressed"!==this.lastKeyState[r.LEFT]&&(this.lastKeyState[r.LEFT]="pressed",this.roomEvents.send({dir:r.LEFT}))}right(){"pressed"!==this.lastKeyState[r.RIGHT]&&(this.lastKeyState[r.RIGHT]="pressed",this.roomEvents.send({dir:r.RIGHT}))}up(){"pressed"!==this.lastKeyState[r.UP]&&(this.lastKeyState[r.UP]="pressed",this.roomEvents.send({dir:r.UP}))}down(){"pressed"!==this.lastKeyState[r.DOWN]&&(this.lastKeyState[r.DOWN]="pressed",this.roomEvents.send({dir:r.DOWN}))}stop(){this.lastKeyState[r.LEFT]="",this.lastKeyState[r.RIGHT]="",this.lastKeyState[r.UP]="",this.lastKeyState[r.DOWN]="",this.roomEvents.send({act:r.STOP})}runActions(){this.roomEvents.send({act:s.ACTION,type:this.defaultActionKeyConfig,target:this.currentTarget})}moveToPointer(e){if(this.isDeath()||this.isDisabled())return this.fullStop(),!1;this.lastKeyState[r.LEFT]="",this.lastKeyState[r.RIGHT]="",this.lastKeyState[r.UP]="",this.lastKeyState[r.DOWN]="",this.roomEvents.send({act:r.POINTER,column:e.worldColumn,row:e.worldRow,x:e.worldX-this.leftOff,y:e.worldY-this.topOff})}isDisabled(e){return e||(e=this.state),r.STATUS.DISABLED===e.inState}isDeath(e){return e||(e=this.state),r.STATUS.DEATH===e.inState}fullStop(){delete this.scene.interpolatePlayersPosition[this.player_id],this.stop()}getPosition(){return{x:this.players[this.playerId].x,y:this.players[this.playerId].y}}}},{"94c0b713770985e9":"bywhA",c99c71c42a9e0f59:"93TbC","51d102aa478bf778":"59VA7","369ffb9744f96759":"3lwy5"}],bywhA:[function(e,t,i){let{sc:n}=e("ac4f5669792a5cf0");t.exports.SpriteTextFactory=class{static attachTextToSprite(e,t,i,r,s,a){let o=this.getTextPosition(e,t,i,r),h=a.add.text(o.x,o.y,t,{fontFamily:n.get(i,"fontFamily","sans-serif"),fontSize:n.get(i,"fontSize","12px")});return h.style.setFill(n.get(i,"fill","#ffffff")),h.style.setAlign(n.get(i,"align","center")),h.style.setStroke(n.get(i,"stroke","#000000"),n.get(i,"strokeThickness",4)),h.style.setShadow(n.get(i,"shadowX",5),n.get(i,"shadowY",5),n.get(i,"shadowColor","rgba(0,0,0,0.7)"),n.get(i,"shadowBlur",5)),h.setDepth(n.get(i,"depth",2e5)),e[s]=h,h}static getTextPosition(e,t,i,r=0){if(!e)return{x:0,y:0};let s=n.get(i,"height",18);return{x:e.x-t.length*n.get(i,"textLength",4),y:e.y-s-e.height+r}}}},{ac4f5669792a5cf0:"3lwy5"}],"59VA7":[function(e,t,i){let n="actions.";t.exports.ActionsConst={BATTLE_TYPE_PER_TARGET:"bt",BATTLE_TYPE_GENERAL:"bg",BATTLE_ENDED:"bend",TARGET_POSITION:"tgp",TARGET_PLAYER:"tga",TARGET_OBJECT:"tgo",FULL_SKILLS_LIST:"fkl",ACTION:"action",DATA_OBJECT_KEY_TARGET:"t",DATA_OBJECT_KEY_OWNER:"o",DATA_TARGET_TYPE:"tT",DATA_TARGET_KEY:"tK",DATA_OWNER_TYPE:"oT",DATA_OWNER_KEY:"oK",DATA_TYPE_VALUE_ENEMY:"e",DATA_TYPE_VALUE_PLAYER:"p",DATA_TYPE_VALUE_OBJECT:"o",EXTRA_DATA:{KEY:"sked",SKILL_DELAY:"sd"},DEFAULT_HIT_ANIMATION_KEY:"default_hit",ACTIONS:{SUFFIX:{ATTACK:"_atk",EFFECT:"_eff",HIT:"_hit"}},MESSAGE:{DATA:{LEVEL:"lvl",EXPERIENCE:"exp",CLASS_PATH_LABEL:"lab",NEXT_LEVEL_EXPERIENCE:"ne",SKILL_LEVEL:"skl",LAST_ATTACK_KEY:"k"},DATA_VALUES:{NAMESPACE:"actions",lvl:"level",exp:"experience",lab:"classPathLabel",ne:"nextLevelExperience",skl:"skillLevel"}},SELECTORS:{LEVEL_LABEL:".level-container .level-label",CURRENT_EXPERIENCE:".experience-container .current-experience",NEXT_LEVEL_EXPERIENCE:".experience-container .next-level-experience",PLAYER_CREATE_FORM:"#player-create-form",UI_PLAYER_EXTRAS:"#ui-player-extras",PLAYER_CREATION_ADDITIONAL_INFO:".player-creation-additional-info",PLAYER_SELECTION_ADDITIONAL_INFO:".player-selection-additional-info",CLASS_PATH_LABEL:".class-path-container .class-path-label",SKILLS_CONTAINER:".skills-container"},SNIPPETS:{PREFIX:n,SELECT_CLASS_PATH:n+"selectClassPath",EXPERIENCE_LABEL:n+"experienceLabel",LEVEL:n+"currentLevel",CLASS_PATH_LABEL:n+"classPathLabel",NEXT_LEVEL_EXPERIENCE:n+"nextLevelExperience",EXPERIENCE:n+"experience"}}},{}],"6Vn5m":[function(e,t,i){let{Scene:n,Input:r}=e("c5f254ffb1f1868"),{TileSetAnimation:s}=e("648aa76284c65b04"),{Minimap:a}=e("3e4f1f0221386850"),{GameConst:o}=e("43a627027f5eb0e5"),{ActionsConst:h}=e("f368cde667056257"),{Logger:c,sc:l}=e("1c07ccf976c90508");t.exports.SceneDynamic=class extends n{constructor(e,t,i){super({key:e}),this.key=e,this.params=t,this.gameManager=i,this.eventsManager=i.events,this.configManager=i.config,this.layers={},this.transition=!0,this.useTsAnimation=!1,this.arrowSprite=!1,this.objectsAnimationsData=!1,this.objectsAnimations={},this.setPropertiesFromConfig(),this.minimap=this.createMinimapInstance(this.minimapConfig),this.player=!1,this.interpolatePlayersPosition={},this.interpolateObjectsPositions={},this.tilesets=[],this.tilesetAnimations=[],this.stopOnDeathOrDisabledSent=!1}setPropertiesFromConfig(){return this.configManager?(this.configuredFrameRate=this.configManager.getWithoutLogs("client/general/animations/frameRate",10),this.clientInterpolation=this.configManager.getWithoutLogs("client/general/engine/clientInterpolation",!0),this.interpolationSpeed=this.configManager.getWithoutLogs("client/general/engine/interpolationSpeed",.1),this.minimapConfig=this.configManager.getWithoutLogs("client/ui/minimap",{}),!0):(this.configuredFrameRate=10,this.clientInterpolation=!0,this.interpolationSpeed=.1,this.minimapConfig={},!1)}createMinimapInstance(e){return!!this.minimapConfig.enabled&&new a({config:e,events:this.eventsManager})}init(){this.scene.setVisible(!1,this.key),this.input.keyboard.removeAllListeners()}async create(){this.eventsManager.emitSync("reldens.beforeSceneDynamicCreate",this),this.disableContextMenu(),this.createControllerKeys(),this.setupKeyboardAndPointerEvents(),await this.createSceneMap(),this.cameras.main.on("camerafadeincomplete",()=>{this.transition=!1,this.gameManager.gameDom.activeElement().blur(),this.minimap.createMap(this,this.gameManager.getCurrentPlayerAnimation()),this.gameManager.isChangingScene=!1}),this.eventsManager.emitSync("reldens.afterSceneDynamicCreate",this)}update(e,t){this.interpolatePositions(),this.movePlayerByPressedButtons()}disableContextMenu(){if(!this.gameManager.config.get("client/ui/controls/disableContextMenu"))return!1;this.gameManager.gameDom.getDocument().addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation()})}setupKeyboardAndPointerEvents(){this.input.keyboard.on("keydown",e=>this.executeKeyDownBehavior(e)),this.input.keyboard.on("keyup",e=>{this.executeKeyUpBehavior(e)}),this.input.on("pointerdown",(e,t)=>this.executePointerDownAction(e,t))}async createSceneMap(){for(let e of(this.map=this.make.tilemap({key:this.params.roomName}),this.params.sceneImages)){let t=this.map.addTilesetImage(this.params.roomName,e);t||c.critical("Tileset creation error. Check if the tileset name equals the imageKey without the extension.",{roomName:this.params.roomName,imageKeys:this.params.sceneImages,createdTileset:t}),this.tilesets.push(t)}this.registerLayers(),this.registerTilesetAnimation()}registerTilesetAnimation(){for(let e of this.tilesets)if(this.hasTilesetAnimations(e))for(let t of(this.useTsAnimation=!0,Object.keys(this.layers))){let i=this.layers[t],n=new s;n.register(i,e),n.start(),this.tilesetAnimations.push(n)}}hasTilesetAnimations(e){let t=e?.tileData||{},i=Object.keys(t);if(0===i.length)return!1;for(let e of i)if(t[e].animation)return!0;return!1}executeKeyDownBehavior(e){if(this.gameManager.gameDom.insideInput())return!1;if(r.Keyboard.KeyCodes.SPACE===e.keyCode&&!this.gameManager.gameDom.insideInput()){if(!this.player)return;this.player.runActions()}r.Keyboard.KeyCodes.ESC===e.keyCode&&this.gameManager.gameEngine.clearTarget(),r.Keyboard.KeyCodes.F5===e.keyCode&&(this.gameManager.forcedDisconnection=!0)}executeKeyUpBehavior(e){this.player&&-1!==this.availableControllersKeyCodes().indexOf(e.keyCode)&&this.player.stop()}createControllerKeys(){this.keyLeft=this.input.keyboard.addKey(r.Keyboard.KeyCodes.LEFT),this.keyA=this.input.keyboard.addKey(r.Keyboard.KeyCodes.A),this.keyRight=this.input.keyboard.addKey(r.Keyboard.KeyCodes.RIGHT),this.keyD=this.input.keyboard.addKey(r.Keyboard.KeyCodes.D),this.keyUp=this.input.keyboard.addKey(r.Keyboard.KeyCodes.UP),this.keyW=this.input.keyboard.addKey(r.Keyboard.KeyCodes.W),this.keyDown=this.input.keyboard.addKey(r.Keyboard.KeyCodes.DOWN),this.keyS=this.input.keyboard.addKey(r.Keyboard.KeyCodes.S);let e=this.availableControllersKeyCodes();for(let t of this.gameManager.gameDom.getElements("input"))this.addAndRemoveCapture(e,t)}addAndRemoveCapture(e,t){this.loopKeysAddListenerToElement(e,t,"focusin","removeCapture"),this.loopKeysAddListenerToElement(e,t,"click","removeCapture"),this.loopKeysAddListenerToElement(e,t,"focusout","addCapture"),this.loopKeysAddListenerToElement(e,t,"blur","addCapture")}availableControllersKeyCodes(){return[r.Keyboard.KeyCodes.LEFT,r.Keyboard.KeyCodes.A,r.Keyboard.KeyCodes.RIGHT,r.Keyboard.KeyCodes.D,r.Keyboard.KeyCodes.UP,r.Keyboard.KeyCodes.W,r.Keyboard.KeyCodes.DOWN,r.Keyboard.KeyCodes.S]}executePointerDownAction(e,t){if(0<t.length||!this.gameManager.config.get("client/players/tapMovement/enabled")||this.gameManager.activeRoomEvents.sceneData?.worldConfig?.applyGravity)return!1;let i=this.gameManager.config.get("client/ui/controls/primaryMove"),n=this.gameManager.config.get("client/ui/controls/allowPrimaryTouch");return(!!e.wasTouch||!!e.primaryDown||!i)&&(!!e.wasTouch||!e.primaryDown||!!i)&&(!e.wasTouch||!!e.primaryDown||!n)&&(this.gameManager.gameDom.insideInput()&&this.gameManager.gameDom.activeElement().blur(),!!this.appendRowAndColumn(e)&&void(this.player.moveToPointer(e),this.updatePointerObject(e)))}movePlayerByPressedButtons(){if(!this.gameManager.gameDom.insideInput()&&!this.transition&&!this.gameManager.isChangingScene){if(this.player.isDeath()||this.player.isDisabled()){this.stopOnDeathOrDisabledSent||this.player.fullStop(),this.stopOnDeathOrDisabledSent=!0;return}(this.keyRight.isDown||this.keyD.isDown)&&this.player.right(),(this.keyLeft.isDown||this.keyA.isDown)&&this.player.left(),(this.keyDown.isDown||this.keyS.isDown)&&this.player.down(),(this.keyUp.isDown||this.keyW.isDown)&&this.player.up()}}interpolatePositions(){this.clientInterpolation&&(this.processPlayersPositionInterpolation(),this.processObjectsPositionInterpolation())}processPlayersPositionInterpolation(){let e=Object.keys(this.interpolatePlayersPosition);if(0!==e.length&&l.get(this.player,"players"))for(let t of e){let e=this.interpolatePlayersPosition[t];if(!e)continue;let i=this.player.players[t];if(!i)continue;if(this.isCurrentPosition(i,e)){delete this.interpolatePlayersPosition[t];continue}let n=l.roundToPrecision(Phaser.Math.Linear(i.x,e.x-this.player.leftOff,this.interpolationSpeed),2),r=l.roundToPrecision(Phaser.Math.Linear(i.y,e.y-this.player.topOff,this.interpolationSpeed),2);this.player.processPlayerPositionAnimationUpdate(i,e,t,n,r),e.mov||delete this.interpolatePlayersPosition[t]}}processObjectsPositionInterpolation(){let e=Object.keys(this.interpolateObjectsPositions);if(0===e.length)return;let t=this.gameManager.getFeature("objects");for(let i of e)this.interpolateBulletPosition(i,t),this.interpolateObjectAnimationPosition(i,t)}interpolateBulletPosition(e,t){if(!this.isBullet(e))return;let i=l.get(t.bullets,e);if(!i)return;let n=this.interpolateObjectsPositions[e];if(!n)return;if(this.isCurrentPosition(i,n)){delete this.interpolateObjectsPositions[e];return}let r=l.roundToPrecision(Phaser.Math.Linear(i.x,n.x,this.interpolationSpeed),0),s=l.roundToPrecision(Phaser.Math.Linear(i.y,n.y,this.interpolationSpeed),0);t.updateBulletBodyPosition(e,{x:r,y:s}),n.mov||delete this.interpolateObjectsPositions[e]}isBullet(e){return -1!==e.indexOf("bullet")}interpolateObjectAnimationPosition(e,t){let i=this.objectsAnimations[e];if(!i)return;let n=this.interpolateObjectsPositions[e];if(!n)return;if(this.isCurrentPosition(i,n)){delete this.interpolateObjectsPositions[e];return}let r={x:l.roundToPrecision(Phaser.Math.Linear(i.x,n.x,this.interpolationSpeed),0),y:l.roundToPrecision(Phaser.Math.Linear(i.y,n.y,this.interpolationSpeed),0),inState:n.inState,mov:n.mov};t.updateObjectsAnimations(e,r,this),n.mov||delete this.interpolateObjectsPositions[e]}isCurrentPosition(e,t){return e&&t?Math.round(e.x)===Math.round(t.x)&&Math.round(e.y)===Math.round(t.y):(c.warning("None entity found to compare current entity position."),!1)}async changeScene(){if(this.minimap?.destroyMap(),this.eventsManager.emitSync("reldens.changeSceneDestroyPrevious",this),this.objectsAnimations={},this.objectsAnimationsData=!1,this.useTsAnimation)for(let e of this.tilesetAnimations)e.destroy()}registerLayers(){if(0===this.map.layers.length)return;let e=0,t=this.configManager.get("client/map/layersDepth/belowPlayer"),i=this.configManager.get("client/map/layersDepth/changePoints");for(let n of this.map.layers){if(this.layers[e]=this.map.createLayer(n.name,this.tilesets),!this.layers[e]){c.critical("Map layer could not be created.",n.name,this.key);continue}-1!==n.name.indexOf("below-player")&&this.layers[e].setDepth(t),-1!==n.name.indexOf("over-player")&&this.layers[e].setDepth(e*this.map.height*this.map.tileHeight),-1!==n.name.indexOf("change-points")&&this.layers[e].setDepth(i),e++}}appendRowAndColumn(e){let t=this.map.worldToTileXY(e.worldX,e.worldY),i=this.map.worldToTileXY(this.player.state.x,this.player.state.y);return t&&i?(e.worldColumn=t.x,e.worldRow=t.y,e.playerOriginCol=i.x,e.playerOriginRow=i.y,e):(c.error("Move to pointer error."),!1)}createFloatingText(e,t,i,n,r,s=14,a=600,o=50,h="#000000",c=4,l="rgba(0,0,0,0.7)"){let u=this.add.text(e,t,i,{fontFamily:r,fontSize:s+"px"});u.style.setColor(n),u.style.setAlign("center"),u.style.setStroke(h,c),u.style.setShadow(5,5,l,5),u.setDepth(2e5),this.add.tween({targets:u,duration:a,ease:"Exponential.In",y:t-o,onComplete:()=>{u.destroy()}})}updatePointerObject(e){if(!this.configManager.get("client/ui/pointer/show"))return;this.arrowSprite&&this.arrowSprite.destroy();let t=this.configManager.get("client/ui/pointer/topOffSet",16);this.arrowSprite=this.physics.add.sprite(e.worldX,e.worldY-t,o.ARROW_DOWN),this.arrowSprite.setDepth(5e5),this.arrowSprite.anims.play(o.ARROW_DOWN,!0).on("animationcomplete",()=>{this.arrowSprite.destroy()})}getAnimationByKey(e){return this.anims&&this.anims?.anims&&this.anims?.anims?.entries?l.get(this.anims.anims.entries,e,!1):(c.error("Animations not loaded.",this.anims),!1)}getObjectFromExtraData(e,t,i){let n=!1,r=e+"K",s=t[e+"T"]===h.DATA_TYPE_VALUE_PLAYER;return!s&&l.hasOwn(this.objectsAnimations,t[r])&&(n=this.objectsAnimations[t[r]]),s&&l.hasOwn(i.players,t[r])&&(n=i.players[t[r]]),n}loopKeysAddListenerToElement(e,t,i,n){t.addEventListener(i,()=>{for(let t of e)this.input.keyboard[n](t)})}}},{c5f254ffb1f1868:"8S6DV","648aa76284c65b04":"4prPd","3e4f1f0221386850":"1LEsD","43a627027f5eb0e5":"93TbC",f368cde667056257:"59VA7","1c07ccf976c90508":"3lwy5"}],"4prPd":[function(e,t,i){t.exports.TileSetAnimation=class{constructor(e){this.timer=e?.timer}register(e,t){for(let i of(this.animations=[],this.registered={},this.layer=e,this.tileset=t,Object.keys(t.tileData))){let e=t.tileData[i];if(!e.animation)continue;e.id=i;let n=0;for(let t of e.animation){if(Number(i)===Number(t?.tileid||0)){e.initIndex=n;break}n++}this.animations.push(e)}}start(){for(let e of this.animations){let t=e.animation.length,i=Number(e.initIndex||0),n=Number((i+1)%t);this.repeat(e,i,n)}}repeat(e,t,i){let n=e.id;this.registered[n]&&(this.registered[n]=null);let r=e.animation,s=r.length,a=Number(this.tileset.firstgid),o=Number(e.animation[t].tileid)+a,h=Number(e.animation[i].tileid)+a;this.layer.replaceByIndex(o,h);let c=r[i].duration,l=Number((i+1)%s);this.registered[n]=this.setTimeout(this.repeat.bind(this,e,Number(i),l),c)}destroy(){for(let e of Object.keys(this.registered))this.registered[e]&&this.clearTimeout(this.registered[e])}setTimeout(e,t){return this.timer?this.timer.setTimeout(e,t):setTimeout(e,t)}clearTimeout(e){if(this.timer)return this.timer.clearTimeout(e);clearTimeout(e)}}},{}],"1LEsD":[function(e,t,i){let{sc:n}=e("786a4b1c3c76b965");t.exports.Minimap=class{constructor(e){this.config=e.config,this.events=e.events}createMap(e,t){this.minimapCamera=!1,this.circle=!1,this.scope=!1,this.awaitOnCamera=n.get(this.config,"awaitOnCamera",400),this.autoWidth=e.map.widthInPixels/n.get(this.config,"mapWidthDivisor",1),this.camWidth=n.get(this.config,"fixedWidth",this.autoWidth),this.autoHeight=e.map.heightInPixels/n.get(this.config,"mapHeightDivisor",1),this.camHeight=n.get(this.config,"fixedHeight",this.autoHeight),this.camX=n.get(this.config,"camX",0),this.camY=n.get(this.config,"camY",0),this.camBackgroundColor=n.get(this.config,"camBackgroundColor","rgba(0,0,0,0.6)"),this.camZoom=n.get(this.config,"camZoom",.15),this.roundMap=n.get(this.config,"roundMap",!1),this.addCircle=n.get(this.config,"addCircle",!1),this.createMinimapCamera(e,t),this.createRoundMap(e),this.events.emitSync("reldens.createdMinimap",this)}createMinimapCamera(e,t){this.minimapCamera=e.cameras.add(this.camX,this.camY,this.camWidth,this.camHeight).setName("minimap").setBackgroundColor(this.camBackgroundColor).setZoom(this.camZoom).startFollow(t,n.get(this.config,"mapCameraRoundPixels",!0),n.get(this.config,"mapCameraLerpX",1),n.get(this.config,"mapCameraLerpY",1)).setRoundPixels(!0).setVisible(!1).setOrigin(n.get(this.config,"mapCameraOriginX",.18),n.get(this.config,"mapCameraOriginY",.18))}createRoundMap(e){if(!this.roundMap)return!1;this.addCircle&&this.addMinimapCircle(e),this.createRoundCamera(e)}addMinimapCircle(e){let t=e.gameManager.getActiveScenePreloader();this.circle=t.add.circle(n.get(this.config,"circleX",220),n.get(this.config,"circleY",88),n.get(this.config,"circleRadio",80.35),n.get(this.config,"circleColor","rgb(0,0,0)"),n.get(this.config,"circleAlpha",1)),this.circle.setStrokeStyle(n.get(this.config,"circleStrokeLineWidth",6),n.get(this.config,"circleStrokeColor",0),n.get(this.config,"circleStrokeAlpha",.6)),this.circle.setFillStyle(n.get(this.config,"circleFillColor",1),n.get(this.config,"circleFillAlpha",0)),this.circle.setVisible(!1)}createRoundCamera(e){this.scope=e.add.graphics(),this.scope.fillStyle(0,0).fillCircle(n.get(this.config,"circleX",220),n.get(this.config,"circleY",88),n.get(this.config,"circleRadio",80.35)),this.minimapCamera.setMask(this.scope.createGeometryMask())}destroyMap(){delete this.minimapCamera,delete this.circle,delete this.scope}}},{"786a4b1c3c76b965":"3lwy5"}],"45YPY":[function(e,t,i){let{Scene:n,Geom:r}=e("df67ed4c812038a9"),{MinimapUi:s}=e("a689b035cfc5756"),{InstructionsUi:a}=e("55a2dd84a2e283e3"),{SettingsUi:o}=e("29c970db688707f2"),{Joystick:h}=e("c747f1452190e301"),{GameConst:c}=e("475d783a521115cd"),{ActionsConst:l}=e("b9b9df6bd8016f7d"),{Logger:u,sc:d}=e("6e32bad98d4c2ac");t.exports.ScenePreloader=class extends n{constructor(e){super({key:e.name}),this.progressBar=null,this.progressCompleteRect=null,this.progressRect=null,this.userInterfaces={},this.preloadMapKey=e.map,this.preloadImages=e.images,this.uiScene=e.uiScene,this.elementsUi={},this.gameManager=e.gameManager,this.eventsManager=e.gameManager.events,this.preloadAssets=e.preloadAssets||{},this.directionalAnimations={},this.objectsAnimations={},this.gameManager.createdAnimations||(this.gameManager.createdAnimations={}),this.gameManager.activeRoomEvents.getActiveScene().objectsAnimationsData=e.objectsAnimationsData,this.playerSpriteSize={frameWidth:this.gameManager.config.get("client/players/size/width",52),frameHeight:this.gameManager.config.get("client/players/size/height",71)},this.useJoystick=this.gameManager.config.getWithoutLogs("client/ui/controls/useJoystick",!1),this.joystick=new h({scenePreloader:this})}preload(){let e=this.uiScene?this:this.gameManager.gameEngine.uiScene;this.eventsManager.emitSync("reldens.beforePreload",this,e),this.preloadUiScene(),this.preloadMapJson(),this.preloadMapImages(),this.preloadValidAssets(),this.preloadPlayerDefaultSprite(),this.preloadArrowPointer(),this.load.image(c.ICON_STATS,this.gameManager.config.get("client/general/assets/statsIconPath","/assets/icons/book.png")),this.load.on("fileprogress",this.onFileProgress,this),this.load.on("progress",this.onLoadProgress,this),this.load.on("complete",this.onLoadComplete,this),this.configuredFrameRate=this.gameManager.config.get("client/general/animations/frameRate",10),this.createProgressBar()}preloadMapJson(){this.preloadMapKey&&this.load.tilemapTiledJSON(this.preloadMapKey,"/assets/maps/"+this.preloadMapKey+".json")}preloadArrowPointer(){if(!this.gameManager.config.get("client/ui/pointer/show"))return;let e={frameWidth:this.gameManager.config.getWithoutLogs("client/general/assets/arrowDownFrameWidth",32),frameHeight:this.gameManager.config.getWithoutLogs("client/general/assets/arrowDownFrameHeight",32)};this.load.spritesheet(c.ARROW_DOWN,this.gameManager.config.get("client/general/assets/arrowDownPath","/assets/sprites/arrow-down.png"),e)}preloadUiScene(){this.uiScene&&(this.eventsManager.emitSync("reldens.beforePreloadUiScene",this),this.gameManager.config.get("client/ui/playerBox/enabled")&&this.load.html("playerBox","/assets/html/ui-player-box.html"),this.gameManager.config.get("client/ui/controls/enabled")&&this.load.html("controls","/assets/html/ui-controls.html"),this.useJoystick&&this.load.html("joystick","/assets/html/ui-joystick.html"),this.gameManager.config.get("client/ui/sceneLabel/enabled")&&this.load.html("sceneLabel","/assets/html/ui-scene-label.html"),this.gameManager.config.get("client/ui/instructions/enabled")&&this.load.html("instructions","/assets/html/ui-instructions.html"),this.gameManager.config.get("client/ui/minimap/enabled")&&this.load.html("minimap","/assets/html/ui-minimap.html"),this.gameManager.config.get("client/ui/settings/enabled")&&(this.load.html("settings","/assets/html/ui-settings.html"),this.load.html("settings-content","/assets/html/ui-settings-content.html")),this.gameManager.config.getWithoutLogs("client/ui/preloadTarget/enabled",!0)&&this.load.html("uiTarget","/assets/html/ui-target.html"),this.gameManager.config.getWithoutLogs("client/ui/preloadOptionsTemplates/enabled",!0)&&(this.load.html("uiOptionButton","/assets/html/ui-option-button.html"),this.load.html("uiOptionIcon","/assets/html/ui-option-icon.html"),this.load.html("uiOptionsContainer","/assets/html/ui-options-container.html")),this.gameManager.config.getWithoutLogs("client/ui/preloadLoading/enabled",!0)&&this.load.html("uiLoading","/assets/html/ui-loading.html"),this.eventsManager.emitSync("reldens.preloadUiScene",this))}preloadMapImages(){if(this.preloadImages)for(let e of this.preloadImages)this.load.image(e,`/assets/maps/${e}`)}preloadValidAssets(){if(!d.isObject(this.preloadAssets)){u.info("None assets available for preload.");return}for(let e of Object.keys(this.preloadAssets)){let t=this.preloadAssets[e];if("spritesheet"!==t.asset_type)continue;let i=d.toJson(t.extra_params);if(!i){u.error("Missing spritesheet params.",t);continue}this.load.spritesheet(t.asset_key,`/assets/custom/sprites/${t.asset_file}`,i)}}create(){let e=this.uiScene?this:this.gameManager.gameEngine.uiScene;this.eventsManager.emitSync("reldens.createPreload",this,e),this.uiScene&&this.createUiScene(),this.createPlayerAnimations(d.get(this.gameManager.playerData,"avatarKey",c.IMAGE_PLAYER)),this.createArrowAnimation()}createUiScene(){this.eventsManager.emitSync("reldens.beforeCreateUiScene",this),this.createPlayerBox(),this.createTargetUi(),this.createSceneLabelBox(),this.createControlsBox(),this.createInstructionsBox(),this.createMiniMap(),this.createSettingsUi(),this.eventsManager.emitSync("reldens.createUiScene",this)}createSettingsUi(){let e=this.getUiConfig("settings");e.enabled&&(this.settingsUi=new o,this.settingsUi.createSettings(e,this))}createMiniMap(){let e=this.getUiConfig("minimap");e.enabled&&(this.minimapUi=new s,this.minimapUi.createMinimap(e,this))}createInstructionsBox(){let e=this.getUiConfig("instructions");e.enabled&&(this.instructionsUi=new a,this.instructionsUi.createInstructions(e,this))}createControlsBox(){let e=this.getUiConfig("controls");if(e.enabled)return this.useJoystick?(this.elementsUi.controls=this.createUi("joystick",e),this.joystick.registerJoystickController()):(this.elementsUi.controls=this.createUi("controls",e),this.registerControllers(this.elementsUi.controls))}createUi(e,t){return this.createContent(e,t.uiX,t.uiY)}createContent(e,t,i){return this.add.dom(t,i).createFromCache(e)}createSceneLabelBox(){let e=this.getUiConfig("sceneLabel");e.enabled&&(this.elementsUi.sceneLabel=this.createUi("sceneLabel",e))}createTargetUi(){let e=this.getUiConfig("uiTarget");e.enabled&&(this.uiTarget=this.createUi("uiTarget",e),this.uiTarget.getChildByProperty("className","close-target").addEventListener("click",()=>{this.gameManager.gameEngine.clearTarget()}))}createPlayerBox(){let e=this.getUiConfig("playerBox");if(!e.enabled)return;this.elementsUi.playerBox=this.createUi("playerBox",e);let t=this.elementsUi.playerBox.getChildByProperty("id","logout");t?.addEventListener("click",()=>{this.gameManager.forcedDisconnection=!0,this.gameManager.firebase.isActive&&this.gameManager.firebase.app.auth().signOut(),this.gameManager.gameDom.getWindow().location.reload()})}getUiConfig(e,t,i){let{uiX:n,uiY:r}=this.getUiPosition(e,t,i);return{enabled:this.gameManager.config.getWithoutLogs("client/ui/"+e+"/enabled"),uiX:n,uiY:r}}getUiPosition(e,t,i){""===e&&(e="default");let n=this.gameManager.config.getWithoutLogs("client/ui/"+e,{}),r=d.get(n,"x",0),s=d.get(n,"y",0);if(this.gameManager.config.get("client/ui/screen/responsive")){let e=d.get(n,"responsiveX",!1),a=d.get(n,"responsiveY",!1),o=this.gameManager.gameDom.getElement(".game-container");t||(t=o.offsetWidth),i||(i=o.offsetHeight),r=!1!==e?e*t/100:0,s=!1!==a?a*i/100:0}return{uiX:r,uiY:s}}preloadPlayerDefaultSprite(){let e=this.gameManager.config.get("client/players/animations/fallbackImage","player-base.png");this.load.spritesheet(c.IMAGE_PLAYER,"/assets/custom/sprites/"+e,this.playerSpriteSize)}createPlayerAnimations(e){let t=this.gameManager.config.getWithoutLogs("client/players/animations/"+e+"Frames",this.gameManager.config.get("client/players/animations/defaultFrames"));for(let i of[{k:e+"_"+c.LEFT,img:e,start:t.left.start||3,end:t.left.end||5,repeat:-1,hide:!1},{k:e+"_"+c.RIGHT,img:e,start:t.right.start||6,end:t.right.end||8,repeat:-1,hide:!1},{k:e+"_"+c.UP,img:e,start:t.up.start||9,end:t.up.end||11,repeat:-1,hide:!1},{k:e+"_"+c.DOWN,img:e,start:t.down.start||0,end:t.down.end||2,repeat:-1,hide:!1}])this.createAnimationWith(i);this.eventsManager.emitSync("reldens.createPlayerAnimations",this,e)}createArrowAnimation(){if(!this.gameManager.config.get("client/ui/pointer/show"))return;let e={k:c.ARROW_DOWN,img:c.ARROW_DOWN,start:0,end:2,repeat:3,rate:6};this.createAnimationWith(e)}createAnimationWith(e){if(this.gameManager.createdAnimations[e.k])return;let t={key:e.k,frames:this.anims.generateFrameNumbers(e.img,{start:e.start,end:e.end}),frameRate:d.get(e,"frameRate",this.configuredFrameRate),repeat:e.repeat,hideOnComplete:d.get(e,"hide",!0)};return this.gameManager.createdAnimations[e.k]=this.anims.create(t),this.gameManager.createdAnimations[e.k]}registerControllers(e){this.setupDirButtonInBox(c.UP,e),this.setupDirButtonInBox(c.DOWN,e),this.setupDirButtonInBox(c.LEFT,e),this.setupDirButtonInBox(c.RIGHT,e),this.setupDefaultActionKey(e)}setupDefaultActionKey(e){let t=this.gameManager.config.get("client/ui/controls/defaultActionKey");if(!t)return;let i=this.createActionBox(t);this.gameManager.gameDom.appendToElement(".action-buttons",i),this.setupActionButtonInBox(t,e)}createActionBox(e){let t=this.cache.html.get("actionBox");return this.gameManager.gameEngine.parseTemplate(t,{key:e,actionName:e})}setupDirButtonInBox(e,t){let i=t.getChildByProperty("id",e);i&&this.hold(i,{dir:e})}setupActionButtonInBox(e,t){let i=t.getChildByProperty("id",e);if(i){if(this.gameManager.config.get("client/general/controls/action_button_hold")){this.hold(i,e);return}i?.addEventListener("click",()=>{let t=this.gameManager.activeRoomEvents.getActiveScene(),i={act:l.ACTION,target:t.player.currentTarget,type:e};this.gameManager.activeRoomEvents.send(i)})}}hold(e,t){e.addEventListener("mousedown",i=>{this.startHold(i,e,t)}),e.addEventListener("mouseup",t=>{this.endHold(t,e)}),e.addEventListener("mouseout",t=>{this.endHold(t,e)}),e.addEventListener("touchstart",i=>{this.startHold(i,e,t)}),e.addEventListener("touchend",t=>{this.endHold(t,e)})}startHold(e,t,i){e.preventDefault(),this.gameManager.config.get("client/ui/controls/opacityEffect")&&t.classList.add("button-opacity-off");let n=this.gameManager.activeRoomEvents.getActiveScene(),r=i;d.hasOwn(i,"dir")||(r={act:l.ACTION,target:n.player.currentTarget,type:i.type}),this.gameManager.activeRoomEvents.send(r)}endHold(e,t){e.preventDefault(),this.gameManager.config.get("client/ui/controls/opacityEffect")&&t.classList.remove("button-opacity-off"),this.gameManager.activeRoomEvents.send({act:c.STOP})}createProgressBar(){if(!this.gameManager.config.getWithoutLogs("client/ui/loading/show",!0))return;let e=r.Rectangle,t=e.Clone(this.cameras.main);this.progressRect=new e(0,0,t.width/2,50),e.CenterOn(this.progressRect,t.centerX,t.centerY),this.progressCompleteRect=r.Rectangle.Clone(this.progressRect),this.progressBar=this.createGraphics();let i=this.cameras.main.width,n=this.cameras.main.height,s=this.gameManager.config.get("client/ui/loading/font"),a=this.gameManager.config.get("client/ui/loading/fontSize"),o=this.gameManager.config.get("client/ui/loading/assetsSize");this.loadingText=this.createText(i/2,n/2-50,"Loading...",{fontFamily:s,fontSize:a}),this.loadingText.setOrigin(.5,.5),this.loadingText.setFill(this.gameManager.config.get("client/ui/loading/loadingColor")),this.percentText=this.createText(i/2,n/2-5,"0%",{fontFamily:s,fontSize:o}),this.percentText.setOrigin(.5,.5),this.percentText.setFill(this.gameManager.config.get("client/ui/loading/percentColor")),this.assetText=this.createText(i/2,n/2+50,"",{fontFamily:s,fontSize:o}),this.assetText.setFill(this.gameManager.config.get("client/ui/loading/assetsColor")),this.assetText.setOrigin(.5,.5)}createText(e,t,i,n){return this.add.text(e,t,i,n)}createGraphics(){return this.add.graphics()}onLoadComplete(){for(let e of this.children.list)e.destroy();this.loadingText.destroy(),this.assetText.destroy(),this.percentText.destroy(),this.scene.shutdown()}onFileProgress(e){this.gameManager.config.get("client/ui/loading/showAssets")&&this.assetText.setText("Loading "+e.key)}onLoadProgress(e){let t=parseInt(100*e)+"%";this.percentText.setText(t),this.progressRect.width=e*this.progressCompleteRect.width,this.progressBar.clear().fillStyle(2236962).fillRectShape(this.progressCompleteRect).fillStyle(16777215).fillRectShape(this.progressRect)}getUiElement(e,t=!0){return d.hasOwn(this.elementsUi,e)?this.elementsUi[e]:(t&&u.error("UI not found.",{uiName:e}),!1)}}},{df67ed4c812038a9:"8S6DV",a689b035cfc5756:"c3rUy","55a2dd84a2e283e3":"d5Xkk","29c970db688707f2":"3lOFf",c747f1452190e301:"qaPo7","475d783a521115cd":"93TbC",b9b9df6bd8016f7d:"59VA7","6e32bad98d4c2ac":"3lwy5"}],c3rUy:[function(e,t,i){let{sc:n}=e("3099c8189d097700");t.exports.MinimapUi=class{createMinimap(e,t){t.elementsUi.minimap=t.add.dom(e.uiX,e.uiY).createFromCache("minimap");let i=t.elementsUi.minimap.getChildByProperty("id","minimap-open"),n=t.elementsUi.minimap.getChildByProperty("id","minimap-close");i?.addEventListener("click",()=>{let e=t.elementsUi.minimap.getChildByProperty("id","minimap-ui");e.classList.remove("hidden"),i.classList.add("hidden");let r=t.gameManager.getActiveScene().minimap;r&&this.showMap(r,t,i,n,e)}),n?.addEventListener("click",()=>{let e=t.elementsUi.minimap.getChildByProperty("id","minimap-ui");e.classList.add("hidden"),i&&i.classList.remove("hidden");let r=t.gameManager.getActiveScene().minimap;r&&this.hideMap(r,t,n,e)})}showMap(e,t,i,n,r){if(this.awaitForCamera(e)){setTimeout(()=>{this.showMap(e,t,i,n,r)},e.awaitOnCamera);return}e.minimapCamera.setVisible(!0),e.circle&&e.circle.setVisible(!0),t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:i,minimap:e,box:r})}hideMap(e,t,i,n){if(this.awaitForCamera(e)){setTimeout(()=>{this.hideMap(e,t,i,n)},e.awaitOnCamera);return}e.minimapCamera.setVisible(!1),e.circle&&e.circle.setVisible(!1),t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:i,minimap:e,box:n})}awaitForCamera(e){return 0<e.awaitOnCamera&&(!e.minimapCamera||!n.isFunction(e.minimapCamera.setVisible))}}},{"3099c8189d097700":"3lwy5"}],d5Xkk:[function(e,t,i){let{Logger:n}=e("5a1cf36c8d3b7e72");t.exports.InstructionsUi=class{createInstructions(e,t){let i=t.add.dom(e.uiX,e.uiY).createFromCache("instructions");if(!i)return n.info("Instructions dialog box could not be created."),!1;let r=t.gameManager.gameDom.getElement("#instructions");if(!r)return n.info("Instructions container not found."),!1;let s=i.getChildByProperty("id","instructions-open");s?.addEventListener("click",()=>{r.style.display="block",t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:s,dialogBox:i,dialogContainer:r,uiScene:t})});let a=t.gameManager.gameDom.getElement("#instructions-close");a?.addEventListener("click",()=>{r.style.display="none",t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:a,openButton:s,dialogBox:i,dialogContainer:r,uiScene:t})}),t.elementsUi.instructions=i}}},{"5a1cf36c8d3b7e72":"3lwy5"}],"3lOFf":[function(e,t,i){let{Logger:n}=e("203fa7507cacc04f");t.exports.SettingsUi=class{createSettings(e,t){let i=t.add.dom(e.uiX,e.uiY).createFromCache("settings");if(!i)return n.info("Settings dialog box could not be created."),!1;let r=t.cache.html.get("settings-content");if(!r)return n.info("Settings template not found."),!1;t.gameManager.gameDom.appendToElement(".content",r);let s=t.gameManager.gameDom.getElement("#settings-ui");if(!s)return n.info("Settings container not found."),!1;let a=t.gameManager.gameDom.getElement("#settings-close"),o=i.getChildByProperty("id","settings-open");o?.addEventListener("click",()=>{s.style.display="block",o&&(o.style.display="none"),t.gameManager.events.emit("reldens.openUI",{ui:this,openButton:o,dialogBox:i,dialogContainer:s,uiScene:t})}),a?.addEventListener("click",()=>{s.style.display="none",o&&(o.style.display="block"),t.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:a,openButton:o,dialogBox:i,dialogContainer:s,uiScene:t})}),t.elementsUi.settings=i}}},{"203fa7507cacc04f":"3lwy5"}],qaPo7:[function(e,t,i){let{GameConst:n}=e("88178d0bc5e02e97"),{Logger:r}=e("f4cd4df7f42f9061");t.exports.Joystick=class{constructor(e){this.gameManager=e?.scenePreloader?.gameManager,this.scenePreloader=e?.scenePreloader,this.gameDom=this.gameManager?.gameDom,this.isDragging=!1,this.centerX=!1,this.centerY=!1,this.threshold=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickThreshold",20),this.joystickLeft=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickLeft",25),this.joystickTop=this.gameManager.config.getWithoutLogs("client/ui/controls/joystickTop",25),this.positionSufix="px"}registerJoystickController(){if(!this.gameManager)return r.error("GameManager undefined on Joystick."),!1;this.joystick=this.gameDom.getElement("#joystick"),this.joystickThumb=this.gameDom.getElement("#joystick-thumb"),this.joystickThumb.addEventListener("mousedown",e=>{this.applyMovement(e.clientX,e.clientY)}),this.joystickThumb.addEventListener("touchstart",e=>{e.preventDefault();let t=e.touches?.shift();this.applyMovement(t.clientX,t.clientY)}),this.gameDom.getDocument().addEventListener("mousemove",this.handleMouseMove.bind(this)),this.gameDom.getDocument().addEventListener("mouseup",this.handleStop.bind(this)),this.gameDom.getDocument().addEventListener("touchmove",this.handleTouchMove.bind(this)),this.gameDom.getDocument().addEventListener("touchend",this.handleStop.bind(this))}position(e){return e+this.positionSufix}applyMovement(e,t){this.isDragging=!0;let i=this.joystick.getBoundingClientRect();this.centerX=i.width/2,this.centerY=i.height/2,this.updateThumbPosition(e-i.left,t-i.top)}handleStop(){this.isDragging=!1,this.joystickThumb.style.left=this.position(this.joystickLeft),this.joystickThumb.style.top=this.position(this.joystickTop),this.gameManager.getCurrentPlayer().stop()}updateDirection(e,t){let i=e-this.centerX,r=t-this.centerY,s=n.STOP;if(Math.abs(i)>Math.abs(r)&&Math.abs(i)>this.threshold){for(let e of(s=i>0?Math.abs(r)>this.threshold?r>0?"right-down":"right-up":"right":Math.abs(r)>this.threshold?r>0?"left-down":"left-up":"left").split("-"))try{this.gameManager.getCurrentPlayer()[e]()}catch(e){}return s}if(Math.abs(r)>this.threshold){for(let e of(s=r>0?Math.abs(i)>this.threshold?i>0?"down-right":"down-left":"down":Math.abs(i)>this.threshold?i>0?"up-right":"up-left":"up").split("-"))try{this.gameManager.getCurrentPlayer()[e]()}catch(e){}return s}return this.gameManager.getCurrentPlayer().stop(),s}updateThumbPosition(e,t){let i=e-this.centerX,n=t-this.centerY,r=Math.sqrt(i*i+n*n),s=Math.min(this.centerX,this.centerY);if(r>s){let e=Math.atan2(n,i),t=Math.cos(e)*s+this.centerX-this.joystickThumb.offsetWidth/2;this.joystickThumb.style.left=this.position(t);let r=Math.sin(e)*s+this.centerY-this.joystickThumb.offsetHeight/2;this.joystickThumb.style.top=this.position(r);return}let a=e-this.joystickThumb.offsetWidth/2;this.joystickThumb.style.left=this.position(a);let o=t-this.joystickThumb.offsetHeight/2;this.joystickThumb.style.top=this.position(o)}handleMouseMove(e){if(!this.isDragging)return;let t=this.joystick.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;this.updateThumbPosition(i,n),this.updateDirection(i,n)}handleTouchMove(e){if(!this.isDragging)return;let t=e.touches?.shift(),i=this.joystick.getBoundingClientRect(),n=t.clientX-i.left,r=t.clientY-i.top;this.updateThumbPosition(n,r),this.updateDirection(n,r)}}},{"88178d0bc5e02e97":"93TbC",f4cd4df7f42f9061:"3lwy5"}],"401GU":[function(e,t,i){let{RegistrationFormHandler:n}=e("61e9430bb51b7408"),{TermsAndConditionsHandler:r}=e("6e331d321b006ecf"),{LoginFormHandler:s}=e("6146b6a5adb0380b"),{ForgotPasswordFormHandler:a}=e("48bdd5abf515687b"),{GuestFormHandler:o}=e("5b4b95bc89fe7076"),{FullScreenHandler:h}=e("9e3ced5ae6b38dd");t.exports.ClientStartHandler=class{constructor(e){this.gameManager=e}clientStart(){let e=new n(this.gameManager);e.activateRegistration(),new o(this.gameManager).activateGuest();let t=new r(this.gameManager);t.activateTermsAndConditions();let i=new s(this.gameManager);i.activateLogin();let c=new a(this.gameManager);c.activateForgotPassword(),c.displayForgotPassword();let l=new h(this.gameManager);l.activateFullScreen(),this.gameManager.firebase&&this.gameManager.firebase.startFirebase(),Object.assign(this.gameManager.elements,{registrationForm:e,termsAndConditions:t,loginForm:i,forgotPasswordForm:c,fullScreen:l}),this.gameManager.events.emitSync("reldens.clientStartAfter",this)}}},{"61e9430bb51b7408":"gYHC4","6e331d321b006ecf":"ilJrk","6146b6a5adb0380b":"hG35y","48bdd5abf515687b":"jNMHr","5b4b95bc89fe7076":"4jT2q","9e3ced5ae6b38dd":"5GTLr"}],gYHC4:[function(e,t,i){let{ErrorsBlockHandler:n}=e("e090c4bcd3707d9f"),{GameConst:r}=e("e6f38101bdd301e7");t.exports.RegistrationFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=e.gameDom.getElement(r.SELECTORS.REGISTER_FORM)}activateRegistration(){if(!this.form)return!1;if(!this.gameManager.config.get("client/general/users/allowRegistration"))return this.form.classList.add("hidden"),!0;n.reset(this.form);let e=r.SELECTORS,t=this.gameDom.getElement(e.TERMS.ACCEPT),i=this.gameDom.getElement(e.TERMS.BOX);this.form.addEventListener("submit",n=>{if(n.preventDefault(),!this.form.checkValidity())return!1;let s=this.gameDom.getElement(e.REGISTRATION.PASSWORD).value,a=this.gameDom.getElement(e.REGISTRATION.RE_PASSWORD).value,o=this.form.querySelector(e.RESPONSE_ERROR);if(s!==a&&o)return o.innerHTML="Password and confirmation does not match.",!1;if(!t.checked&&o)return o.innerHTML="Please read and accept the terms and conditions and continue.",!1;i?.classList.add(r.CLASSES.HIDDEN),this.form.querySelector(e.LOADING_CONTAINER).classList.remove(r.CLASSES.HIDDEN);let h={formId:this.form.id,email:this.gameDom.getElement(e.REGISTRATION.EMAIL).value,username:this.gameDom.getElement(e.REGISTRATION.USERNAME).value,password:s,rePassword:a};this.gameManager.startGame(h,!0)})}}},{e090c4bcd3707d9f:"kzsmo",e6f38101bdd301e7:"93TbC"}],kzsmo:[function(e,t,i){let{GameConst:n}=e("32e4ac52cb34a235");t.exports.ErrorsBlockHandler=class{static reset(e){let t=e.querySelector(n.SELECTORS.RESPONSE_ERROR);e.querySelector(n.SELECTORS.INPUT).addEventListener("focus",()=>{t.innerHTML=""})}}},{"32e4ac52cb34a235":"93TbC"}],ilJrk:[function(e,t,i){let{GameConst:n}=e("5e95024018707600"),{Logger:r}=e("b4c60b227487fe12");t.exports.TermsAndConditionsHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.linkContainer=this.gameManager.gameDom.getElement(n.SELECTORS.TERMS.LINK_CONTAINER)}activateTermsAndConditions(){if(!this.linkContainer)return!1;let e=this.gameManager.appServerUrl+n.ROUTE_PATHS.TERMS_AND_CONDITIONS,t=new URL(this.gameDom.getDocument().location).searchParams.get("lang","");""!==t&&(e+="?lang="+t),this.gameDom.getJSON(e,(e,t)=>{if(!t.body||!t.heading||!t.checkboxLabel||!t.link)return!1;if(e)return r.info("Registration error.",e),!1;let i=n.SELECTORS.TERMS;this.gameDom.updateContent(i.HEADING,t.heading),this.gameDom.updateContent(i.BODY,t.body),this.gameDom.updateContent(i.ACCEPT_LABEL,t.checkboxLabel),this.gameDom.updateContent(i.LINK,t.link);let s=this.gameDom.getElement(i.LINK),a=this.gameDom.getElement(i.BOX);s?.addEventListener("click",e=>{e.preventDefault(),a?.classList.remove(n.CLASSES.HIDDEN)}),this.gameDom.getElement(i.CLOSE)?.addEventListener("click",()=>{a?.classList.add(n.CLASSES.HIDDEN)});let o=this.gameDom.getElement(n.SELECTORS.REGISTER_FORM);if(o){let e=this.gameDom.getElement(n.SELECTORS.RESPONSE_ERROR,o),t=this.gameDom.getElement(i.ACCEPT);t.addEventListener("click",()=>{t.checked&&(e.innerHTML="")}),this.gameDom.getElement(i.ACCEPT_LABEL).addEventListener("click",()=>{t.checked&&(e.innerHTML="")})}this.linkContainer?.classList.remove(n.CLASSES.HIDDEN)})}}},{"5e95024018707600":"93TbC",b4c60b227487fe12:"3lwy5"}],hG35y:[function(e,t,i){let{ErrorsBlockHandler:n}=e("d2e27800ca9e6097"),{GameConst:r}=e("9e1bb13aa99be738");t.exports.LoginFormHandler=class{constructor(e){this.gameManager=e,this.form=e.gameDom.getElement(r.SELECTORS.LOGIN_FORM)}activateLogin(){if(!this.form)return!1;n.reset(this.form),this.form.addEventListener("submit",e=>{if(e.preventDefault(),n.reset(this.form),!this.form.checkValidity()||this.gameManager.submitedForm)return!1;this.gameManager.submitedForm=!0,this.form.querySelector(r.SELECTORS.LOADING_CONTAINER).classList.remove(r.CLASSES.HIDDEN);let t={formId:this.form.id,username:this.form.querySelector(r.SELECTORS.LOGIN.USERNAME).value,password:this.form.querySelector(r.SELECTORS.LOGIN.PASSWORD).value};return this.gameManager.startGame(t,!1)})}}},{d2e27800ca9e6097:"kzsmo","9e1bb13aa99be738":"93TbC"}],jNMHr:[function(e,t,i){let{ErrorsBlockHandler:n}=e("2f903207606daf1a"),{GameConst:r}=e("f41810322298058d");t.exports.ForgotPasswordFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=this.gameManager.gameDom.getElement(r.SELECTORS.FORGOT_PASSWORD_FORM)}activateForgotPassword(){return!!this.form&&(this.gameManager.config.get("client/general/users/allowRegistration")?void(n.reset(this.form),this.form.addEventListener("submit",e=>{if(e.preventDefault(),n.reset(this.form),!this.form.checkValidity())return!1;this.form.querySelector(r.SELECTORS.LOADING_CONTAINER).classList.remove(r.CLASSES.HIDDEN);let t={formId:this.form.id,forgot:!0,email:this.form.querySelector(r.SELECTORS.FORGOT_PASSWORD.EMAIL).value};this.gameManager.startGame(t,!1)})):(this.form.classList.add("hidden"),!0))}displayForgotPassword(){this.gameDom.getJSON(this.gameManager.appServerUrl+r.ROUTE_PATHS.MAILER,(e,t)=>{t.enabled&&this.gameDom.getElement(r.SELECTORS.FORGOT_PASSWORD.CONTAINER).classList.remove(r.CLASSES.HIDDEN)})}}},{"2f903207606daf1a":"kzsmo",f41810322298058d:"93TbC"}],"4jT2q":[function(e,t,i){let{ErrorsBlockHandler:n}=e("ed3946e6f3fa9c11"),{GameConst:r}=e("b422c8c562d99fb2"),{sc:s}=e("f241b93688d82620");t.exports.GuestFormHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.form=e.gameDom.getElement(r.SELECTORS.GUEST_FORM)}activateGuest(){if(!this.form)return!1;if(!this.gameManager.config.get("client/general/users/allowGuest"))return this.form.classList.add("hidden"),!0;n.reset(this.form);let e=r.SELECTORS;this.form.addEventListener("submit",t=>{if(t.preventDefault(),!this.form.checkValidity())return!1;this.form.querySelector(e.LOADING_CONTAINER).classList.remove(r.CLASSES.HIDDEN);let i="guest-"+s.randomChars(12),n=this.gameManager.config.getWithoutLogs("client/general/users/allowGuestUserName",!1)?this.gameDom.getElement(e.GUEST.USERNAME).value:i,a={formId:this.form.id,username:n,password:n,rePassword:n,isGuest:!0};this.gameManager.startGame(a,!0)})}}},{ed3946e6f3fa9c11:"kzsmo",b422c8c562d99fb2:"93TbC",f241b93688d82620:"3lwy5"}],"5GTLr":[function(e,t,i){let{GameConst:n}=e("9cf3053a062e3fe1");t.exports.FullScreenHandler=class{constructor(e){this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.body=this.gameDom.getElement(n.SELECTORS.BODY)}activateFullScreen(){this.gameDom.getElement(n.SELECTORS.FULL_SCREEN_BUTTON)?.addEventListener("click",e=>{if(e.preventDefault(),!this.gameDom.getDocument().fullscreenEnabled)return!1;this.body.requestFullscreen(),this.goFullScreen()}),this.gameDom.getWindow().matchMedia("(display-mode: fullscreen)").addEventListener("change",({matches:e})=>{if(e){this.goFullScreen();return}this.exitFullScreen()})}goFullScreen(){this.body.classList.add(n.CLASSES.FULL_SCREEN_ON),this.gameManager?.gameEngine&&this.gameManager.gameEngine.updateGameSize(this.gameManager)}exitFullScreen(){this.body.classList.remove(n.CLASSES.FULL_SCREEN_ON),this.gameManager?.gameEngine&&this.gameManager.gameEngine.updateGameSize(this.gameManager)}}},{"9cf3053a062e3fe1":"93TbC"}],"3ZqP5":[function(e,t,i){let{ClientCoreFeatures:n}=e("8ee8ee6c25b82d8c"),{Logger:r,sc:s}=e("5806e45b7c7c3fa8");t.exports.FeaturesManager=class{constructor(e){this.gameManager=s.get(e,"gameManager",!1),this.events=s.get(e,"events",!1)}async loadFeatures(e){if(!this.gameManager)return r.error("Game Manager undefined in FeaturesManager."),!1;if(!this.events)return r.error("EventsManager undefined in FeaturesManager."),!1;this.featuresList={},await this.events.emit("reldens.loadFeatures",this,e);let t=Object.keys(e);if(0===t.length)return this.featuresList;for(let i of t){let t=e[i];s.hasOwn(n,t)&&(this.featuresList[t]=new n[t],"function"==typeof this.featuresList[t].setup&&await this.featuresList[t].setup({gameManager:this.gameManager,events:this.events}),await this.events.emit("reldens.loadFeature_"+t,this.featuresList[t],this))}return this.featuresList}}},{"8ee8ee6c25b82d8c":"2BcLh","5806e45b7c7c3fa8":"3lwy5"}],"2BcLh":[function(e,t,i){let{ChatPlugin:n}=e("949b1921d3bf5140"),{ObjectsPlugin:r}=e("aa8995112e7d6bdb"),{InventoryPlugin:s}=e("d9ef351011c1851b"),{ActionsPlugin:a}=e("408c84b7d592f2b6"),{UsersPlugin:o}=e("12e36b841f0da63e"),{AudioPlugin:h}=e("3fd885750ac6ac6b"),{RoomsPlugin:c}=e("f2563b87854d4a6e"),{PredictionPlugin:l}=e("282babf537556f44"),{TeamsPlugin:u}=e("d0d5a23fa0219ef6"),{SnippetsPlugin:d}=e("ffba7e1c5e50a8a7"),{AdsPlugin:f}=e("d50aaab7df227399"),{WorldPlugin:p}=e("c63ee71351943ae1"),{ScoresPlugin:g}=e("e1d7ab421b11cea0"),{RewardsPlugin:m}=e("bd8f677aa060e20b");t.exports.ClientCoreFeatures={chat:n,objects:r,inventory:s,actions:a,users:o,audio:h,rooms:c,prediction:l,teams:u,snippets:d,ads:f,world:p,scores:g,rewards:m}},{"949b1921d3bf5140":"1pwR6",aa8995112e7d6bdb:"88wg5",d9ef351011c1851b:"83Jlt","408c84b7d592f2b6":"enPaX","12e36b841f0da63e":"1nDQd","3fd885750ac6ac6b":"jRcE9",f2563b87854d4a6e:"3yQhR","282babf537556f44":"80hlx",d0d5a23fa0219ef6:"8MUNa",ffba7e1c5e50a8a7:"tkJox",d50aaab7df227399:"aNIyr",c63ee71351943ae1:"79nNs",e1d7ab421b11cea0:"jv1vT",bd8f677aa060e20b:"4p1ha"}],"1pwR6":[function(e,t,i){let{ChatUi:n}=e("994be9db4994f9a3"),{MessagesListener:r}=e("b6a36cbfb0da5dfe"),{TemplatesHandler:s}=e("deb4c2146b2d1712"),a=e("267812d6128a4b8e"),{TranslationsMapper:o}=e("5e30eadde21dcf94"),{PluginInterface:h}=e("8d1c7a15abb408a"),{ChatConst:c}=e("fe17ff5717202a3b"),{Logger:l,sc:u}=e("ef3698ca9cea9d5");t.exports.ChatPlugin=class extends h{setup(e){this.gameManager=u.get(e,"gameManager",!1),this.gameManager||l.error("Game Manager undefined in ActionsPlugin."),this.events=u.get(e,"events",!1),this.events||l.error("EventsManager undefined in ChatPlugin."),this.messagesQueu=[],this.uiManager=!1,this.joinRooms=[c.CHAT_GLOBAL],this.setTranslations(),this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;o.forConfig(this.gameManager.config.client,a,c.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.joinedRoom",async e=>{await r.listenMessages(e,this)}),this.events.on("reldens.preloadUiScene",e=>{s.preloadTemplates(e,this.gameManager.config.get("client/ui/chat/showTabs"))}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new n(e),this.uiManager.createUi(),this.uiManager.createTabs(),this.uiManager.processMessagesQueue(this.messagesQueu)})}}},{"994be9db4994f9a3":"eLO7b",b6a36cbfb0da5dfe:"lJUIi",deb4c2146b2d1712:"fgdaI","267812d6128a4b8e":"daHmu","5e30eadde21dcf94":"1fcQw","8d1c7a15abb408a":"fC3To",fe17ff5717202a3b:"dUuh0",ef3698ca9cea9d5:"3lwy5"}],eLO7b:[function(e,t,i){let{Input:n}=e("97d93bd9735e7bfb"),{SpriteTextFactory:r}=e("19814f11619c8dd"),{ChatTabs:s}=e("2429a93c399ce990"),{ChatConst:a}=e("644250816f608ee2"),{Logger:o,sc:h}=e("1eb163b9249e21a9");t.exports.ChatUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene?.gameManager,this.gameDom=this.uiScene?.gameManager?.gameDom,this.setChatTypes(),this.setChatConfiguration(),this.uiChat={},this.messagesQueu=[],this.chatInput=!1,this.chatSendButton=!1,this.chatCloseButton=!1,this.chatOpenButton=!1}setChatConfiguration(){if(!this.gameManager||!this.gameManager.config)return!1;this.uiConfig=this.gameManager.config.get("client/ui/chat"),this.overheadChat=h.get(this.uiConfig,"overheadChat",{}),this.overHeadChatEnabled=h.get(this.overheadChat,"enabled",!1),this.overheadText=h.get(this.uiConfig,"overheadText",{}),this.isDefaultOpen=h.get(this.uiConfig,"defaultOpen",!1),this.isTyping=h.get(this.overheadChat,"isTyping",!1),this.showTabs=h.get(this.uiConfig,"showTabs",!1),this.closeChatBoxAfterSend=h.get(this.closeChatBoxAfterSend,"isTyping",!1),this.messagesConfig=this.gameManager.config.get("client/chat/messages"),this.characterLimit=h.get(this.messagesConfig,"characterLimit",0),this.characterLimitOverhead=h.get(this.messagesConfig,"characterLimitOverhead",0),this.appendErrorTypeOnActiveTab=h.get(this.messagesConfig,"appendErrorTypeOnActiveTab",!0)}setChatTypes(){if(!this.gameManager)return o.warning("Missing GameManager on ChatUI."),!1;if(!this.gameDom)return o.warning("Missing GameDom on ChatUI."),!1;if(!this.gameManager.initialGameData)return o.warning('Missing "initialGameData" on ChatUI.'),!1;if(this.chatTypes=h.get(this.gameManager.initialGameData,"chatTypes",[]),0===this.chatTypes.length)return!1;for(let e of(this.chatTypesById={},this.chatTypes))this.chatTypesById[e.id]=e}createUi(){if(!this.uiScene)return o.warning("Missing UI Scene on ChatUI."),!1;let{uiX:e,uiY:t}=this.uiScene.getUiConfig("chat");if(this.uiChat=this.uiScene.add.dom(e,t).createFromCache("chat"),this.uiScene.elementsUi.chat=this.uiChat,this.chatInput=this.uiChat.getChildByProperty("id",a.CHAT_INPUT),!this.chatInput)return o.info("Missing chat input on ChatUI."),!1;this.setupKeyPressBehaviors(),this.chatInput.addEventListener("onfocusout",()=>{this.hideIsTyping()}),this.setupSendButton(),this.setupOpenCloseButtons(),this.overHeadChatEnabled&&this.setupOverheadChatEvents(),this.isDefaultOpen&&this.showChatBox()}createTabs(){return!!this.showTabs&&(this.tabs=new s(this.gameManager,this.uiScene),!0)}setupOverheadChatEvents(){this.gameManager.events.on("reldens.runPlayerAnimation",(e,t,i,n)=>{this.updateOverheadTextPosition(n)})}setupOpenCloseButtons(){this.chatOpenButton=this.uiChat.getChildByProperty("id",a.CHAT_OPEN_BUTTON),this.chatOpenButton?.addEventListener("click",()=>{this.showChatBox(),this.gameManager.events.emit("reldens.openUI",{ui:this,openButton:this.chatOpenButton,dialogBox:this.uiChat,dialogContainer:this.uiChat.getChildByProperty("id",a.CHAT_UI),uiScene:this.uiScene})}),this.chatCloseButton=this.uiChat.getChildByProperty("id",a.CHAT_CLOSE_BUTTON),this.chatCloseButton?.addEventListener("click",()=>{this.hideChatBox(),this.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:this.chatCloseButton,openButton:this.chatOpenButton,dialogBox:this.uiChat,dialogContainer:this.uiChat.getChildByProperty("id",a.CHAT_UI),uiScene:this.uiScene})})}setupSendButton(){this.chatSendButton=this.uiChat.getChildByProperty("id",a.CHAT_SEND_BUTTON),this.chatSendButton?.addEventListener("click",e=>{e.preventDefault(),this.sendChatMessage(this.chatInput,this.gameManager.activeRoomEvents),this.chatInput.focus()})}setupKeyPressBehaviors(){this.uiScene.input.keyboard.on("keyup-ENTER",()=>{this.isFocussedOnChatInput()||(this.showChatBox(),this.chatInput.focus())}),this.chatInput.addEventListener("keyup",e=>{if(e.keyCode===n.Keyboard.KeyCodes.ENTER){e.preventDefault(),this.sendChatMessage();return}this.showIsTyping()})}showOverheadChat(e,t){if(!this.overHeadChatEnabled)return!1;e.overheadTextSprite&&this.destroyTextSprite(e),t=this.applyTextLimit(t,this.characterLimitOverhead),e.overheadTextSprite=r.attachTextToSprite(e,t,this.overheadText,h.get(this.overheadText,"topOff",0),"overheadTextSprite",this.gameManager.getActiveScene());let i=h.get(this.overheadText,"timeOut",!1);i&&setTimeout(()=>{this.destroyTextSprite(e)},i)}updateOverheadTextPosition(e){if(!e.overheadTextSprite)return!1;let t=r.getTextPosition(e,e.playerName,this.overheadText,h.get(this.overheadText,"topOff",0));e.overheadTextSprite.x=t.x,e.overheadTextSprite.y=t.y}destroyTextSprite(e){if(!e.overheadTextSprite)return!1;e.overheadTextSprite.destroy(),delete e.overheadTextSprite}showIsTyping(){if(!this.overHeadChatEnabled||!this.isTyping||!this.isFocussedOnChatInput())return!1;this.showOverheadChat(this.gameManager.getCurrentPlayerAnimation(),this.gameManager.config.getWithoutLogs("client/ui/chat/waitingContent",this.t(a.SNIPPETS.WAITING)))}hideIsTyping(){if(!this.isTyping)return!1;this.destroyTextSprite(this.gameManager.getCurrentPlayerAnimation())}isFocussedOnChatInput(){return this.gameManager.gameDom.activeElement()===this.chatInput}showChatBox(){this.uiChat.getChildByProperty("id",a.CHAT_UI).classList.remove("hidden"),this.uiChat.setDepth(4),this.chatOpenButton?.classList.add("hidden");let e=this.gameDom.getElement(a.SELECTORS.CHAT_MESSAGES);e&&(e.parentNode.scrollTop=e.scrollHeight),this.hideNotificationsBalloon()}hideChatBox(){let e=this.uiChat.getChildByProperty("id",a.CHAT_UI);if(!e)return o.info("Chat UI box not found."),!1;e.classList.add("hidden"),this.uiChat.setDepth(1),this.chatOpenButton?.classList.remove("hidden")}showNotificationBalloon(){this.getActiveBalloon()?.classList.remove("hidden")}hideNotificationsBalloon(){this.getActiveBalloon()?.classList.add("hidden")}getActiveBalloon(){if(!h.get(this.uiConfig,"notificationBalloon"))return!1;let e=this.uiChat.getChildByProperty("id",a.CHAT_BALLOON);return!!e&&e}processMessagesQueue(e){if(0===e.length)return!1;for(let t of e)this.attachNewMessage(t)}attachNewMessage(e){if(!this.gameManager.gameEngine.uiScene.cache)return;let t=this.gameManager.gameEngine.uiScene.cache.html.get("chatMessage"),i=this.translateMessage(e),n=this.gameManager.gameEngine.parseTemplate(t,{from:this.translateFrom(e),color:a.TYPE_COLOR[e[a.TYPES.KEY]],message:i}),r=this.showTabs?a.TYPES.MESSAGE:"",s=h.get(e,a.TYPES.KEY,r),c=h.get(this.chatTypesById,s,!1),l=!!(""!==s&&c?.show_tab)&&this.gameManager.gameDom.getElement(a.SELECTORS.TAB_CONTENT_PREFIX+s);l&&this.appendWithScroll(l,n);let u=!!c.also_show_in_type&&this.gameManager.gameDom.getElement(a.SELECTORS.TAB_CONTENT_PREFIX+c.also_show_in_type);u&&u!==l&&this.appendWithScroll(u,n);let d=""===s&&this.gameManager.gameDom.getElement(a.SELECTORS.CHAT_MESSAGES);if(d&&this.appendWithScroll(d,n),this.appendErrorTypeOnActiveTab&&a.TYPES.ERROR===s){let e=this.gameManager.gameDom.getElement(a.SELECTORS.TAB_CONTENT_ACTIVE);e&&e!==l&&e!==u&&this.appendWithScroll(e,n)}if(!l&&!u&&!d){null===l&&o.warning("Element not found for selector: .tab-content-"+s),null===u&&o.warning("Element not found for selector: .tab-content-"+c.also_show_in_type),o.warning("Chat message not attached to any tab or main panel.",{message:e,defaultType:r,messageType:s,chatType:c,appendToMain:d,appendToTab:l});return}if(e[a.MESSAGE.FROM]&&this.isValidMessageType(e[a.TYPES.KEY])){let t=this.fetchPlayerByName(e[a.MESSAGE.FROM]);t&&this.showOverheadChat(t,i)}this.uiChat.getChildByProperty("id",a.CHAT_UI).classList.contains("hidden")&&this.showNotificationBalloon()}appendWithScroll(e,t){e.innerHTML+=t,e.parentNode.scrollTop=e.scrollHeight}translateFrom(e){let t=e[a.TYPES.KEY],i=e[a.MESSAGE.FROM]||a.TYPES.SYSTEM;return this.isValidSnippetFromType(t)?this.t(a.SNIPPETS.PREFIX+a.TYPES.KEY+t):i}translateMessage(e){let t=e[a.TYPES.KEY];if(!this.isValidSnippetType(t))return e[a.MESSAGE.KEY];let i=e[a.MESSAGE.DATA.KEY];if(!i)return this.t(e[a.MESSAGE.KEY]);if(i[a.MESSAGE.DATA.MODIFIERS]){let t="",n=i[a.MESSAGE.DATA.TARGET_LABEL];for(let r of Object.keys(i[a.MESSAGE.DATA.MODIFIERS])){let s=this.t(r),o=i[a.MESSAGE.DATA.MODIFIERS][r];t+=this.t(e[a.MESSAGE.KEY],{propertyValue:o,propertyLabel:s,targetLabel:n})}return t}return this.t(e[a.MESSAGE.KEY],i)}t(e,t={},i=!1){return this.gameManager.services.translator.t(e,t,i)}isValidMessageType(e){return -1===this.validMessageTypes().indexOf(e)}validMessageTypes(){return[Object.values(a.TYPES)]}isValidSnippetType(e){let t=this.snippetsMessageTypes();for(let i of Object.keys(t))if(t[i]===e)return!0;return!1}snippetsMessageTypes(){let e=Object.assign({},a.TYPES);return delete e[a.TYPES.MESSAGE],delete e[a.TYPES.PRIVATE],delete e[a.TYPES.GLOBAL],delete e[a.TYPES.TEAMS],e}isValidSnippetFromType(e){return -1!==[a.TYPES.SYSTEM,a.TYPES.ERROR].indexOf(e)}fetchPlayerByName(e){let t=this.gameManager.getCurrentPlayer().players,i=Object.keys(t);if(1>=i.length)return!1;for(let n of i){let i=t[n];if(i.playerName===e)return i}}sendChatMessage(){if(!this.isValidMessage())return!1;let e=this.applyTextLimit(this.chatInput.value,this.characterLimit),t={act:a.CHAT_ACTION,m:e};this.gameManager.events.emitSync("reldens.chatMessageObjectCreated",this,t),this.useGlobalRoom()?this.useGlobalRoomForMessage(t):this.gameManager.activeRoomEvents.send(t),this.chatInput.value="",this.closeChatBoxAfterSend&&this.hideChatBox()}applyTextLimit(e,t){return 0<t&&t<e.length?e.substring(0,t):e}useGlobalRoom(){return 0===this.chatInput.value.indexOf("#")||0===this.chatInput.value.indexOf("@")}isValidMessage(){return this.chatInput.value&&0<this.chatInput.value.replace("#","").replace("@","").trim().length}useGlobalRoomForMessage(e){let t=h.get(this.gameManager.joinedRooms,a.CHAT_GLOBAL,!1);if(!t)return o.error("Global chat room not found."),!1;if(0===this.chatInput.value.indexOf("@")){this.sendPrivateMessage(e,t);return}this.globalSend(t,e)}sendPrivateMessage(e,t){let i=this.chatInput.value.substring(1,this.chatInput.value.indexOf(" "));if("@"===i)return!1;e.t=i,this.globalSend(t,e)}globalSend(e,t){try{e.send("*",t)}catch(e){o.critical(e),this.gameDom.alertReload(this.gameManager.services.translator.t("game.errors.connectionLost"))}}}},{"97d93bd9735e7bfb":"8S6DV","19814f11619c8dd":"bywhA","2429a93c399ce990":"7CV1J","644250816f608ee2":"dUuh0","1eb163b9249e21a9":"3lwy5"}],"7CV1J":[function(e,t,i){let{ChatConst:n}=e("a22c3a2311bae153"),{Logger:r,sc:s}=e("6e140e18d42fb249");t.exports.ChatTabs=class{constructor(e,t){this.gameManager=e,this.uiScene=t,this.showTabs=this.gameManager.config.get("client/ui/chat/showTabs"),this.containerTemplate=!1,this.headerTemplate=!1,this.contentTemplate=!1,this.createTabs(),this.activateTabs()}createTabs(){if(!this.isReady())return!1;let e=s.get(this.gameManager.initialGameData,"chatTypes",[]);if(0===e.length)return r.info("Chat types empty."),!1;if(!this.gameManager.gameDom.getElement(n.SELECTORS.CONTENTS))return r.info("Chat contents element not found."),!1;if(!this.fetchTemplates())return!1;let t="",i="",a=0;for(let r of e){if(!r.show_tab)continue;let e=r.key,s=r.id,o=Object.assign({},{headerTemplate:this.headerTemplate});t+=this.gameManager.gameEngine.parseTemplate(o.headerTemplate,{tabId:s,tabLabel:this.gameManager.services.translator.t(n.SNIPPETS.PREFIX+n.SNIPPETS.TAB_PREFIX+e),className:0===a?" active":""});let h=Object.assign({},{contentTemplate:this.contentTemplate});i+=this.gameManager.gameEngine.parseTemplate(h.contentTemplate,{tabId:s,tabKey:e,className:0===a?" active":""}),a++}let o=this.gameManager.gameEngine.parseTemplate(this.containerTemplate,{tabsHeaders:t,tabsContents:i});this.gameManager.gameDom.updateContent(n.SELECTORS.CONTENTS,o)}fetchTemplates(){return(this.containerTemplate=this.uiScene.cache.html.get("chatTabsContainer"),this.containerTemplate)?(this.headerTemplate=this.uiScene.cache.html.get("chatTabLabel"),this.headerTemplate)?(this.contentTemplate=this.uiScene.cache.html.get("chatTabContent"),!!this.contentTemplate||(r.info("Chat contentTemplate not found."),!1)):(r.info("Chat headerTemplate not found."),!1):(r.info("Chat containerTemplate not found."),!1)}isReady(){return this.gameManager||r.error("ChatTabs, missing game manager."),this.uiScene||r.error("ChatTabs, missing UI Scene."),!(!this.showTabs||!this.gameManager||!this.uiScene)}activateTabs(){for(let e of this.gameManager.gameDom.getElements(".tab-label"))e.addEventListener("click",e=>{let t=this.gameManager.gameDom.getElement(".tab-label.active");t?.classList.remove("active"),e.target.classList.add("active");let i=this.gameManager.gameDom.getElement(".tab-content.active");i?.classList.remove("active");let n=this.gameManager.gameDom.getElement(".tab-content-"+e.target.dataset.tabId);if(!n)return r.warning("Tab content was not found.",e),!1;n.classList.add("active"),n.parentNode.scrollTop=n.scrollHeight})}}},{a22c3a2311bae153:"dUuh0","6e140e18d42fb249":"3lwy5"}],dUuh0:[function(e,t,i){let n="chat.",r="player.",s={KEY:"ctk",MESSAGE:1,JOINED:2,SYSTEM:3,PRIVATE:4,DAMAGE:5,REWARD:6,SKILL:7,TEAMS:8,GLOBAL:9,ERROR:10};t.exports.ChatConst={ROOM_TYPE_CHAT:"chat",CHAT_ACTION:"c",TYPES:s,CHAT_FROM:"f",CHAT_TO:"t",CHAT_UI:"chat-ui",CHAT_FORM:"chat-form",CHAT_INPUT:"chat-input",CHAT_SEND_BUTTON:"chat-send",CHAT_CLOSE_BUTTON:"chat-close",CHAT_OPEN_BUTTON:"chat-open",CHAT_BALLOON:"notification-balloon",CHAT_GLOBAL:"chat",MESSAGE:{KEY:"m",FROM:"f",TO:"t",DATA:{KEY:"md",SNIPPET:"sp",PLAYER_NAME:"pn",ROOM_NAME:"rn",DAMAGE:"d",TARGET_LABEL:"tL",SKILL_LABEL:"sk",MODIFIERS:"mfs"},DATA_VALUES:{NAMESPACE:"chat",pn:"playerName",rn:"roomName",d:"damage",tL:"targetLabel",sk:"skillLabel",mfs:"modifiers"}},SNIPPETS:{PREFIX:n,PLAYER_PREFIX:r,TAB_PREFIX:"tabs.",NPC_DAMAGE:n+"npcDamage",NPC_DODGED_SKILL:n+"dodgedSkill",MODIFIERS_APPLY:n+"modifiersApply",JOINED_ROOM:n+"joinedRoom",LEFT_ROOM:n+"leftRoom",PRIVATE_MESSAGE_PLAYER_NOT_FOUND:n+"playerNotFound",GLOBAL_MESSAGE_NOT_ALLOWED:n+"globalMessageNotAllowed",GLOBAL_MESSAGE_PERMISSION_DENIED:n+"globalMessagePermissionDenied",PLAYER:{DAMAGE:n+r+"damage",DODGED_SKILL:n+r+"dodgedSkill"},GUEST_INVALID_CHANGE_POINT:n+"guestInvalidChangePoint",WAITING:"..."},SELECTORS:{CONTENTS:"#chat-contents",CHAT_MESSAGES:"#chat-messages",TAB_CONTENT_PREFIX:".tab-content-",TAB_CONTENT_ACTIVE:".tab-content.active"},TYPE_COLOR:{[s.MESSAGE]:"#ffffff",[s.PRIVATE]:"#f39c12",[s.PRIVATE+".to"]:"#00afff",[s.GLOBAL]:"#ffff00",[s.SYSTEM]:"#2ecc71",[s.ERROR]:"#ff0000",[s.DAMAGE]:"#ff0000",[s.SYSTEM+".modifiers"]:"#0feeff",[s.REWARD]:"#2ecc71",[s.TEAMS]:"#2ecc71"}}},{}],lJUIi:[function(e,t,i){let{ChatConst:n}=e("7520fddeb5373b09");t.exports.MessagesListener=class{static async listenMessages(e,t){e.onMessage("*",e=>{if(n.CHAT_ACTION===e.act){if(!t.uiManager){t.messagesQueu.push(e);return}t.uiManager.attachNewMessage(e)}})}}},{"7520fddeb5373b09":"dUuh0"}],fgdaI:[function(e,t,i){t.exports.TemplatesHandler=class{static preloadTemplates(e,t){let i="/assets/features/chat/templates/";e.load.html("chat",i+"ui-chat.html"),e.load.html("chatMessage",i+"message.html"),t&&(e.load.html("chatTabsContainer",i+"tabs-container.html"),e.load.html("chatTabLabel",i+"tab-label.html"),e.load.html("chatTabContent",i+"tab-content.html"))}}},{}],daHmu:[function(e,t,i){t.exports={chat:{ctk3:"System",ctk10:"System",npcDamage:"%damage damage on %targetLabel",dodgedSkill:"%targetLabel dodged %skill",modifiersApply:"%propertyValue %propertyLabel on %targetLabel",joinedRoom:"%playerName has joined %roomName",leftRoom:"%playerName has left",playerNotFound:'Player "%playerName" not found',globalMessagesNotAllowed:"Global messages not allowed",globalMessagePermissionDenied:"Global message permission denied",guestInvalidChangePoint:"The room is not available for guest users.",player:{damage:"%damage damage on %targetLabel",dodgedSkill:"%targetLabel dodged %skill"},tabs:{message:"General",joined:"Joined",system:"System",private:"Private",damage:"Damage",reward:"Rewards",skill:"Skills",teams:"Teams",global:"Global",error:"Error"}}}},{}],"1fcQw":[function(e,t,i){let{SnippetsConst:n}=e("f5fe63265b673629"),{sc:r}=e("70ef676150c60a42");t.exports.TranslationsMapper=class{static forConfig(e,t,i=!1,s=n.DEFAULT_LOCALE){e.snippets||(e.snippets={}),e.snippets[s]||(e.snippets[s]={});let a=this.fromObject(t);if(e.snippets[s]=r.deepMergeProperties(a,e.snippets[s]),!i)return;e.snippetsDataValues||(e.snippetsDataValues={});let o=i.NAMESPACE||n.DATA_VALUES_DEFAULT_NAMESPACE;r.deepMergeProperties(e.snippetsDataValues,{[o]:i})}static fromObject(e){let t=Object.keys(e);if(0===t.length)return{};let i={};for(let n of t)this.recursiveMap(n,e[n],i);return i}static recursiveMap(e,t,i){if(!r.isObject(t)){i[e]=t;return}let s=Object.keys(t);if(0!==s.length)for(let r of s)this.recursiveMap(e+n.CONCAT_CHARACTER+r,t[r],i)}}},{f5fe63265b673629:"biSFs","70ef676150c60a42":"3lwy5"}],biSFs:[function(e,t,i){t.exports.SnippetsConst={KEY:"snippets",DEFAULT_LOCALE:"en_US",CONCAT_CHARACTER:".",DATA_VALUES_DEFAULT_NAMESPACE:"default",ACTIONS:{UPDATE:"sn.Up"}}},{}],fC3To:[function(e,t,i){let{Logger:n}=e("956b760a8a542b20");t.exports.PluginInterface=class{async setup(e){n.error("Setup plugin not implemented.",e)}}},{"956b760a8a542b20":"3lwy5"}],"88wg5":[function(e,t,i){let{AnimationEngine:n}=e("2d0db67a357a1df6"),{ObjectsMessageListener:r}=e("79a86c288b721c2b"),{DropsMessageListener:s}=e("deab023d199335c9"),a=e("8cedb0a2567e4f93"),{TranslationsMapper:o}=e("52449bab2a32580c"),{UserInterface:h}=e("52476153d5a162e6"),{ObjectsConst:c}=e("f64071d16effca52"),{ActionsConst:l}=e("bef8aa2a761e6924"),{PluginInterface:u}=e("6bb02e09282ac53"),{GameConst:d}=e("cb715b6f39878bc"),{Logger:f,sc:p}=e("c0cb3eea0cda2e5e");t.exports.ObjectsPlugin=class extends u{setup(e){this.gameManager=p.get(e,"gameManager",!1),this.gameManager||f.error("Game Manager undefined in InventoryPlugin."),this.events=p.get(e,"events",!1),this.events||f.error("EventsManager undefined in InventoryPlugin."),this.bodyOnAddCallBack=!1,this.bodyOnRemoveCallBack=!1,this.bullets={},this.changeBodyVisibilityOnInactiveState=this.gameManager.config.getWithoutLogs("client/objects/animations/changeBodyVisibilityOnInactiveState",!0),this.missingSpritesTimeOut=this.gameManager.config.getWithoutLogs("client/general/animations/missingSpritesTimeOut",200),this.missingSpritesMaxRetries=this.gameManager.config.getWithoutLogs("client/general/animations/missingSpritesMaxRetries",5),this.missingSpriteRetry=0,this.listenEvents(),this.setTranslations(),this.setListener()}setListener(){if(!this.gameManager)return!1;this.gameManager.config.client.message.listeners.traderObject=new r}setTranslations(){if(!this.gameManager)return!1;o.forConfig(this.gameManager.config.client,a,c.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.startEngineScene",async e=>{await this.prepareObjectsUi(e.gameManager,e.sceneData.objectsAnimationsData,e)}),this.events.on("reldens.afterSceneDynamicCreate",async e=>{await this.createDynamicAnimations(e)}),this.events.on("reldens.joinedRoom",(e,t)=>{this.listenMessages(e,t),s.listenMessages(e,t)})}listenMessages(e,t){if(e.onMessage("*",e=>{this.startObjectAnimation(e,t),this.objectBattleEndAnimation(e,t)}),!e.state||!e.state.bodies)return!1;this.setAddBodyCallback(e,t),this.setRemoveBodyCallback(e)}setAddBodyCallback(e,t){this.bodyOnAddCallBack=e.state.bodies.onAdd((i,n)=>{this.setOnChangeBodyCallback(i,n,e,t),this.createBulletSprite(n,t,i)})}createBulletSprite(e,t,i){if(-1===e.indexOf("bullet"))return!1;let n=t.activeRoomEvents.getActiveScene(),r="default_bullet",s=(i.key?i.key+"_":"")+"bullet";p.hasOwn(t.gameEngine.uiScene.directionalAnimations,s)&&(s=s+"_"+i.dir),p.hasOwn(n.anims.anims.entries,s)&&(r=s);let a=n?.physics?.add?.sprite(i.x,i.y,r);if(!a)return f.warning("Could not create bullet sprite.",n),!1;a.setDepth(11e3),this.bullets[e]=a}setOnChangeBodyCallback(e,t,i,n){let r=Object.keys(e),s=Object.keys(e.state??{});for(let i of r)e.listen(i,async r=>{await this.events.emit("reldens.objectBodyChange",{body:e,key:t,changes:{[i]:r}}),this.updateBodyProperties(i,s,e,r);let a=n.activeRoomEvents.getActiveScene();if(!a)return;let o=-1!==t.indexOf("bullet"),h=o?this.bullets[t]:a?.objectsAnimations[t];this.setVisibility(h,d.STATUS.ACTIVE===e.inState),this.logObjectBodyUpdate(t,i,r,h);let c=d.STATUS.AVOID_INTERPOLATION!==e.inState;if(a?.clientInterpolation&&c){a.interpolateObjectsPositions[t]=e;return}return o?this.updateBulletBodyPosition(t,e):this.updateObjectsAnimations(t,e,a)})}logObjectBodyUpdate(e,t,i,n){let r={key:e,propertyKey:t,newValue:i};("x"===t||"y"===t)&&n&&n[t]&&(r.currentValue=n[t]),f.debug(r)}setVisibility(e,t){e&&e.sceneSprite&&e.sceneSprite.setVisible(t)}updateBodyProperties(e,t,i,n){if("state"===e){for(let e of t)i.state[e]=n[e];return}i[e]=n}updateBulletBodyPosition(e,t){this.bullets[e]&&(this.bullets[e].x=t.x,this.bullets[e].y=t.y,this.events.emit("reldens.objectBodyChanged",{body:t,key:e}))}updateObjectsAnimations(e,t,i){let n=p.get(i.objectsAnimations,e);if(!n)return!1;n.updateObjectAndSpritePositions(t.x,t.y),this.events.emit("reldens.objectBodyChanged",{body:t,key:e});let r=n.updateObjectDepth();n.inState=t.inState;let s=this.fetchAvailableAnimationKey(i,n,t);return""!==s&&n.sceneSprite.anims.play(s,!0),this.moveSpritesObjects(n,t.x,t.y,r),!t.mov&&(n.sceneSprite.anims.stop(),n.sceneSprite.mov=t.mov,!!n.autoStart&&(n.sceneSprite.anims.play(this.determineAutoStartAnimation(n,s)),!0))}determineAutoStartAnimation(e,t){return!0===e.autoStart?e.key:e.autoStart===c.DYNAMIC_ANIMATION?t:e.autoStart}fetchAvailableAnimationKey(e,t,i){return p.getByPriority(e.anims.anims.entries,[t.key+"_"+i.dir,t.layerName+"_"+t.id+"_"+i.dir,t.key])||""}setRemoveBodyCallback(e){this.bodyOnRemoveCallBack=e.state.bodies.onRemove((e,t)=>{if(-1===t.indexOf("bullet")||!p.hasOwn(this.bullets,t))return!1;this.bullets[t].destroy(),delete this.bullets[t]})}objectBattleEndAnimation(e,t){if(e.act!==l.BATTLE_ENDED)return!1;let i=p.get(t.config.client.skills.animations,e.k+"_death","default_death"),n=t.activeRoomEvents.getActiveScene();try{this.playDeathAnimation(i,n,e)}catch(e){f.warning('Error on sprite "'+i+'" not available.',e.message)}if(!p.hasOwn(e,l.DATA_OBJECT_KEY_TARGET))return!1;e[l.DATA_OBJECT_KEY_TARGET]===n.player.currentTarget?.id&&t.gameEngine.clearTarget();let r=p.get(n.player.players,e[l.DATA_OBJECT_KEY_TARGET],!1);if(!r)return!1;r.visible=!1,p.hasOwn(r,"nameSprite")&&r.nameSprite&&(r.nameSprite.visible=!1)}playDeathAnimation(e,t,i){if(!t.getAnimationByKey(e))return this.missingSpritesMaxRetries===this.missingSpriteRetry?f.debug('Sprite "'+e+'" not available.',e):(this.missingSpriteRetry++,setTimeout(()=>this.playDeathAnimation(e,t,i),this.missingSpritesTimeOut)),!1;let n=t.physics.add.sprite(i.x,i.y,e);return n.setDepth(10500),n.anims.play(e,!0).on("animationcomplete",()=>{n.destroy()}),!0}startObjectAnimation(e,t){if(e.act!==c.OBJECT_ANIMATION&&e.act!==c.TYPE_ANIMATION)return!1;let i=t.activeRoomEvents.getActiveScene();if(!p.hasOwn(i.objectsAnimations,e.key))return!1;i.objectsAnimations[e.key].runAnimation()}moveSpritesObjects(e,t,i,n){if(!e.moveSprites)return;let r=Object.keys(e.moveSprites);if(0!==r.length)for(let s of r){let r=e.moveSprites[s];r.x=t,r.y=i;let a=n+("above"===p.get(e.animationData,"depthByPlayer","")?1:-.1);r.setDepth(a)}}async prepareObjectsUi(e,t,i){if(!t){f.info(["None objects animations data.",i]);return}for(let n of Object.keys(t)){let r=t[n];if(!p.hasOwn(r,"ui"))continue;if(!r.id){f.error(["Object ID not specified. Skipping registry:",r]);continue}let s=p.get(r,"template","/assets/html/dialog-box.html");i.objectsUi[r.id]=new h(e,r,s,"npcDialog"),await e.events.emit("reldens.createdUserInterface",{gameManager:e,id:r.id,userInterface:i.objectsUi[r.id],ObjectsPlugin:this})}}async createDynamicAnimations(e){let t=e.gameManager.activeRoomEvents.getActiveScene();if(!t.objectsAnimationsData){f.info("None animations defined on this scene: "+t.key);return}for(let i of(await this.events.emit("reldens.createDynamicAnimationsBefore",this,e),Object.keys(t.objectsAnimationsData))){let n=t.objectsAnimationsData[i];await this.createAnimationFromAnimData(n,e)}}async createAnimationFromAnimData(e,t){if(!e.key)return f.error("Animation key not specified. Skipping registry.",e),!1;e.frameRate=t.configuredFrameRate,await this.events.emit("reldens.createDynamicAnimation_"+e.key,this,e);let i=new(t.gameManager.config.getWithoutLogs("client/customClasses/objects/"+e.key,n))(t.gameManager,e,t);return i.createAnimation(),i}}},{"2d0db67a357a1df6":"55aYT","79a86c288b721c2b":"9u1ZW",deab023d199335c9:"8cYlw","8cedb0a2567e4f93":"hznMs","52449bab2a32580c":"1fcQw","52476153d5a162e6":"bzImH",f64071d16effca52:"izuLV",bef8aa2a761e6924:"59VA7","6bb02e09282ac53":"fC3To",cb715b6f39878bc:"93TbC",c0cb3eea0cda2e5e:"3lwy5"}],"55aYT":[function(e,t,i){let{Logger:n,sc:r}=e("69cb276730e319a6"),{ObjectsConst:s}=e("4aa72c897fe49299"),{GameConst:a}=e("e5f3f59c83d28a8d");t.exports.AnimationEngine=class{constructor(e,t,i){this.currentPreloader=i,this.currentAnimation=!1,this.gameManager=e,this.enabled=t.enabled||!1,this.key=t.key,this.id=t.id,this.asset_key=t.asset_key||t.key,this.assetPath=t.assetPath||"/assets/custom/sprites/",this.type=t.type||!1,this.ui=t.ui||!1,this.targetName=t.targetName,this.frameRate=t.frameRate||!1,this.frameStart=t.frameStart||0,this.frameEnd=t.frameEnd||0,this.x=t.x||0,this.y=t.y||0,this.repeat=isNaN(t.repeat)?-1:t.repeat,this.hideOnComplete=t.hideOnComplete||!1,this.gameManager.createdAnimations||(this.gameManager.createdAnimations={}),this.destroyOnComplete=t.destroyOnComplete||!1,this.autoStart=t.autoStart||!1,this.layerName=t.layerName||!1,this.positionFix=t.positionFix||!1,this.zeroPad=t.zeroPad||!1,this.prefix=t.prefix||!1,this.isInteractive=t.isInteractive||!1,this.highlightOnOver=!!r.get(t,"highlightOnOver",this.gameManager.config.getWithoutLogs("client/ui/animations/highlightOnOver",!0)),this.highlightColor=r.get(t,"highlightColor",this.gameManager.config.getWithoutLogs("client/ui/animations/highlightColor","0x00ff00")),this.restartTime=r.get(t,"restartTime",!1),this.calculateAnimPosition(),r.hasOwn(t,"animations")&&this.createObjectAnimations(t.animations)}updateObjectAndSpritePositions(e,t){this.sceneSprite.x=e,this.sceneSprite.y=t,this.x=e,this.y=t,this.calculateAnimPosition()}calculateAnimPosition(){this.animPos={x:this.x,y:this.y},this.positionFix&&(r.hasOwn(this.positionFix,"x")&&(this.animPos.x=this.x+this.positionFix.x),r.hasOwn(this.positionFix,"y")&&(this.animPos.y=this.y+this.positionFix.y))}updateObjectDepth(){let e=this.y+this.sceneSprite.height;return this.sceneSprite.setDepth(e),e}createAnimation(){if(!this.enabled){n.error("Animation disabled: "+this.key);return}let e=this.gameManager.activeRoomEvents.getActiveScene();if(!e){n.error("Active scene not found.");return}let t={start:this.frameStart,end:this.frameEnd};if(!1!==this.prefix&&(t.prefix=this.prefix),!1!==this.zeroPad&&(t.zeroPad=this.zeroPad),!this.currentPreloader.anims.textureManager.list[this.asset_key]){n.warning("Asset not found in preloader.",this.asset_key,t),this.currentPreloader.load.spritesheet(this.asset_key,this.assetPath+this.asset_key,t),this.currentPreloader.load.once("complete",async()=>{this.createAnimation()});return}let i=this.currentPreloader.anims.generateFrameNumbers(this.asset_key,t),r={key:this.key,frames:i,frameRate:this.frameRate,repeat:this.repeat,hideOnComplete:this.hideOnComplete};this.currentAnimation=this.gameManager.createdAnimations[this.key],this.currentAnimation||(n.debug("Creating animation: "+this.key),this.currentAnimation=this.currentPreloader.anims.create(r)),this.currentPreloader.objectsAnimations[this.key]=this.currentAnimation,this.gameManager.createdAnimations[this.key]=this.currentAnimation;let s=this.positionFix?this.animPos.x:this.x,a=this.positionFix?this.animPos.y:this.y;return this.sceneSprite=e.physics.add.sprite(s,a,this.asset_key),this.autoStart&&this.sceneSprite.anims.play(this.key,!0),this.enableInteraction(e),this.enableAutoRestart(),this.automaticDestroyOnComplete(),this.sceneSprite.setDepth(this.y+this.sceneSprite.body.height),e.objectsAnimations[this.key]=this,this.gameManager.events.emitSync("reldens.createAnimationAfter",{animationEngine:this}),this.sceneSprite}automaticDestroyOnComplete(){this.destroyOnComplete&&this.sceneSprite.on("animationcomplete",()=>{this.currentAnimation?.destroy(),this.sceneSprite.destroy()},this)}enableAutoRestart(){this.restartTime&&this.sceneSprite.on("animationcomplete",()=>{setTimeout(()=>{this.sceneSprite.anims&&(this.sceneSprite.anims.restart(),this.sceneSprite.anims.pause())},this.restartTime)},this)}enableInteraction(e){this.isInteractive&&(this.sceneSprite.setInteractive({useHandCursor:!0}).on("pointerdown",t=>{if(a.SELECTORS.CANVAS!==t.downElement.nodeName)return!1;let i=this.key===this.asset_key?this.id:this.key,n={act:s.OBJECT_INTERACTION,id:i,type:this.type};if(this.gameManager.activeRoomEvents.send(n),!this.targetName)return!1;let r=Object.assign({},e.player.currentTarget),o={id:i,type:s.TYPE_OBJECT};e.player.currentTarget=o,this.gameManager.gameEngine.showTarget(this.targetName,o,r)}),this.highlightOnOver&&(this.sceneSprite.on("pointerover",()=>{this.sceneSprite.setTint(this.highlightColor)}),this.sceneSprite.on("pointerout",()=>{this.sceneSprite.clearTint()})))}runAnimation(){if(!this.sceneSprite){n.error("Current animation not found: "+this.key);return}this.sceneSprite.anims.play(this.key,!0)}getPosition(){return{x:this.x,y:this.y}}createObjectAnimations(e){if(!e)return;let t=Object.keys(e);if(0!==t.length)for(let i of t){if(this.gameManager.createdAnimations[i]){this.currentPreloader.objectsAnimations[i]=this.gameManager.createdAnimations[i];continue}if(r.hasOwn(this.currentPreloader.objectsAnimations,i))continue;let t=e[i],n={key:i,frames:this.currentPreloader.anims.generateFrameNumbers(t.asset_key||this.asset_key,{start:t.start||this.frameStart,end:t.end||this.frameEnd}),frameRate:t.frameRate||this.frameRate,repeat:t.repeat||this.repeat,hideOnComplete:t.hideOnComplete||this.hideOnComplete,asset_key:t.asset_key||this.asset_key};this.currentPreloader.objectsAnimations[i]=this.currentPreloader.anims.create(n),this.gameManager.createdAnimations[i]=this.currentPreloader.objectsAnimations[i]}}}},{"69cb276730e319a6":"3lwy5","4aa72c897fe49299":"izuLV",e5f3f59c83d28a8d:"93TbC"}],"9u1ZW":[function(e,t,i){let{TraderObjectUi:n}=e("58811b04f3d9bb80"),{Logger:r,sc:s}=e("f04fad6c99485124");t.exports.ObjectsMessageListener=class{async executeClientMessageActions(e){let t=s.get(e,"message",!1);if(!t)return r.error("Missing message data on ObjectsMessageListener.",e),!1;if(!s.get(t,"result",!1))return r.error("Missing result data on ObjectsMessageListener.",e),!1;if(!s.get(t,"id",!1))return r.error("Missing Object ID on ObjectsMessageListener.",e),!1;let i=s.get(e,"roomEvents",!1);if(!i)return r.error("Missing RoomEvents on ObjectsMessageListener.",e),!1;let a=new n({roomEvents:i,message:t});if(!a.validate())return!1;a.updateContents()}}},{"58811b04f3d9bb80":"h56Er",f04fad6c99485124:"3lwy5"}],h56Er:[function(e,t,i){let{ItemsConst:n}=e("6f47f46589411c74"),{ObjectsConst:r}=e("5d863b6194329ea"),{Logger:s,sc:a}=e("4eb12b9fd296bfd9");t.exports.TraderObjectUi=class{constructor(e){this.roomEvents=a.get(e,"roomEvents",!1),this.message=a.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene,this.itemsManager=this.gameManager?.inventory?.manager,this.objectUi=this.roomEvents?.objectsUi[this.message?.id],this.setConfirmMessages()}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene?this.itemsManager?!!this.objectUi||(s.error("Missing objectUi on TraderObjectUi."),!1):(s.error("Missing ItemsManager on TraderObjectUi."),!1):(s.error("Missing UiScene on TraderObjectUi."),!1):(s.error("Missing GameManager on TraderObjectUi."),!1):(s.error("Missing message on TraderObjectUi."),!1):(s.error("Missing RoomEvents on TraderObjectUi."),!1)}setConfirmMessages(){if(!this.gameManager)return!1;this.confirmMessages={buy:this.gameManager.services.translator.t("objects.trader.buyConfirmed"),sell:this.gameManager.services.translator.t("objects.trader.sellConfirmed")}}updateContents(){let e=this.gameManager.gameDom.getElement("#box-"+this.objectUi.id+" .box-content");if(!e)return s.error('Missing container: "#box-'+this.objectUi.id+' .box-content".'),!1;let t=this.message.result.action;if(r.TRADE_ACTIONS_FUNCTION_NAME.CONFIRM===this.message.result.subAction)return e.innerHTML=this.confirmMessages[t],!0;let i=a.get(this.message.result,"items",!1),n=this.mapInventoryKeyFromAction(t),o=a.get(this.message.result,"exchangeData",!1),h=a.get(o,n,!1),c=this.message.result.exchangeRequirementsA||[],l=this.message.result.exchangeRewardsB||[];this.updateItemsList(i,t,c,l,e,h),this.updateExchangeData(h,t,c,l,i)}updateItemsList(e,t,i,n,r,s){if(!e)return;let o="",h={};for(let r of Object.keys(e)){let c=e[r],l=Object.assign({manager:this.itemsManager},c,{uid:r}),u=a.get(this.itemsManager.itemClasses,l.key,this.itemsManager.types.classByTypeId(l.type));h[r]=new u(l),h[r].quantityDisplay=1,h[r].quantityMaxDisplay=Math.max(h[r].qty_limit,c.qty),h[r].tradeAction=t,h[r].exchangeRequirements=this.fetchItemRequirements(l.key,i),h[r].exchangeRewards=this.fetchItemRewards(l.key,n),o+=this.createTradeItemBox(h[r],a.get(s,h[r].uid,!1))}r.innerHTML=this.createTradeContainer(t,o),this.activateItemsBoxActions(h),this.activateConfirmButtonAction(t)}activateConfirmButtonAction(e){let t=this.gameManager.gameDom.getElement(".confirm-"+e),i={act:r.OBJECT_INTERACTION,id:this.message.id,value:e,sub:r.TRADE_ACTIONS.CONFIRM};t?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send(i)})}updateExchangeData(e,t,i,n,r){if(!1===e)return!1;let a=this.createConfirmItemsBox(e,r,t),o=null;return("buy"===t&&(o=this.gameDom.getElement(".trade-container-buy .trade-col.trade-col-2")),"sell"===t&&(o=this.gameDom.getElement(".trade-container-sell .trade-col.trade-col-1")),null===o)?(s.error('Missing "'+t+'" items container.',{message:this.message}),!1):(o.innerHTML=a,this.assignRemoveActions(e,r,t),!0)}createConfirmItemsBox(e,t,i){let r=Object.keys(e);if(0===r.length)return this.message.lastErrorMessage||s.info("Undefined exchange items on confirmation trader-object-ui.",{message:this.message}),"";let a="",o=this.uiScene.cache.html.get("inventoryTradeItem");if(!o)return s.error('Missing template "inventoryTradeItem".'),"";for(let s of r){let r=e[s],h=t[s],c=n.TRADE_ACTIONS.BUY===i,l=n.TRADE_ACTIONS.SELL===i;a+=this.gameManager.gameEngine.parseTemplate(o,{key:h.key,label:h.label,description:h.description,id:s,qty:h.qty,hiddenClass:"",tradeRequirements:c?this.createTradeRequirementsContent(h):"",tradeRewards:l?this.createTradeRewardsContent(h):"",tradeAction:this.createTradeActionRemove(h),tradeActionKey:i,tradeQuantityContent:r})}return a}assignRemoveActions(e,t,i){let n=Object.keys(e);if(0===n.length)return this.message.lastErrorMessage||s.info("Undefined exchange items on remove trader-object-ui.",{message:this.message}),!1;for(let e of n){let n=".trade-item-to-be-"+i+".trade-item-"+e,a=this.gameDom.getElement(n);if(!a){s.error('Assign trade item "'+e+'" container not found.',{message:this.message});continue}let o=this.gameDom.getElement(".trade-item-"+i+".trade-item-"+e+" .trade-action-remove");if(!o){s.error('Assign trade item "'+e+'" remove button not found.',{message:this.message});continue}let h=t[e];o.addEventListener("click",()=>{a.classList.remove("hidden");let t={act:r.OBJECT_INTERACTION,id:this.message.id,value:i,itemId:e,itemKey:h.key};t[r.TRADE_ACTIONS.SUB_ACTION]=r.TRADE_ACTIONS.REMOVE,this.gameManager.activeRoomEvents.send(t)})}return!0}createTradeContainer(e,t){let i=this.uiScene.cache.html.get("inventoryTradeContainer");if(!i)return s.error('Missing template "inventoryTradeContainer".'),"";let a=this.message.result.lastErrorData;a?.itemUid&&(a.item=this.fetchItemLabelByUid(a.itemUid)),a?.requiredItemKey&&(a.requiredItem=this.fetchItemLabelByUid(a.requiredItemKey));let o=this.gameManager.services.translator.t(this.message.result.lastErrorMessage,a),h=n.TRADE_ACTIONS.BUY===e?t:"",c=n.TRADE_ACTIONS.SELL===e?t:"";return this.gameManager.gameEngine.parseTemplate(i,{tradeActionKey:e,confirmRequirements:"",lastErrorMessage:o,tradeActionLabel:r.TRADE_ACTIONS_FUNCTION_NAME.CONFIRM,tradeItemsBuy:h,tradeItemsSell:c})}fetchItemLabelByUid(e){return this.gameManager?.inventory?.manager?.items[e]?.label||this.message?.result?.items[e]?.label||""}fetchItemRequirements(e,t){if(0===t.length)return!1;let i={};for(let n of t)e===n.itemKey&&(i[n.itemKey]=n);return i}fetchItemRewards(e,t){if(0===t.length)return!1;let i={};for(let n of t)e===n.itemKey&&(i[n.itemKey]=n);return i}createTradeItemBox(e,t){let i=this.uiScene.cache.html.get("inventoryTradeItem");if(!i)return s.error('Missing template "inventoryTradeItem".'),"";let r=this.uiScene.cache.html.get("inventoryTradeItemQuantity");if(!r)return s.error('Missing template "inventoryTradeItemQuantity".'),"";let a=n.TRADE_ACTIONS.BUY===e.tradeAction,o=n.TRADE_ACTIONS.SELL===e.tradeAction,h=t||0;return this.gameManager.gameEngine.parseTemplate(i,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,hiddenClass:0<h&&e.qty===h?" hidden":"",tradeRequirements:a?this.createTradeRequirementsContent(e):"",tradeRewards:o?this.createTradeRewardsContent(e):"",tradeAction:this.createTradeActionContent(e),tradeActionKey:"to-be-"+e.tradeAction,tradeQuantityContent:this.gameManager.gameEngine.parseTemplate(r,{quantityDisplay:e.quantityDisplay||1,quantityMaxDisplay:0<e.quantityMaxDisplay?'max="'+e.quantityMaxDisplay+'"':""})})}createTradeRequirementsContent(e){if(!e.exchangeRequirements)return"";let t=Object.keys(e.exchangeRequirements);if(0===t.length)return"";let i=this.uiScene.cache.html.get("inventoryTradeRequirements");if(!i)return s.error('Missing template "inventoryTradeRequirements".'),"";let n="";for(let r of t){let t=e.exchangeRequirements[r];n+=this.gameManager.gameEngine.parseTemplate(i,{itemKey:e.key,requiredItemKey:t.requiredItemKey,requiredQuantity:t.requiredQuantity})}return n}createTradeRewardsContent(e){if(!e.exchangeRewards)return"";let t=Object.keys(e.exchangeRewards);if(0===t.length)return"";let i=this.uiScene.cache.html.get("inventoryTradeRewards");if(!i)return s.error('Missing template "inventoryTradeRewards".'),"";let n="";for(let r of t){let t=e.exchangeRewards[r];n+=this.gameManager.gameEngine.parseTemplate(i,{itemKey:e.key,rewardItemKey:t.rewardItemKey,rewardQuantity:t.rewardQuantity})}return n}createTradeActionContent(e,t){let i=this.uiScene.cache.html.get("inventoryTradeAction");return i?this.gameManager.gameEngine.parseTemplate(i,{key:e.key,id:e.getInventoryId(),tradeAction:t||a.get(e,"tradeAction","")}):(s.error('Missing template "inventoryTradeAction".'),"")}createTradeActionRemove(e){let t=this.uiScene.cache.html.get("inventoryTradeActionRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{key:e.key,id:e.uid,tradeAction:"remove"}):(s.error('Missing template "inventoryTradeActionRemove".'),"")}activateItemsBoxActions(e){for(let t of Object.keys(e)){let i=e[t],n=".trade-item-to-be-"+i.tradeAction+".trade-item-"+i.uid+" .trade-action-"+i.tradeAction+" button",a=this.gameDom.getElement(n);if(!a){s.error('Activate trade item "'+i.uid+'" action button not found.');continue}a.addEventListener("click",()=>{let e=this.gameDom.getElement(".trade-item-"+i.getInventoryId()+" .item-qty input"),t=e?.value||1,n={act:r.OBJECT_INTERACTION,id:this.message.id,value:i.tradeAction,itemId:i.getInventoryId(),itemKey:i.key,qty:Number(t)};n[r.TRADE_ACTIONS.SUB_ACTION]=r.TRADE_ACTIONS.ADD,this.gameManager.activeRoomEvents.send(n)})}}mapInventoryKeyFromAction(e){return a.get({buy:"A",sell:"B"},e,!1)}}},{"6f47f46589411c74":"g4GOK","5d863b6194329ea":"izuLV","4eb12b9fd296bfd9":"3lwy5"}],g4GOK:[function(e,t,i){t.exports={ItemsServer:e("58ccb446d62c749b"),ItemsManager:e("99fbf686cf9954ad"),Inventory:e("d0e0bc002aa0626b"),ItemGroup:e("f76a9d92dd31d5bc"),ItemBase:e("8e9d5aa6534a13ad"),ItemEquipment:e("8451b91f0c937da4"),ItemUsable:e("106627cf30823e76"),ItemSingle:e("a73a08604f94da54"),ItemSingleEquipment:e("72395d9fa7948595"),ItemSingleUsable:e("6d04ae470a68a6bf"),ItemsFactory:e("f5eb7eeb5f537334"),ModelEntity:e("d4ce696862dbcd35"),ItemsConst:e("a5ef4f750b88ecba"),ItemsEvents:e("a180e01e5de133e0"),Receiver:e("33a340330572bf29"),ItemsDataGenerator:e("bf0687569e27057a"),GroupsDataGenerator:e("27ccd3cf572478fc"),ExchangePlatform:e("90218b41bb50ec4b"),ExchangeRequirement:e("c2601b545e947f39"),RequirementsCollection:e("72f6373fd251e1e3"),RequirementsProcessor:e("79f809e040670ce3"),ExchangeReward:e("3e52122617c11229"),RewardsCollection:e("6edee09b19b2994c"),RewardsProcessor:e("441790981610210a"),ItemsError:e("c48f961fa528324f")}},{"58ccb446d62c749b":"fCIqi","99fbf686cf9954ad":"5wpm2",d0e0bc002aa0626b:"8qkfQ",f76a9d92dd31d5bc:"3auVp","8e9d5aa6534a13ad":"gInMY","8451b91f0c937da4":"53uuI","106627cf30823e76":"d0orT",a73a08604f94da54:"lLwiJ","72395d9fa7948595":"a3dXh","6d04ae470a68a6bf":"9iH9y",f5eb7eeb5f537334:"lrNSa",d4ce696862dbcd35:"3ncwO",a5ef4f750b88ecba:"idEfG",a180e01e5de133e0:"fWlRm","33a340330572bf29":"2R9Cx",bf0687569e27057a:"nHDSk","27ccd3cf572478fc":"btt2J","90218b41bb50ec4b":"gRIlz",c2601b545e947f39:"4hpnF","72f6373fd251e1e3":"1wLI1","79f809e040670ce3":"kxCH2","3e52122617c11229":"iuvBV","6edee09b19b2994c":"hU2Lr","441790981610210a":"1sOiW",c48f961fa528324f:"eODT6"}],fCIqi:[function(e,t,i){let n=e("584cf2f2bf66f26b"),{StorageObserver:r}=e("3442076d73bd51e9"),s=e("906b84f8406328ec"),{Logger:a,ErrorManager:o,sc:h}=e("5ac154b5c4320dd9");t.exports=class{constructor(e){h.hasOwn(e,"owner")||o.error("Undefined owner."),this.manager=new n(e),this.createStorageObserver(e),this.createClient(e)}createClient(e){if(!h.hasOwn(e,"client"))return!1;this.client=new s({manager:this.manager,client:e.client})}createStorageObserver(e){if(!h.hasOwn(e,"persistence")||!e.persistence)return!1;let t=!1;if(h.hasOwn(e,"modelsManager")&&(t=e.modelsManager),!h.hasOwn(e.owner,"persistData")||"function"!=typeof e.owner.persistData)return a.error('Required method "persistData" not found in ItemServer props.owner.'),!1;this.dataServer=new r(this.manager,t),this.dataServer.listenEvents()}}},{"584cf2f2bf66f26b":"5wpm2","3442076d73bd51e9":"j7WCD","906b84f8406328ec":"3NxkK","5ac154b5c4320dd9":"lHuVm"}],"5wpm2":[function(e,t,i){let n=e("4fe5cf381ee58ab2"),r=e("419f5262e5a6365c"),s=e("bf63d9f42b20facf"),{ErrorManager:a,sc:o}=e("21ccb6baff6c486e");t.exports=class extends n{constructor(e){o.hasOwn(e,"owner")||a.error("Undefined owner."),super(e),this.itemClasses=o.get(e,"itemClasses",!1),this.groupClasses=o.get(e,"groupClasses",!1),this.itemsModelData=o.get(e,"itemsModelData",!1),this.ownerIdProperty=o.get(e,"ownerIdProperty","id"),this.owner=e.owner,this.groups={},this.eventsPrefix=this.getOwnerEventKey()+o.get(e,"eventsPrefix",""),this.types=new s}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return o.get(this.owner,"eventsPrefix","items.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(o.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"items.ownerId."+this.getOwnerId()+".uKey."+o.getTime())+(e?"."+e:"")}async setup(e){await this.fireEvent(r.MANAGER_INIT,{props:e,manager:this}),o.hasOwn(e,"items")&&await this.setItems(e.items),o.hasOwn(e,"groups")&&await this.setGroups(e.groups)}createItemInstance(e,t){let i=o.get(this.itemsModelData,e,!1);if(!1===i)return!1;if(i.data.modifiers)for(let e of Object.keys(i.data.modifiers))i.data.modifiers[e].target=this.owner;let n=i.class.isSingleInstance(),r=void 0!==t&&n?t:1,s=Object.assign({},i.data,{manager:this,item_id:i.data.id,qty:r});if(delete s.uid,!0===n||1===r)return new i.class(s);let a=[];s.qty=1;for(let e=0;e<r;e++)a.push(new i.class(s));return a}}},{"4fe5cf381ee58ab2":"8qkfQ","419f5262e5a6365c":"fWlRm",bf63d9f42b20facf:"8gXhx","21ccb6baff6c486e":"lHuVm"}],"8qkfQ":[function(e,t,i){let n=e("adccac45c69ab6e8"),r=e("2fd42dbc83a1dbf2"),s=e("bb9f4880ce8c412b"),{EventsManagerSingleton:a,sc:o}=e("4bf1621a8608b780");t.exports=class{constructor(e){this.events=o.get(e,"eventsManager",a),this.items={},this.limitPerItem=o.get(e,"limitPerItem",-1),this.itemsLimit=o.get(e,"itemsLimit",-1),this.applyModifiersAuto=o.get(e,"applyModifiersAuto",!0),this.revertModifiersAuto=o.get(e,"revertModifiersAuto",!0),this.locked=!1,this.eventsPrefix=o.get(e,"eventsPrefix",""),this.setError(),this.frozenItems={}}async validate(e){let t=!0;return e||(this.setError("Add item error, undefined item.",s.ERROR_CODES.UNDEFINED_ITEM),t=!1),o.isObjectFunction(e,"getInventoryId")||(this.setError("Add item error, undefined getInventoryId.",s.ERROR_CODES.UNDEFINED_METHOD_INVENTORY_ID),t=!1),e.key||(this.setError("Add item error, undefined item key.",s.ERROR_CODES.UNDEFINED_ITEM_KEY),t=!1),await this.fireEvent(r.VALIDATE,this,e,t),t}findItemByKey(e){return o.fetchByPropertyOnObject(this.items,"key",e)}findItemsByPropertyValue(e,t){return o.fetchAllByPropertyOnObject(this.items,e,t)}async addItem(e){if(!await this.validate(e))return this.setError("Invalid item instance.",s.ERROR_CODES.INVALID_ITEM_INSTANCE),!1;let t=e.getInventoryId();return this.locked?(this.setError("Inventory locked, cannot add item: "+t,s.ERROR_CODES.LOCKED_FOR_ADD_ITEM,{itemUid:t}),!1):this.itemsLimit===Object.keys(this.items).length&&0<=this.itemsLimit?(this.setError("Cannot add item, max total reached.",s.ERROR_CODES.MAX_TOTAL_REACHED_FOR_ADD_ITEM,{itemUid:t}),!1):o.hasOwn(this.items,t)&&!e.singleInstance?(this.setError("Cannot add item, item already exists: "+t,s.ERROR_CODES.ITEM_EXISTS_FOR_ADD_ITEM,{itemUid:t}),!1):e.qty>this.limitPerItem&&0<=this.limitPerItem?(this.setError("Cannot add item, item qty limit exceeded.",s.ERROR_CODES.ITEM_LIMIT_EXCEEDED_FOR_ADD_ITEM,{itemUid:t,qty:e.qty}),!1):(o.hasOwn(this.items,t)&&e.singleInstance?await this.increaseItemQty(t,e.qty):(await this.fireEvent(r.ADD_ITEM_BEFORE,this,e),this.items[t]=e,await this.fireEvent(r.ADD_ITEM,this,e)),this.items[t])}async addItems(e){for(let t of e)if(!await this.addItem(t))return this.setError('Cannot add item "'+t.getInventoryId()+'".',s.ERROR_CODES.ADD_ITEMS_ERROR,{itemUid:t.getInventoryId()}),!1;return!0}async setItem(e){if(this.locked)return this.setError("Inventory locked, cannot set item: "+e.getInventoryId(),s.ERROR_CODES.LOCKED_FOR_SET_ITEM,{itemUid:e.getInventoryId()}),!1;this.items[e.getInventoryId()]=e}async removeItem(e){return this.locked?(this.setError("Inventory locked, cannot remove item: "+e,s.ERROR_CODES.LOCKED_FOR_REMOVE_ITEM,{itemUid:e}),!1):o.hasOwn(this.items,e)?(await this.fireEvent(r.REMOVE_ITEM,this,e),delete this.items[e],!0):(this.setError("Cannot remove item, key not found: "+e,s.ERROR_CODES.KEY_NOT_FOUND,{itemUid:e}),!1)}async setItemQty(e,t){return this.modifyItemQty(s.SET,e,t)}async increaseItemQty(e,t){return this.modifyItemQty(s.INCREASE,e,t)}async decreaseItemQty(e,t){return this.modifyItemQty(s.DECREASE,e,t)}async modifyItemQty(e,t,i){if(this.locked)return this.setError("Inventory locked, cannot modify item qty: "+t,s.ERROR_CODES.LOCKED_FOR_MODIFY_ITEM_QTY,{itemUid:t}),!1;if(!o.hasOwn(this.items,t))return this.setError("Cannot "+e+" item qty, undefined item key: "+t,s.ERROR_CODES.UNDEFINED_ITEM_KEY_FOR_OPERATION,{itemUid:t,operation:e}),!1;if(isNaN(i))return this.setError("Cannot "+e+" item qty, qty is not a number: "+i,s.ERROR_CODES.QTY_NOT_A_NUMBER,{itemUid:t,operation:e,qty:i}),!1;if(this.limitPerItem>0&&i>this.limitPerItem&&(e===s.SET||e===s.INCREASE))return this.setError("Cannot "+e+" item qty, item qty limit exceeded: "+i+" > "+this.limitPerItem,s.ERROR_CODES.ITEM_QTY_LIMIT_EXCEEDED,{itemUid:t,operation:e,limitPerItem:this.limitPerItem}),!1;if(e===s.SET&&(this.items[t].qty=i),e===s.INCREASE&&(this.items[t].qty+=i),e===s.DECREASE){let e=this.items[t].qty-i;0>e&&(e=0),this.items[t].qty=e}return 0===this.items[t].qty&&this.items[t].autoRemoveItemOnZeroQty?(await this.fireEvent(r.MODIFY_ITEM_QTY,this.items[t],this,e,t,i),await this.removeItem(this.items[t].getInventoryId())):(await this.fireEvent(r.MODIFY_ITEM_QTY,this.items[t],this,e,t,i),!0)}async setItems(e){return this.locked?(this.setError("Inventory locked, cannot set items.",s.ERROR_CODES.LOCKED_FOR_SET_ITEMS),!1):(this.items=e,this.fireEvent(r.SET_ITEMS,{items:e,manager:this}))}async setGroups(e){return this.groups=e,this.fireEvent(r.SET_GROUPS,{groups:e,manager:this})}fireEvent(e,...t){return this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.eventsPrefix+"."+e}setError(e="",t="",i={},r=!1){this.lastError=new n(e,t,i,r)}}},{adccac45c69ab6e8:"eODT6","2fd42dbc83a1dbf2":"fWlRm",bb9f4880ce8c412b:"idEfG","4bf1621a8608b780":"lHuVm"}],eODT6:[function(e,t,i){t.exports=class{constructor(e="",t="",i={},n=!1){this.message=e,this.code=t,this.data=i,this.withError=n}}},{}],fWlRm:[function(e,t,i){let n="reldens.items.";t.exports={PREF:n,MANAGER_INIT:n+"setup",EXCHANGE:{INITIALIZED:n+"initialized",CANCELED:n+"canceled",INVALID_PUSH:n+"invalidPush",ITEM_PUSHED:n+"itemPushed",ITEM_REMOVE:n+"itemRemove",CONFIRM:n+"confirm",DISCONFIRM:n+"disconfirm",BEFORE_FINALIZE:n+"beforeFinalize",FINALIZED:n+"finalized"},LOADED_OWNER_ITEMS:n+"loadedOwnerItems",SET_ITEMS:n+"setItems",SET_GROUPS:n+"setGroups",EQUIP_ITEM:n+"equipItem",UNEQUIP_ITEM:n+"unequipItem",ADD_ITEM:n+"addItem",ADD_ITEM_BEFORE:n+"addItemBefore",REMOVE_ITEM:n+"removeItem",MODIFY_ITEM_QTY:n+"modifyItemQty",EQUIP_BEFORE:n+"equipBefore",EQUIP:n+"equip",EXECUTING_ITEM:n+"executingItem",EXECUTED_ITEM:n+"executedItem",VALIDATE:n+"validate"}},{}],idEfG:[function(e,t,i){let n="rinv",r="items.",s="exchange.",a="requirements.",o="reward.",h="equipment.";t.exports={SET:"set",INCREASE:"increase",DECREASE:"decrease",ACTIONS_PREF:n,ACTION_ADD:n+"A",ACTION_REMOVE:n+"R",ACTION_MODIFY_QTY:n+"M",ACTION_EQUIP:n+"E",ACTION_UNEQUIP:n+"U",ACTION_MOD_APPLIED:n+"Ma",ACTION_MOD_REVERTED:n+"Mr",ACTION_EXECUTING:n+"Ex",ACTION_EXECUTED:n+"AExd",ACTION_MANAGER_INIT:n+"Mi",ACTION_SET_ITEMS:n+"Si",ACTION_SET_GROUPS:n+"Sg",BEHAVIOR_SEND:"send",BEHAVIOR_BROADCAST:"broadcast",BEHAVIOR_BOTH:"both",TYPES:{ITEM_BASE:10,EQUIPMENT:1,USABLE:2,SINGLE:3,SINGLE_EQUIPMENT:4,SINGLE_USABLE:5},TRADE_ACTIONS:{BUY:"buy",SELL:"sell",TRADE:"trade"},ERROR_CODES:{PREFIX:r,UNDEFINED_ITEM:r+"undefinedItem",UNDEFINED_METHOD_INVENTORY_ID:r+"undefinedMethodInventoryId",UNDEFINED_ITEM_KEY:r+"undefinedItemKey",INVALID_ITEM_INSTANCE:r+"invalidItemInstance",LOCKED_FOR_ADD_ITEM:r+"lockedForAddItem",MAX_TOTAL_REACHED_FOR_ADD_ITEM:r+"maxTotalReachedForAddItem",ITEM_EXISTS_FOR_ADD_ITEM:r+"itemExistsForAddItem",ITEM_LIMIT_EXCEEDED_FOR_ADD_ITEM:r+"itemLimitExceededForAddItem",ADD_ITEMS_ERROR:r+"addItemsError",LOCKED_FOR_SET_ITEM:r+"lockedForSetItem",LOCKED_FOR_REMOVE_ITEM:r+"lockedForRemoveItem",KEY_NOT_FOUND:r+"keyNotFound",LOCKED_FOR_MODIFY_ITEM_QTY:r+"lockedForModifyItemQty",UNDEFINED_ITEM_KEY_FOR_OPERATION:r+"undefinedItemKeyForOperation",QTY_NOT_A_NUMBER:r+"qtyNotANumber",ITEM_QTY_LIMIT_EXCEEDED:r+"itemQtyLimitExceeded",LOCKED_FOR_SET_ITEMS:r+"lockedForSetItems",EXCHANGE:{MISSING_CONFIRMATION:r+s+"missingConfirmation",INVALID_PUSHED_QUANTITY:r+s+"invalidPushedQuantity",INVALID_QUANTITY:r+s+"invalidQuantity",INVALID_EXCHANGE:r+s+"invalidExchange",DECREASE_QUANTITY:r+s+"decreaseQuantity",ITEM_ADD:r+s+"itemAdd"},REQUIREMENTS:{ITEM_NOT_PRESENT:r+a+"itemNotPresent",QUANTITY_NOT_AVAILABLE:r+a+"quantityNotAvailable",ITEM_NOT_PUSHED:r+a+"itemNotPushed",ITEM_QUANTITY_NOT_PUSHED:r+a+"itemQuantityNotPushed",ITEM_DOES_NOT_EXISTS:r+a+"itemDoesNotExists",ITEM_ADD:r+a+"itemAdd"},REWARD:{DOES_NOT_EXISTS:r+o+"doesNotExists",MISSING_ITEM:r+o+"missingItem",ITEM_NOT_PRESENT:r+o+"itemNotPresent",QUANTITY_NOT_AVAILABLE:r+o+"quantityNotAvailable",MISSING_PUSHED:r+o+"missingPushed",GET_ITEM_DOES_NOT_EXISTS:r+o+"getItemDoesNotExists",PROCESS_ITEM:r+o+"processItem",PROCESS_INVENTORY:r+o+"processInventory",ADD_ITEMS:r+o+"addItems",QUANTITY_OVERLOAD:r+o+"quantityOverload"},EQUIPMENT:{MODIFIERS_APPLY:r+h+"modifiersApply",MODIFIERS_REVERT:r+h+"modifiersRevert"}}}},{}],lHuVm:[function(e,t,i){let n=e("2bcd40494882fb47");t.exports={EventsManager:n,EventsManagerSingleton:new n,ErrorManager:e("455423ccd9c84c22"),InteractionArea:e("216924daca797e62"),SchemaValidator:e("85ccbf154c9d134e"),Logger:e("f2f4c65d53676758"),sc:e("c3852ea63c51ea54")}},{"2bcd40494882fb47":"cn4Yn","455423ccd9c84c22":"cBHKQ","216924daca797e62":"4m0ij","85ccbf154c9d134e":"4H6po",f2f4c65d53676758:"8oBG9",c3852ea63c51ea54:"s7JqC"}],cn4Yn:[function(e,t,i){let n=e("221f90b1e4d940d7").default,r=e("cadd03cba4a645cb"),s=e("40604cfb25e507f");t.exports=class extends n{constructor(){super(),this.eventsByRemoveKeys={},this.debug=!1}onWithKey(e,t,i,n){if(s.hasOwn(this.eventsByRemoveKeys,i)||n&&s.hasOwn(this.eventsByRemoveKeys,n)&&s.hasOwn(this.eventsByRemoveKeys[n],i))return r.debug('Event "'+e+'" exists with key "'+i+'" and masterKey "'+n+'".'),!1;this.on(e,t);let a=this.listeners(e),o=a.indexOf(t),h=a[o];return n?(s.hasOwn(this.eventsByRemoveKeys,n)||(this.eventsByRemoveKeys[n]={}),this.eventsByRemoveKeys[n][i]={eventName:e,callback:t}):this.eventsByRemoveKeys[i]={eventName:e,callback:t},h}offWithKey(e,t){if(t&&!s.hasOwn(this.eventsByRemoveKeys,t))return r.debug('Event not found by masterKey "'+t+'".'),!1;if(!t&&!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Event not found by removeKey "'+e+'".'),!1;let i=t?this.eventsByRemoveKeys[t][e]:this.eventsByRemoveKeys[e],n=this.listeners(i.eventName).indexOf(i.callback);return(this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName],t)?(delete this.eventsByRemoveKeys[t][e],r.debug('Deleted event by removeKey "'+e+'" and masterKey "'+t+'".')):(delete this.eventsByRemoveKeys[e],r.debug('Deleted event by removeKey "'+e+'".')),!0}offByMasterKey(e){if(!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Events not found by masterKey "'+e+'".'),!1;for(let t of(r.debug("Removing events by masterKey: "+e,Object.keys(this.eventsByRemoveKeys[e])),Object.keys(this.eventsByRemoveKeys[e]))){let i=this.eventsByRemoveKeys[e][t],n=this.listeners(i.eventName).indexOf(i.callback);this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName]}delete this.eventsByRemoveKeys[e]}on(e,t){!1!==this.debug&&this.logDebugEvent(e,"Listen"),super.on(e,t)}async emit(e,...t){!1!==this.debug&&this.logDebugEvent(e,"Fire"),await super.emit(e,...t)}logDebugEvent(e,t){(-1!==this.debug.indexOf("all")||-1!==this.debug.indexOf(e)||-1!==e.indexOf(this.debug))&&r.debug(t+" Event:",e)}}},{"221f90b1e4d940d7":"46bZC",cadd03cba4a645cb:"8oBG9","40604cfb25e507f":"s7JqC"}],"8oBG9":[function(e,t,i){t.exports=new class{logLevels={none:0,emergency:1,alert:2,critical:3,error:4,warning:5,notice:6,info:7,debug:8};constructor(){let e=this.context();this.enableTraceBack="",this.logLevelBack=3,this.forcedDisabled=!!e.RELDENS_FORCED_DISABLED_LOGS,this.addTimeStamp=(e.RELDENS_INCLUDE_LOGS_TIMESTAMP,!0)}context(){return"undefined"!=typeof window?window:{}}enableTraceAll(){return this.enableTraceBack=this.context().RELDENS_ENABLE_TRACE_FOR,this.context().RELDENS_ENABLE_TRACE_FOR="all",this}restoreTraceFor(){return this.context().RELDENS_ENABLE_TRACE_FOR=this.enableTraceBack,this}setLogLevel(e){return this.logLevelBack=this.context().RELDENS_LOG_LEVEL,this.context().RELDENS_LOG_LEVEL=e,this}restoreLogLevel(){return this.context().RELDENS_LOG_LEVEL=this.logLevelBack,this}setForcedDisabled(e){return this.forcedDisabled=e,this}setAddTimeStamp(e){return this.addTimeStamp=e,this}logLevel(){return this.context().RELDENS_LOG_LEVEL||0}enableTraceFor(){return(this.context().RELDENS_ENABLE_TRACE_FOR||"").split(",")}log(e,...t){if(console.log((this.addTimeStamp?new Date().toISOString().slice(0,19).replace("T"," ")+" - ":"")+e.toUpperCase()+" -",...t),-1!==this.enableTraceFor().indexOf("all")||-1!==this.enableTraceFor().indexOf(e)){if("function"!=typeof Error?.captureStackTrace)return console.log("Error.captureStackTrace is not available.",typeof Error?.captureStackTrace),this;let t={};Error.captureStackTrace(t,e),console.log(t.stack)}return this}debug(...e){return this.forcedDisabled||8>this.logLevel()?this:this.log("debug",...e)}info(...e){return this.forcedDisabled||7>this.logLevel()?this:this.log("info",...e)}notice(...e){return this.forcedDisabled||6>this.logLevel()?this:this.log("notice",...e)}warning(...e){return this.forcedDisabled||5>this.logLevel()?this:this.log("warning",...e)}error(...e){return this.forcedDisabled||4>this.logLevel()?this:this.log("error",...e)}critical(...e){return this.forcedDisabled||3>this.logLevel()?this:this.log("critical",...e)}alert(...e){return this.forcedDisabled||2>this.logLevel()?this:this.log("alert",...e)}emergency(...e){return this.forcedDisabled||1>this.logLevel()?this:this.log("emergency",...e)}}},{}],s7JqC:[function(e,t,i){t.exports=new class{hasOwn(e,t){if(this.isArray(t)&&0<t.length){for(let i of t)if(!(e&&({}).hasOwnProperty.call(e,i)))return!1;return!0}return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]}isTrue(e,t,i){return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]&&(i?!0===e[t]:e[t])}isObject(e){return e&&"object"==typeof e&&!this.isArray(e)}isArray(e){return Array.isArray(e)}inArray(e,t){return!!this.isArray(t)&&-1!==t.indexOf(e)}isFunction(e){return e&&"function"==typeof e}isObjectFunction(e,t){return this.isObject(e)&&t&&"function"==typeof e[t]}isString(e){return"string"==typeof e}isNumber(e){return"number"==typeof e}isInt(e){return!!this.isNumber(e)&&Number.isInteger(e)}isFloat(e){return!!this.isNumber(e)&&Number(e)===e&&0!=e%1}isBoolean(e){return"boolean"==typeof e}deepMergeProperties(e,t){if(!this.isObject(e)||!this.isObject(t))return!1;for(let i of Object.keys(t)){if(this.isObject(t[i])){if(!this.hasOwn(e,i)){e[i]=t[i];continue}this.deepMergeProperties(e[i],t[i]);continue}e[i]=t[i]}return e}length(e){return e?Object.keys(e).length:0}convertObjectsArrayToObjectByKeys(e,t){if(!this.isArray(e)||0===e.length)return{};let i={};for(let n of e)i[n[t]]=n;return i}sortObjectKeysBy(e,t){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}arraySort(e,t,i="asc"){if(!e||!t)return e;let n="act"===i?1:-1,r="act"===i?-1:1;return e.sort((e,i)=>e[t]>i[t]?n:r)}propsAssign(e,t,i){if(!this.isArray(i))return t;for(let n of i)t[n]=e[n];return t}toJson(e,t=!1){return this.parseJson(e)||t}parseJson(e){try{return JSON.parse(e)}catch(e){return!1}}deepJsonClone(e){return JSON.parse(JSON.stringify(e))}get(e,t,i){return this.hasOwn(e,t)?e[t]:i}getByPath(e,t,i){if(!this.isObject(e)||!this.isArray(t))return i;let n=t.shift();return 0===t.length?this.get(e,n,i):this.getByPath(e[n],t,i)}getByPriority(e,t){if(!this.isArray(t))return!1;for(let i of t)if(this.hasOwn(e,i))return e[i];return!1}fetchByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return!1;for(let n of e)if(n[t]===i)return n;return!1}fetchAllByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return[];let n=[];for(let r of e)r[t]===i&&n.push(r);return n}fetchByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let r of n){let n=e[r];if(n[t]===i)return n}return!1}fetchAllByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;let r=[];for(let s of n){let n=e[s];n[t]===i&&r.push(n)}return r}serializeFormData(e){if(0===e.length)return{};let t={};for(let[i,n]of e)void 0!==t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n;return t}removeFromArray(e,t){return e.filter(e=>-1===t.indexOf(e))}getCurrentDate(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDateForFileName(){return new Date().toISOString().slice(0,19).replace("T","-").replace(/:/g,"-")}formatDate(e,t="Y-m-d H:i:s"){if(!(e instanceof Date))return e;let i={Y:e.getFullYear(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),H:e.getHours().toString().padStart(2,"0"),i:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};return t.replace(/Y|m|d|H|i|s/g,e=>i[e])}getTime(){return new Date().getTime()}roundToPrecision(e,t=4){return Number(Number(e).toFixed(t))}randomValueFromArray(e){return this.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}randomChars(e){return 0>=e?"":this.randomString(e,!1)}randomCharsWithSymbols(e){return 0>=e?"":this.randomString(e,!0)}randomString(e,t=!1){let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t&&(n+="!@#$%&*()_-=+[]{}:;<>,./?");let r=n.length;for(let t=0;t<e;t++)i+=n.charAt(Math.floor(Math.random()*r));return i}cleanMessage(e,t){if(!e)return"";let i=e.toString().replace(/\\/g,"");return 0<t?i.substring(0,t):i}slugify(e){return(e||"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"-").toLowerCase()}isValidIsoCode(e){return/^[a-zA-Z]{2}$/.test(e)}}},{}],cBHKQ:[function(e,t,i){t.exports=new class{constructor(){this.enableTrace=!1}error(e){throw this.enableTrace&&console.trace(),Error(e)}}},{}],"4m0ij":[function(e,t,i){t.exports=class{constructor(){this.x=!1,this.y=!1,this.interactionArea=!1,this.interactionLimits={}}setupInteractionArea(e=!1,t=!1,i=!1){e&&(this.interactionArea=e),this.interactionArea&&(t&&(this.x=t),i&&(this.y=i),this.interactionLimits.left=this.x-this.interactionArea,this.interactionLimits.right=this.x+this.interactionArea,this.interactionLimits.up=this.y-this.interactionArea,this.interactionLimits.down=this.y+this.interactionArea)}isValidInteraction(e,t){return e>this.interactionLimits.left&&e<this.interactionLimits.right&&t>this.interactionLimits.up&&t<this.interactionLimits.down}getPosition(){return{x:this.x,y:this.y}}}},{}],"4H6po":[function(e,t,i){let n=e("8880b94dee67303b"),r=e("349667d17bd8cfd2");t.exports=class{constructor(e){this.schema=e}validate(e,t=!1){if(t||(t=this.schema),!n.isObject(t))return r.debug("No schema provided."),!1;for(let i of Object.keys(t)){let n=t[i];if(!this.isValidSchema(e[i],n,i)||n.nested&&!this.validate(e[i],n.nested))return!1}return!0}isValidSchema(e,t,i){if(!t||!t.type)return r.debug("No schema type provided.",t,e,i),!1;switch(t.type){case"string":if(!n.isString(e))return r.debug("Object is not a string.",i,e,t),!1;break;case"number":if(!n.isInt(e)&&!n.isFloat(e))return r.debug("Object is not a number.",i,e,t),!1;break;case"int":if(!n.isInt(e))return r.debug("Object is not an integer.",i,e,t),!1;break;case"float":if(!n.isFloat(e))return r.debug("Object is not a float.",i,e,t),!1;break;case"boolean":if(!n.isBoolean(e))return r.debug("Object is not a boolean.",i,e,t),!1;break;case"object":if(!n.isObject(e))return r.debug("Object is not an object.",i,e,t),!1;break;case"array":if(!n.isArray(e))return r.debug("Object is not an array.",i,e,t),!1;if(t.valuesType){for(let n of e)if(!this.isValidSchema(n,{type:t.valuesType},i))return r.debug("Invalid array value.",n,t),!1}break;default:return r.debug("Invalid schema type provided.",t.type),!1}return!0}}},{"8880b94dee67303b":"s7JqC","349667d17bd8cfd2":"8oBG9"}],"8gXhx":[function(e,t,i){let n=e("ac10c481864dff83"),r=e("b75564ba303c5356"),s=e("957d5b5e4a423dca"),a=e("a3590f99276506ca"),o=e("dff4c8e33829a997"),h=e("5b2a69acfbc9bd6d"),c=e("ce977eaa6d463c01"),{sc:l}=e("5794f948bd319a4f");t.exports=class{constructor(){this.types={},this.types[n.TYPES.ITEM_BASE]=r,this.types[n.TYPES.EQUIPMENT]=s,this.types[n.TYPES.USABLE]=a,this.types[n.TYPES.SINGLE]=o,this.types[n.TYPES.SINGLE_EQUIPMENT]=h,this.types[n.TYPES.SINGLE_USABLE]=c}list(){return this.types}classByTypeId(e){return l.get(this.types,e.toString(),r)}}},{ac10c481864dff83:"idEfG",b75564ba303c5356:"gInMY","957d5b5e4a423dca":"53uuI",a3590f99276506ca:"d0orT",dff4c8e33829a997:"lLwiJ","5b2a69acfbc9bd6d":"a3dXh",ce977eaa6d463c01:"9iH9y","5794f948bd319a4f":"lHuVm"}],gInMY:[function(e,t,i){let n=e("c12e6ac2d5a93063"),r=e("c6965a9a447f564a"),{ErrorManager:s,sc:a}=e("e634cd5ec6f60b00");t.exports=class{constructor(e){a.hasOwn(e,"key")||s.error("Undefined item key."),a.hasOwn(e,"manager")||s.error("Undefined item manager."),this.key=e.key,this.uid=e.uid?e.uid:this.key+(e.id?"":e.id)+a.randomChars(8),this.id=a.get(e,"id",null),this.item_id=a.get(e,"item_id",null),this.label=a.get(e,"label",""),this.description=a.get(e,"description",""),this.manager=e.manager,this.type=a.get(e,"type",n.TYPES.ITEM_BASE),this.qty=a.get(e,"qty",0),this.remaining_uses=e.remaining_uses||0,this.is_active=a.get(e,"is_active",!1),this.group_id=a.get(e,"group_id",!1),this.qty_limit=a.get(e,"qty_limit",!1),this.uses_limit=a.get(e,"uses_limit",!1),this.autoRemoveItemOnZeroQty=a.get(e,"autoRemoveItemOnZeroQty",!0),this.useTimeOut=a.get(e,"useTimeOut",!1),this.execTimeOut=a.get(e,"execTimeOut",!1),this.modifiers=a.get(e,"modifiers",{}),this.target=!1,this.singleInstance=!1,this.rawCustomData=a.get(e,"customData",{});let t="string"==typeof this.rawCustomData?a.toJson(this.rawCustomData,{}):this.rawCustomData;null!==t&&"object"==typeof t&&0<Object.keys(t).length&&Object.assign(this,t)}static isSingleInstance(){return!1}getInventoryId(){return this.singleInstance?this.key:this.uid}async applyModifiers(){return await this.changeModifiers()}async revertModifiers(){return await this.changeModifiers(!0)}async changeModifiers(e){await this.manager.fireEvent(r.EQUIP_BEFORE+(e?"Revert":"Apply")+"Modifiers",this);let t=Object.keys(this.modifiers);if(0>=t.length)return;let i=e?"revert":"apply";for(let e of t)this.modifiers[e][i](this.target);return this.manager.fireEvent(r.EQUIP+(e?"Reverted":"Applied")+"Modifiers",this)}isType(e){return this.type===e}async fireEvent(e,...t){return this.manager.fireEvent(e,...t)}listenEvent(e,t,i,n){return this.manager.listenEvent(e,t,i,n)}}},{c12e6ac2d5a93063:"idEfG",c6965a9a447f564a:"fWlRm",e634cd5ec6f60b00:"lHuVm"}],"53uuI":[function(e,t,i){let n=e("33cdc889b48aacb0"),r=e("c5fbc38955884411"),s=e("8ae98c100e6c951f"),{sc:a}=e("bcc3d9fdf3135034");t.exports=class extends n{constructor(e){super(e),this.type=r.TYPES.EQUIPMENT,this.equipped=a.get(e,"equipped",!1)}async equip(e){if(this.equipped=!0,await this.manager.fireEvent(s.EQUIP_ITEM,this),!1===e||!1===this.manager.applyModifiersAuto)return!1;await this.applyModifiers()}async unequip(e){if(this.equipped=!1,await this.manager.fireEvent(s.UNEQUIP_ITEM,this),!1===e||!1===this.manager.revertModifiersAuto)return!1;await this.revertModifiers()}async applyModifiers(){return this.equipped?await super.applyModifiers():(this.manager.setError("Cannot apply modifiers the item is not equipped: "+this.getInventoryId(),r.ERROR_CODES.EQUIPMENT.MODIFIERS_APPLY,{itemUid:this.getInventoryId()}),!1)}async revertModifiers(){return this.equipped?(this.manager.setError("Cannot revert modifiers the item is not equipped: "+this.getInventoryId(),r.ERROR_CODES.EQUIPMENT.MODIFIERS_REVERT,{itemUid:this.getInventoryId()}),!1):await super.revertModifiers()}}},{"33cdc889b48aacb0":"gInMY",c5fbc38955884411:"idEfG","8ae98c100e6c951f":"fWlRm",bcc3d9fdf3135034:"lHuVm"}],d0orT:[function(e,t,i){let n=e("73e1b5628e255757"),r=e("da3e74df899b07c1"),s=e("31d1c1f3f78c977b"),{sc:a}=e("ba8c76a702e812f2");t.exports=class extends n{constructor(e){super(e),this.type=r.TYPES.USABLE,this.uses=a.get(e,"uses",1),this.currentUses=this.uses,this.usesLimit=a.get(e,"usesLimit",!1),this.canUse=!0,this.removeAfterUse=!0,this.useTimeOut=!1,this.useTimer=!1,this.execTimeOut=!1,this.execTimer=!1,this.removeQtyAfterUse=a.get(e,"removeQtyAfterUse",1),this.autoRemoveItemOnZeroQty=a.get(e,"autoRemoveItemOnZeroQty",!0)}async use(e=!1){if(!this.canUse||0>=this.currentUses)return!1;if(e&&(this.target=e),this.useTimeOut&&(this.canUse=!1,this.useTimer=setTimeout(async()=>{this.canUse=!0},this.useTimeOut)),await this.manager.fireEvent(s.EXECUTING_ITEM,this),!1===this.execTimeOut){await this.executeItem();return}this.execTimer=setTimeout(async()=>{await this.executeItem()},this.execTimeOut)}async executeItem(){return await this.applyModifiers(),this.currentUses--,!this.removeAfterUse||0<this.currentUses||(await this.manager.modifyItemQty(r.DECREASE,this.getInventoryId(),this.removeQtyAfterUse),this.currentUses=this.uses),await this.manager.fireEvent(s.EXECUTED_ITEM,this)}}},{"73e1b5628e255757":"gInMY",da3e74df899b07c1:"idEfG","31d1c1f3f78c977b":"fWlRm",ba8c76a702e812f2:"lHuVm"}],lLwiJ:[function(e,t,i){let n=e("f0df25643e2e264b");t.exports=class extends n{constructor(e){super(e),this.singleInstance=!0,this.uid=this.key}static isSingleInstance(){return!0}}},{f0df25643e2e264b:"gInMY"}],a3dXh:[function(e,t,i){let n=e("8c650fd6774ed566");t.exports=class extends n{constructor(e){super(e),this.singleInstance=!0}}},{"8c650fd6774ed566":"53uuI"}],"9iH9y":[function(e,t,i){let n=e("80d7e0f79d15a474");t.exports=class extends n{constructor(e){super(e),this.singleInstance=!0}}},{"80d7e0f79d15a474":"d0orT"}],j7WCD:[function(e,t,i){let{ModelsManager:n}=e("d53272d74eac6a7"),r=e("32417e719c5dd6ae"),s=e("136372ef47329aa3"),{ModifierConst:a}=e("a8ab6334ed36c1a0");t.exports.StorageObserver=class{constructor(e,t=!1){this.manager=e,this.modelsManager=!1!==t?t:new n,!1===this.modelsManager.dataServer.initialized&&this.modelsManager.dataServer.connect()}listenEvents(){let e=this.manager.getOwnerEventKey();this.manager.listenEvent(s.ADD_ITEM_BEFORE,this.saveNewItem.bind(this),this.manager.getOwnerUniqueEventKey("addItemBeforeStore"),e),this.manager.listenEvent(s.REMOVE_ITEM,this.removeItem.bind(this),this.manager.getOwnerUniqueEventKey("removeItemStore"),e),this.manager.listenEvent(s.MODIFY_ITEM_QTY,this.updateItemQuantity.bind(this),this.manager.getOwnerUniqueEventKey("modifyItemStore"),e),this.manager.listenEvent(s.EQUIP_ITEM,this.saveEquippedItemAsActive.bind(this),this.manager.getOwnerUniqueEventKey("equipItemStore"),e),this.manager.listenEvent(s.UNEQUIP_ITEM,this.saveUnequippedItemAsInactive.bind(this),this.manager.getOwnerUniqueEventKey("unequipItemStore"),e),this.manager.listenEvent(s.EQUIP+"AppliedModifiers",this.updateAppliedModifiers.bind(this),this.manager.getOwnerUniqueEventKey("modifiersAppliedStore"),e),this.manager.listenEvent(s.EQUIP+"RevertedModifiers",this.updateRevertedModifiers.bind(this),this.manager.getOwnerUniqueEventKey("modifiersRevertedStore"),e),this.manager.listenEvent(s.EXECUTED_ITEM,this.processAndStoreItemExecutionData.bind(this),this.manager.getOwnerUniqueEventKey("executedItemStore"),e)}async processAndStoreItemExecutionData(e){return await this.modelsManager.onExecutedItem(e)}async updateRevertedModifiers(e){return await this.modelsManager.onChangedModifiers(e,a.MOD_REVERTED)}async updateAppliedModifiers(e){return await this.modelsManager.onChangedModifiers(e,a.MOD_APPLIED)}async saveUnequippedItemAsInactive(e){return await this.modelsManager.onUnequipItem(e)}async saveEquippedItemAsActive(e){return await this.modelsManager.onEquipItem(e)}async updateItemQuantity(e,t,i,n,r){return await this.modelsManager.updateItemQuantity(e,t,i,n,r)}async removeItem(e,t){return await this.modelsManager.deleteItem(e,t)}async saveNewItem(e,t){return await this.modelsManager.saveNewItem(e,t)}async loadOwnerItems(){let e=await this.modelsManager.loadOwnerItems(this.manager.getOwnerId());if(0===e.length)return!1;let t=await r.fromModelsList(e,this.manager);if(!1===t)return!1;await this.manager.fireEvent(s.LOADED_OWNER_ITEMS,this,t,e),await this.manager.setItems(t)}}},{d53272d74eac6a7:"dqPLo","32417e719c5dd6ae":"lrNSa","136372ef47329aa3":"fWlRm",a8ab6334ed36c1a0:"iJUHo"}],dqPLo:[function(e,t,i){let{DataServerValidator:n}=e("922c8937bb9a3e8e"),r=e("45d303bb335ac1a6"),{sc:s}=e("311fda297c43e904");t.exports.ModelsManager=class{constructor(e){this.dataServer=n.getValidDataServer(e,this)}getEntity(e){return this.dataServer.entityManager.get(e)}async loadOwnerItems(e){return this.getEntity("inventory").loadByWithRelations("owner_id",e,["items_item.items_modifiers"])}async saveNewItem(e,t){let i={id:null,owner_id:e.getOwnerId(),item_id:t.item_id,qty:t.qty};s.hasOwn(t,"remaining_uses")&&(i.remaining_uses=t.remaining_uses),s.hasOwn(t,"is_active")&&(i.is_active=t.is_active);let n=await this.getEntity("inventory").create(i);return t.id=n.id,t}async deleteItem(e,t){return this.getEntity("inventory").deleteById(e.items[t].id)}async updateItemQuantity(e){return this.getEntity("inventory").updateById(e.id,{qty:e.qty})}async onEquipItem(e){return this.getEntity("inventory").updateById(e.id,{is_active:1})}async onUnequipItem(e){return this.getEntity("inventory").updateById(e.id,{is_active:0})}async onChangedModifiers(e,t){return e.manager.owner.persistData({act:t,item:e})}async onExecutedItem(e){return 0===e.uses&&await this.getEntity("inventory").deleteById(e.id),e.manager.owner.persistData({act:r.EXECUTED_ITEM,item:e})}}},{"922c8937bb9a3e8e":"8PHPS","45d303bb335ac1a6":"fWlRm","311fda297c43e904":"lHuVm"}],"8PHPS":[function(e,t,i){let{ErrorManager:n,sc:r}=e("597ff0c6b1eddcaa");t.exports.DataServerValidator=class{static getValidDataServer(e){let t=r.get(e,"dataServer",!1);return!1===t&&n.error("Data Server instance not found.",e),("function"!=typeof t.connect||"function"!=typeof t.generateEntities)&&n.error("Data Server property found but the instance required methods are not available.",t),t}}},{"597ff0c6b1eddcaa":"lHuVm"}],lrNSa:[function(e,t,i){let n=e("828a19276ce7cb77"),{ModifierConst:r,Modifier:s}=e("b6abd567e6ee9228"),{sc:a}=e("a22d714e4f421021");t.exports=class{static async fromModelsList(e,t){if(!e.length)return!1;let i={};for(let n of e){let e=await this.fromModel(n,t);i[e.getInventoryId()]=e}return i}static async fromModel(e,t){let i=new(a.get(t.itemClasses,e.items_item.key,t.types.classByTypeId(e.items_item.type)))({id:e.id,item_id:e.items_item.id,key:e.items_item.key,type:e.items_item.type,manager:t,label:e.items_item.label,description:e.items_item.description,qty:e.qty,remaining_uses:e.remaining_uses,is_active:e.is_active,group_id:e.items_item.group_id,qty_limit:e.items_item.qty_limit,uses_limit:e.items_item.uses_limit,useTimeOut:e.items_item.useTimeOut,execTimeOut:e.items_item.execTimeOut,customData:e.items_item.customData});return i.isType(n.TYPES.EQUIPMENT)&&(i.equipped=1===e.is_active),await this.enrichWithModifiers(e,i,t),i}static async enrichWithModifiers(e,t,i){if(0===e.items_item.items_modifiers.length)return;let n={};for(let t of e.items_item.items_modifiers)t.operation!==r.OPS.SET&&(t.value=Number(t.value)),t.target=i.owner,n[t.id]=new s(t);t.modifiers=n}}},{"828a19276ce7cb77":"idEfG",b6abd567e6ee9228:"iJUHo",a22d714e4f421021:"lHuVm"}],iJUHo:[function(e,t,i){t.exports={Calculator:e("7209906b2d2fdb67"),Condition:e("f9b761e432d15ea1"),Modifier:e("85ba66b0e0937f6b"),ModifierConst:e("347c1405c6c340e4"),PropertyManager:e("73dbfd9bd13117c6")}},{"7209906b2d2fdb67":"15YIL",f9b761e432d15ea1:"jefAk","85ba66b0e0937f6b":"gjxyS","347c1405c6c340e4":"4bERK","73dbfd9bd13117c6":"7bVCu"}],"15YIL":[function(e,t,i){let n=e("c6a7e2b54db92583");t.exports=class{calculateNewValue(e,t,i,r){let s=t===n.OPS.INC,a=t===n.OPS.DEC;if(s&&!r||a&&r)return e+i;if(a&&!r||s&&r)return e-i;let o=t===n.OPS.MUL,h=t===n.OPS.DIV;if(o&&!r||h&&r)return e*i;if(h&&!r||o&&r)return e/i;let c=t===n.OPS.INC_P;if(c&&!r)return e+Math.round(e*i/100);if(c&&r){let t=Math.ceil(e-e/(100-i)*100);return e+t}let l=t===n.OPS.DEC_P;if(l&&!r)return e-Math.round(e*i/100);if(l&&r){let t=Math.ceil(e/(100-i)*100-e);return e+t}}}},{c6a7e2b54db92583:"4bERK"}],"4bERK":[function(e,t,i){t.exports={OPS:{INC:1,DEC:2,DIV:3,MUL:4,INC_P:5,DEC_P:6,SET:7,SET_N:9,METHOD:8},COMPARE:{EQ:"eq",NE:"ne",LT:"lt",GT:"gt",LE:"le",GE:"ge"},TYPES:{INT:"int",STRING:"string"},MOD_MISSING_KEY:"mk",MOD_MISSING_PROPERTY_KEY:"mpk",MOD_MISSING_OPERATION:"mo",MOD_MISSING_VALUE:"mv",MOD_READY:"mre",MOD_APPLIED:"ma",MOD_REVERTED:"mr",MOD_UNDEFINED_TARGET:"mut",MOD_INVALID_CONDITIONS:"mic",MOD_MISSING_CONDITION_INSTANCE:"mmci",MOD_MODIFIER_ERROR:"me"}},{}],jefAk:[function(e,t,i){let{ErrorManager:n,sc:r}=e("7f32cc4f678fee29"),s=e("3ddfbc21a5968711"),a=e("ccbf83a7cf179d24");t.exports=class{constructor(e){this.validateParameters(e),this.key=e.key,this.propertyKey=e.propertyKey,this.conditional=e.conditional,this.type=r.get(e,"type",a.TYPES.INT),this.value=this.parseValue(e.value),this.propertyManager=new s}validateParameters(e){r.hasOwn(e,"key")||n.error("Missing Condition key."),r.hasOwn(e,"propertyKey")||n.error("Missing Condition propertyKey."),r.hasOwn(e,"conditional")||n.error("Missing Condition conditional."),r.hasOwn(e,"value")||n.error("Missing Condition value.")}parseValue(e){return this.type===a.TYPES.INT&&(e=Number(e)),this.type===a.TYPES.STRING&&(e=String(e)),e}isValidOn(e,t){r.isObjectFunction(this,this.conditional)||n.error("Condition operation is not a function.");let i=t||this.value,s=this.propertyManager.getPropertyValue(e,this.propertyKey);return this[this.conditional](s,i)}eq(e,t){return e===t}ne(e,t){return e!==t}lt(e,t){return e<t}gt(e,t){return e>t}le(e,t){return e<=t}ge(e,t){return e>=t}}},{"7f32cc4f678fee29":"JMhgy","3ddfbc21a5968711":"7bVCu",ccbf83a7cf179d24:"4bERK"}],JMhgy:[function(e,t,i){let n=e("d691d4fa6cea2950");t.exports={EventsManager:n,EventsManagerSingleton:new n,ErrorManager:e("d8e958d8f96101bc"),InteractionArea:e("272503a2730d31a"),SchemaValidator:e("7848250a9f47caf1"),Logger:e("404653b25061da31"),sc:e("9d383f341b9eb1ec")}},{d691d4fa6cea2950:"99okY",d8e958d8f96101bc:"8sWui","272503a2730d31a":"bcvJ4","7848250a9f47caf1":"fQvVq","404653b25061da31":"3u2po","9d383f341b9eb1ec":"4qzmB"}],"99okY":[function(e,t,i){let n=e("bb63facf08805c0e").default,r=e("3edeaecc21521149"),s=e("63662fd363376d05");t.exports=class extends n{constructor(){super(),this.eventsByRemoveKeys={},this.debug=!1}onWithKey(e,t,i,n){if(s.hasOwn(this.eventsByRemoveKeys,i)||n&&s.hasOwn(this.eventsByRemoveKeys,n)&&s.hasOwn(this.eventsByRemoveKeys[n],i))return r.debug('Event "'+e+'" exists with key "'+i+'" and masterKey "'+n+'".'),!1;this.on(e,t);let a=this.listeners(e),o=a.indexOf(t),h=a[o];return n?(s.hasOwn(this.eventsByRemoveKeys,n)||(this.eventsByRemoveKeys[n]={}),this.eventsByRemoveKeys[n][i]={eventName:e,callback:t}):this.eventsByRemoveKeys[i]={eventName:e,callback:t},h}offWithKey(e,t){if(t&&!s.hasOwn(this.eventsByRemoveKeys,t))return r.debug('Event not found by masterKey "'+t+'".'),!1;if(!t&&!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Event not found by removeKey "'+e+'".'),!1;let i=t?this.eventsByRemoveKeys[t][e]:this.eventsByRemoveKeys[e],n=this.listeners(i.eventName).indexOf(i.callback);return(this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName],t)?(delete this.eventsByRemoveKeys[t][e],r.debug('Deleted event by removeKey "'+e+'" and masterKey "'+t+'".')):(delete this.eventsByRemoveKeys[e],r.debug('Deleted event by removeKey "'+e+'".')),!0}offByMasterKey(e){if(!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Events not found by masterKey "'+e+'".'),!1;for(let t of(r.debug("Removing events by masterKey: "+e,Object.keys(this.eventsByRemoveKeys[e])),Object.keys(this.eventsByRemoveKeys[e]))){let i=this.eventsByRemoveKeys[e][t],n=this.listeners(i.eventName).indexOf(i.callback);this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName]}delete this.eventsByRemoveKeys[e]}on(e,t){!1!==this.debug&&this.logDebugEvent(e,"Listen"),super.on(e,t)}async emit(e,...t){!1!==this.debug&&this.logDebugEvent(e,"Fire"),await super.emit(e,...t)}logDebugEvent(e,t){(-1!==this.debug.indexOf("all")||-1!==this.debug.indexOf(e)||-1!==e.indexOf(this.debug))&&r.debug(t+" Event:",e)}}},{bb63facf08805c0e:"46bZC","3edeaecc21521149":"3u2po","63662fd363376d05":"4qzmB"}],"3u2po":[function(e,t,i){t.exports=new class{logLevels={none:0,emergency:1,alert:2,critical:3,error:4,warning:5,notice:6,info:7,debug:8};constructor(){let e=this.context();this.enableTraceBack="",this.logLevelBack=3,this.forcedDisabled=!!e.RELDENS_FORCED_DISABLED_LOGS,this.addTimeStamp=(e.RELDENS_INCLUDE_LOGS_TIMESTAMP,!0)}context(){return"undefined"!=typeof window?window:{}}enableTraceAll(){return this.enableTraceBack=this.context().RELDENS_ENABLE_TRACE_FOR,this.context().RELDENS_ENABLE_TRACE_FOR="all",this}restoreTraceFor(){return this.context().RELDENS_ENABLE_TRACE_FOR=this.enableTraceBack,this}setLogLevel(e){return this.logLevelBack=this.context().RELDENS_LOG_LEVEL,this.context().RELDENS_LOG_LEVEL=e,this}restoreLogLevel(){return this.context().RELDENS_LOG_LEVEL=this.logLevelBack,this}setForcedDisabled(e){return this.forcedDisabled=e,this}setAddTimeStamp(e){return this.addTimeStamp=e,this}logLevel(){return this.context().RELDENS_LOG_LEVEL||0}enableTraceFor(){return(this.context().RELDENS_ENABLE_TRACE_FOR||"").split(",")}log(e,...t){if(console.log((this.addTimeStamp?new Date().toISOString().slice(0,19).replace("T"," ")+" - ":"")+e.toUpperCase()+" -",...t),-1!==this.enableTraceFor().indexOf("all")||-1!==this.enableTraceFor().indexOf(e)){if("function"!=typeof Error?.captureStackTrace)return console.log("Error.captureStackTrace is not available.",typeof Error?.captureStackTrace),this;let t={};Error.captureStackTrace(t,e),console.log(t.stack)}return this}debug(...e){return this.forcedDisabled||8>this.logLevel()?this:this.log("debug",...e)}info(...e){return this.forcedDisabled||7>this.logLevel()?this:this.log("info",...e)}notice(...e){return this.forcedDisabled||6>this.logLevel()?this:this.log("notice",...e)}warning(...e){return this.forcedDisabled||5>this.logLevel()?this:this.log("warning",...e)}error(...e){return this.forcedDisabled||4>this.logLevel()?this:this.log("error",...e)}critical(...e){return this.forcedDisabled||3>this.logLevel()?this:this.log("critical",...e)}alert(...e){return this.forcedDisabled||2>this.logLevel()?this:this.log("alert",...e)}emergency(...e){return this.forcedDisabled||1>this.logLevel()?this:this.log("emergency",...e)}}},{}],"4qzmB":[function(e,t,i){t.exports=new class{hasOwn(e,t){if(this.isArray(t)&&0<t.length){for(let i of t)if(!(e&&({}).hasOwnProperty.call(e,i)))return!1;return!0}return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]}isTrue(e,t,i){return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]&&(i?!0===e[t]:e[t])}isObject(e){return e&&"object"==typeof e&&!this.isArray(e)}isArray(e){return Array.isArray(e)}inArray(e,t){return!!this.isArray(t)&&-1!==t.indexOf(e)}isFunction(e){return e&&"function"==typeof e}isObjectFunction(e,t){return this.isObject(e)&&t&&"function"==typeof e[t]}isString(e){return"string"==typeof e}isNumber(e){return"number"==typeof e}isInt(e){return!!this.isNumber(e)&&Number.isInteger(e)}isFloat(e){return!!this.isNumber(e)&&Number(e)===e&&0!=e%1}isBoolean(e){return"boolean"==typeof e}deepMergeProperties(e,t){if(!this.isObject(e)||!this.isObject(t))return!1;for(let i of Object.keys(t)){if(this.isObject(t[i])){if(!this.hasOwn(e,i)){e[i]=t[i];continue}this.deepMergeProperties(e[i],t[i]);continue}e[i]=t[i]}return e}length(e){return e?Object.keys(e).length:0}convertObjectsArrayToObjectByKeys(e,t){if(!this.isArray(e)||0===e.length)return{};let i={};for(let n of e)i[n[t]]=n;return i}sortObjectKeysBy(e,t){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}arraySort(e,t,i="asc"){if(!e||!t)return e;let n="act"===i?1:-1,r="act"===i?-1:1;return e.sort((e,i)=>e[t]>i[t]?n:r)}propsAssign(e,t,i){if(!this.isArray(i))return t;for(let n of i)t[n]=e[n];return t}toJson(e,t=!1){return this.parseJson(e)||t}parseJson(e){try{return JSON.parse(e)}catch(e){return!1}}deepJsonClone(e){return JSON.parse(JSON.stringify(e))}get(e,t,i){return this.hasOwn(e,t)?e[t]:i}getByPath(e,t,i){if(!this.isObject(e)||!this.isArray(t))return i;let n=t.shift();return 0===t.length?this.get(e,n,i):this.getByPath(e[n],t,i)}getByPriority(e,t){if(!this.isArray(t))return!1;for(let i of t)if(this.hasOwn(e,i))return e[i];return!1}fetchByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return!1;for(let n of e)if(n[t]===i)return n;return!1}fetchAllByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return[];let n=[];for(let r of e)r[t]===i&&n.push(r);return n}fetchByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let r of n){let n=e[r];if(n[t]===i)return n}return!1}fetchAllByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;let r=[];for(let s of n){let n=e[s];n[t]===i&&r.push(n)}return r}serializeFormData(e){if(0===e.length)return{};let t={};for(let[i,n]of e)void 0!==t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n;return t}removeFromArray(e,t){return e.filter(e=>-1===t.indexOf(e))}getCurrentDate(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDateForFileName(){return new Date().toISOString().slice(0,19).replace("T","-").replace(/:/g,"-")}formatDate(e,t="Y-m-d H:i:s"){if(!(e instanceof Date))return e;let i={Y:e.getFullYear(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),H:e.getHours().toString().padStart(2,"0"),i:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};return t.replace(/Y|m|d|H|i|s/g,e=>i[e])}getTime(){return new Date().getTime()}roundToPrecision(e,t=4){return Number(Number(e).toFixed(t))}randomValueFromArray(e){return this.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}randomChars(e){return 0>=e?"":this.randomString(e,!1)}randomCharsWithSymbols(e){return 0>=e?"":this.randomString(e,!0)}randomString(e,t=!1){let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t&&(n+="!@#$%&*()_-=+[]{}:;<>,./?");let r=n.length;for(let t=0;t<e;t++)i+=n.charAt(Math.floor(Math.random()*r));return i}cleanMessage(e,t){if(!e)return"";let i=e.toString().replace(/\\/g,"");return 0<t?i.substring(0,t):i}slugify(e){return(e||"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"-").toLowerCase()}isValidIsoCode(e){return/^[a-zA-Z]{2}$/.test(e)}}},{}],"8sWui":[function(e,t,i){t.exports=new class{constructor(){this.enableTrace=!1}error(e){throw this.enableTrace&&console.trace(),Error(e)}}},{}],bcvJ4:[function(e,t,i){t.exports=class{constructor(){this.x=!1,this.y=!1,this.interactionArea=!1,this.interactionLimits={}}setupInteractionArea(e=!1,t=!1,i=!1){e&&(this.interactionArea=e),this.interactionArea&&(t&&(this.x=t),i&&(this.y=i),this.interactionLimits.left=this.x-this.interactionArea,this.interactionLimits.right=this.x+this.interactionArea,this.interactionLimits.up=this.y-this.interactionArea,this.interactionLimits.down=this.y+this.interactionArea)}isValidInteraction(e,t){return e>this.interactionLimits.left&&e<this.interactionLimits.right&&t>this.interactionLimits.up&&t<this.interactionLimits.down}getPosition(){return{x:this.x,y:this.y}}}},{}],fQvVq:[function(e,t,i){let n=e("3b17a79488b6c4df"),r=e("6c2664be85346f21");t.exports=class{constructor(e){this.schema=e}validate(e,t=!1){if(t||(t=this.schema),!n.isObject(t))return r.debug("No schema provided."),!1;for(let i of Object.keys(t)){let n=t[i];if(!this.isValidSchema(e[i],n,i)||n.nested&&!this.validate(e[i],n.nested))return!1}return!0}isValidSchema(e,t,i){if(!t||!t.type)return r.debug("No schema type provided.",t,e,i),!1;switch(t.type){case"string":if(!n.isString(e))return r.debug("Object is not a string.",i,e,t),!1;break;case"number":if(!n.isInt(e)&&!n.isFloat(e))return r.debug("Object is not a number.",i,e,t),!1;break;case"int":if(!n.isInt(e))return r.debug("Object is not an integer.",i,e,t),!1;break;case"float":if(!n.isFloat(e))return r.debug("Object is not a float.",i,e,t),!1;break;case"boolean":if(!n.isBoolean(e))return r.debug("Object is not a boolean.",i,e,t),!1;break;case"object":if(!n.isObject(e))return r.debug("Object is not an object.",i,e,t),!1;break;case"array":if(!n.isArray(e))return r.debug("Object is not an array.",i,e,t),!1;if(t.valuesType){for(let n of e)if(!this.isValidSchema(n,{type:t.valuesType},i))return r.debug("Invalid array value.",n,t),!1}break;default:return r.debug("Invalid schema type provided.",t.type),!1}return!0}}},{"3b17a79488b6c4df":"4qzmB","6c2664be85346f21":"3u2po"}],"7bVCu":[function(e,t,i){let{ErrorManager:n,sc:r}=e("6ef89030f5a59b76");t.exports=class{getPropertyValue(e,t){return this.manageOwnerProperty(e,t)}setOwnerProperty(e,t,i){return this.manageOwnerProperty(e,t,i)}manageOwnerProperty(e,t,i){let n=t.split("/"),r=this.extractDeepProperty(e,n),s=n.pop();return void 0!==i&&(r[s]=i),r[s]}extractDeepProperty(e,t){let i=[...t],s=i.shift();return(r.hasOwn(e,s)||n.error('Property "'+s+'" from path parts: "'+t.join("/")+'"] owner invalid value: '+e[s]+"."),1<i.length)?this.extractDeepProperty(e[s],i):e[s]}}},{"6ef89030f5a59b76":"JMhgy"}],gjxyS:[function(e,t,i){let n=e("466f1d6a713f27d"),r=e("3a9190386e2c269"),s=e("a7b06831aaf035e5"),a=e("3a11d9dd77bf6747"),{Logger:o,sc:h}=e("994144a57bf406a1");t.exports=class{constructor(e){this.key=e.key,this.propertyKey=h.get(e,"propertyKey",e.property_key),this.basePropertyKey=h.get(e,"basePropertyKey",this.propertyKey),this.operation=e.operation,this.type=h.get(e,"type",a.TYPES.INT),this.originalValue=e.value,this.value=this.parseValue(e.value),this.target=h.get(e,"target",!1),this.minValue=!!h.hasOwn(e,"minValue")&&this.parseValue(e.minValue),this.maxValue=!!h.hasOwn(e,"maxValue")&&this.parseValue(e.maxValue),this.minProperty=h.get(e,"minProperty",!1),this.maxProperty=h.get(e,"maxProperty",!1),this.conditions=h.get(e,"conditions",[]),this.conditionsOnRevert=h.get(e,"conditionsOnRevert",!1),this.state=this.determineState(e),this.calculator=new n,this.propertyManager=new s}determineState(e){return h.hasOwn(e,"key")?h.hasOwn(e,"propertyKey")||h.hasOwn(e,"property_key")?h.hasOwn(e,"operation")?h.hasOwn(e,"value")?a.MOD_READY:a.MOD_MISSING_VALUE:a.MOD_MISSING_OPERATION:a.MOD_MISSING_PROPERTY_KEY:a.MOD_MISSING_KEY}parseValue(e){return this.type===a.TYPES.INT&&(e=Number(e)),this.type===a.TYPES.STRING&&(e=String(e)),e}apply(e,t,i){return this.execute(e,!1,t,i)}revert(e,t,i){return this.execute(e,!0,t,i)}execute(e,t=!1,i=!1,n=!1){if(!this.target&&!e)return this.state=a.MOD_UNDEFINED_TARGET,!1;if(this.conditions.length&&!this.validateConditions(e)&&(!t||t&&this.conditionsOnRevert))return!1;e&&(this.target=e);let r=this.getModifiedValue(t,i),s=n?this.basePropertyKey:this.propertyKey;return this.setOwnerProperty(s,r),this.state=t?a.MOD_REVERTED:a.MOD_APPLIED,!0}validateConditions(e){for(let t of this.conditions){if(t instanceof r)return o.error(["Missing Condition instance.",typeof t,"was specified."]),this.state=a.MOD_MISSING_CONDITION_INSTANCE,!1;if(!t.isValidOn(e))return this.state=a.MOD_INVALID_CONDITIONS,!1}return!0}getModifiedValue(e=!1,t=!1){let i=t?this.basePropertyKey:this.propertyKey,n=this.getPropertyValue(i),r=this.calculator.calculateNewValue(n,this.operation,this.value,e);if((this.operation===a.OPS.SET||this.operation===a.OPS.SET_N)&&(r=!e&&this.value),this.operation===a.OPS.METHOD){if(!h.hasOwn(this,this.value)||"function"!=typeof this[this.value])return o.error(["Modifier error:",this,"Undefined method:",this.value]),this.state=a.MOD_MODIFIER_ERROR,!1;r=this[this.value](this,r)}return this.applyModifierLimits(r)}applyModifierLimits(e){if(this.minValue&&e<this.minValue&&(e=this.minValue),this.maxValue&&e>this.maxValue&&(e=this.maxValue),this.minProperty){let t=this.getPropertyValue(this.minProperty);t&&e<t&&(e=t)}if(this.maxProperty){let t=this.getPropertyValue(this.maxProperty);t&&e>t&&(e=t)}return e}getPropertyValue(e){return this.propertyManager.getPropertyValue(this.target,e)}setOwnerProperty(e,t){return this.propertyManager.setOwnerProperty(this.target,e,t)}}},{"466f1d6a713f27d":"15YIL","3a9190386e2c269":"jefAk",a7b06831aaf035e5:"7bVCu","3a11d9dd77bf6747":"4bERK","994144a57bf406a1":"JMhgy"}],"3NxkK":[function(e,t,i){let n=e("b644d789ee2b40af"),r=e("45ba412a65c2e357"),{PropertyManager:s}=e("994236dc9aef1f79"),{Logger:a,sc:o}=e("8b1efebe48a67288");t.exports=class{constructor(e){this.client=o.get(e,"client",!1),this.manager=o.get(e,"manager",!1),this.sendProperties=o.get(e,"sendProperties",{}),!1===o.hasOwn(e,"sendProperties")&&this.defineBehaviorForProperties(),this.sendTargetProps=o.hasOwn(e,"sendTargetProps")?e.sendTargetProps:{broadcast:[],send:[]},this.propertyManager=new s,this.listenEvents()}validateManager(){return!!this.manager||(a.critical("Undefined manager for Sender."),!1)}validateClient(){return this.client?o.isObjectFunction(this.client,"send")?!!o.isObjectFunction(this.client,"broadcast")||(a.critical('Required method "broadcast" not found in client.',this.client),!1):(a.critical('Required method "send" not found in client.',this.client,typeof this.client.send),!1):(a.critical("Undefined client for Sender."),!1)}defineBehaviorForProperties(e){e||(e={});let t=n.BEHAVIOR_SEND,i=n.BEHAVIOR_BROADCAST;this.setPropertyBehavior(n.ACTION_ADD,e,{behavior:t,send:["id","key","type","qty","label","description","group_id","qty_limit","uses_limit","useTimeOut","execTimeOut","remaining_uses","is_active"]}),this.setPropertyBehavior(n.ACTION_REMOVE,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(n.ACTION_MODIFY_QTY,e,{behavior:t,send:["id","key","qty"]}),this.setPropertyBehavior(n.ACTION_MOD_APPLIED,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(n.ACTION_MOD_REVERTED,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(n.ACTION_EQUIP,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(n.ACTION_UNEQUIP,e,{behavior:t,send:["id","key"]}),this.setPropertyBehavior(n.ACTION_EXECUTING,e,{behavior:i,broadcast:["id","key","animationData"]}),this.setPropertyBehavior(n.ACTION_EXECUTED,e,{behavior:t,send:["id","key"]})}setPropertyBehavior(e,t,i){o.hasOwn(t,e)&&(this.sendProperties[e]=t[e]),this.sendProperties[e]=i}getItemProperties(e,t,i){if(!o.hasOwn(this.sendProperties,t))return a.critical("Undefined action while getting item properties.",{action:t,sendProperties:this.sendProperties}),!1;if(!o.hasOwn(this.sendProperties[t],i))return a.critical("Undefined behavior while getting item properties.",{behavior:i,action:t,sendProperties:this.sendProperties}),!1;let n={idx:e.getInventoryId()};for(let r of this.sendProperties[t][i]){if(!o.hasOwn(e,r)){a.info("Undefined property: "+r,e);continue}n[r]=e[r]}return n}listenEvents(){if(!this.validateManager())return!1;let e=this.manager.getOwnerEventKey();this.manager.listenEvent(r.ADD_ITEM,this.sendAddItemData.bind(this),this.manager.getOwnerUniqueEventKey("addItemSend"),e),this.manager.listenEvent(r.REMOVE_ITEM,this.sendRemoveItemData.bind(this),this.manager.getOwnerUniqueEventKey("removeItemSend"),e),this.manager.listenEvent(r.MODIFY_ITEM_QTY,this.sendModifyItemQuantityData.bind(this),this.manager.getOwnerUniqueEventKey("modifyItemQtySend"),e),this.manager.listenEvent(r.EQUIP_ITEM,this.sendEquipItemActionData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemSend"),e),this.manager.listenEvent(r.UNEQUIP_ITEM,this.sendUnequipItemActionData.bind(this),this.manager.getOwnerUniqueEventKey("unequipItemSend"),e),this.manager.listenEvent(r.EQUIP+"AppliedModifiers",this.sendEquipItemAppliedModifiersData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemAppliedModifiersSend"),e),this.manager.listenEvent(r.EQUIP+"RevertedModifiers",this.sendEquipItemRevertedModifiersData.bind(this),this.manager.getOwnerUniqueEventKey("equipItemRevertedModifiersSend"),e),this.manager.listenEvent(r.EXECUTING_ITEM,this.sendExecutingItemData.bind(this),this.manager.getOwnerUniqueEventKey("executingItemSend"),e),this.manager.listenEvent(r.EXECUTED_ITEM,this.sendExecutedItemData.bind(this),this.manager.getOwnerUniqueEventKey("executedItemSend"),e),this.manager.listenEvent(r.SET_ITEMS,this.sendSetItemsData.bind(this),this.manager.getOwnerUniqueEventKey("setItemsSend"),e),this.manager.listenEvent(r.SET_GROUPS,this.sendSetGroupsData.bind(this),this.manager.getOwnerUniqueEventKey("setGroupsSend"),e)}async sendSetGroupsData(e){let t=e.manager.getOwnerId();if(this.manager.getOwnerId()!==t)return!1;let i={};for(let t of Object.keys(e.groups)){let{id:n,key:r,label:s,description:a,sort:o}=e.groups[t];i[r]={id:n,key:r,label:s,description:a,sort:o}}return await this.client.send({act:n.ACTION_SET_GROUPS,owner:t,groups:i})}async sendSetItemsData(e){let t=e.manager.getOwnerId();if(this.manager.getOwnerId()!==t)return!1;let i=this.extractItemsDataForSend(e.items);return await this.client.send({act:n.ACTION_SET_ITEMS,owner:t,items:i})}async sendExecutedItemData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_EXECUTED)}async sendExecutingItemData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_EXECUTING)}async sendEquipItemRevertedModifiersData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_MOD_REVERTED)}async sendEquipItemAppliedModifiersData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_MOD_APPLIED)}async sendUnequipItemActionData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_UNEQUIP)}async sendEquipItemActionData(e){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_EQUIP)}async sendModifyItemQuantityData(e,t,i,r,s){return await this.runBehaviors(e,e.manager.getOwnerId(),n.ACTION_MODIFY_QTY)}async sendRemoveItemData(e,t){let i=e.items[t];return i?await this.runBehaviors(i,i.manager.getOwnerId(),n.ACTION_REMOVE):(a.debug('Item with key "'+t+'" not found.'),!1)}async sendAddItemData(e,t){return await this.runBehaviors(t,t.manager.getOwnerId(),n.ACTION_ADD)}extractItemsDataForSend(e){let t={};for(let i of Object.keys(e)){let r=e[i],s=this.getItemProperties(r,n.ACTION_ADD,n.BEHAVIOR_SEND);s.singleInstance=r.singleInstance,t[r.getInventoryId()]=s}return t}async runBehaviors(e,t,i){if(!e)return a.warning('Invalid "item" parameter.'),!1;if(!this.validateManager()||!this.validateClient())return!1;if(this.manager.getOwnerId()!==t)return a.warning("Item owner ID miss match.",this.manager.getOwnerId(),t),!1;let r=this.sendProperties[i],s=this.getTargetProps(e,r.behavior),o=r.behavior===n.BEHAVIOR_BOTH;if(r.behavior===n.BEHAVIOR_BROADCAST||o){let r=this.getItemProperties(e,i,n.BEHAVIOR_BROADCAST);await this.client.broadcast({act:i,owner:t,item:r,target:s});return}let h=r.behavior===n.BEHAVIOR_SEND,c=r[n.BEHAVIOR_SEND]!==r[n.BEHAVIOR_BROADCAST];if(h||o&&c){let r=this.getItemProperties(e,i,n.BEHAVIOR_SEND);await this.client.send({act:i,owner:t,item:r,targetProps:s})}}getTargetProps(e,t){let i=t===n.BEHAVIOR_BOTH?n.BEHAVIOR_BROADCAST:n.BEHAVIOR_SEND;if(!1===o.hasOwn(this.sendTargetProps,i)||0===this.sendTargetProps[i].length)return{};let r={};for(let t of this.sendTargetProps[i]){let i="id"===t?this.manager.ownerIdProperty:t;r[i]=this.propertyManager.getPropertyValue(e.target,i)}return r}}},{b644d789ee2b40af:"idEfG","45ba412a65c2e357":"fWlRm","994236dc9aef1f79":"iJUHo","8b1efebe48a67288":"lHuVm"}],"3auVp":[function(e,t,i){let n=e("fddf8c3cc708201b"),{ErrorManager:r,sc:s}=e("c1c82d06c77e78b8");t.exports=class extends n{constructor(e){s.hasOwn(e,"id")||r.error("Undefined ItemGroup id."),s.hasOwn(e,"key")||r.error("Undefined ItemGroup key."),e.eventsPref="g"+e.key+"."+s.get(e,"eventsPrefix",""),super(e),this.id=e.id,this.key=e.key,this.label=s.get(e,"label",!1),this.description=s.get(e,"description",!1),this.files_name=s.get(e,"files_name",!1),this.sort=s.get(e,"sort",!1),this.items_limit=s.get(e,"items_limit",!1),this.limit_per_item=s.get(e,"limit_per_item",!1)}}},{fddf8c3cc708201b:"8qkfQ",c1c82d06c77e78b8:"lHuVm"}],"3ncwO":[function(e,t,i){t.exports=class{constructor(e){this.id=e.id,this.key=e.key,this.type=e.type}}},{}],"2R9Cx":[function(e,t,i){let n=e("312a2d95cff483b5"),r=e("f647b9be5cb5de72"),s=e("2edbed84bfb41fb4"),{ErrorManager:a,Logger:o,sc:h}=e("a231b7a801915a72");t.exports=class{constructor(e){h.hasOwn(e,"owner")||a.error("Undefined owner."),this.manager=h.hasOwn(e,"manager")?e.manager:new n(e),this.actions=h.hasOwn(e,"actions")?e.actions:{},!1===h.get(e,"avoidDefaults",!1)&&this.setDefaultActions(),this.recieveErrorsLog=[]}setDefaultActions(){this.actions[r.ACTION_SET_ITEMS]="onSetItems",this.actions[r.ACTION_SET_GROUPS]="onSetGroups",this.actions[r.ACTION_ADD]="onAddItem",this.actions[r.ACTION_REMOVE]="onRemoveItem",this.actions[r.ACTION_MODIFY_QTY]="onSetQty",this.actions[r.ACTION_EQUIP]="onEquipItem",this.actions[r.ACTION_UNEQUIP]="onUnequipItem",this.actions[r.ACTION_MOD_APPLIED]="onModifiersApplied",this.actions[r.ACTION_MOD_REVERTED]="onModifiersReverted",this.actions[r.ACTION_EXECUTING]="onExecuting",this.actions[r.ACTION_EXECUTED]="onExecuted"}processMessage(e){let t=h.get(e,"act","");return 0===t.indexOf(r.ACTIONS_PREF)&&(h.hasOwn(this.actions,t)?"function"!=typeof this[this.actions[t]]?(o.info("Items action is not a function.",e.act),!1):void this[this.actions[t]](e):(o.error("Items action not found",t,e),!1))}onSetItems(e){let t={};for(let i of Object.keys(e.items)){let n=e.items[i],s=Object.assign({manager:this.manager},n,{uid:i}),a=this.getItemClass(s.key,s.type);t[i]=new a(s),t[i].isType(r.TYPES.EQUIPMENT)&&h.hasOwn(s,"is_active")&&(t[i].equipped=1===s.is_active)}return this.manager.setItems(t)}onSetGroups(e){let t={};for(let i of Object.keys(e.groups)){let n=this.getGroupClass(e.groups[i].key);t[e.groups[i].key]=new n(e.groups[i])}return this.manager.setGroups(t)}onAddItem(e){let t=Object.assign({manager:this.manager},e.item,{uid:e.item.idx}),i=new(this.getItemClass(t.key,t.type))(t);this.manager.addItem(i).catch(e=>{this.recieveErrorsLog.push({"Error receiver onAddItem.":e})})}onRemoveItem(e){this.manager.removeItem(e.item.idx).catch(e=>{this.recieveErrorsLog.push({"Error receiver onRemoveItem.":e})})}onSetQty(e){this.manager.setItemQty(e.item.idx,e.item.qty).catch(e=>{this.recieveErrorsLog.push({"Error receiver onSetQty.":e})})}onEquipItem(e){this.manager.items[e.item.idx].equip(!1).catch(e=>{this.recieveErrorsLog.push({"Error receiver onEquipItem.":e})})}onUnequipItem(e){this.manager.items[e.item.idx].unequip(!1).catch(e=>{this.recieveErrorsLog.push({"Error receiver onUnequipItem.":e})})}onModifiersApplied(e){}onModifiersReverted(e){}onExecuting(e){}onExecuted(e){}getItemClass(e,t){return h.get(this.manager.itemClasses,e,this.manager.types.classByTypeId(t))}getGroupClass(e){let t=s;return h.hasOwn(this.manager.groupClasses,e)&&(t=this.manager.groupClasses[e]),t}}},{"312a2d95cff483b5":"5wpm2",f647b9be5cb5de72:"idEfG","2edbed84bfb41fb4":"3auVp",a231b7a801915a72:"lHuVm"}],nHDSk:[function(e,t,i){let n=e("3dd92880a486247f"),{ModifierConst:r,Modifier:s}=e("293ce1d1ff60486a"),{sc:a}=e("45aa0d32b8aa311b");t.exports=class{static itemsListMappedData(e={},t){if(0===t.length)return{};let i={},r=new n;for(let n of t)n.items_modifiers&&(n.modifiers=this.generateItemModifiers(n)),i[n.key]={class:a.get(e,n.key,r.classByTypeId(n.type)),data:n};return i}static generateItemModifiers(e){let t={};for(let i of e.items_modifiers)i.operation!==r.OPS.SET&&(i.value=Number(i.value)),t[i.id]=new s(i);return t}}},{"3dd92880a486247f":"8gXhx","293ce1d1ff60486a":"iJUHo","45aa0d32b8aa311b":"lHuVm"}],btt2J:[function(e,t,i){let{ItemGroup:n}=e("185572600d1291f"),{sc:r}=e("99c50def0f4abb2");t.exports=class{static groupsListMappedData(e,t){if(0===t.length)return{};let i={groupList:{},groupBaseData:{}};for(let n of(i.groupModels=t,t))this.addGroup(n,i,e);return i}static appendGroup(e,t,i){return!!e&&!!t&&!!i&&(r.isArray(t.groupModelsList)||(t.groupModelsList=[]),t.groupModelsList.push(e),this.addGroup(i,e,t),t)}static addGroup(e,t,i){let s=r.get(i,e.key,n),{id:a,key:o,label:h,description:c,sort:l,files_name:u}=e;t.groupList[e.key]={class:s,data:e},t.groupBaseData[o]={id:a,key:o,label:h,description:c,sort:l,files_name:u}}}},{"185572600d1291f":"3auVp","99c50def0f4abb2":"lHuVm"}],gRIlz:[function(e,t,i){let n=e("9ec9f370c69b97e4"),r=e("5bd56f616649a07e"),s=e("f6c0b56ddc826cd5"),a=e("e433549ba9a6abfc"),o=e("24c35dc83734e5b2"),h=e("330f7364569544ad"),c=e("332ac9b4e9ced220"),{EventsManagerSingleton:l,ErrorManager:u,Logger:d,sc:f}=e("71720c1a95ddc1ce");t.exports=class{constructor(e){this.events=f.get(e,"eventsManager",l),this.requirementsProcessor=new s,this.rewardsProcessor=new a,this.exchangeInitializerId=f.get(e,"exchangeInitializerId",!1),this.initializeProperties()}initializeExchangeBetween(e){let t=f.get(e,"inventoryA",null),i=f.get(e,"inventoryB",null);(null===t||null===i)&&u.error("Missing inventories from properties.",e),this.inventories={A:t,B:i},this.lockInventories(),this.confirmations={A:!1,B:!1},this.exchangeBetween={A:{},B:{}},this.exchangeRequirements={A:f.get(e,"exchangeRequirementsA",new n),B:f.get(e,"exchangeRequirementsB",new n)},this.exchangeRewards={A:f.get(e,"exchangeRewardsA",new r),B:f.get(e,"exchangeRewardsB",new r)},this.dropExchange={A:f.get(e,"dropExchangeA",!1),B:f.get(e,"dropExchangeB",!1)},this.avoidExchangeDecrease={A:f.get(e,"avoidExchangeDecreaseA",!1),B:f.get(e,"avoidExchangeDecreaseB",!1)},this.setError(),this.events.emit(h.EXCHANGE.INITIALIZED,{exchangePlatform:this,props:e,inventoryA:t,inventoryB:i})}setError(e="",t="",i={},n=!1){this.lastError=new o(e,t,i,n)}cancelExchange(){this.unlockInventories(),this.initializeProperties(),this.events.emit(h.EXCHANGE.CANCELED,{exchangePlatform:this})}initializeProperties(){this.inventories={A:null,B:null},this.confirmations={A:!1,B:!1},this.exchangeBetween={A:{},B:{}},this.exchangeRequirements={A:[],B:[]},this.exchangeRewards={A:[],B:[]},this.setError()}async pushForExchange(e,t,i){return this.confirmations.A||this.confirmations.B?(d.info('Push for exchange "'+e+'" was blocked. Exchange for "'+i+'" and owner "'+this.inventories[i].owner_id+'" was already confirmed.'),!1):this.canBePushed(e,t,i)?(this.exchangeBetween[i][e]=t,this.validateRequirements("A")&&this.validateRewards("A")&&this.validateRequirements("B")&&this.validateRewards("B"))?(this.events.emit(h.EXCHANGE.ITEM_PUSHED,{exchangePlatform:this,itemUid:e,qty:t,inventoryKey:i}),!0):(delete this.exchangeBetween[i][e],!1):(this.events.emit(h.EXCHANGE.INVALID_PUSH,{exchangePlatform:this,itemUid:e,qty:t,inventoryKey:i}),!1)}async removeFromExchange(e,t){return this.confirmations.A||this.confirmations.B?(d.info('Remove from exchange "'+e+'" was blocked. Exchange for "'+t+'" and owner "'+this.inventories[t].owner_id+'" was already confirmed.'),!1):(this.events.emit(h.EXCHANGE.ITEM_REMOVE,{exchangePlatform:this,itemUid:e,inventoryKey:t}),!!f.hasOwn(this.exchangeBetween[t],e)&&(delete this.exchangeBetween[t][e],!0))}async confirmExchange(e){this.events.emit(h.EXCHANGE.CONFIRM,{exchangePlatform:this,inventoryKey:e}),this.confirmations[e]=!0}async disconfirmExchange(e){this.events.emit(h.EXCHANGE.DISCONFIRM,{exchangePlatform:this,inventoryKey:e}),this.confirmations[e]=!1}async finalizeExchange(){return(this.events.emit(h.EXCHANGE.BEFORE_FINALIZE,{exchangePlatform:this}),this.confirmations.A&&this.confirmations.B)?!!(this.validateRequirements("A")&&this.validateRequirements("B")&&this.validateRewards("A")&&this.validateRewards("B"))&&(this.unlockInventories(),!1!==await this.executeExchangeFromTo("A","B")&&!1!==await this.executeExchangeFromTo("B","A")&&(this.events.emit(h.EXCHANGE.FINALIZED,{exchangePlatform:this}),this.setError(),!0)):(this.setError("Missing confirmation.",c.ERROR_CODES.EXCHANGE.MISSING_CONFIRMATION,{confirmations:this.confirmations}),!1)}validateRequirements(e){return this.requirementsProcessor.validateRequirements(e,this)}validateRewards(e){return this.rewardsProcessor.validateRewards(e,this)}lockInventories(){this.setLocks(!0)}unlockInventories(){this.setLocks(!1)}setLocks(e){this.setInventoryLock("A",e),this.setInventoryLock("B",e)}setInventoryLock(e,t){let i=f.get(this.inventories,e,!1);return null!==i&&(!1===i?(d.error('Inventory not found "'+e+'".',this.inventories),!1):(i.locked=t,!0))}canBePushed(e,t,i){if(!f.hasOwn(this.inventories[i].items,e))return d.critical("Item Key does not exists on the inventory",e,this.inventories[i].items),!1;let n=this.inventories[i].items[e],r=t<=n.qty||-1===n.qty;return r||this.setError("Invalid item pushed quantity ("+t+"), available: "+n.qty,c.ERROR_CODES.EXCHANGE.INVALID_PUSHED_QUANTITY,{itemUid:e,qty:t,pushedItemQty:n.qty}),r}async executeExchangeFromTo(e,t){if(e===t)return this.setError('Inventories "FROM" and "TO" are the same, exchange cancelled.',c.ERROR_CODES.EXCHANGE.INVALID_EXCHANGE),this.cancelExchange(),this.inventories;let i=this.inventories[e],n=this.inventories[t];for(let r of Object.keys(this.exchangeBetween[e])){let s=this.exchangeBetween[e][r];if(0===s)return this.setError("Invalid item quantity 0.",c.ERROR_CODES.EXCHANGE.INVALID_QUANTITY,{itemUid:r}),!1;let a=!1===this.dropExchange[t]&&n.createItemInstance(i.items[r].key,s);if(!1===await this.rewardsProcessor.processRewards(e,t,r,i,n,this)||!1===await this.requirementsProcessor.processRequirements(e,t,r,s,i,n,this))return!1;let o=!0;if(!1===this.avoidExchangeDecrease[e]&&(i.frozenItems[r]=Object.assign({},i.items[r]),o=await i.decreaseItemQty(r,s)),!1===o)return this.setError("Exchange inventory decrease error.",c.ERROR_CODES.EXCHANGE.DECREASE_QUANTITY,{itemUid:r},i.lastError),!1;if(!1===this.dropExchange[t]){let e=f.isArray(a)?a:[a];if(!1===await n.addItems(e))return this.setError("Exchange add inventory result error.",c.ERROR_CODES.EXCHANGE.ITEM_ADD,{itemUid:r},n.lastError),!1}}return this.exchangeBetween[e]={},this.inventories}oppositeKey(e){return"A"===e?"B":"A"}}},{"9ec9f370c69b97e4":"1wLI1","5bd56f616649a07e":"hU2Lr",f6c0b56ddc826cd5:"kxCH2",e433549ba9a6abfc:"1sOiW","24c35dc83734e5b2":"eODT6","330f7364569544ad":"fWlRm","332ac9b4e9ced220":"idEfG","71720c1a95ddc1ce":"lHuVm"}],"1wLI1":[function(e,t,i){let n=e("dda1e92f871afe97"),{sc:r}=e("ce7f52b0d100b8f7");t.exports=class{constructor(e){this.requirements=r.get(e,"requirements",[])}count(){return this.requirements.length}add(e,t,i,r,s){this.requirements.push(new n({itemUid:e,itemKey:t,requiredItemKey:i,requiredQuantity:r,autoRemoveRequirement:s}))}remove(e){let t=!1,i=0;for(let n of this.requirements){if(n.itemUid===e){t=!0;break}i++}t&&delete this.requirements[i]}fetchAllBy(e,t){return r.fetchAllByProperty(this.requirements,e,t)}}},{dda1e92f871afe97:"4hpnF",ce7f52b0d100b8f7:"lHuVm"}],"4hpnF":[function(e,t,i){t.exports=class{constructor(e){this.itemUid=e.itemUid||"",this.itemKey=e.itemKey||"",this.requiredItemKey=e.requiredItemKey,this.requiredQuantity=Number(e.requiredQuantity),this.autoRemoveRequirement=!!e.autoRemoveRequirement}}},{}],hU2Lr:[function(e,t,i){let n=e("c75245438c2a820e"),{sc:r}=e("74cd247a8747612e");t.exports=class{constructor(e){this.rewards=r.get(e,"rewards",[])}count(){return this.rewards.length}add(e,t,i,r,s){this.rewards.push(new n({itemUid:e,itemKey:t,rewardItemKey:i,rewardQuantity:r,rewardItemIsRequired:s}))}remove(e){let t=!1,i=0;for(let n of this.rewards){if(n.itemUid===e){t=!0;break}i++}t&&delete this.rewards[i]}fetchAllBy(e,t){return r.fetchAllByProperty(this.rewards,e,t)}}},{c75245438c2a820e:"iuvBV","74cd247a8747612e":"lHuVm"}],iuvBV:[function(e,t,i){t.exports=class{constructor(e){this.itemUid=e.itemUid||"",this.itemKey=e.itemKey||"",this.rewardItemKey=e.rewardItemKey,this.rewardQuantity=Number(e.rewardQuantity),this.rewardItemIsRequired=!!e.rewardItemIsRequired}}},{}],kxCH2:[function(e,t,i){let n=e("b11112aa3d4db9e4"),{Logger:r,sc:s}=e("5342d6a91ce0343f");t.exports=class{constructor(e){this.requirementsByItemUid=s.get(e,"requirementsByItemUid",!0),this.requirementsByItemKey=s.get(e,"requirementsByItemKey",!0),this.requirementsTotals={}}validateRequirements(e,t){let i=t.exchangeRequirements[e];if(0===i.count())return!0;let r=t.exchangeBetween[e],a=Object.keys(r);if(0===a.length)return!0;this.requirementsTotals={};let o=t.oppositeKey(e);for(let h of a){let a=r[h],c=t.inventories[e],l=s.get(c.items,h,s.get(c.frozenItems,h,!1));if(!1===l)return t.setError('Reward error, item "'+h+'" does not exits on inventory "'+e+'".',n.ERROR_CODES.REWARD.DOES_NOT_EXISTS,{itemUid:h,inventoryKeyFrom:e}),!1;let u=this.fetchItemRequirements(i,l);if(0!==u.length&&(this.plusRequirementsQuantity(u,a),!this.validateItemRequirements(u,r[h],o,t)))return!1}return!0}fetchItemRequirements(e,t){let i=[];return this.requirementsByItemUid&&(i=[...i,...e.fetchAllBy("itemUid",t.uid)]),this.requirementsByItemKey&&(i=[...i,...e.fetchAllBy("itemKey",t.key)]),i}plusRequirementsQuantity(e,t){for(let i of e)s.hasOwn(this.requirementsTotals,i.requiredItemKey)||(this.requirementsTotals[i.requiredItemKey]=0),this.requirementsTotals[i.requiredItemKey]+=i.requiredQuantity*t}validateItemRequirements(e,t,i,r){if(0===e.length)return!0;for(let a of e){let e=r.inventories[i].findItemByKey(a.requiredItemKey);if(!1===e)return r.setError('Required item "'+a.requiredItemKey+'" is not present on inventory "'+i+'".',n.ERROR_CODES.REQUIREMENTS.ITEM_NOT_PRESENT,{requiredItemKey:a.requiredItemKey,inventoryKeyTo:i}),!1;let o=a.requiredQuantity*t;if(o>e.qty)return r.setError('Required item "'+a.requiredItemKey+'" required quantity ('+o+') is not available on inventory "'+i+'".',n.ERROR_CODES.REQUIREMENTS.QUANTITY_NOT_AVAILABLE,{requiredItemKey:a.requiredItemKey,inventoryKeyTo:i,totalRequiredQuantity:o}),!1;if(!0===a.autoRemoveRequirement)continue;let h=s.get(r.exchangeBetween[i],e.uid,!1);if(!1===h&&!1===a.autoRemoveRequirement)return r.setError('Required item "'+a.requiredItemKey+'" was not pushed for exchange "'+i+'".',n.ERROR_CODES.REQUIREMENTS.ITEM_NOT_PUSHED,{requiredItemKey:a.requiredItemKey,inventoryKeyTo:i}),!1;if(o>h)return r.setError("Required item "+a.requiredItemKey+" required quantity ("+o+") was not pushed for exchange.",n.ERROR_CODES.REQUIREMENTS.ITEM_QUANTITY_NOT_PUSHED,{requiredItemKey:a.requiredItemKey,inventoryKeyTo:i,totalRequiredQuantity:o}),!1}return!0}async processRequirements(e,t,i,a,o,h,c){let l=s.get(o.items,i,s.get(o.frozenItems,i,!1));if(!1===l)return c.setError('Requirement error, item "'+i+'" does not exits on inventory.',n.ERROR_CODES.REQUIREMENTS.ITEM_DOES_NOT_EXISTS,{itemUid:i}),!1;let u=c.exchangeRequirements[e];if(!u||0===u.count())return!0;let d=this.fetchItemRequirements(u,l);if(0===d.length)return!0;for(let e of d){if(!1===s.get(c.exchangeBetween[t],e.requiredItemKey,!1)&&!1===e.autoRemoveRequirement)return!1;let l=h.findItemByKey(e.requiredItemKey);if(!1===l)return r.error("The required item not longer exists.",i,e.requiredItemKey),!1;let u=e.requiredQuantity*a,d=!1===h.dropExchange&&o.createItemInstance(e.requiredItemKey,u);if(h.frozenItems[l.uid]=Object.assign({},l),!1===await h.decreaseItemQty(l.uid,u))return r.error("There was an error while decreasing the required item quantity.",e,l),!1;if(!1!==d){let e=s.isArray(d)?d:[d];if(!1===await h.addItems(e))return c.setError("Requirement add item error.",n.ERROR_CODES.REQUIREMENTS.ITEM_ADD,{},h.lastError),!1}}return!0}}},{b11112aa3d4db9e4:"idEfG","5342d6a91ce0343f":"lHuVm"}],"1sOiW":[function(e,t,i){let n=e("bddde17fed05deaa"),{Logger:r,sc:s}=e("918bdf09bd16e1b2");t.exports=class{constructor(e){this.rewardsByItemUid=s.get(e,"rewardsByItemUid",!0),this.rewardsByItemKey=s.get(e,"rewardsByItemKey",!0),this.rewardsTotals={}}validateRewards(e,t){let i=t.exchangeRewards[e];if(0===i.length)return!0;let r=t.exchangeBetween[e],a=Object.keys(r);if(0===a.length)return!0;let o=t.oppositeKey(e);for(let h of(this.rewardsTotals={},a)){let a=r[h],c=t.inventories[e],l=s.get(c.items,h,s.get(c.frozenItems,h,!1));if(!1===l)return t.setError('Reward error, item "'+h+'" does not exits on inventory "'+e+'".',n.ERROR_CODES.REWARD.MISSING_ITEM,{itemUid:h,inventoryKeyFrom:e}),!1;let u=this.fetchItemRewards(i,l);if(!1!==u&&0!==u.length&&(this.plusRewardsQuantity(u,a),!this.validateItemRewards(u,a,o,t)))return!1}return!0}fetchItemRewards(e,t){if(!t)return r.error("Item does not exits on inventory.",t),!1;let i=[];return this.rewardsByItemUid&&(i=[...i,...e.fetchAllBy("itemUid",t.uid)]),this.rewardsByItemKey&&(i=[...i,...e.fetchAllBy("itemKey",t.key)]),i}plusRewardsQuantity(e,t){for(let i of e)s.hasOwn(this.rewardsTotals,i.rewardItemKey)||(this.rewardsTotals[i.rewardItemKey]=0),this.rewardsTotals[i.rewardItemKey]+=i.rewardQuantity*t}validateItemRewards(e,t,i,r){if(0===e.length)return!0;for(let t of e){if(!1===t.rewardItemIsRequired)continue;let e=r.inventories[i].findItemByKey(t.rewardItemKey);if(!1===e)return r.setError('Reward item "'+t.rewardItemKey+'" is not present on inventory "'+i+'".',n.ERROR_CODES.REWARD.ITEM_NOT_PRESENT,{rewardItemKey:t.rewardItemKey,inventoryKeyTo:i}),!1;if(this.rewardsTotals[t.rewardItemKey]>e.qty)return r.setError("Reward item "+t.rewardItemKey+" reward quantity ("+t.rewardQuantity+') is not available on inventory "'+i+'".',n.ERROR_CODES.REWARD.QUANTITY_NOT_AVAILABLE,{rewardItemKey:t.rewardItemKey,rewardQuantity:t.rewardQuantity,inventoryKeyTo:i}),!1}return!0}async processRewards(e,t,i,r,a,o){let h=o.exchangeRewards[e];if(0===h.length)return!0;let c=o.oppositeKey(e),l=o.exchangeBetween[e][i];if(!l)return o.setError('Missing pushed for exchange item "'+i+'".',n.ERROR_CODES.REWARD.MISSING_PUSHED,{itemUid:i}),!1;let u=s.get(r.items,i,s.get(r.frozenItems,i,!1));if(!1===u)return o.setError('Reward error, item "'+i+'" does not exits on inventory.',n.ERROR_CODES.REWARD.GET_ITEM_DOES_NOT_EXISTS,{itemUid:i}),!1;let d=this.fetchItemRewards(h,u);return!1===d||0===d.length||!!await this.processItemRewards(d,r,a,c,l,i,o)||(o.setError('Process item reward error, item "'+i+'".',n.ERROR_CODES.REWARD.PROCESS_ITEM,{itemUid:i}),!1)}async processItemRewards(e,t,i,a,o,h,c){if(0===e.length)return!0;for(let l of e){let e=l.rewardQuantity*o;if(!1===l.rewardItemIsRequired){let i=t.createItemInstance(l.rewardItemKey,e),r=s.isArray(i)?i:[i];if(!1===await t.addItems(r)){if(""!==t.lastError.message)return c.setError("Rewards process inventory error.",n.ERROR_CODES.REWARD.PROCESS_ITEM,{},t.lastError),!1;let e=Object.keys(r).join(",");return c.setError("Rewards error on add items: "+e+".",n.ERROR_CODES.REWARD.ADD_ITEMS,{itemsKeys:e}),!1}continue}let u=c.inventories[a].findItemByKey(l.rewardItemKey);if(!1===u)return c.setError('Reward item "'+l.rewardItemKey+'" is not present on inventory "'+a+'".',n.ERROR_CODES.REWARD.ITEM_NOT_PRESENT,{rewardItemKey:l.rewardItemKey,inventoryKeyTo:a}),!1;if(e>u.qty)return c.setError("Reward quantity ("+e+") is bigger than the available in the inventory ("+u.qty+").",n.ERROR_CODES.REWARD.QUANTITY_OVERLOAD,{rewardQuantityTotal:e,rewardInventoryItemQty:u.qty}),!1;let d=i.findItemByKey(l.rewardItemKey);if(!1===d)return r.error("The reward item not longer exists.",h,l.rewardItemKey),!1;let f=t.createItemInstance(l.rewardItemKey,e);if(i.frozenItems[d.uid]=Object.assign({},d),!1===await i.decreaseItemQty(d.uid,l.requiredQuantity))return r.error("There was an error while decreasing the reward item quantity.",l,d),!1;await t.addItem(f)}return!0}}},{bddde17fed05deaa:"idEfG","918bdf09bd16e1b2":"lHuVm"}],"8cYlw":[function(e,t,i){let{ObjectsConst:n}=e("df12497da2e014ac"),{Logger:r,sc:s}=e("bc3fcd89e3b4517e");t.exports.DropsMessageListener=class{static listenMessages(e,t){e.onMessage("*",e=>{let i=s.get(e,n.DROPS.KEY,!1);i&&this.loadObjects(i,t),n.DROPS.REMOVE===e.act&&this.removeDropById(e.id,t)})}static loadObjects(e,t){let i=t.getActiveScene(),n=t.config,r=t.getFeature("objects"),s=i.load;if(!this.validateParams({currentScene:i,gameConfig:n,objectPlugin:r,loader:s}))return!1;for(let[t,a]of Object.entries(e))this.loadSpritesheet(a,s,n),s.once("complete",async e=>{await this.createDropAnimation(r,a,t,i)});return s.start(),!0}static async createDropAnimation(e,t,i,r){let s={type:n.DROPS.PICK_UP_ACT,enabled:!0,ui:!0,frameStart:t[n.DROPS.PARAMS].start,frameEnd:t[n.DROPS.PARAMS].end,repeat:t[n.DROPS.PARAMS].repeat,autoStart:!0,key:i,id:i,targetName:"",layerName:i,isInteractive:!0,asset_key:t[n.DROPS.ASSET_KEY],x:t.x,y:t.y,yoyo:t[n.DROPS.PARAMS].yoyo};return await e.createAnimationFromAnimData(s,r)}static loadSpritesheet(e,t,i){t.spritesheet(e[n.DROPS.ASSET_KEY],this.getSpritesheetPath(e),this.getRewardFrameConfig(e[n.DROPS.PARAMS],i))}static getRewardFrameConfig(e,t){return{frameWidth:s.get(e,"frameWidth",t.getWithoutLogs("client/map/dropsTile/width",t.get("client/map/tileData/width"))),frameHeight:s.get(e,"frameHeight",t.getWithoutLogs("client/map/dropsTile/height",t.get("client/map/tileData/height")))}}static getSpritesheetPath(e){return n.DROPS.ASSETS_PATH+e[n.DROPS.FILE]}static removeDropById(e,t){if(!e)return!1;let i=t.activeRoomEvents.getActiveScene(),n=s.get(i.objectsAnimations,e,!1);if(!n)return!1;n.sceneSprite.destroy(),delete i.objectsAnimations[e]}static validateParams(e){let t=!0;return s.get(e,"currentScene",!1)||(r.error("Scene is undefined in Rewards Message Listener."),t=!1),s.get(e,"gameConfig",!1)||(r.error("Game Config is undefined in Rewards Message Listener."),t=!1),s.get(e,"objectPlugin",!1)||(r.error("Object Plugin is undefined in Rewards Message Listener."),t=!1),s.get(e,"loader",!1)||(r.error("Loader is undefined in Rewards Message Listener."),t=!1),t}}},{df12497da2e014ac:"izuLV",bc3fcd89e3b4517e:"3lwy5"}],hznMs:[function(e,t,i){t.exports={objects:{npcInvalid:"I do not understand.",trader:{content:"Hi there! What would you like to do?",options:{buy:"Buy",sell:"Sell"},buyConfirmed:"Thanks for buying!",sellConfirmed:"Thanks for your products!"}}}},{}],bzImH:[function(e,t,i){let{GameConst:n}=e("d90cf3ac18adcc93"),{Logger:r,sc:s}=e("981fc13f3ba6a83c");t.exports.UserInterface=class{constructor(e,t,i="/assets/html/dialog-box.html",n){this.events=e.events,this.gameDom=e.gameDom,this.initialTitle="",this.initialContent="",this.id=t.id,this.animProps=t,this.template=i,this.uiPositionKey=n||"default",this.openButton=null,this.closeButton=null,this.listenEvents()}listenEvents(){if(!this.events)return!1;this.events.on("reldens.beforePreload",e=>{this.preloadUiElement(e)}),this.events.on("reldens.createPreload",(e,t)=>{this.createUiElement(t)})}preloadUiElement(e){this.template&&e.load.html(this.id,this.template)}createUiElement(e,t=""){""===t&&(t=this.id);let i="box-"+this.id;if(s.get(e.elementsUi,this.id))return this;let n=this.createDialogBox(e,t);this.createBoxContent(e,t,n);let a=this.gameDom.getElement(".ui-box.ui-dialog-box",n.node);return a?(a.id=i,a.classList.add("type-"+(this.animProps?.type||"dialog-box")),this.activateOpenButton(n,a,e),this.activateCloseButton(n,a,e),e.userInterfaces[this.id]=this,e.elementsUi[this.id]=n,this):(r.critical('Missing dialog container for template key: "'+t+'".',{dialogBox:n,dialogContainer:a,objectElementId:i}),!1)}createDialogBox(e,t){let{newWidth:i,newHeight:n}=e.gameManager.gameEngine.getCurrentScreenSize(e.gameManager),{uiX:r,uiY:s}=e.getUiPosition(this.uiPositionKey,i,n);return e.add.dom(r,s).createFromCache(t)}createBoxContent(e,t,i){let n=e.cache.html.get(t);i.innerHTML=e.gameManager.gameEngine.parseTemplate(n,{title:this.initialTitle,content:this.initialContent})}activateOpenButton(e,t,i){return this.openButton=this.gameDom.getElement("."+n.UI_BOX+n.UI_OPEN,e.node),!!this.openButton&&(this.openButton.id=n.UI_BOX+n.UI_OPEN+"-"+this.id,this.openButton.addEventListener("click",()=>{s.get(this.animProps,"defaultOpen",!0)&&(t.style.display="block",this.openButton.style.display="none",!1!==s.get(this.animProps,"depth",!1)&&e.setDepth(this.animProps.depth)),s.isFunction(this.animProps.openCallBack)&&this.animProps.openCallBack(),this.events.emit("reldens.openUI",{ui:this,openButton:this.openButton,dialogBox:e,dialogContainer:t,uiScene:i})}),this.openButton)}activateCloseButton(e,t,i){if(this.closeButton=this.gameDom.getElement("."+n.UI_BOX+n.UI_CLOSE,e.node),!this.closeButton)return!1;this.closeButton.id=n.UI_BOX+n.UI_CLOSE+"-"+this.id,this.closeButton.addEventListener("click",()=>{s.hasOwn(this.animProps,"sendCloseMessage")&&!1!==this.animProps.sendCloseMessage||i.gameManager.activeRoomEvents.send({act:n.CLOSE_UI_ACTION,id:this.id}),s.get(this.animProps,"defaultClose",!0)&&(t.style.display="none",this.openButton&&(this.openButton.style.display="block"),!1!==s.get(this.animProps,"depth",!1)&&e.setDepth(1)),s.isFunction(this.animProps.closeCallback)&&this.animProps.closeCallback(),this.events.emit("reldens.closeUI",{ui:this,closeButton:this.closeButton,openButton:this.openButton,dialogBox:e,dialogContainer:t,uiScene:i})})}}},{d90cf3ac18adcc93:"93TbC","981fc13f3ba6a83c":"3lwy5"}],"83Jlt":[function(e,t,i){let{InventoryUi:n}=e("3dbcaecc16a8d7f6"),{InventoryReceiver:r}=e("1b246d1f86d4b52c"),{TradeTargetAction:s}=e("e34196023b491a43"),{TradeMessageListener:a}=e("4891eeec00749c11"),{UserInterface:o}=e("c8568ca446361435"),{PluginInterface:h}=e("f9e95a5e7b3e4385"),{TemplatesHandler:c}=e("9a0084a090b55a0d"),{TranslationsMapper:l}=e("3a8304cb1916a776"),u=e("26049dfb393d7854"),{InventoryConst:d}=e("5532f77de2576b30"),{ItemsEvents:f,ItemsConst:p}=e("75f9030ce424b588"),{GameConst:g}=e("28a98a79420c2754"),{Logger:m,sc:v}=e("ddf286423098af38");t.exports.InventoryPlugin=class extends h{setup(e){this.gameManager=v.get(e,"gameManager",!1),this.gameManager||m.error("Game Manager undefined in InventoryPlugin."),this.events=v.get(e,"events",!1),this.events||m.error("EventsManager undefined in InventoryPlugin."),this.tradeTargetAction=new s,this.setTradeUi(),this.listenEvents(),this.setListener(),this.setTranslations()}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,u,d.MESSAGE.DATA_VALUES)}setTradeUi(){if(!this.gameManager)return!1;this.tradeUi=new o(this.gameManager,{id:"trade",type:"trade"})}setListener(){if(!this.gameManager)return!1;this.gameManager.config.client.message.listeners.trade=new a}listenEvents(){if(!this.events)return!1;this.events.on("reldens.playersOnAdd",(e,t,i,n)=>{this.onPlayerAdd(t,n,e)}),this.events.on("reldens.preloadUiScene",e=>{c.preloadTemplates(e)}),this.events.on("reldens.createUiScene",e=>this.onPreloadUiScene(e)),this.events.on("reldens.gameEngineShowTarget",(e,t,i,n)=>{this.tradeTargetAction.showTargetExchangeAction(this.gameManager,t,i,n)})}onPreloadUiScene(e){this.uiManager=new n(e),this.uiManager.createUi();let t=e.getUiElement("inventory").getChildByProperty("id",d.INVENTORY_ITEMS);if(!t)return m.error("Inventory UI not found.",t),!1;let i=e.getUiElement("equipment").getChildByProperty("id",d.EQUIPMENT_ITEMS);if(!i)return m.error("Equipment UI not found.",i),!1;let r=e.gameManager.inventory.manager,s=v.get(r,"groups",{});if(Object.keys(s).length)for(let t of(e.gameManager.gameDom.getElement("#"+d.EQUIPMENT_ITEMS).innerHTML="",this.sortGroups(s))){let i=this.createGroupBox(s[t],e.gameManager,e);e.gameManager.gameDom.appendToElement("#"+d.EQUIPMENT_ITEMS,i)}let a=v.get(r,"items",{}),o=Object.keys(a);if(0<o.length)for(let n of o){let r=a[n];this.displayItem(r,e,i,t,n)}this.listenInventoryEvents(e,t,i)}onPlayerAdd(e,t,i){if(e!==t.room.sessionId)return!1;t.gameManager.inventory||this.createInventoryInstance(i,t),t.room.onMessage("*",e=>{t.gameManager.inventory.processMessage(e)})}createInventoryInstance(e,t){let i={owner:e,ownerIdProperty:"sessionId",gameManager:t.gameManager},n=t.gameManager.config.getWithoutLogs("client/customClasses/inventory/items",{});n&&0<Object.keys(n).length&&(i.itemClasses=n);let s=t.gameManager.config.getWithoutLogs("client/customClasses/inventory/groups",{});s&&Object.keys(s).length&&(i.groupClasses=s),t.gameManager.inventory=new r(i)}listenInventoryEvents(e,t,i){let n=e.gameManager,r=n.inventory.manager.getOwnerEventKey();n.inventory.manager.listenEvent(f.ADD_ITEM,(i,r)=>{let s=this.createItemBox(r,"inventoryItem",n,e);n.gameDom.appendToElement("#"+d.INVENTORY_ITEMS,s),this.setupButtonsActions(t,r.getInventoryId(),r,e)},n.inventory.manager.getOwnerUniqueEventKey("addItemPack"),r),n.inventory.manager.listenEvent(f.SET_ITEMS,n=>{for(let r of(t.innerHTML="",Object.keys(n.items))){let s=n.items[r];this.displayItem(s,e,i,t,r)}},n.inventory.manager.getOwnerUniqueEventKey("setItemsPack"),r),n.inventory.manager.listenEvent(f.MODIFY_ITEM_QTY,t=>{e.getUiElement("inventory").getChildByID("item-qty-"+t.getInventoryId()).innerHTML=t.qty},n.inventory.manager.getOwnerUniqueEventKey("modifyItemQtyPack"),r),n.inventory.manager.listenEvent(f.REMOVE_ITEM,(t,i)=>{e.getUiElement("inventory").getChildByID("item-"+i).remove()},n.inventory.manager.getOwnerUniqueEventKey("removeItemPack"),r),n.inventory.manager.listenEvent(f.SET_GROUPS,r=>{let s=!1,a=n.gameDom.getElement("#"+d.EQUIPMENT_ITEMS);for(let t of(""!==a.innerHTML&&(s=!0),a.innerHTML="",this.sortGroups(r.groups))){let i=this.createGroupBox(r.groups[t],n,e);n.gameDom.appendToElement("#"+d.EQUIPMENT_ITEMS,i)}s&&this.resetEquippedItemsDisplay(n,e,i,t)},n.inventory.manager.getOwnerUniqueEventKey("setGroupsPack"),r),n.inventory.manager.listenEvent(f.EQUIP_ITEM,n=>{this.displayItem(n,e,i,t,n.getInventoryId())},n.inventory.manager.getOwnerUniqueEventKey("equipItemPack"),r),n.inventory.manager.listenEvent(f.UNEQUIP_ITEM,n=>{this.displayItem(n,e,i,t,n.getInventoryId())},n.inventory.manager.getOwnerUniqueEventKey("unequipItemPack"),r)}resetEquippedItemsDisplay(e,t,i,n){let r=Object.keys(e.inventory.manager.items);if(0===r.length)return!1;for(let s of r){let r=e.inventory.manager.items[s];this.isEquipped(r)&&this.displayItem(r,t,i,n,r.getInventoryId())}}displayItem(e,t,i,n,r){let s=this.createItemBox(e,"inventoryItem",t.gameManager,t),a=t.gameManager.gameDom.getElement("#item-"+e.getInventoryId());if(a&&a.remove(),this.isEquipped(e)){let n=this.getGroupById(e.group_id,t.gameManager.inventory.manager.groups);n&&t.gameManager.gameDom.getElement("#group-item-"+n.key+" .equipped-item")?t.gameManager.gameDom.updateContent("#group-item-"+n.key+" .equipped-item",s):t.gameManager.gameDom.appendToElement("#"+d.EQUIPMENT_ITEMS,s),this.setupButtonsActions(i,r,e,t)}else t.gameManager.gameDom.appendToElement("#"+d.INVENTORY_ITEMS,s),this.setupButtonsActions(n,r,e,t)}updateEquipmentStatus(e,t){let i=t.gameDom.getElement("#item-equip-"+e.idx),n=e.equipped?"equipped":"unequipped";i.src="/assets/features/inventory/assets/"+n+g.FILES.EXTENSIONS.PNG}createItemBox(e,t,i,n){let r=n.cache.html.get(t);return i.gameEngine.parseTemplate(r,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,usable:this.isUsable(e)?this.getUsableContent(e,i,n):"",equipment:this.isEquipment(e)?this.getEquipContent(e,i,n):""})}isEquipment(e){return e.isType(p.TYPES.EQUIPMENT)||e.isType(p.TYPES.SINGLE_EQUIPMENT)}isEquipped(e){return this.isEquipment(e)&&!0===e.equipped}isUsable(e){return e.isType(p.TYPES.USABLE)||e.isType(p.TYPES.SINGLE_USABLE)}sortGroups(e){return Object.keys(e).sort((t,i)=>e[t].sort>e[i].sort?1:-1)}createGroupBox(e,t,i){let n=i.cache.html.get("inventoryGroup");return t.gameEngine.parseTemplate(n,{key:e.key,label:e.label,description:e.description,fileName:e.files_name})}setupButtonsActions(e,t,i,n){let r=n.gameManager.gameDom,s=e.querySelector("#item-"+t+" .image-container img");if(!s)return m.error(["Missing image element.","#item-"+t]),!1;s.addEventListener("click",()=>{let i=e.querySelector("#item-"+t+" .item-data-container"),n=!1;"block"!==i.style.display&&(n=!0),e.querySelectorAll(".item-box .image-container img").forEach(function(e){e.style.border="none"}),e.querySelectorAll(".item-data-container").forEach(function(e){e.style.display="none"}),n&&(s.style.border="1px solid #fff",i.style.display="block")});let a=e.querySelector("#item-trash-"+t+" img");if(!a)return m.error(["Missing button.",a]),!1;a.addEventListener("click",()=>{e.querySelector("#trash-confirm-"+t).style.display="block"}),e.querySelector("#trash-cancel-"+t).addEventListener("click",()=>{e.querySelector("#trash-confirm-"+t).style.display="none"}),e.querySelector("#trash-confirmed-"+t).addEventListener("click",()=>{let e={idx:t,act:d.ACTIONS.REMOVE};n.gameManager.activeRoomEvents.send(e)}),this.isUsable(i)&&r.getElement("#item-use-"+t).addEventListener("click",this.clickedBox.bind(this,t,d.ACTIONS.USE,n)),this.isEquipment(i)&&r.getElement("#item-equip-"+t).addEventListener("click",this.clickedBox.bind(this,t,d.ACTIONS.EQUIP,n))}clickedBox(e,t,i){i.gameManager.activeRoomEvents.send({act:t,idx:e})}getUsableContent(e,t,i){let n=i.cache.html.get("inventoryItemUse");return t.gameEngine.parseTemplate(n,{id:e.getInventoryId()})}getEquipContent(e,t,i){let n=i.cache.html.get("inventoryItemEquip");return t.gameEngine.parseTemplate(n,{id:e.getInventoryId(),equipStatus:e.equipped?"equipped":"unequipped"})}getGroupById(e,t){let i=Object.keys(t);if(0===i.length)return!1;for(let n of i)if(t[n].id===e)return t[n]}}},{"3dbcaecc16a8d7f6":"i4XYr","1b246d1f86d4b52c":"ecHHP",e34196023b491a43:"2sgZT","4891eeec00749c11":"7M3Uu",c8568ca446361435:"bzImH",f9e95a5e7b3e4385:"fC3To","9a0084a090b55a0d":"hZf8u","3a8304cb1916a776":"1fcQw","26049dfb393d7854":"1SpFi","5532f77de2576b30":"19bl6","75f9030ce424b588":"g4GOK","28a98a79420c2754":"93TbC",ddf286423098af38:"3lwy5"}],i4XYr:[function(e,t,i){let{UiFactory:n}=e("77ab18c1eefc2684"),{InventoryConst:r}=e("55720af454786e61");t.exports.InventoryUi=class extends n{createUi(){this.create("inventory",5,!0,!0,null,()=>{this.inventoryVisibility("inventory")}),this.create("equipment",4,!0,!0,null,()=>{this.inventoryVisibility("inventory")})}inventoryVisibility(e){let t="#"+r[e+"_ITEMS"];for(let e of this.gameManager.gameDom.getElements(t+" .item-box .image-container img"))e.style.border="none";for(let e of this.gameManager.gameDom.getElements(t+" .item-data-container"))e.style.border="none"}}},{"77ab18c1eefc2684":"k6PNR","55720af454786e61":"19bl6"}],k6PNR:[function(e,t,i){let{GameConst:n}=e("33c9292d731c7911");t.exports.UiFactory=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager}create(e,t,i,r,s,a){let{uiX:o,uiY:h}=this.uiScene.getUiConfig(e),c=this.uiScene.add.dom(o,h).createFromCache(e),l=c.getChildByProperty("id",e+n.UI_OPEN),u=c.getChildByProperty("id",e+n.UI_CLOSE);l?.addEventListener("click",()=>{let n=c.getChildByProperty("id",e+"-ui");i&&(n&&(n.style.display="block"),l.style.display="none",c.setDepth(t)),s&&"function"==typeof s&&s(),this.gameManager.events.emit("reldens.openUI",{ui:this,openButton:l,dialogBox:c,dialogContainer:n,uiScene:this.uiScene})}),u?.addEventListener("click",()=>{let t=c.getChildByProperty("id",e+"-ui");r&&(t&&(t.style.display="none"),c.setDepth(1),l&&(l.style.display="block")),a&&"function"==typeof a&&a(),this.gameManager.events.emit("reldens.closeUI",{ui:this,closeButton:u,openButton:l,dialogBox:c,dialogContainer:t,uiScene:this.uiScene})}),this.uiScene.elementsUi[e]=c}}},{"33c9292d731c7911":"93TbC"}],"19bl6":[function(e,t,i){t.exports.InventoryConst={INVENTORY_ITEMS:"inventory-items",INVENTORY_OPEN:"inventory-open",INVENTORY_CLOSE:"inventory-close",EQUIPMENT_ITEMS:"equipment-items",EQUIPMENT_CLOSE:"equipment-close",EQUIPMENT_OPEN:"equipment-open",ANIMATION_KEY_PREFIX:"aK_",GROUP_BUCKET:"/assets/custom/groups",ACTIONS:{PREFIX:"ivp",REMOVE:"ivpRm",USE:"ivpUse",EQUIP:"ivpEqi",TRADE_START:"ivptStart",TRADE_ACCEPTED:"ivptAccepted",TRADE_SHOW:"ivptShow",TRADE_ACTION:"ivptAction"},MESSAGE:{DATA_VALUES:{NAMESPACE:"items"}}}},{}],ecHHP:[function(e,t,i){let{InventoryConst:n}=e("8882a4643448fce8"),{GameConst:r}=e("2bfdc54146457a66"),{Receiver:s}=e("c0cd661b4f31ab90"),{ErrorManager:a,Logger:o,sc:h}=e("86cd80d57b7740fd");t.exports.InventoryReceiver=class extends s{constructor(e){h.hasOwn(e,"gameManager")||a.error("InventoryReceiver gameManager not specified."),super(e),this.gameManager=e.gameManager,this.itemSprites={},this.itemsAnimations={}}onExecuting(e){let t=e.item;if(!h.hasOwn(t,"animationData"))return o.warning("Item does not contain animation data.",e),!1;let i=n.ANIMATION_KEY_PREFIX+t.key,s=this.gameManager.getActiveScene();if(this.itemSprites[i]&&this.itemSprites[i].anims&&s.anims.get(i))return o.debug("Animation already exists, playing: "+i),this.playSpriteAnimation(i,t),!1;s.load.spritesheet(i,"/assets/custom/sprites/"+t.key+r.FILES.EXTENSIONS.PNG,{frameWidth:t.animationData.frameWidth||64,frameHeight:t.animationData.frameHeight||64}).on("loaderror",e=>{o.error("Sprite load error: "+i,e)}),s.load.on("complete",()=>{o.debug("Scene load complete, playing: "+i),this.createItemSprites(i,t,e,s)}),s.load.start()}createItemSprites(e,t,i,n){let r=this.extractTargetId(t,i,n);if(!r)return o.error("Target ID not found."),!1;let s=h.get(n.player.players,r,!1);if(!s)return o.error("Player sprite not found by target ID."),!1;let a=n.anims.get(e);a||(o.debug("Creating new animation on scene: "+e),a=n.anims.create({key:e,frames:n.anims.generateFrameNumbers(e,{start:t.animationData.start||0,end:t.animationData.end||1}),frameRate:h.get(t.animationData,"frameRate",n.configuredFrameRate),repeat:t.animationData.repeat||3,hideOnComplete:h.get(t.animationData,"hide",!0),showOnStart:h.get(t.animationData,"showOnStart",!0)})),this.itemsAnimations[e]=a;let c=h.get(t.animationData,"fixedX",t.animationData.usePlayerPosition?s.x:0),l=h.get(t.animationData,"fixedY",t.animationData.usePlayerPosition?s.y:0);this.itemSprites[e]=n.physics.add.sprite(c,l,e),this.itemSprites[e]=this.itemSprites[e].setDepth(9e4),this.itemSprites[e].depthByPlayer="above",t.animationData.followPlayer&&(s.moveSprites[e]=this.itemSprites[e]),o.debug("Playing sprite: "+e),this.playSpriteAnimation(e,t).on("animationcomplete",()=>{t.animationData.destroyOnComplete&&this.destroyAnimation(t,e,s)})}playSpriteAnimation(e,t){h.get(t.animationData,"closeInventoryOnUse",!1)&&this.gameManager.gameDom.getElement("#inventory-close")?.click();let i=this.itemSprites[e].anims;return i?(i.visible=!0,i.play(e,h.get(t.animationData,"ignoreIfPlaying",!0))):(o.error("Sprite animation not found: "+e),!1)}destroyAnimation(e,t,i){this.itemSprites[t].destroy(),delete this.itemSprites[t],delete this.itemsAnimations[t],e.animationData.followPlayer&&delete i.moveSprites[t],o.debug("Animation and sprite destroyed: "+t)}extractTargetId(e,t,i){return e.animationData.startsOnTarget&&t.target?.playerId?t.target.playerId:i.player?.playerId||!1}}},{"8882a4643448fce8":"19bl6","2bfdc54146457a66":"93TbC",c0cd661b4f31ab90:"g4GOK","86cd80d57b7740fd":"3lwy5"}],"2sgZT":[function(e,t,i){let{InventoryConst:n}=e("6fd8a45050899827"),{GameConst:r}=e("27ccb472a3005f7d"),{Logger:s,sc:a}=e("b754ab6e7b18af41");t.exports.TradeTargetAction=class{showTargetExchangeAction(e,t,i,o){if(r.TYPE_PLAYER!==t.type||e.getCurrentPlayer().playerId===t.id)return!1;let h=e.gameEngine.uiScene;if(!1===a.get(h,"uiTarget",!1))return!1;let c=h.cache.html.get("inventoryTradeStart");if(!c)return s.critical('Template "inventoryTradeStart" not found.'),!1;e.gameDom.appendToElement("#target-container",e.gameEngine.parseTemplate(c,{playerName:o,playerId:t.id}));let l=e.gameDom.getElement(".start-trade-"+t.id+" button");if(!l)return s.critical('Trade start button not found for selector: ".start-trade-'+t.id+' button"'),!1;l.addEventListener("click",()=>{let i={act:n.ACTIONS.TRADE_START,id:t.id};e.activeRoomEvents.send(i)})}}},{"6fd8a45050899827":"19bl6","27ccb472a3005f7d":"93TbC",b754ab6e7b18af41:"3lwy5"}],"7M3Uu":[function(e,t,i){let{TradeMessageHandler:n}=e("f964b12ccb83d2b4"),{Logger:r,sc:s}=e("8a7eb9c3e6d9d186");t.exports.TradeMessageListener=class{async executeClientMessageActions(e){let t=s.get(e,"message",!1);if(!t)return r.error("Missing message data on TradeMessageListener.",e),!1;let i=s.get(e,"roomEvents",!1);if(!i)return r.error("Missing RoomEvents on TradeMessageListener.",e),!1;new n({roomEvents:i,message:t}).updateContents()}}},{f964b12ccb83d2b4:"kzLY7","8a7eb9c3e6d9d186":"3lwy5"}],kzLY7:[function(e,t,i){let{ErrorManager:n,Logger:r,sc:s}=e("779d25f0124f02f2"),{InventoryConst:a}=e("58803c0e08c63617"),{ObjectsConst:o}=e("3ddb9dce645de8c3"),{UserInterface:h}=e("c49942f179cbbc0a");t.exports.TradeMessageHandler=class{constructor(e){this.roomEvents=s.get(e,"roomEvents",!1),this.message=s.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene,this.itemsManager=this.gameManager?.inventory?.manager,this.validate()}validate(){this.roomEvents||n.error("Missing RoomEvents."),this.message||n.error("Missing message."),this.gameManager||n.error("Missing GameManager."),this.uiScene||n.error("Missing UiScene."),this.itemsManager||n.error("Missing ItemsManager.")}updateContents(){return a.ACTIONS.TRADE_START===this.message.act?this.showTradeRequest():a.ACTIONS.TRADE_SHOW===this.message.act?this.showTradeBox():void 0}showTradeRequest(){let e="trade"+this.message.id;this.createTradeUi(e),this.roomEvents.initUi({id:e,title:this.gameManager.config.getWithoutLogs("client/trade/titles/tradeRequestFromLabel","Trade request from:"),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:a.ACTIONS.TRADE_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-2-"+e)?.addEventListener("click",()=>{this.gameDom.getElement("#box-close-"+e)?.click()})}showTradeBox(){let e="trade"+this.message.id;this.createTradeUi(e),this.roomEvents.initUi({id:e,title:this.gameManager.services.translator.t("items.tradeWith",{playerName:this.message.with}),content:"",options:{}});let t=this.gameManager.gameDom.getElement("#box-"+e+" .box-content");if(!t)return r.error('Missing container: "#box-'+e+' .box-content".'),!1;if(!0===this.message.isTradeEnd)return this.gameDom.getElement("#box-close-"+"trade"+this.message.id)?.click(),!0;let i=s.get(this.message,"items",!1),n=s.get(this.message,"traderItemsData",{}),a=s.get(this.message,"exchangeData",{}),o=s.get(this.message,"playerToExchangeKey",{}),h="A"===o?"B":"A";this.updateItemsList(i,t,a[h]),this.updateMyExchangeData(a[h]||{},i,h),this.updateTraderExchangeData(a[o]||{},n,o)}createTradeUi(e){let t=s.get(this.roomEvents.tradeUi,e);return t||(this.roomEvents.tradeUi[e]=new h(this.gameManager,{id:e,type:"trade"},"/assets/html/dialog-box.html","trade"),this.roomEvents.tradeUi[e].createUiElement(this.uiScene,"trade")),t}updateItemsList(e,t,i){if(!e)return;let n="",r={};for(let t of Object.keys(e)){let a=e[t],o=Object.assign({manager:this.itemsManager},a,{uid:t}),h=s.get(this.itemsManager.itemClasses,o.key,this.itemsManager.types.classByTypeId(o.type));r[t]=new h(o),r[t].quantityDisplay=1,r[t].quantityMaxDisplay=Math.max(r[t].qty_limit,a.qty),r[t].tradeAction="trade",n+=this.createTradeItemBox(r[t],s.get(i,r[t].uid,!1))}t.innerHTML=this.createTradeContainer(n),this.activateItemsBoxActions(r),this.activateConfirmButtonAction()}activateConfirmButtonAction(){let e=this.gameManager.gameDom.getElement(".confirm-"+this.message.id);e?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:a.ACTIONS.TRADE_ACTION,id:this.message.id,value:this.message.id,sub:o.TRADE_ACTIONS.CONFIRM})});let t=this.gameManager.gameDom.getElement(".disconfirm-"+this.message.id);t?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:a.ACTIONS.TRADE_ACTION,id:this.message.id,value:this.message.id,sub:o.TRADE_ACTIONS.DISCONFIRM})});let i=this.gameManager.gameDom.getElement(".cancel-"+this.message.id);i?.addEventListener("click",()=>{this.gameDom.getElement("#box-close-"+"trade"+this.message.id)?.click()})}updateMyExchangeData(e,t,i){if(0===Object.keys(e).length)return!1;let n=this.createConfirmItemsBox(e,t),s=this.gameDom.getElement(".trade-items-boxes .trade-player-col.trade-col-2");return s?(s.innerHTML=n,this.assignRemoveActions(e,t),!0):(r.error('Missing "'+i+'" items container.'),!1)}updateTraderExchangeData(e,t,i){if(0===Object.keys(e).length)return!1;let n=this.createReceivingItemsBox(e,t),s=this.gameDom.getElement(".trade-items-boxes .trade-player-col.trade-col-3");return s?(s.innerHTML=n,!0):(r.error('Missing "'+i+'" items container.'),!1)}createConfirmItemsBox(e,t){let i=Object.keys(e);if(0===i.length)return r.info("Undefined exchange items on confirmation trade-message-handler.",{message:this.message}),"";let n="",s=this.uiScene.cache.html.get("inventoryTradeItem");if(!s)return r.error('Missing template "inventoryTradeItem".'),"";for(let r of i){let i=e[r],a=t[r];n+=this.gameManager.gameEngine.parseTemplate(s,{key:a.key,label:a.label,description:a.description,id:r,qty:a.qty,hiddenClass:"",tradeAction:this.createTradeActionRemove(a),tradeActionKey:this.message.id,tradeQuantityContent:i})}return n}createReceivingItemsBox(e,t){let i=Object.keys(e);if(0===i.length)return r.info("Undefined exchange items on receive trade-message-handler.",{message:this.message}),"";let n="",s=this.uiScene.cache.html.get("inventoryTradeItem");if(!s)return r.error('Missing template "inventoryTradeItem".'),"";for(let r of i){let i=e[r],a=t[r];n+=this.gameManager.gameEngine.parseTemplate(s,{key:a.key,label:a.label,description:a.description,id:r,qty:a.qty,hiddenClass:"",tradeAction:"",tradeActionKey:this.message.id,tradeQuantityContent:i})}return n}assignRemoveActions(e,t){let i=Object.keys(e);if(0===i.length)return r.info("Undefined exchange items on remove trade-message-handler.",{message:this.message}),!1;for(let e of i){let i=".pushed-to-trade .trade-item-"+e,n=this.gameDom.getElement(i);if(!n){r.error('Assign trade item "'+e+'" container not found.');continue}let s=this.gameDom.getElement(".pushed-to-trade .trade-item-"+e+" .trade-action-remove");if(!s){r.error('Assign trade item "'+e+'" remove button not found.');continue}let h=t[e];s.addEventListener("click",()=>{n.classList.remove("hidden");let t={act:a.ACTIONS.TRADE_ACTION,id:this.message.id,value:"remove",itemId:e,itemKey:h.key};t[o.TRADE_ACTIONS.SUB_ACTION]=o.TRADE_ACTIONS.REMOVE,this.gameManager.activeRoomEvents.send(t)})}return!0}createTradeContainer(e){let t=this.uiScene.cache.html.get("inventoryTradePlayerContainer");if(!t)return r.error('Missing template "inventoryTradeContainer".'),"";let i=o.TRADE_ACTIONS_FUNCTION_NAME,n={tradeActionKey:this.message.id,confirmLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/confirmLabel",i.CONFIRM),disconfirmLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/disconfirmLabel",i.DISCONFIRM),cancelLabel:this.gameManager.config.getWithoutLogs("client/trade/titles/cancelLabel",i.CANCEL),myItems:e,myItemsTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/myItems","My Items:"),pushedToTradeTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/pushedToTradeTitle","Sending:"),gotFromTradeTitle:this.gameManager.config.getWithoutLogs("client/trade/titles/gotFromTradeTitle","Receiving:"),playerConfirmedLabel:this.playerConfirmedLabel()};return this.gameManager.gameEngine.parseTemplate(t,n)}playerConfirmedLabel(){return this.message.playerConfirmed?this.gameManager.config.getWithoutLogs("client/trade/titles/playerConfirmedLabel","%playerName CONFIRMED").replace("%playerName",this.message.with):""}createTradeItemBox(e,t){let i=this.uiScene.cache.html.get("inventoryTradeItem");if(!i)return r.error('Missing template "inventoryTradeItem".'),"";let n=this.uiScene.cache.html.get("inventoryTradeItemQuantity");if(!n)return r.error('Missing template "inventoryTradeItemQuantity".'),"";let s=t||0;return this.gameManager.gameEngine.parseTemplate(i,{key:e.key,label:e.label,description:e.description,id:e.getInventoryId(),qty:e.qty,hiddenClass:0<s&&e.qty===s?" hidden":"",tradeAction:this.createTradeActionContent(e),tradeActionKey:"to-be-"+e.tradeAction,tradeQuantityContent:this.gameManager.gameEngine.parseTemplate(n,{quantityDisplay:e.quantityDisplay||1,quantityMaxDisplay:0<e.quantityMaxDisplay?'max="'+e.quantityMaxDisplay+'"':""})})}createTradeActionContent(e,t){let i=this.uiScene.cache.html.get("inventoryTradeAction");return i?this.gameManager.gameEngine.parseTemplate(i,{key:e.key,id:e.getInventoryId(),tradeAction:t||s.get(e,"tradeAction","")}):(r.error('Missing template "inventoryTradeAction".'),"")}createTradeActionRemove(e){let t=this.uiScene.cache.html.get("inventoryTradeActionRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{key:e.key,id:e.uid,tradeAction:"remove"}):(r.error('Missing template "inventoryTradeActionRemove".'),"")}activateItemsBoxActions(e){for(let t of Object.keys(e)){let i=e[t],n=".trade-item-to-be-"+i.tradeAction+".trade-item-"+i.uid+" .trade-action-"+i.tradeAction+" button",s=this.gameDom.getElement(n);if(!s){r.error('Activate trade item "'+i.uid+'" action button not found.');continue}s.addEventListener("click",()=>{let e=this.gameDom.getElement(".trade-item-"+i.getInventoryId()+" .item-qty input"),t=e?.value||1,n={act:a.ACTIONS.TRADE_ACTION,id:this.message.id,value:i.tradeAction,itemId:i.getInventoryId(),itemKey:i.key,qty:Number(t)};n[o.TRADE_ACTIONS.SUB_ACTION]=o.TRADE_ACTIONS.ADD,this.gameManager.activeRoomEvents.send(n)})}}}},{"779d25f0124f02f2":"3lwy5","58803c0e08c63617":"19bl6","3ddb9dce645de8c3":"izuLV",c49942f179cbbc0a:"bzImH"}],hZf8u:[function(e,t,i){t.exports.TemplatesHandler=class{static preloadTemplates(e){let t="/assets/features/inventory/templates/";e.load.html("inventory",t+"ui-inventory.html"),e.load.html("equipment",t+"ui-equipment.html"),e.load.html("inventoryItem",t+"item.html"),e.load.html("inventoryItemUse",t+"usable.html"),e.load.html("inventoryItemEquip",t+"equip.html"),e.load.html("inventoryGroup",t+"group.html"),e.load.html("inventoryTradeContainer",t+"trade-container.html"),e.load.html("inventoryTradePlayerContainer",t+"trade-player-container.html"),e.load.html("inventoryTradeRequirements",t+"trade-requirements.html"),e.load.html("inventoryTradeRewards",t+"trade-rewards.html"),e.load.html("inventoryTradeAction",t+"trade-action.html"),e.load.html("inventoryTradeActionRemove",t+"trade-action-remove.html"),e.load.html("inventoryTradeItem",t+"trade-item.html"),e.load.html("inventoryTradeItemQuantity",t+"trade-item-quantity.html"),e.load.html("inventoryTradeStart",t+"trade-start.html"),e.load.html("inventoryTradeAccept",t+"trade-accept.html")}}},{}],"1SpFi":[function(e,t,i){t.exports={items:{undefinedItem:"Add item error, undefined item.",undefinedMethodInventoryId:"Add item error, undefined getInventoryId.",undefinedItemKey:"Add item error, undefined item key.",invalidItemInstance:"Invalid item instance.",lockedForAddItem:"Inventory locked, cannot add item: %itemUid",maxTotalReachedForAddItem:"Cannot add item, max total reached.",itemExistsForAddItem:"Cannot add item, item already exists: %itemUid",itemLimitExceededForAddItem:"Cannot add item, item qty limit exceeded.",addItemsError:'Cannot add item "%itemUid".',lockedForSetItem:"Inventory locked, cannot set item: %itemUid.",lockedForRemoveItem:"Inventory locked, cannot remove item: %itemUid.",keyNotFound:"Cannot remove item, key not found: %itemUid.",lockedForModifyItemQty:"Inventory locked, cannot modify item qty: %itemUid.",undefinedItemKeyForOperation:'Cannot "%operation" item qty, undefined item key: %itemUid.',qtyNotANumber:'Cannot "%operation" item qty, quantity is not a number: %qty.',itemQtyLimitExceeded:'Cannot "%operation" item qty, item qty limit exceeded: %qty > %limitPerItem.',lockedForSetItems:"Inventory locked, cannot set items.",tradeWith:"Trading with %playerName",exchange:{missingConfirmation:"Missing confirmation.",invalidPushedQuantity:"Invalid item pushed quantity (%qty), available: %pushedItemQty.",invalidQuantity:"Invalid item quantity 0.",invalidExchange:'Inventories "FROM" and "TO" are the same, exchange cancelled.',decreaseQuantity:"Exchange inventory decrease error.",itemAdd:"Exchange add inventory result error."},requirements:{itemNotPresent:'Required item "%requiredItemKey" is not present.',quantityNotAvailable:'Required item "%requiredItemKey" quantity %totalRequiredQuantity is not available.',itemNotPushed:'Required item "%requiredItemKey" was not pushed for exchange.',itemQuantityNotPushed:'Required item "%requiredItemKey" quantity %totalRequiredQuantity was not pushed for exchange.',itemDoesNotExists:'Requirement error, item "%itemUid" does not exits on inventory.',itemAdd:"Requirement add item error."},reward:{doesNotExists:'Reward error, item "%itemUid" does not exits.',missingItem:'Reward error, item "%itemUid" does not exits.',itemNotPresent:'Reward item "%rewardItemKey" is not present on inventory.',quantityNotAvailable:"Reward item %rewardItemKey reward quantity (%rewardQuantity) is not available.",missingPushed:'Missing pushed for exchange item "%itemUid".',getItemDoesNotExists:'Reward error, item "%itemUid" does not exits on inventory.',processItem:'Process item reward error, item "%itemUid".',processInventory:"Rewards process inventory error.",addItems:"Rewards error on add items: %itemsKeys.",quantityOverload:"Reward quantity (%rewardQuantityTotal) is bigger than the available in the inventory (%rewardInventoryItemQty)."},equipment:{modifiersApply:"Cannot apply modifiers the item is not equipped: %itemUid",modifiersRevert:"Cannot revert modifiers the item is not equipped: %itemUid"}}}},{}],enPaX:[function(e,t,i){let{SkillsUi:n}=e("6b2d3727d1d70b78"),{PluginInterface:r}=e("c34bb8f0c81f8738"),{PlayerSelector:s}=e("566ebfe7409d2a3a"),{PreloaderHandler:a}=e("7af81ec0e9446267"),{MessagesHandler:o}=e("699da6696693061c"),{GameManagerEnricher:h}=e("c162e687344f571d"),c=e("37b783bb3d5ca68"),{TranslationsMapper:l}=e("f892bc1afce6c5ea"),{ActionsConst:u}=e("dbdea295dce66b04"),{Logger:d,sc:f}=e("1ad70aa0a704e98c");t.exports.ActionsPlugin=class extends r{setup(e){this.gameManager=f.get(e,"gameManager",!1),this.gameManager||d.error("Game Manager undefined in ActionsPlugin."),this.events=f.get(e,"events",!1),this.events||d.error("EventsManager undefined in ActionsPlugin."),this.playerSelector=new s(e),this.preloaderHandler=new a(e),this.setTranslations(),this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;l.forConfig(this.gameManager.config.client,c,u.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events||!this.gameManager)return!1;this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createPreload",e=>{this.preloaderHandler.createAnimations(e)}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new n(e),this.uiManager.createUi()}),this.events.on("reldens.beforeCreateEngine",e=>{this.playerSelector.populateClassesSelector(f.get(e,"classesData",{}),e.gameConfig.client.players,e.player)}),this.events.on("reldens.activateRoom",e=>{e.onMessage("*",e=>{o.processOrQueueMessage(e,this.gameManager)})}),this.events.on("reldens.playersOnAddReady",e=>{h.withReceiver(e.player,e.roomEvents,this.gameManager)})}}},{"6b2d3727d1d70b78":"fKq6g",c34bb8f0c81f8738:"fC3To","566ebfe7409d2a3a":"6tkLj","7af81ec0e9446267":"asAAa","699da6696693061c":"gldsT",c162e687344f571d:"4okuX","37b783bb3d5ca68":"8JSjE",f892bc1afce6c5ea:"1fcQw",dbdea295dce66b04:"59VA7","1ad70aa0a704e98c":"3lwy5"}],fKq6g:[function(e,t,i){let{ActionsConst:n}=e("fcb0bd426e0a1381");t.exports.SkillsUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.defaultAction=this.gameManager.config.get("client/ui/controls/defaultActionKey")}createUi(){let e=n.SELECTORS.UI_PLAYER_EXTRAS;this.appendToUiContainer(e,"skillsClassPath"),this.appendToUiContainer(e,"skillsLevel"),this.appendToUiContainer(e,"skillsExperience",{experienceLabel:this.gameManager.services.translator.t(n.SNIPPETS.EXPERIENCE_LABEL)}),this.createUiBox("skills",7)}appendSkills(e){let t=Object.keys(e);if(0===t.length)return!1;for(let i of t){let t=e[i];t!==this.defaultAction&&this.createSkillBox(t)}}appendToUiContainer(e,t,i={}){let n=this.uiScene.cache.html.get(t);0<Object.keys(i).length&&(n=this.gameManager.gameEngine.parseTemplate(n,i)),this.gameManager.gameDom.appendToElement(e,n)}createUiBox(e,t){let{uiX:i,uiY:n}=this.uiScene.getUiConfig(e),r=this.uiScene.add.dom(i,n).createFromCache(e);r.setDepth(t),this.uiScene.elementsUi[e]=r}createSkillBox(e){let t=this.parseSkillTemplate(e);this.gameManager.gameDom.appendToElement(n.SELECTORS.SKILLS_CONTAINER,t),this.uiScene.setupActionButtonInBox(e,this.uiScene.getUiElement("skills"))}parseSkillTemplate(e){let t=this.uiScene.cache.html.get("skillBox");return this.gameManager.gameEngine.parseTemplate(t,{key:e,skillName:e})}}},{fcb0bd426e0a1381:"59VA7"}],"6tkLj":[function(e,t,i){let{ActionsConst:n}=e("b243e92bb3fe291b"),{GameConst:r}=e("99fe71ca25218501"),{Logger:s,sc:a}=e("350db309ac69e57e");t.exports.PlayerSelector=class{constructor(e){this.gameManager=a.get(e,"gameManager",!1),this.gameManager||s.error("Game Manager undefined in ActionsPlugin PlayerSelector."),this.events=a.get(e,"events",!1),this.events||s.error("EventsManager undefined in ActionsPlugin PlayerSelector."),this.gameDom=this.gameManager.gameDom}populateClassesSelector(e,t,i){if(!a.isObject(e)||0===Object.keys(e).length)return s.error("Classes not defined, can not populate the classes selector."),this.gameDom.getElement(".player-selection-form-errors")?.append(this.gameManager.services?.translator.t("game.errors.missingClasses")),!1;let r=a.get(t,"multiplePlayers",!1);if((!r||!r.enabled)&&i)return!1;let o=this.gameDom.getElement(n.SELECTORS.PLAYER_CREATION_ADDITIONAL_INFO);if(!o)return!1;this.gameDom.getElement(n.SELECTORS.PLAYER_CREATE_FORM)?.classList.remove("hidden");let h=this.gameDom.createElement("div");h.id="class-path-selector-box",h.classList.add("input-box");let c=this.gameDom.createElement("label"),l="class-path-select";c.htmlFor=l,c.innerText=this.gameManager.services.translator.t(n.SNIPPETS.SELECT_CLASS_PATH);let u=this.gameDom.createElement("select");for(let t of(u.id=l,u.name="class_path_select",Object.keys(e))){let i=new Option(e[t].label,t);i.dataset.key=e[t].key,u.append(i)}if(h.append(c),h.append(u),this.gameManager.config.getWithoutLogs("client/players/multiplePlayers/showAvatar",!0)){let e=this.gameDom.createElement("div");e.className="avatar-container",this.appendAvatarOnSelector(u,e,t),h.append(e)}o.append(h)}appendAvatarOnSelector(e,t,i){let n=this.gameDom.createElement("div"),s=e.options[e.selectedIndex].dataset.key;n.classList.add("class-path-select-avatar"),n.style.backgroundImage=`url('/assets/custom/sprites/${s}${r.FILES.EXTENSIONS.PNG}')`;let a=i.size.width+"px";n.style.backgroundPositionX="-"+a,n.style.width=a,n.style.height=i.size.height+"px",e.addEventListener("change",()=>{let t=e.options[e.selectedIndex].dataset.key;n.style.backgroundImage=`url('/assets/custom/sprites/${t}${r.FILES.EXTENSIONS.PNG}')`}),t.append(n)}}},{b243e92bb3fe291b:"59VA7","99fe71ca25218501":"93TbC","350db309ac69e57e":"3lwy5"}],asAAa:[function(e,t,i){let{Logger:n,sc:r}=e("282e615b5cb3f89e"),{GameConst:s}=e("1d3a9c826831f334");t.exports.PreloaderHandler=class{constructor(e){this.gameManager=r.get(e,"gameManager",!1),this.gameManager||n.error("Game Manager undefined in ActionsPlugin PreloaderHandler."),this.events=r.get(e,"events",!1),this.events||n.error("EventsManager undefined in ActionsPlugin PreloaderHandler."),this.setProperties(e)}setProperties(e){if(!this.gameManager)return!1;this.gameDom=this.gameManager.gameDom,this.initialGameData=this.gameManager.initialGameData,this.levelsAnimConfig=this.gameManager.config.get("client/levels/animations"),this.skillsAnimConfig=this.gameManager.config.get("client/skills/animations"),this.assetsCustomActionsSpritesPath=r.get(e,"assetsCustomActionsSpritesPath","assets/custom/actions/sprites/"),this.gameManager.loadedAssets||(this.gameManager.loadedAssets={}),this.gameManager.createdAnimations||(this.gameManager.createdAnimations={})}loadContents(e){e.load.html("skillsClassPath","/assets/features/skills/templates/ui-class-path.html"),e.load.html("skillsLevel","/assets/features/skills/templates/ui-level.html"),e.load.html("skillsExperience","/assets/features/skills/templates/ui-experience.html"),e.load.html("skills","/assets/features/skills/templates/ui-skills.html"),e.load.html("skillBox","/assets/features/skills/templates/ui-skill-box.html"),e.load.html("actionBox","/assets/html/ui-action-box.html"),this.preloadClassPaths(e),this.loopAnimationsAnd(this.levelsAnimConfig,"preload",e),this.loopAnimationsAnd(this.skillsAnimConfig,"preload",e)}preloadClassPaths(e){let t=r.get(this.initialGameData,"classesData",!1);if(!t)return!1;for(let i of Object.keys(t)){let n=t[i].key;e.load.spritesheet(n,"/assets/custom/sprites/"+n+s.FILES.EXTENSIONS.PNG,e.playerSpriteSize).on("filecomplete",async e=>{this.gameManager.loadedAssets[e]=e})}}createAnimations(e){let t=this.levelsAnimConfig;this.loopAnimationsAnd(t,"create",e);let i=this.skillsAnimConfig;this.loopAnimationsAnd(i,"create",e),this.createAvatarsAnimations(e)}createAvatarsAnimations(e){let t=r.get(this.initialGameData,"classesData",!1);if(!t)return n.debug("Classes data not found. Fallback to player avatar."),!1;for(let i of(this.gameManager.mappedAvatars||(this.gameManager.mappedAvatars={}),n.debug({availableClassesData:t}),Object.keys(t))){let r=t[i].key;this.gameManager.loadedAssets[r]||(r=s.IMAGE_PLAYER,n.info('Avatar for class path "'+r+'" not found in assets. Fallback to player avatar.')),this.gameManager.mappedAvatars[r]=r,e.createPlayerAnimations(r)}return this.gameManager.mappedAvatars}loopAnimationsAnd(e,t,i){if(!e)return n.warning("Animations not found.",e),!1;for(let r of Object.keys(e)){let s=e[r];if(!s.animationData.enabled){n.debug('Animation "'+r+'" not enabled, skipping.',s);continue}n.debug({[t+"Animation"]:s}),this[t+"Animation"](s,i)}}preloadAnimation(e,t){r.hasOwn(e.animationData,["type","img"])&&s.ANIMATIONS_TYPE.SPRITESHEET===e.animationData.type&&this.preloadAnimationsInDirections(e,t),e.classKey&&r.isFunction(e.classKey.prepareAnimation)&&e.classKey.prepareAnimation({data:e,uiScene:t,pack:this})}preloadAnimationsInDirections(e,t){let i=r.get(e.animationData,"dir",0);if(0===i){t.load.spritesheet(this.getAnimationKey(e),this.assetsCustomActionsSpritesPath+e.animationData.img+s.FILES.EXTENSIONS.PNG,e.animationData);return}(1===i||2===i)&&(this.preloadSpriteInDirection(t,e,s.UP),this.preloadSpriteInDirection(t,e,s.DOWN)),(1===i||3===i)&&(this.preloadSpriteInDirection(t,e,s.LEFT),this.preloadSpriteInDirection(t,e,s.RIGHT))}preloadSpriteInDirection(e,t,i){e.load.spritesheet(this.getAnimationKey(t,i),this.assetsCustomActionsSpritesPath+t.animationData.img+"_"+i+s.FILES.EXTENSIONS.PNG,t.animationData)}createAnimation(e,t){if(r.hasOwn(e.animationData,["type","img"])&&e.animationData.type===s.ANIMATIONS_TYPE.SPRITESHEET){let i=r.get(e.animationData,"dir",0);0<i?this.createWithMultipleDirections(t,e,i):this.createWithDirection(e,t)}e.classKey&&r.isFunction(e.classKey.createAnimation)&&e.classKey.createAnimation({data:e,uiScene:t,pack:this})}createWithMultipleDirections(e,t,i){e.directionalAnimations[this.getAnimationKey(t)]=t.animationData.dir,(1===i||2===i)&&(this.createWithDirection(t,e,s.UP),this.createWithDirection(t,e,s.DOWN)),(1===i||3===i)&&(this.createWithDirection(t,e,s.LEFT),this.createWithDirection(t,e,s.RIGHT))}createWithDirection(e,t,i=""){let n=this.prepareAnimationData(e,t,i);if(this.gameManager.createdAnimations[n.key])return this.gameManager.createdAnimations[n.key];let s=t.anims.create(n);return r.hasOwn(e.animationData,"destroyTime")&&(s.destroyTime=e.animationData.destroyTime),r.hasOwn(e.animationData,"depthByPlayer")&&(s.depthByPlayer=e.animationData.depthByPlayer),this.gameManager.createdAnimations[n.key]=s,this.gameManager.createdAnimations[n.key]}prepareAnimationData(e,t,i=""){let n=this.getAnimationKey(e,i),s={key:n,frames:t.anims.generateFrameNumbers(n,e.animationData),hideOnComplete:r.get(e.animationData,"hide",!0)};return r.hasOwn(e.animationData,"duration")?s.duration=e.animationData.duration:s.frameRate=r.get(e.animationData,"frameRate",t.configuredFrameRate),r.hasOwn(e.animationData,"repeat")&&(s.repeat=e.animationData.repeat),s}getAnimationKey(e,t=""){return(e.skillKey?e.skillKey+"_":"")+e.key+(t&&""!==t?"_"+t:"")}}},{"282e615b5cb3f89e":"3lwy5","1d3a9c826831f334":"93TbC"}],gldsT:[function(e,t,i){let{MessagesGuard:n}=e("339136b874e5e026"),{sc:r}=e("2ec1bb160ec0448f");t.exports.MessagesHandler=class{static processOrQueueMessage(e,t){if(!n.validate(e))return!1;let i=t.getActiveScene();if(i&&i.player)return t.skills.processMessage(e);r.hasOwn(t,"skillsQueue")||(t.skillsQueue=[]),t.skillsQueue.push(e)}}},{"339136b874e5e026":"cku3g","2ec1bb160ec0448f":"3lwy5"}],cku3g:[function(e,t,i){let{SkillConst:n}=e("100f8e885762be05"),{ActionsConst:r}=e("39ef125cf707e0cf");t.exports.MessagesGuard=class{static validate(e){return!!e.act&&(0===e.act.indexOf(n.ACTIONS_PREF)||-1!==e.act.indexOf(r.ACTIONS.SUFFIX.ATTACK)||-1!==e.act.indexOf(r.ACTIONS.SUFFIX.EFFECT)||-1!==e.act.indexOf(r.ACTIONS.SUFFIX.HIT))}}},{"100f8e885762be05":"aF25l","39ef125cf707e0cf":"59VA7"}],aF25l:[function(e,t,i){t.exports={SkillsEvents:e("ee1c8699d1d195b2"),Receiver:e("f446dd089da4381f"),ClassPath:e("8120be7a0841b1e3"),LevelsSet:e("fe220ea00f369dd1"),Level:e("d0a528882520fe7b"),Skill:e("89b2504786e2e8f1"),SkillConst:e("9f5ddfa4ed9d841d"),Attack:e("ff04b48a7ae3df0a"),Effect:e("bc0a31561e8344d2"),PhysicalAttack:e("4f3909cb0bcd41e8"),PhysicalEffect:e("7317fe1b879e8e72")}},{ee1c8699d1d195b2:"9PsTy",f446dd089da4381f:"lDyjH","8120be7a0841b1e3":"30zGe",fe220ea00f369dd1:"9hL3F",d0a528882520fe7b:"gG8XH","89b2504786e2e8f1":"cBYkx","9f5ddfa4ed9d841d":"6b010",ff04b48a7ae3df0a:"3f9O5",bc0a31561e8344d2:"j4v88","4f3909cb0bcd41e8":"8uI2I","7317fe1b879e8e72":"eaAf1"}],"9PsTy":[function(e,t,i){let n="reldens.skills.";t.exports={PREF:n,INIT_LEVEL_SET_START:n+"initLevelSetStart",INIT_LEVEL_SET_END:n+"initLevelSetEnd",INIT_CLASS_PATH_END:n+"initClassPathEnd",LOADED_OWNER_SKILLS:n+"loadedOwnerSkills",SET_SKILLS:n+"setSkills",SET_LEVELS:n+"setLevels",GENERATED_LEVELS:n+"generatedLevels",ADD_SKILLS_BEFORE:n+"addSkillBefore",ADD_SKILLS_AFTER:n+"addSkillAfter",REMOVE_SKILLS_BEFORE:n+"removeSkillBefore",REMOVE_SKILLS_AFTER:n+"removeSkillAfter",VALIDATE_BEFORE:n+"beforeValidate",VALIDATE_SUCCESS:n+"validateSuccess",VALIDATE_FAIL:n+"validateFail",EXECUTING_SKILL:n+"executingSkill",LEVEL_EXPERIENCE_ADDED:n+"experienceAdded",LEVEL_UP:n+"levelUp",LEVEL_DOWN:n+"levelDown",LEVEL_APPLY_MODIFIERS:n+"levelApplyModifiers",SKILL_BEFORE_IN_RANGE:n+"beforeIsInRange",SKILL_AFTER_IN_RANGE:n+"afterIsInRange",SKILL_BEFORE_EXECUTE:n+"beforeExecute",SKILL_AFTER_EXECUTE:n+"afterExecute",SKILL_BEFORE_CAST:n+"beforeCast",SKILL_AFTER_CAST:n+"afterCast",SKILL_BEFORE_RUN_LOGIC:n+"beforeRunLogic",SKILL_AFTER_RUN_LOGIC:n+"afterRanLogic",SKILL_APPLY_OWNER_EFFECTS:n+"applyOwnerEffects",SKILL_ATTACK_APPLY_DAMAGE:n+"attackApplyDamage",SKILL_EFFECT_TARGET_MODIFIERS:n+"effectTargetModifiers",SKILL_PHYSICAL_ATTACK_HIT:n+"physicalAttackOnHit",SKILL_PHYSICAL_EFFECT_HIT:n+"physicalEffectOnHit"}},{}],lDyjH:[function(e,t,i){let n=e("26dc6552813c7c3"),{ErrorManager:r,Logger:s,sc:a}=e("c1d230545b42faaa");t.exports=class{constructor(e){a.hasOwn(e,"owner")||r.error("Undefined owner."),"function"!=typeof e.owner.getPosition&&r.error("Undefined owner position method."),this.actions=a.get(e,"actions",{}),a.hasOwn(e,"avoidDefaults")&&e.avoidDefaults||this.setDefaultMethods()}setDefaultMethods(){this.actions[n.ACTION_INIT_LEVEL_SET_START]="onInitLevelSetStart",this.actions[n.ACTION_INIT_LEVEL_SET_END]="onInitLevelSetEnd",this.actions[n.ACTION_INIT_CLASS_PATH_END]="onInitClassPathEnd",this.actions[n.ACTION_LOADED_OWNER_SKILLS]="onLoadedOwnerSkills",this.actions[n.ACTION_SET_SKILLS]="onSetSkills",this.actions[n.ACTION_SET_LEVELS]="onSetLevels",this.actions[n.ACTION_ADD_SKILLS_BEFORE]="onAddSkillsBefore",this.actions[n.ACTION_ADD_SKILLS_AFTER]="onAddSkillsAfter",this.actions[n.ACTION_REMOVE_SKILLS_BEFORE]="onRemoveSkillsBefore",this.actions[n.ACTION_REMOVE_SKILLS_AFTER]="onRemoveSkillsAfter",this.actions[n.ACTION_VALIDATE_BEFORE]="onValidateBefore",this.actions[n.ACTION_VALIDATE_SUCCESS]="onValidateSuccess",this.actions[n.ACTION_VALIDATE_FAIL]="onValidateFail",this.actions[n.ACTION_EXECUTING_SKILL]="onExecutingSkill",this.actions[n.ACTION_LEVEL_EXPERIENCE_ADDED]="onLevelExperienceAdded",this.actions[n.ACTION_LEVEL_UP]="onLevelUp",this.actions[n.ACTION_LEVEL_DOWN]="onLevelDown",this.actions[n.ACTION_LEVEL_APPLY_MODIFIERS]="onLevelApplyModifiers",this.actions[n.ACTION_SKILL_BEFORE_IN_RANGE]="onSkillBeforeInRange",this.actions[n.ACTION_SKILL_AFTER_IN_RANGE]="onSkillAfterInRange",this.actions[n.ACTION_SKILL_BEFORE_EXECUTE]="onSkillBeforeExecute",this.actions[n.ACTION_SKILL_AFTER_EXECUTE]="onSkillAfterExecute",this.actions[n.ACTION_SKILL_BEFORE_CAST]="onSkillBeforeCast",this.actions[n.ACTION_SKILL_AFTER_CAST]="onSkillAfterCast",this.actions[n.ACTION_SKILL_ATTACK_APPLY_DAMAGE]="onSkillAttackApplyDamage",this.actions[n.ACTION_SKILL_BEFORE_RUN_LOGIC]="onSkillBeforeRunLogic",this.actions[n.ACTION_SKILL_AFTER_RUN_LOGIC]="onSkillAfterRunLogic",this.actions[n.ACTION_SKILL_PHYSICAL_ATTACK_HIT]="onSkillPhysicalAttackHit",this.actions[n.ACTION_SKILL_PHYSICAL_EFFECT_HIT]="onSkillPhysicalEffectHit"}processMessage(e){return!!this.isValidMessage(e)&&(a.hasOwn(this.actions,e.act)?a.isFunction(this[this.actions[e.act]])?void this[this.actions[e.act]](e):(s.error("Skills action is not a function",e.act),!1):(s.error("Skills action not found",e.act),!1))}isValidMessage(e){return 0===e.act.indexOf(n.ACTIONS_PREF)}}},{"26dc6552813c7c3":"6b010",c1d230545b42faaa:"7GVS0"}],"6b010":[function(e,t,i){let n="rski.";t.exports={SKILL:{TYPE:{BASE:1,ATTACK:2,EFFECT:3,PHYSICAL_ATTACK:4,PHYSICAL_EFFECT:5}},MODELS_PREFIX:"skills_",BEHAVIOR_SEND:"send",BEHAVIOR_BROADCAST:"broadcast",BEHAVIOR_BOTH:"both",ACTIONS_PREF:n,ACTION_INIT_LEVEL_SET_START:n+"ILss",ACTION_INIT_LEVEL_SET_END:n+"ILse",ACTION_INIT_CLASS_PATH_END:n+"ICpe",ACTION_LOADED_OWNER_SKILLS:n+"Los",ACTION_SET_SKILLS:n+"Sk",ACTION_SET_LEVELS:n+"Sl",ACTION_ADD_SKILLS_BEFORE:n+"Asb",ACTION_ADD_SKILLS_AFTER:n+"Asa",ACTION_REMOVE_SKILLS_BEFORE:n+"Rsb",ACTION_REMOVE_SKILLS_AFTER:n+"Rsa",ACTION_VALIDATE_BEFORE:n+"Bv",ACTION_VALIDATE_SUCCESS:n+"Vs",ACTION_VALIDATE_FAIL:n+"Vf",ACTION_EXECUTING_SKILL:n+"Es",ACTION_LEVEL_EXPERIENCE_ADDED:n+"Ea",ACTION_LEVEL_UP:n+"Lu",ACTION_LEVEL_DOWN:n+"Ld",ACTION_LEVEL_APPLY_MODIFIERS:n+"Apm",ACTION_SKILL_BEFORE_IN_RANGE:n+"Bir",ACTION_SKILL_AFTER_IN_RANGE:n+"Air",ACTION_SKILL_BEFORE_EXECUTE:n+"Be",ACTION_SKILL_AFTER_EXECUTE:n+"Ae",ACTION_SKILL_BEFORE_CAST:n+"Bc",ACTION_SKILL_AFTER_CAST:n+"Ac",ACTION_SKILL_ATTACK_APPLY_DAMAGE:n+"Ad",ACTION_SKILL_BEFORE_RUN_LOGIC:n+"Brl",ACTION_SKILL_AFTER_RUN_LOGIC:n+"Arl",ACTION_SKILL_PHYSICAL_ATTACK_HIT:n+"Pah",ACTION_SKILL_PHYSICAL_EFFECT_HIT:n+"Peh",SKILL_STATES:{PHYSICAL_SKILL_INVALID_TARGET:"physicalSkillInvalidTarget",PHYSICAL_SKILL_RUN_LOGIC:"physicalSkillRunLogic",OUT_OF_RANGE:"outOfRange",CAN_NOT_ACTIVATE:"canNotActivate",DODGED:"dodged",APPLYING_DAMAGE:"applyingDamage",APPLIED_DAMAGE:"appliedDamage",APPLIED_CRITICAL_DAMAGE:"appliedCriticalDamage",APPLYING_EFFECTS:"applyingEffects",APPLIED_EFFECTS:"appliedEffects",EXECUTE_PHYSICAL_ATTACK:"executePhysicalAttack",TARGET_NOT_AVAILABLE:"targetNotAvailable"}}},{}],"7GVS0":[function(e,t,i){let n=e("48efbcee2619771a");t.exports={EventsManager:n,EventsManagerSingleton:new n,ErrorManager:e("6b19ede874e76b6a"),InteractionArea:e("fbfafdef50bc724b"),SchemaValidator:e("79784c595128160d"),Logger:e("c821f6e5cb8dd35a"),sc:e("61a886a62660926a")}},{"48efbcee2619771a":"aQ1UE","6b19ede874e76b6a":"2w1x3",fbfafdef50bc724b:"6SQZ2","79784c595128160d":"5UoCw",c821f6e5cb8dd35a:"jdKGM","61a886a62660926a":"igll6"}],aQ1UE:[function(e,t,i){let n=e("40342eb2accc955c").default,r=e("66531076dfd68e4b"),s=e("89baca6758bf8cd9");t.exports=class extends n{constructor(){super(),this.eventsByRemoveKeys={},this.debug=!1}onWithKey(e,t,i,n){if(s.hasOwn(this.eventsByRemoveKeys,i)||n&&s.hasOwn(this.eventsByRemoveKeys,n)&&s.hasOwn(this.eventsByRemoveKeys[n],i))return r.debug('Event "'+e+'" exists with key "'+i+'" and masterKey "'+n+'".'),!1;this.on(e,t);let a=this.listeners(e),o=a.indexOf(t),h=a[o];return n?(s.hasOwn(this.eventsByRemoveKeys,n)||(this.eventsByRemoveKeys[n]={}),this.eventsByRemoveKeys[n][i]={eventName:e,callback:t}):this.eventsByRemoveKeys[i]={eventName:e,callback:t},h}offWithKey(e,t){if(t&&!s.hasOwn(this.eventsByRemoveKeys,t))return r.debug('Event not found by masterKey "'+t+'".'),!1;if(!t&&!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Event not found by removeKey "'+e+'".'),!1;let i=t?this.eventsByRemoveKeys[t][e]:this.eventsByRemoveKeys[e],n=this.listeners(i.eventName).indexOf(i.callback);return(this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName],t)?(delete this.eventsByRemoveKeys[t][e],r.debug('Deleted event by removeKey "'+e+'" and masterKey "'+t+'".')):(delete this.eventsByRemoveKeys[e],r.debug('Deleted event by removeKey "'+e+'".')),!0}offByMasterKey(e){if(!s.hasOwn(this.eventsByRemoveKeys,e))return r.debug('Events not found by masterKey "'+e+'".'),!1;for(let t of(r.debug("Removing events by masterKey: "+e,Object.keys(this.eventsByRemoveKeys[e])),Object.keys(this.eventsByRemoveKeys[e]))){let i=this.eventsByRemoveKeys[e][t],n=this.listeners(i.eventName).indexOf(i.callback);this._events[i.eventName].splice(n,1),0===this._events[i.eventName].length&&delete this._events[i.eventName]}delete this.eventsByRemoveKeys[e]}on(e,t){!1!==this.debug&&this.logDebugEvent(e,"Listen"),super.on(e,t)}async emit(e,...t){!1!==this.debug&&this.logDebugEvent(e,"Fire"),await super.emit(e,...t)}logDebugEvent(e,t){(-1!==this.debug.indexOf("all")||-1!==this.debug.indexOf(e)||-1!==e.indexOf(this.debug))&&r.debug(t+" Event:",e)}}},{"40342eb2accc955c":"46bZC","66531076dfd68e4b":"jdKGM","89baca6758bf8cd9":"igll6"}],jdKGM:[function(e,t,i){t.exports=new class{logLevels={none:0,emergency:1,alert:2,critical:3,error:4,warning:5,notice:6,info:7,debug:8};constructor(){let e=this.context();this.enableTraceBack="",this.logLevelBack=3,this.forcedDisabled=!!e.RELDENS_FORCED_DISABLED_LOGS,this.addTimeStamp=(e.RELDENS_INCLUDE_LOGS_TIMESTAMP,!0)}context(){return"undefined"!=typeof window?window:{}}enableTraceAll(){return this.enableTraceBack=this.context().RELDENS_ENABLE_TRACE_FOR,this.context().RELDENS_ENABLE_TRACE_FOR="all",this}restoreTraceFor(){return this.context().RELDENS_ENABLE_TRACE_FOR=this.enableTraceBack,this}setLogLevel(e){return this.logLevelBack=this.context().RELDENS_LOG_LEVEL,this.context().RELDENS_LOG_LEVEL=e,this}restoreLogLevel(){return this.context().RELDENS_LOG_LEVEL=this.logLevelBack,this}setForcedDisabled(e){return this.forcedDisabled=e,this}setAddTimeStamp(e){return this.addTimeStamp=e,this}logLevel(){return this.context().RELDENS_LOG_LEVEL||0}enableTraceFor(){return(this.context().RELDENS_ENABLE_TRACE_FOR||"").split(",")}log(e,...t){if(console.log((this.addTimeStamp?new Date().toISOString().slice(0,19).replace("T"," ")+" - ":"")+e.toUpperCase()+" -",...t),-1!==this.enableTraceFor().indexOf("all")||-1!==this.enableTraceFor().indexOf(e)){if("function"!=typeof Error?.captureStackTrace)return console.log("Error.captureStackTrace is not available.",typeof Error?.captureStackTrace),this;let t={};Error.captureStackTrace(t,e),console.log(t.stack)}return this}debug(...e){return this.forcedDisabled||8>this.logLevel()?this:this.log("debug",...e)}info(...e){return this.forcedDisabled||7>this.logLevel()?this:this.log("info",...e)}notice(...e){return this.forcedDisabled||6>this.logLevel()?this:this.log("notice",...e)}warning(...e){return this.forcedDisabled||5>this.logLevel()?this:this.log("warning",...e)}error(...e){return this.forcedDisabled||4>this.logLevel()?this:this.log("error",...e)}critical(...e){return this.forcedDisabled||3>this.logLevel()?this:this.log("critical",...e)}alert(...e){return this.forcedDisabled||2>this.logLevel()?this:this.log("alert",...e)}emergency(...e){return this.forcedDisabled||1>this.logLevel()?this:this.log("emergency",...e)}}},{}],igll6:[function(e,t,i){t.exports=new class{hasOwn(e,t){if(this.isArray(t)&&0<t.length){for(let i of t)if(!(e&&({}).hasOwnProperty.call(e,i)))return!1;return!0}return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]}isTrue(e,t,i){return e&&({}).hasOwnProperty.call(e,t)&&void 0!==e[t]&&(i?!0===e[t]:e[t])}isObject(e){return e&&"object"==typeof e&&!this.isArray(e)}isArray(e){return Array.isArray(e)}inArray(e,t){return!!this.isArray(t)&&-1!==t.indexOf(e)}isFunction(e){return e&&"function"==typeof e}isObjectFunction(e,t){return this.isObject(e)&&t&&"function"==typeof e[t]}isString(e){return"string"==typeof e}isNumber(e){return"number"==typeof e}isInt(e){return!!this.isNumber(e)&&Number.isInteger(e)}isFloat(e){return!!this.isNumber(e)&&Number(e)===e&&0!=e%1}isBoolean(e){return"boolean"==typeof e}deepMergeProperties(e,t){if(!this.isObject(e)||!this.isObject(t))return!1;for(let i of Object.keys(t)){if(this.isObject(t[i])){if(!this.hasOwn(e,i)){e[i]=t[i];continue}this.deepMergeProperties(e[i],t[i]);continue}e[i]=t[i]}return e}length(e){return e?Object.keys(e).length:0}convertObjectsArrayToObjectByKeys(e,t){if(!this.isArray(e)||0===e.length)return{};let i={};for(let n of e)i[n[t]]=n;return i}sortObjectKeysBy(e,t){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}arraySort(e,t,i="asc"){if(!e||!t)return e;let n="act"===i?1:-1,r="act"===i?-1:1;return e.sort((e,i)=>e[t]>i[t]?n:r)}propsAssign(e,t,i){if(!this.isArray(i))return t;for(let n of i)t[n]=e[n];return t}toJson(e,t=!1){return this.parseJson(e)||t}parseJson(e){try{return JSON.parse(e)}catch(e){return!1}}deepJsonClone(e){return JSON.parse(JSON.stringify(e))}get(e,t,i){return this.hasOwn(e,t)?e[t]:i}getByPath(e,t,i){if(!this.isObject(e)||!this.isArray(t))return i;let n=t.shift();return 0===t.length?this.get(e,n,i):this.getByPath(e[n],t,i)}getByPriority(e,t){if(!this.isArray(t))return!1;for(let i of t)if(this.hasOwn(e,i))return e[i];return!1}fetchByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return!1;for(let n of e)if(n[t]===i)return n;return!1}fetchAllByProperty(e,t,i){if(!this.isArray(e)||0===e.length)return[];let n=[];for(let r of e)r[t]===i&&n.push(r);return n}fetchByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let r of n){let n=e[r];if(n[t]===i)return n}return!1}fetchAllByPropertyOnObject(e,t,i){if(!e)return!1;let n=Object.keys(e);if(0===n.length)return!1;let r=[];for(let s of n){let n=e[s];n[t]===i&&r.push(n)}return r}serializeFormData(e){if(0===e.length)return{};let t={};for(let[i,n]of e)void 0!==t[i]?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n;return t}removeFromArray(e,t){return e.filter(e=>-1===t.indexOf(e))}getCurrentDate(){return new Date().toISOString().slice(0,19).replace("T"," ")}getDateForFileName(){return new Date().toISOString().slice(0,19).replace("T","-").replace(/:/g,"-")}formatDate(e,t="Y-m-d H:i:s"){if(!(e instanceof Date))return e;let i={Y:e.getFullYear(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),H:e.getHours().toString().padStart(2,"0"),i:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};return t.replace(/Y|m|d|H|i|s/g,e=>i[e])}getTime(){return new Date().getTime()}roundToPrecision(e,t=4){return Number(Number(e).toFixed(t))}randomValueFromArray(e){return this.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}randomChars(e){return 0>=e?"":this.randomString(e,!1)}randomCharsWithSymbols(e){return 0>=e?"":this.randomString(e,!0)}randomString(e,t=!1){let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t&&(n+="!@#$%&*()_-=+[]{}:;<>,./?");let r=n.length;for(let t=0;t<e;t++)i+=n.charAt(Math.floor(Math.random()*r));return i}cleanMessage(e,t){if(!e)return"";let i=e.toString().replace(/\\/g,"");return 0<t?i.substring(0,t):i}slugify(e){return(e||"").replace(/&/g," and ").replace(/[^a-zA-Z0-9]/g," ").trim().replace(/\s+/g,"-").toLowerCase()}isValidIsoCode(e){return/^[a-zA-Z]{2}$/.test(e)}}},{}],"2w1x3":[function(e,t,i){t.exports=new class{constructor(){this.enableTrace=!1}error(e){throw this.enableTrace&&console.trace(),Error(e)}}},{}],"6SQZ2":[function(e,t,i){t.exports=class{constructor(){this.x=!1,this.y=!1,this.interactionArea=!1,this.interactionLimits={}}setupInteractionArea(e=!1,t=!1,i=!1){e&&(this.interactionArea=e),this.interactionArea&&(t&&(this.x=t),i&&(this.y=i),this.interactionLimits.left=this.x-this.interactionArea,this.interactionLimits.right=this.x+this.interactionArea,this.interactionLimits.up=this.y-this.interactionArea,this.interactionLimits.down=this.y+this.interactionArea)}isValidInteraction(e,t){return e>this.interactionLimits.left&&e<this.interactionLimits.right&&t>this.interactionLimits.up&&t<this.interactionLimits.down}getPosition(){return{x:this.x,y:this.y}}}},{}],"5UoCw":[function(e,t,i){let n=e("a10c1284206be104"),r=e("9f8740248e6446f5");t.exports=class{constructor(e){this.schema=e}validate(e,t=!1){if(t||(t=this.schema),!n.isObject(t))return r.debug("No schema provided."),!1;for(let i of Object.keys(t)){let n=t[i];if(!this.isValidSchema(e[i],n,i)||n.nested&&!this.validate(e[i],n.nested))return!1}return!0}isValidSchema(e,t,i){if(!t||!t.type)return r.debug("No schema type provided.",t,e,i),!1;switch(t.type){case"string":if(!n.isString(e))return r.debug("Object is not a string.",i,e,t),!1;break;case"number":if(!n.isInt(e)&&!n.isFloat(e))return r.debug("Object is not a number.",i,e,t),!1;break;case"int":if(!n.isInt(e))return r.debug("Object is not an integer.",i,e,t),!1;break;case"float":if(!n.isFloat(e))return r.debug("Object is not a float.",i,e,t),!1;break;case"boolean":if(!n.isBoolean(e))return r.debug("Object is not a boolean.",i,e,t),!1;break;case"object":if(!n.isObject(e))return r.debug("Object is not an object.",i,e,t),!1;break;case"array":if(!n.isArray(e))return r.debug("Object is not an array.",i,e,t),!1;if(t.valuesType){for(let n of e)if(!this.isValidSchema(n,{type:t.valuesType},i))return r.debug("Invalid array value.",n,t),!1}break;default:return r.debug("Invalid schema type provided.",t.type),!1}return!0}}},{a10c1284206be104:"igll6","9f8740248e6446f5":"jdKGM"}],"30zGe":[function(e,t,i){let n=e("ccfbf682a19f24a3"),r=e("217efc8565fed517"),{ErrorManager:s,sc:a}=e("89e53d0d03d2ebfc");t.exports=class extends n{async init(e){await super.init(e),a.hasOwn(e,"key")||s.error("Undefined key for class path."),this.key=e.key,this.label=a.hasOwn(e,"label")?e.label:e.key,this.labelsByLevel=!!a.hasOwn(e,"labelsByLevel")&&e.labelsByLevel,this.currentLabel=a.hasOwn(e,"currentLabel")?e.currentLabel:this.getCurrentLabel(),this.skillsByLevel=!!a.hasOwn(e,"skillsByLevel")&&e.skillsByLevel,this.skillsByLevelKeys=this.getSkillsByLevelKeys(),await this.setOwnerSkills(a.get(e,"currentSkills",!1)),this.affectedProperty=a.get(e,"affectedProperty",!1),await this.fireEvent(r.INIT_CLASS_PATH_END,this)}getCurrentLabel(){return a.hasOwn(this.labelsByLevel,this.currentLevel)?this.labelsByLevel[this.currentLevel]:this.loopLevelsForLabel()}loopLevelsForLabel(){let e=this.label;for(let t of Object.keys(this.labelsByLevel))t<=this.currentLevel&&(e=this.labelsByLevel[t]);return e}async levelUp(){let e=this.currentLevel+1;a.hasOwn(this.skillsByLevel,e)&&await this.addSkills(this.skillsByLevel[e]),a.hasOwn(this.labelsByLevel,e)&&(this.currentLabel=this.labelsByLevel[e]),await super.levelUp()}async levelDown(){let e=this.currentLevel-1;a.hasOwn(this.skillsByLevel,e)&&await this.removeSkills(this.skillsByLevel[e]),a.hasOwn(this.labelsByLevel,e)&&(this.currentLabel=this.labelsByLevel[e]),await super.levelDown()}async addSkills(e){for(let t of(await this.fireEvent(r.ADD_SKILLS_BEFORE,this,e),Object.keys(e))){let i=e[t];this.currentSkills[i.key]=i}await this.fireEvent(r.ADD_SKILLS_AFTER,this,e)}async removeSkills(e){for(let t of(await this.fireEvent(r.REMOVE_SKILLS_BEFORE,this,e),e))delete this.currentSkills[t];await this.fireEvent(r.REMOVE_SKILLS_AFTER,this,e)}async setOwnerSkills(e){if(e){this.currentSkills=e;return}for(let e of(this.currentSkills={},Object.keys(this.levels))){let t=this.levels[e];this.skillsByLevel&&a.hasOwn(this.skillsByLevel,t.key)&&t.key<=this.currentLevel&&await this.addSkills(this.skillsByLevel[t.key])}await this.fireEvent(r.SET_SKILLS,this)}getSkillsByLevelKeys(){if(!this.skillsByLevel)return!1;let e={};for(let t of Object.keys(this.skillsByLevel)){let i=this.skillsByLevel[t];for(let n of(a.hasOwn(e,i)||(e[t]=[]),Object.keys(i))){let r=i[n];e[t].push(r.key)}}return e}}},{ccfbf682a19f24a3:"9hL3F","217efc8565fed517":"9PsTy","89e53d0d03d2ebfc":"7GVS0"}],"9hL3F":[function(e,t,i){let n=e("c16a85c98eb0e011"),r=e("a02ba4decc8e64ee"),{EventsManagerSingleton:s,ErrorManager:a,Logger:o,sc:h}=e("aece71e8d3833b40");t.exports=class{constructor(e={}){this.events=h.get(e,"events",s),this.owner=h.get(e,"owner",!1)}setOwner(e){h.hasOwn(e,"owner")||a.error("Undefined owner for levels."),"function"!=typeof e.owner.getPosition&&a.error("Undefined owner position method."),this.owner=e.owner,this.ownerIdProperty=h.hasOwn(e,"ownerIdProperty")?e.ownerIdProperty:"id"}async init(e){h.hasOwn(this,"owner")||a.error("Undefined owner for levels."),"function"!=typeof this.owner.getPosition&&a.error("Undefined owner position method."),h.hasOwn(e,"levels")&&Object.keys(e.levels).length||a.error("Levels were not specified."),await this.fireEvent(n.INIT_LEVEL_SET_START,this),this.autoFillRanges=h.get(e,"autoFillRanges",!1),this.autoFillExperienceMultiplier=h.get(e,"autoFillExperienceMultiplier",1.5),this.currentLevel=h.get(e,"currentLevel",0),this.currentExp=h.get(e,"currentExp",0),this.setRequiredExperienceLimit=h.get(e,"setRequiredExperienceLimit",!1),this.levels=await this.setLevels(e.levels),this.increaseLevelsWithExperience=h.get(e,"increaseLevelsWithExperience",!0),this.levelsByExperience=h.get(e,"levelsByExperience",this.sortLevelsBy(this.levels)),await this.fireEvent(n.INIT_LEVEL_SET_END,this)}async setLevels(e){return this.autoFillRanges?await this.createLevels(e):this.levels=e,await this.fireEvent(n.SET_LEVELS,this,e),this.levels}async createLevels(e){this.levels={};let t=Object.keys(e);for(let i of t){let n=e[i];this.levels[i]=n;let r=t.indexOf(i)+1,s=t.length>r&&t[r],a=!1;h.hasOwn(e,s)&&(a=e[s]),h.hasOwn(a,"key")&&a.key-n.key>0&&await this.createAndAutofillLevelsInstances(n,a)}}async createAndAutofillLevelsInstances(e,t){for(let i=e.key+1;i<t.key;i++){let t=Math.round(this.levels[i-1].requiredExperience*this.autoFillExperienceMultiplier),s={key:i,modifiers:e.modifiers,requiredExperience:t};this.levels[i]=new r(s),await this.fireEvent(n.GENERATED_LEVELS,this)}}sortLevelsBy(e,t="key"){return Object.keys(e).sort((i,n)=>e[i][t]>e[n][t]?1:-1)}async levelUp(){let e=Object.keys(this.levels).pop();if(this.currentLevel>=this.levels[e].key)return!1;this.currentLevel++,await this.applyLevelModifiers(),await this.fireEvent(n.LEVEL_UP,this)}async levelDown(){if(1>=this.currentLevel)return!1;await this.applyLevelModifiers(!0),this.currentLevel--,await this.fireEvent(n.LEVEL_DOWN,this)}async applyLevelModifiers(e){let t=this.getLevelInstance(this.currentLevel);if(!t)return o.error(["Current level instance not found.","Current Level Key:",this.currentLevel]),!1;if(await this.fireEvent(n.LEVEL_APPLY_MODIFIERS,this,t),!t.modifiers)return!1;for(let i of t.modifiers)e?i.revert(this.owner):i.apply(this.owner)}getLevelInstance(e){return h.get(this.levels,e,!1)}async addExperience(e){let t=this.currentExp+e,i=this.levelsByExperience.indexOf(this.currentLevel.toString()),r=i+1,s=this.levelsByExperience[r],a=this.levels[s],o=0,c=!1;if(h.hasOwn(this.levels,this.currentLevel)&&a&&t>=a.requiredExperience){for(let e of this.levelsByExperience.slice(r))if(t>=this.levels[e].requiredExperience&&(c=!0,await this.levelUp()),t<this.levels[e].requiredExperience){o=this.levels[e].requiredExperience;break}}let l=c?r+1:r;(!a||l===this.levelsByExperience.length)&&this.setRequiredExperienceLimit&&(t=this.getLevelInstance(this.currentLevel).requiredExperience),this.currentExp=t,await this.fireEvent(n.LEVEL_EXPERIENCE_ADDED,this,e,t,i,r,s,a,o,c)}getNextLevelExperience(){let e=this.levelsByExperience.indexOf(this.currentLevel.toString()),t=this.getLevelInstance(this.currentLevel),i=e+1,n=this.levelsByExperience[i],r=this.getLevelInstance(n);if(!r)return t.requiredExperience;if(r&&this.currentExp<r.requiredExperience||!h.hasOwn(this.levels,this.currentLevel)||!r)return r.requiredExperience;for(let e of this.levelsByExperience.slice(i))if(this.currentExp<this.levels[e].requiredExperience)return this.levels[e].requiredExperience;return r.requiredExperience}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return h.get(this.owner,"eventsPrefix","skills.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(h.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"skills.ownerId."+this.getOwnerId()+".uKey."+h.getTime())+(e?"."+e:"")}async fireEvent(e,...t){return await this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.getOwnerEventKey()+"."+e}}},{c16a85c98eb0e011:"9PsTy",a02ba4decc8e64ee:"gG8XH",aece71e8d3833b40:"7GVS0"}],gG8XH:[function(e,t,i){let{ErrorManager:n,Logger:r,sc:s}=e("faf9f4d0a81cecea");t.exports=class{constructor(e){(!s.hasOwn(e,"key")||isNaN(e.key))&&n.error("Invalid Level key."),(!s.hasOwn(e,"modifiers")||0>=e.modifiers.length)&&r.warning("Level modifiers were not specified.","Level ID:",e.id," - Key:",e.key),this.key=parseInt(e.key),this.modifiers=e.modifiers,this.label=s.get(e,"label",e.key),this.requiredExperience=s.get(e,"requiredExperience",s.get(e,"required_experience",0))}}},{faf9f4d0a81cecea:"7GVS0"}],cBYkx:[function(e,t,i){let n=e("1a8b79feac2da9b0"),r=e("867678cea9a9cfca"),{PropertyManager:s,Condition:a,Calculator:o}=e("2b878b9cf457d0fc"),{InteractionArea:h,EventsManagerSingleton:c,ErrorManager:l,Logger:u,sc:d}=e("cfa6f665a4da61d4");t.exports=class{constructor(e){d.hasOwn(e,"key")||l.error("Missing skill key."),d.hasOwn(e,"owner")||l.error("Missing skill owner."),"function"!=typeof e.owner.getPosition&&l.error("Undefined owner position method."),this.key=e.key,this.owner=e.owner,this.ownerIdProperty=d.get(e,"ownerIdProperty","id"),this.type=n.SKILL.TYPE.BASE,this.customData=d.get(e,"customData",!1),this.autoValidation=d.get(e,"autoValidation",!1),this.skillDelay=d.get(e,"skillDelay",0),this.castTime=d.get(e,"castTime",0),this.owner.isCasting=!1,this.owner.castingTimer=!1,this.isValid=!0,this.usesLimit=d.get(e,"usesLimit",0),this.uses=0,this.canActivate=d.get(e,"canActivate",!0),this.range=d.get(e,"range",0),this.skillActivationTimer=!1,this.lastState="",this.groups=d.get(e,"groups",[]),this.lastAppliedModifiers={},this.rangeAutomaticValidation=d.get(e,"rangeAutomaticValidation",!1),this.rangePropertyX=d.get(e,"rangePropertyX",!1),this.rangePropertyY=d.get(e,"rangePropertyY",!1),this.rangeTargetPropertyX=d.get(e,"rangeTargetPropertyX",!1),this.rangeTargetPropertyY=d.get(e,"rangeTargetPropertyY",!1),this.allowSelfTarget=d.get(e,"allowSelfTarget",!1),this.target=d.get(e,"target",!1),this.events=d.get(e,"events",c),this.ownerConditions=d.get(e,"ownerConditions",[]),this.ownerEffects=d.get(e,"ownerEffects",[]),this.criticalChance=d.get(e,"criticalChance",0),this.criticalMultiplier=d.get(e,"criticalMultiplier",1),this.criticalFixedValue=d.get(e,"criticalFixedValue",0),this.propertyManager=new s,this.calculator=new o}validate(){return(this.isValid=!0,this.fireEvent(r.VALIDATE_BEFORE,this).catch(e=>{u.error(e)}),!this.canActivate||this.owner.isCasting)?(this.lastState=n.SKILL_STATES.CAN_NOT_ACTIVATE,!1):!!this.validateConditions()&&(!(0<this.usesLimit)||!(this.uses>=this.usesLimit))&&(0<this.skillDelay?(this.canActivate=!1,this.skillActivationTimer=setTimeout(()=>{this.canActivate=!0},this.skillDelay)):this.canActivate=!0,this.fireEvent(r.VALIDATE_SUCCESS,this).catch(e=>{u.error(e)}),this.isValid)}validateConditions(){for(let e of this.ownerConditions)if(e instanceof a||l.error(["Wrong Condition instance.",typeof e,"was specified."]),!e.isValidOn(this.owner))return this.fireEvent(r.VALIDATE_FAIL,this,e).catch(e=>{u.error(e)}),!1;return!0}validateRange(e){this.rangePropertyX&&this.rangePropertyY||l.error("Missing range properties for validation.");let t={x:this.propertyManager.getPropertyValue(this.owner,this.rangePropertyX),y:this.propertyManager.getPropertyValue(this.owner,this.rangePropertyY)},i={x:this.propertyManager.getPropertyValue(e,this.rangeTargetPropertyX||this.rangePropertyX),y:this.propertyManager.getPropertyValue(e,this.rangeTargetPropertyY||this.rangePropertyY)};return this.isInRange(t,i)}isInRange(e,t){if(this.fireEvent(r.SKILL_BEFORE_IN_RANGE,this).catch(e=>{u.error(e)}),0===this.range)return!0;let i=new h;i.setupInteractionArea(this.range,t.x,t.y);let n=i.isValidInteraction(e.x,e.y);return this.fireEvent(r.SKILL_AFTER_IN_RANGE,this,n).catch(e=>{u.error(e)}),n}async execute(e){if(await this.fireEvent(r.SKILL_BEFORE_EXECUTE,this,e),e&&(this.target=e),this.target||l.error("Target undefined."),!this.onExecuteConditions()||await this.isValidRange(e)||this.autoValidation&&!this.validate())return!1;let t=!1;return this.ownerEffects&&(this.applyModifiers(this.ownerEffects,this.owner,!0),await this.fireEvent(r.SKILL_APPLY_OWNER_EFFECTS,this,e)),0<this.castTime?(await this.fireEvent(r.SKILL_BEFORE_CAST,this,e),this.owner.isCasting=!0,this.owner.castingTimer=setTimeout(()=>{t=this.finishExecution(e),this.owner.isCasting=!1,this.fireEvent(r.SKILL_AFTER_CAST,this,e,t)},this.castTime)):t=await this.finishExecution(e),this.uses++,await this.onExecuteRewards(),await this.fireEvent(r.SKILL_AFTER_EXECUTE,this,e),t}async isValidRange(e){return this.rangeAutomaticValidation&&this.rangePropertyX&&this.rangePropertyY&&!await this.validateRange(e)}async finishExecution(e){await this.fireEvent(r.SKILL_BEFORE_RUN_LOGIC,this,e);let t=await this.runSkillLogic();return await this.fireEvent(r.SKILL_AFTER_RUN_LOGIC,this,e),t}onExecuteConditions(){return!0}async runSkillLogic(){return!0}async onExecuteRewards(){}applyCriticalValue(e){return this.isCritical()&&(this.criticalMultiplier&&(e*=this.criticalMultiplier),this.criticalFixedValue&&(e+=this.criticalFixedValue)),e}getCriticalDiff(e){return this.applyCriticalValue(e)-e}isCritical(){return!(this.criticalChance<=0)&&this.criticalChance<d.randomInteger(1,100)}applyModifiers(e,t,i=!1){for(let n of(this.lastAppliedModifiers={},Object.keys(e))){let r=e[n];r.target=t;let s=r.getModifiedValue();i||(s=this.applyCriticalValue(s)),r.setOwnerProperty(r.propertyKey,s),this.lastAppliedModifiers[r.propertyKey]=s}}getOwnerId(){return this.owner[this.ownerIdProperty]}getOwnerEventKey(){return d.get(this.owner,"eventsPrefix","skill.ownerId."+this.getOwnerId())}getOwnerUniqueEventKey(e){return(d.isFunction(this.owner.eventUniqueKey)?this.owner.eventUniqueKey():"skills.ownerId."+this.getOwnerId()+".uKey."+d.getTime())+(e?"."+e:"")}async fireEvent(e,...t){return await this.events.emit(this.eventFullName(e),...t)}listenEvent(e,t,i,n){return this.events.onWithKey(this.eventFullName(e),t,i,n)}eventFullName(e){return this.getOwnerEventKey()+"."+e}}},{"1a8b79feac2da9b0":"6b010","867678cea9a9cfca":"9PsTy","2b878b9cf457d0fc":"iJUHo",cfa6f665a4da61d4:"7GVS0"}],"3f9O5":[function(e,t,i){let n=e("9dba7a1ed3b87f64"),r=e("d7a74c1b6b680357"),s=e("db39812edc044706"),{ErrorManager:a,sc:o,Logger:h}=e("fbb03c16891d35a5");t.exports=class extends n{constructor(e){super(e),this.type=s.SKILL.TYPE.ATTACK,o.get(e,"affectedProperty",!1)||a.error("Missing skill affectedProperty to which the result damage will be applied."),this.affectedProperty=e.affectedProperty,this.allowEffectBelowZero=o.get(e,"allowEffectBelowZero",!1),this.hitDamage=o.hasOwn(e,"hitDamage")?e.hitDamage:0,this.applyDirectDamage=!!o.hasOwn(e,"applyDirectDamage")&&e.applyDirectDamage,this.attackProperties=o.hasOwn(e,"attackProperties")?e.attackProperties:[],this.defenseProperties=o.hasOwn(e,"defenseProperties")?e.defenseProperties:[],this.aimProperties=o.hasOwn(e,"aimProperties")?e.aimProperties:[],this.dodgeProperties=o.hasOwn(e,"dodgeProperties")?e.dodgeProperties:[],this.dodgeFullEnabled=!o.hasOwn(e,"dodgeFullEnabled")||e.dodgeFullEnabled,this.dodgeOverAimSuccess=o.hasOwn(e,"dodgeOverAimSuccess")?e.dodgeOverAimSuccess:1,this.damageAffected=!!o.hasOwn(e,"damageAffected")&&e.damageAffected,this.criticalAffected=!!o.hasOwn(e,"criticalAffected")&&e.criticalAffected,this.propertiesTotalOperators=o.get(e,"propertiesTotalOperators",{})}async runSkillLogic(){return(this.lastState=null,this.validateRange(this.target))?(this.lastState=s.SKILL_STATES.APPLYING_DAMAGE,await this.applyDamageTo(this.target)):(this.lastState=s.SKILL_STATES.OUT_OF_RANGE,!1)}async applyDamageTo(e){if(!e)return this.lastState=s.SKILL_STATES.TARGET_NOT_AVAILABLE,!1;let t=this.getPropertiesTotal(this.owner,this.aimProperties);if(!1===t)return h.debug("Missing owner aim properties.",this.owner),!1;let i=this.getPropertiesTotal(e,this.dodgeProperties);if(!1===i)return h.debug("Missing target dodge properties.",e),!1;if(this.dodgeFullEnabled&&i>t*this.dodgeOverAimSuccess)return this.lastState=s.SKILL_STATES.DODGED,!1;let n=this.getAffectedPropertyValue(e);if(!this.allowEffectBelowZero&&0>=n)return!1;let a=this.getDiffProportion(t,i),o=this.applyDirectDamage?this.hitDamage:this.calculateProportionDamage(e,this.hitDamage,i,t,a);o+=this.calculateCriticalDamage(o,i,t,a);let c=!this.allowEffectBelowZero&&n<o?0:n-o;this.setAffectedPropertyValue(e,c),this.lastState=s.SKILL_STATES.APPLIED_DAMAGE,await this.fireEvent(r.SKILL_ATTACK_APPLY_DAMAGE,this,e,o,c)}calculateCriticalDamage(e,t,i,n){let r=this.getCriticalDiff(e);return!this.criticalAffected||t>i?r:(this.lastState=s.SKILL_STATES.APPLIED_CRITICAL_DAMAGE,r-Math.floor(r*n/100))}calculateProportionDamage(e,t,i,n,r){let s=this.getPropertiesTotal(this.owner,this.attackProperties),a=this.getPropertiesTotal(e,this.defenseProperties),o=s-a;if(o>0){let e=o<a?100*o/a:99,i=Math.ceil((e=e>99?99:e)*t/100);t+=i}if(o<0){let e=-o<s?-(100*o)/s:99,i=Math.floor((e=e>99?99:e)*t/100);t-=i}if(this.damageAffected&&i>n){let e=Math.floor(t*r/100);t-=e}return t}getPropertiesTotal(e,t){if(!e)return h.warning("Missing object to get properties total."),!1;if(0===t.length)return 0;try{let i=0;for(let n of t){let t=this.propertyManager.getPropertyValue(e,n);i=o.hasOwn(this.propertiesTotalOperators,n)?this.calculator.calculateNewValue(i,this.propertiesTotalOperators[n],t):i+t}return i}catch(e){return h.debug(e.message),!1}}getDiffProportion(e,t){return 100*(t-e)/e}getAffectedPropertyValue(e){return this.propertyManager.getPropertyValue(e,this.affectedProperty)}setAffectedPropertyValue(e,t){return this.propertyManager.setOwnerProperty(e,this.affectedProperty,t)}}},{"9dba7a1ed3b87f64":"cBYkx",d7a74c1b6b680357:"9PsTy",db39812edc044706:"6b010",fbb03c16891d35a5:"7GVS0"}],j4v88:[function(e,t,i){let n=e("e44f791774823c1"),r=e("2db6f1da8a2a090f"),s=e("7b8b51bc133daece"),{ErrorManager:a,sc:o}=e("fba4e87138a39fd8");t.exports=class extends n{constructor(e){super(e),this.type=s.SKILL.TYPE.EFFECT,o.hasOwn(e,"targetEffects")||a.error("Missing targetEffects for skill."),this.targetEffects=e.targetEffects}async runSkillLogic(){if(this.lastState=null,!this.validateRange(this.target))return this.lastState=s.SKILL_STATES.OUT_OF_RANGE,!1;this.lastState=s.SKILL_STATES.APPLYING_EFFECTS,this.applyModifiers(this.targetEffects,this.target),this.lastState=s.SKILL_STATES.APPLIED_EFFECTS,await this.fireEvent(r.SKILL_EFFECT_TARGET_MODIFIERS,this)}}},{e44f791774823c1:"cBYkx","2db6f1da8a2a090f":"9PsTy","7b8b51bc133daece":"6b010",fba4e87138a39fd8:"7GVS0"}],"8uI2I":[function(e,t,i){let n=e("e0c5b517af7e95eb"),{PhysicalPropertiesValidator:r}=e("53bee4a4b8ffb847"),{PhysicalSkillRunner:s}=e("2eeab888db9bf32c"),a=e("816db325f0372799"),o=e("da275099098bc955"),{sc:h}=e("c2948bad11643034");t.exports=class extends n{constructor(e){super(e),this.type=a.SKILL.TYPE.PHYSICAL_ATTACK,this.parentType=a.SKILL.TYPE.ATTACK,r.validate(e),this.magnitude=e.magnitude,this.objectWidth=e.objectWidth,this.objectHeight=e.objectHeight,this.validateTargetOnHit=h.get(e,"validateTargetOnHit",!1)}async runSkillLogic(){return s.runSkillLogic(this)}async executeOnHit(e){return s.executeOnHit(e,this,o.SKILL_PHYSICAL_ATTACK_HIT,e=>{super.runSkillLogic(e)})}}},{e0c5b517af7e95eb:"3f9O5","53bee4a4b8ffb847":"1WOg9","2eeab888db9bf32c":"15hwT","816db325f0372799":"6b010",da275099098bc955:"9PsTy",c2948bad11643034:"7GVS0"}],"1WOg9":[function(e,t,i){let{ErrorManager:n,sc:r}=e("35abe0003c2a362d");t.exports.PhysicalPropertiesValidator=class{static validate(e){"function"!=typeof e.owner.executePhysicalSkill&&n.error("Missing executePhysicalSkill required method."),r.hasOwn(e,"magnitude")||n.error("Missing magnitude property."),r.hasOwn(e,"objectWidth")||n.error("Missing objectWidth property."),r.hasOwn(e,"objectHeight")||n.error("Missing objectHeight property.")}}},{"35abe0003c2a362d":"7GVS0"}],"15hwT":[function(e,t,i){let n=e("633d3b21cd84c369");t.exports.PhysicalSkillRunner=class{static async runSkillLogic(e){return(this.lastState=null,e.validateRange(e.target))?(this.lastState=n.SKILL_STATES.EXECUTE_PHYSICAL_ATTACK,await e.owner.executePhysicalSkill(e.target,e)):this.lastState=n.SKILL_STATES.OUT_OF_RANGE,!1}static async executeOnHit(e,t,i,r){return(await t.fireEvent(i,t,e),t.validateTargetOnHit&&e!==t.target)?(this.lastState=n.SKILL_STATES.PHYSICAL_SKILL_INVALID_TARGET,!1):"function"==typeof r&&(this.lastState=n.SKILL_STATES.PHYSICAL_SKILL_RUN_LOGIC,await r(e))}}},{"633d3b21cd84c369":"6b010"}],eaAf1:[function(e,t,i){let n=e("d5317b62b21ebf53"),{PhysicalPropertiesValidator:r}=e("161757e13fa22e4c"),{PhysicalSkillRunner:s}=e("63a7f8ae8a1c8d9b"),a=e("1ec320fdf9897900"),o=e("366775bdaf1fe082"),{sc:h}=e("456bc4241930a2a9");t.exports=class extends n{constructor(e){super(e),this.type=a.SKILL.TYPE.PHYSICAL_EFFECT,this.parentType=a.SKILL.TYPE.EFFECT,r.validate(e),this.magnitude=e.magnitude,this.objectWidth=e.objectWidth,this.objectHeight=e.objectHeight,this.validateTargetOnHit=h.get(e,"validateTargetOnHit",!1)}async runSkillLogic(){return s.runSkillLogic(this)}async executeOnHit(e){return s.executeOnHit(e,this,o.SKILL_PHYSICAL_EFFECT_HIT,e=>{super.runSkillLogic(e)})}}},{d5317b62b21ebf53:"j4v88","161757e13fa22e4c":"1WOg9","63a7f8ae8a1c8d9b":"15hwT","1ec320fdf9897900":"6b010","366775bdaf1fe082":"9PsTy","456bc4241930a2a9":"7GVS0"}],"4okuX":[function(e,t,i){let{ReceiverWrapper:n}=e("7b4e6450c890fa8e"),{Logger:r}=e("d1031ffaeea43394");t.exports.GameManagerEnricher=class{static withReceiver(e,t,i){if(!e||!t||!i)return r.error("Invalid input parameters for GameManagerEnricher.withReceiver method."),!1;if(e?.playerId!==t?.room.sessionId||(i.skills||(i.skills=new n({owner:e,roomEvents:t,events:i.events})),!i.skillsQueue?.length))return!1;for(let e of i.skillsQueue)i.skills.processMessage(e);i.skillsQueue=[]}}},{"7b4e6450c890fa8e":"30jum",d1031ffaeea43394:"3lwy5"}],"30jum":[function(e,t,i){let{Receiver:n}=e("c695b3c1a62eb9d1"),{Logger:r,sc:s}=e("84b4ce5800839523"),{GameConst:a}=e("280612dc61e2a50e"),{ActionsConst:o}=e("6868c5c216c81bc5");t.exports.ReceiverWrapper=class extends n{constructor(e){super(e),this.events=s.get(e,"events",!1),this.events||r.error("EventsManager undefined in ReceiverWrapper."),this.gameManager=s.get(e.roomEvents,"gameManager",!1),this.gameManager||r.error("Game Manager undefined in ReceiverWrapper."),this.room=s.get(e.roomEvents,"room",!1),this.room||r.error("Room undefined in ReceiverWrapper."),this.translator=this.gameManager?.services?.translator}processMessage(e){if(!this.gameManager)return!1;let t=this.gameManager.getActiveScene();if(!t||!t.player)return!1;super.processMessage(e),this.playAttackOrEffectAnimation(e,t),this.playHitAnimation(e,t)}playHitAnimation(e,t){-1!==e.act.indexOf("_hit")&&this.runHitAnimation(e.x,e.y,t,e.act)}playAttackOrEffectAnimation(e,t){let i=-1!==e.act.indexOf("_eff");if(!(-1!==e.act.indexOf("_atk"))&&!i)return;this.events.emitSync("reldens.playerAttack",e,this.room);let n=i?"_eff":"_atk",r=e.act.substring(0,e.act.indexOf(n)),{ownerSprite:a,targetSprite:o,targetType:h}=this.extractOwnerTargetAndType(t,e),c=s.get(this.gameManager.config.client.skills.animations,r,"default"+n);if(a&&t.getAnimationByKey(c)){let e=t.physics.add.sprite(a.x,a.y,c);e.setDepth(2e5);let i="";s.hasOwn(this.gameManager.gameEngine.uiScene.directionalAnimations,c)&&(i=3===this.gameManager.gameEngine.uiScene.directionalAnimations[c]?a.x<o.x?"_right":"_left":a.y<o.y?"_down":"_up"),e.anims.play(c+i,!0).on("animationcomplete",()=>{e.destroy()})}o&&this.runHitAnimation(o.x,o.y,t,r+"_hit",e.target,h)}extractOwnerTargetAndType(e,t){if(!e)return r.critical("Current scene not found.",e,t),!1;let i=!1,n=!1,a=o.DATA_TYPE_VALUE_PLAYER,h=e.player.players,c=e.objectsAnimations;return s.hasOwn(h,t.owner)&&s.hasOwn(h,t.target)?{ownerSprite:i=h[t.owner],targetSprite:n=h[t.target],targetType:a}:(s.hasOwn(c,t.owner)&&(i=c[t.owner].sceneSprite,n=h[t.target]),s.hasOwn(c,t.target)&&(n=c[t.target].sceneSprite,i=h[t.owner],a=o.DATA_TYPE_VALUE_OBJECT),{ownerSprite:i,targetSprite:n,targetType:a})}runHitAnimation(e,t,i,n,r,a){let h=this.gameManager.config.client.skills.animations,c=s.hasOwn(h,n)?n:o.DEFAULT_HIT_ANIMATION_KEY;if(!i.getAnimationByKey(c)||!s.hasOwn(h,c))return!1;let l=!1,u=!1;a===o.DATA_TYPE_VALUE_PLAYER&&(u=(l=this.gameManager.getCurrentPlayer().players[r]).playerId),a===o.DATA_TYPE_VALUE_OBJECT&&(l=i.objectsAnimations[r],u=r);let d=i.physics.add.sprite(e,t,c);(d=this.setTargetSpriteDepth(l,c,u,d,h)).anims.play(c,!0).on("animationcomplete",()=>{d.destroy(),l&&s.hasOwn(l,"moveSprites")&&delete l.moveSprites[c+"_"+u]})}setTargetSpriteDepth(e,t,i,n,r){if(!e)return n.setDepth(3e5),n;s.hasOwn(e,"targetSprite")&&(e.moveSprites[t+"_"+i]=n);let a=r[t],o=e.depth+("above"===s.get(a.animationData,"depthByPlayer","")?100:-.1);return n.depthByPlayer=a.animationData.depthByPlayer,n.setDepth(o),n}updateLevelAndExperience(e){this.gameManager.gameDom.updateContent(o.SELECTORS.LEVEL_LABEL,this.translator.t(o.SNIPPETS.LEVEL,{currentLevel:e.data[o.MESSAGE.DATA.LEVEL]})),this.onLevelExperienceAdded(e);let t=e.data[o.MESSAGE.DATA.CLASS_PATH_LABEL];t&&this.gameManager.gameDom.updateContent(o.SELECTORS.CLASS_PATH_LABEL,this.translator.t(o.SNIPPETS.CLASS_PATH_LABEL,{classPathLabel:t}));let i=e.data[o.MESSAGE.DATA.NEXT_LEVEL_EXPERIENCE];i&&this.gameManager.gameDom.updateContent(o.SELECTORS.NEXT_LEVEL_EXPERIENCE,this.translator.t(o.SNIPPETS.NEXT_LEVEL_EXPERIENCE,{nextLevelExperience:i}))}onInitClassPathEnd(e){if(this.gameManager.skills&&this.gameManager.skills.uiCreated)return!1;this.gameManager.skills.uiCreated=!0,this.updateLevelAndExperience(e),this.gameManager.skills.skills=e.data[o.MESSAGE.DATA.SKILL_LEVEL],this.gameManager.getFeature("actions").uiManager.appendSkills(e.data.skl)}onLevelUp(e){this.updateLevelAndExperience(e),s.hasOwn(e.data,"skl")&&(Object.assign(this.gameManager.skills.skills,e.data.skl),this.gameManager.getFeature("actions").uiManager.appendSkills(e.data.skl));let t=this.getLevelUpAnimationKey(e.data.skl);t&&this.playSkillPlayerAnimation(this.gameManager.getCurrentPlayer().playerId,t)}getLevelUpAnimationKey(e){let t=this.gameManager.config.client.levels.animations,i="level_"+this.gameManager.playerData.avatarKey+"_"+e;if(s.hasOwn(t,i))return i;let n="level_"+this.gameManager.playerData.avatarKey;if(s.hasOwn(t,n))return n;let r="level_"+e;return s.hasOwn(t,r)?r:!!s.hasOwn(t,"level_default")&&"level_default"}onLevelExperienceAdded(e){this.gameManager.gameDom.updateContent(o.SELECTORS.CURRENT_EXPERIENCE,this.translator.t(o.SNIPPETS.EXPERIENCE,{experience:e.data[o.MESSAGE.DATA.EXPERIENCE]}))}onSkillBeforeCast(e){this.playSkillPlayerAnimation(e.data.extraData[o.DATA_OWNER_KEY],this.determineCastKey(e))}determineCastKey(e){let t=e.data.skillKey+"_cast";return s.hasOwn(this.gameManager.config.client.skills.animations,t)?t:"default_cast"}playSkillPlayerAnimation(e,t){let i=this.gameManager.getActiveScene(),n=i.getAnimationByKey(t);if(!n)return -1===t.indexOf("default")&&r.error('Animation sprite not found for "'+t+'".',this.gameManager.config.client.skills.animations),!1;let a=this.gameManager.getCurrentPlayer().players[e],o=a.x,h=a.y,c=i.physics.add.sprite(o,h,t),l=s.hasOwn(n,"depthByPlayer")&&"above"===n.depthByPlayer?a.depth+1:a.depth-.1;c.depthByPlayer=n.depthByPlayer,c.setDepth(l),s.get(n,"blockMovement",!1)||(a.moveSprites[t+"_"+a.playerId]=c),c.anims.play(t,!0);let u=s.get(n,"destroyTime",!1);u&&setTimeout(()=>{c.destroy(),delete a.moveSprites[t+"_"+a.playerId]},u)}onSkillAfterCast(e){let t=this.gameManager.getCurrentPlayer();if(!s.hasOwn(e.data.extraData,o.DATA_OWNER_TYPE)||!s.hasOwn(e.data.extraData,o.DATA_OWNER_KEY)||e.data.extraData[o.DATA_OWNER_TYPE]!==o.DATA_TYPE_VALUE_PLAYER||!s.hasOwn(t.players,e.data.extraData[o.DATA_OWNER_KEY]))return!1;let i=this.gameManager.getActiveScene(),n=this.gameManager.getCurrentPlayer().players[e.data.extraData[o.DATA_OWNER_KEY]],r=this.getPlayDirection(e.data.extraData,n,t,i);r&&(n.anims.play(n.avatarKey+"_"+r,!0),n.anims.stop())}onSkillAttackApplyDamage(e){let t=this.gameManager.config.get("client/actions/damage");if(!t.enabled)return!1;let i=this.gameManager.getCurrentPlayer();if(!t.showAll&&e.data.extraData[o.DATA_OWNER_KEY]!==i.playerId)return!1;let n=this.gameManager.getActiveScene(),r=n.getObjectFromExtraData(o.DATA_OBJECT_KEY_TARGET,e.data.extraData,i);if(!r)return!1;n.createFloatingText(r.x,r.y,e.data.d,t.color,t.font,t.fontSize,t.duration,t.top,t.stroke,t.strokeThickness,t.shadowColor)}getPlayDirection(e,t,i,n){let r=!1,s=n.getObjectFromExtraData(o.DATA_OBJECT_KEY_TARGET,e,i);if(!s)return!1;let h=s.x-t.x,c=s.y-t.y;return r=h>=0?a.RIGHT:a.LEFT,Math.abs(h)<Math.abs(c)&&(r=c>=0?a.DOWN:a.UP),r}}},{c695b3c1a62eb9d1:"aF25l","84b4ce5800839523":"3lwy5","280612dc61e2a50e":"93TbC","6868c5c216c81bc5":"59VA7"}],"8JSjE":[function(e,t,i){t.exports={actions:{selectClassPath:"Select Your Class-Path",currentLevel:"Level %currentLevel",experience:"%experience",experienceLabel:"XP",classPathLabel:"%classPathLabel",nextLevelExperience:"%nextLevelExperience"}}},{}],"1nDQd":[function(e,t,i){let{LifebarUi:n}=e("8c20660587da4fd1"),{PlayerStatsUi:r}=e("ce28c84d7547fb13"),{ActionsConst:s}=e("f776fabb66dbfa58"),{GameConst:a}=e("182ad229d5814453"),o=e("654cdd1a7a80a011"),{TranslationsMapper:h}=e("63862da16582548e"),{UsersConst:c}=e("356170d1146549c3"),{PluginInterface:l}=e("514d97ef4c40e16"),{Logger:u,sc:d}=e("29f51e27cfc36016");t.exports.UsersPlugin=class extends l{setup(e){this.gameManager=d.get(e,"gameManager",!1),this.events=d.get(e,"events",!1),this.initialGameData={},this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.setupPlayerStatsUi())}validateProperties(){return this.gameManager?!!this.events||(u.error("EventsManager undefined in UsersPlugin."),!1):(u.error("Game Manager undefined in UsersPlugin."),!1)}setupPlayerStatsUi(){this.playerStatsUi=new r({events:this.events}),this.playerStatsUi.createPlayerStatsUi()}listenEvents(){this.events.on("reldens.beforeCreateEngine",(e,t)=>{this.initialGameData=e,this.onBeforeCreateEngine(e,t),this.lifeBarUi||(this.lifeBarUi=new n({events:this.events}),this.lifeBarUi.createLifeBarUi(t))})}setTranslations(){if(!this.events||!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,o,c.MESSAGE.DATA_VALUES)}onBeforeCreateEngine(e,t){let i=t.config.get("client/players/multiplePlayers/enabled",!1),n=t.config.get("client/rooms/selection/allowOnLogin",!1),r=t.gameDom.getElement("#player-selection"),s=d.isTrue(e,"players")?Object.keys(e.players).length:0;if(0<s&&!i&&!n){e.player=e.players[0];return}if(t.canInitEngine=!1,r.classList.remove("hidden"),!i&&1===s){this.prepareSinglePlayerInput(r,e,t);return}i&&0<s&&this.preparePlayerSelector(r,e,t),this.preparePlayerCreator(r,e,t)}prepareSinglePlayerInput(e,t,i){let n=i.gameDom.getElement("#player-selector-form"),r=t.player;if(!n||!r)return u.error("Form or player not defined in prepareSinglePlayerInput."),!1;i.gameDom.getElement("#player-select-element")?.remove();let s=this.gameManager.services.translator.t(c.SNIPPETS.OPTION_LABEL,{playerName:r.name,currentLevel:r.currentLevel,classPathLabel:r.currentClassPathLabel}),a=i.gameDom.createElement("input");a.type="hidden",a.id="#player-select-element",a.value=r.id;let o=i.gameDom.createElement("div");o.innerText=s,n.append(a);let h=i.gameDom.getElement(".player-select-box");h?.append(o),n.addEventListener("submit",t=>(t.preventDefault(),e.classList.add("hidden"),this.submitSelectedPlayer(i,n,a,r),!1)),this.showAvatarContainer(i,t,a),n.classList.remove("hidden")}submitSelectedPlayer(e,t,i,n){e.events.emitSync("reldens.onPrepareSinglePlayerSelectorFormSubmit",{usersPlugin:this,form:t,selectElement:i,player:n,gameManager:e}),e.initEngine().catch(e=>{u.error(e)})}showAvatarContainer(e,t,i){let n=e.gameDom.getElement(".player-selection-additional-info");if(!n||!this.gameManager.config.getWithoutLogs("client/players/multiplePlayers/showAvatar",!0))return;let r=e.gameDom.createElement("div");r.className="avatar-container";let s=e.gameDom.createElement("div"),o=t.player.avatarKey;s.classList.add("class-path-select-avatar"),s.style.backgroundImage=`url('/assets/custom/sprites/${o}${a.FILES.EXTENSIONS.PNG}')`;let h=this.gameManager.config.getWithoutLogs("client/players/size/width","0")+"px";s.style.backgroundPositionX="-"+h,s.style.width=h,s.style.height=this.gameManager.config.getWithoutLogs("client/players/size/height","0")+"px",r.append(s),n.append(r)}preparePlayerSelector(e,t,i){let n=i.gameDom.getElement("#player-selector-form"),r=i.gameDom.getElement("#player-select-element");if(!n||!r)return!1;for(let s of(n.addEventListener("submit",s=>{s.preventDefault();let a=r.options[r.selectedIndex].value,o=this.getPlayerById(t.players,Number(a));return o&&(e.classList.add("hidden"),i.initialGameData.player=o,i.events.emitSync("reldens.onPreparePlayerSelectorFormSubmit",{usersPlugin:this,form:n,select:r,selectedPlayer:o,gameManager:i}),i.initEngine().catch(e=>{u.error(e)})),!1}),Object.keys(t.players))){let e=t.players[s],i=new Option(this.gameManager.services.translator.t(c.SNIPPETS.OPTION_LABEL,{playerName:e.name,currentLevel:e.currentLevel,classPathLabel:e.currentClassPathLabel}),e.id);i.dataset.key=e.avatarKey,r.append(i)}this.showAvatarContainer(i,t,r),n.classList.remove("hidden")}preparePlayerCreator(e,t,i){let n=i.gameDom.getElement(s.SELECTORS.PLAYER_CREATE_FORM);n&&n.addEventListener("submit",e=>{e.preventDefault(),i.gameDom.getElement("#player-create-form .response-error").innerHTML="";let t=new FormData(n),r=d.serializeFormData(t);if(3>r["new-player-name"].toString().length)return!1;i.submitedForm=!0,i.events.emitSync("reldens.onPreparePlayerCreationFormSubmit",{usersPlugin:this,form:n,gameManager:i});try{i.gameRoom.send("*",{act:a.CREATE_PLAYER,formData:r})}catch(e){u.critical("Create player error.",e),i.gameDom.alertReload(i.services.translator.t("game.errors.connectionLost"))}return!1})}getPlayerById(e,t){if(0===e.length)return!1;for(let i of e)if(i.id===t)return i;return!1}}},{"8c20660587da4fd1":"k9uwf",ce28c84d7547fb13:"bNgpB",f776fabb66dbfa58:"59VA7","182ad229d5814453":"93TbC","654cdd1a7a80a011":"ddEMb","63862da16582548e":"1fcQw","356170d1146549c3":"8dKJt","514d97ef4c40e16":"fC3To","29f51e27cfc36016":"3lwy5"}],k9uwf:[function(e,t,i){let{UsersConst:n}=e("aad623d6d02417c4"),{ActionsConst:r}=e("479d0bf7c66730cb"),{GameConst:s}=e("d5d1589d2f5e4492"),{ObjectsConst:a}=e("50eec9aa11029ed5"),{ObjectsHandler:o}=e("d6180c46f85f20ae"),{sc:h}=e("1d465cbfd4bfebd9");t.exports.LifebarUi=class{constructor(e){this.events=e.events}createLifeBarUi(e){return this.barConfig=e.config.get("client/ui/lifeBar"),!!this.barConfig.enabled&&(this.gameManager=e,this.fixedPositionX=!1,this.fixedPositionY=!1,this.barProperty=this.gameManager.config.get("client/actions/skills/affectedProperty"),this.playerSize=this.gameManager.config.get("client/players/size"),this.lifeBars={},this.lifeDataByKey={},this.listenEvents(),this)}listenEvents(){this.events.on("reldens.playerStatsUpdateAfter",(e,t)=>{this.updatePlayerLifeBar(e,t)}),this.events.on("reldens.joinedRoom",e=>{this.listenMessages(e)}),this.events.on("reldens.runPlayerAnimation",(e,t)=>{this.drawPlayerLifeBar(t)}),this.events.on("reldens.updateGameSizeBefore",(e,t,i)=>{this.drawOnGameResize(t,i)}),this.events.on("reldens.playersOnRemove",(e,t)=>{this.removePlayerLifeBar(t)}),this.events.on("reldens.playerEngineAddPlayer",()=>{this.processLifeBarQueue()}),this.events.on("reldens.createAnimationAfter",()=>{o.drawObjectsLifeBar(this)}),this.events.on("reldens.objectBodyChanged",e=>{o.generateObjectLifeBar(e.key,this)}),this.events.on("reldens.gameEngineShowTarget",(e,t,i)=>{this.showTargetLifeBar(t,i)}),this.events.on("reldens.gameEngineClearTarget",(e,t)=>{this.clearPreviousBar(t)})}drawOnGameResize(e,t){if(!this.barConfig.fixedPosition)return!1;this.setPlayerLifeBarFixedPosition(e,t),this.drawPlayerLifeBar(this.gameManager.getCurrentPlayer().playerId)}clearPreviousBar(e){e&&h.hasOwn(this.lifeBars,e.id)&&this.gameManager.getCurrentPlayer().playerId!==e.id&&this.lifeBars[e.id].destroy()}showTargetLifeBar(e,t){if(!this.barConfig.showOnClick)return!1;this.clearPreviousBar(t),e.type===a.TYPE_OBJECT&&o.generateObjectLifeBar(e.id,this),e.type===s.TYPE_PLAYER&&this.drawPlayerLifeBar(e.id)}barPropertyValue(){return this.barProperty+"Value"}barPropertyTotal(){return this.barProperty+"Total"}setPlayerLifeBarFixedPosition(e,t){if(!e||!t){let i=this.gameManager.gameEngine.getCurrentScreenSize(this.gameManager);e=i.newWidth,t=i.newHeight}let{uiX:i,uiY:n}=this.gameManager.gameEngine.uiScene.getUiConfig("lifeBar",e,t);this.fixedPositionX=i,this.fixedPositionY=n}updatePlayerLifeBar(e,t){let i=t.gameManager.getCurrentPlayer();this.updatePlayerBarData(i.playerId,e.statsBase[this.barProperty],e.stats[this.barProperty]),this.drawPlayerLifeBar(i.playerId)}listenMessages(e){e.onMessage("*",e=>{this.listenBattleEnd(e),this.listenLifeBarUpdates(e)})}listenBattleEnd(e){if(e.act!==r.BATTLE_ENDED||!h.hasOwn(this.lifeBars,e.t))return!1;this.lifeBars[e.t].destroy()}listenLifeBarUpdates(e){if(e.act!==n.ACTION_LIFEBAR_UPDATE)return!1;o.processObjectLifeBarMessage(e,!0,this),this.processPlayerLifeBarMessage(e,!0)}canShowPlayerLifeBar(e){let t=this.gameManager.getCurrentPlayer();if(!h.isFunction(t?.isDeath))return!1;let i=e===t?.playerId;return i&&t&&(t.isDeath()||t.isDisabled())?(this.lifeBars[e]?.setVisible(!1),!1):!!i||!!this.barConfig.showAllPlayers||this.barConfig.showOnClick&&e===this.getCurrentTargetId()}queueLifeBarMessage(e){h.hasOwn(this.gameManager,"lifeBarQueue")||(this.gameManager.lifeBarQueue=[]),this.gameManager.lifeBarQueue.push(e)}processPlayerLifeBarMessage(e,t=!1){if(r.DATA_TYPE_VALUE_PLAYER!==e[r.DATA_OWNER_TYPE])return!1;let i=this.gameManager.getCurrentPlayer(),n=e[r.DATA_OWNER_KEY];return i&&i.players&&i.players[n]?(this.updatePlayerBarData(n,e.totalValue,e.newValue),this.canShowPlayerLifeBar(n)&&this.drawPlayerLifeBar(n),!0):(t&&this.queueLifeBarMessage(e),!1)}updatePlayerBarData(e,t,i){let n=this.gameManager.getCurrentPlayer();n.players[e][this.barPropertyTotal()]=t,n.players[e][this.barPropertyValue()]=i}processLifeBarQueue(){if(0===this.gameManager.lifeBarQueue.length)return!1;let e=[];for(let t of this.gameManager.lifeBarQueue)o.processObjectLifeBarMessage(t,!1,this)&&e.push(t),this.processPlayerLifeBarMessage(t,!1)&&e.push(t);0<e.length&&(this.gameManager.lifeBarQueue=this.gameManager.lifeBarQueue.filter(t=>!e.includes(t)))}drawPlayerLifeBar(e){if(this.destroyByKey(e),!this.canShowPlayerLifeBar(e))return this.lifeBars[e]?.setVisible(!1),!1;let t=this.prepareBarData(e),i=this.barConfig.height,n=this.barConfig.top,r=this.barConfig.width,s=t.player.x-r/2,a=t.player.y-i-n+t.ownerTop/2;return e===this.gameManager.getCurrentPlayer().playerId&&this.barConfig.fixedPosition?(this.lifeBars[e]=this.gameManager.getActiveScenePreloader().add.graphics(),(!1===this.fixedPositionX||!1===this.fixedPositionY)&&this.setPlayerLifeBarFixedPosition(),s=this.fixedPositionX,a=this.fixedPositionY):this.lifeBars[e]=this.gameManager.getActiveScene().add.graphics(),this.drawBar(this.lifeBars[e],t.fullValue,t.filledValue,s,a),this}destroyByKey(e){h.hasOwn(this.lifeBars,e)&&this.lifeBars[e].destroy()}prepareBarData(e){let t=this.gameManager.getCurrentPlayer().players[e],i=t[this.barPropertyTotal()],n=t[this.barPropertyValue()],r=h.get(t,"topOff",0)-this.playerSize.height;return{player:t,fullValue:i,filledValue:n,ownerTop:r}}removePlayerLifeBar(e){if(!h.hasOwn(this.lifeBars,e))return!1;this.lifeBars[e].destroy(),delete this.lifeBars[e]}drawBar(e,t,i,n,r){let s=this.barConfig.height,a=this.barConfig.width;e.clear(),e.fillStyle(parseInt(this.barConfig.fillStyle),1),e.fillRect(n,r,i*a/t,s),e.lineStyle(1,parseInt(this.barConfig.lineStyle)),e.strokeRect(n,r,a,s),e.alpha=.6,e.setDepth(3e5)}getCurrentTargetId(){return h.get(this.gameManager.getCurrentPlayer()?.currentTarget,"id",!1)}getObjectByKey(e){return h.get(this.gameManager.getActiveScene()?.objectsAnimations,e,!1)}}},{aad623d6d02417c4:"8dKJt","479d0bf7c66730cb":"59VA7",d5d1589d2f5e4492:"93TbC","50eec9aa11029ed5":"izuLV",d6180c46f85f20ae:"evhzg","1d465cbfd4bfebd9":"3lwy5"}],"8dKJt":[function(e,t,i){let n="users.";t.exports.UsersConst={ACTION_LIFEBAR_UPDATE:"alu",SNIPPETS:{PREFIX:n,OPTION_LABEL:n+"optionLabel"},MESSAGE:{DATA_VALUES:{NAMESPACE:"users"}}}},{}],evhzg:[function(e,t,i){let{ActionsConst:n}=e("66c72f936244bf4c"),{GameConst:r}=e("4fbfbb1e3b1b87b5");t.exports.ObjectsHandler=class{static processObjectLifeBarMessage(e,t=!1,i){if(!this.isValidMessage(e,i))return!1;let r=e[n.DATA_OWNER_KEY],s={};s[i.barPropertyTotal()]=e.totalValue,s[i.barPropertyValue()]=e.newValue,i.lifeDataByKey[r]=s;let a=i.getObjectByKey(r);return a?(this.drawObjectLifeBar(a,e[n.DATA_OWNER_KEY],e.totalValue,e.newValue,i),!0):(t&&i.queueLifeBarMessage(e),!1)}static isValidMessage(e,t){return n.DATA_TYPE_VALUE_OBJECT===e[n.DATA_OWNER_TYPE]&&t.barConfig.showEnemies}static drawObjectsLifeBar(e){for(let t of Object.keys(e.lifeDataByKey)){let i=e.getObjectByKey(t);this.drawObjectLifeBar(i,t,e.lifeDataByKey[t][e.barPropertyTotal()],e.lifeDataByKey[t][e.barPropertyValue()],e)}}static isValidToDraw(e,t,i){return!!e&&r.STATUS.DEATH!==e.inState&&r.STATUS.DISABLED!==e.inState&&!(i.barConfig.showOnClick&&t!==i.getCurrentTargetId())}static generateObjectLifeBar(e,t){let i=t.lifeDataByKey[e];if(!i)return!1;let n=t.getObjectByKey(e);this.drawObjectLifeBar(n,e,i[t.barPropertyTotal()],i[t.barPropertyValue()],t)}static drawObjectLifeBar(e,t,i,n,r){if(r.destroyByKey(t),!this.isValidToDraw(e,t,r))return!1;this.drawLifeBarInPosition(r,t,e,i,n)}static drawLifeBarInPosition(e,t,i,n,r){e.lifeBars[t]=e.gameManager.getActiveScene().add.graphics();let{x:s,y:a}=this.calculateObjectLifeBarPosition(i,e);e.drawBar(e.lifeBars[t],n,r,s,a)}static calculateObjectLifeBarPosition(e,t){return{x:e.x-e.sceneSprite.width/2,y:e.y-e.sceneSprite.height/2-t.barConfig.height-t.barConfig.top}}}},{"66c72f936244bf4c":"59VA7","4fbfbb1e3b1b87b5":"93TbC"}],bNgpB:[function(e,t,i){t.exports.PlayerStatsUi=class{constructor(e){this.events=e.events}createPlayerStatsUi(){this.events.on("reldens.beforePreloadUiScene",e=>{if(!e.gameManager.config.get("client/ui/playerStats/enabled"))return!1;e.load.html("playerStats","/assets/html/ui-player-stats.html"),e.load.html("playerStat","/assets/html/player-stat.html")}),this.events.on("reldens.beforeCreateUiScene",e=>{let t=e.getUiConfig("playerStats");if(!t.enabled)return!1;let i=e.add.dom(t.uiX,t.uiY).createFromCache("playerStats"),n=i.getChildByProperty("id","player-stats-close"),r=i.getChildByProperty("id","player-stats-open");r?.addEventListener("click",()=>{let t=i.getChildByProperty("id","player-stats-ui");t.style.display="block",r.style.display="none",i.setDepth(4),this.events.emit("reldens.openUI",{ui:this,openButton:r,dialogBox:i,dialogContainer:t,uiScene:e})}),n?.addEventListener("click",()=>{let t=i.getChildByProperty("id","player-stats-ui");t.style.display="none",r&&(r.style.display="block"),i.setDepth(1),this.events.emit("reldens.closeUI",{ui:this,closeButton:n,openButton:r,dialogBox:i,dialogContainer:t,uiScene:e})}),e.elementsUi.playerStats=i})}}},{}],ddEMb:[function(e,t,i){t.exports={users:{optionLabel:"%playerName - LvL %currentLevel - %classPathLabel"}}},{}],jRcE9:[function(e,t,i){let{AudioManager:n}=e("541d832742a00ab5"),{SceneAudioPlayer:r}=e("fb79730c9351b42b"),{MessagesListener:s}=e("1d50534b7413d902"),{AudioUi:a}=e("c9088bc3e4085a8a"),{TranslationsMapper:o}=e("6f071ff9a7a2b90e"),h=e("818427dea57ab21c"),{PluginInterface:c}=e("21904e239c915c7f"),{AudioConst:l}=e("587f9c67cc5dcf55"),{Logger:u,sc:d}=e("d13dcc30aa283061");t.exports.AudioPlugin=class extends c{setup(e){this.events=d.get(e,"events",!1),this.events||u.error("EventsManager undefined in AudioPlugin."),this.gameManager=d.get(e,"gameManager",!1),this.gameManager||u.error("Game Manager undefined in AudioPlugin."),this.setTranslations(),this.messagesListener=new s,this.sceneAudioPlayer=r,this.initialAudiosData={},this.listenEvents()}setTranslations(){if(!this.gameManager)return!1;o.forConfig(this.gameManager.config.client,h,l.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events)return!1;this.events.on("reldens.beforeCreateEngine",(e,t)=>{t.audioManager||(t.audioManager=new n({events:this.events,currentPlayerData:e.player}),this.initialAudiosData=d.get(e,"audio",{}))}),this.events.on("reldens.joinedRoom",(e,t)=>{t.audioManager.updateDefaultConfig(t.config.getWithoutLogs("client/general/audio/defaultAudioConfig")),this.messagesListener.listenMessages(e,t)}),this.events.on("reldens.preloadUiScene",async e=>{e.load.html("audio","/assets/html/ui-audio.html"),e.load.html("audio-category","/assets/html/ui-audio-category-row.html")}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new a(e),this.uiManager.createUi()}),this.events.on("reldens.afterSceneDynamicCreate",async e=>{let t=e.gameManager.audioManager;if(!t)return!1;let i=d.get(this.initialAudiosData,"globalAudios",{});await t.loadGlobalAudios(i,e),await this.messagesListener.processQueue(),this.sceneAudioPlayer.associateSceneAnimationsAudios(t,e),e.cameras.main.on("camerafadeincomplete",()=>{this.sceneAudioPlayer.playSceneAudio(t,e)})}),this.events.on("reldens.changeSceneDestroyPrevious",e=>{e.gameManager.audioManager.destroySceneAudios()}),this.events.on("reldens.allAudiosLoaded",(e,t,i)=>{this.sceneAudioPlayer.playSceneAudio(e,i,!0)})}}},{"541d832742a00ab5":"6hRLM",fb79730c9351b42b:"4ld6d","1d50534b7413d902":"khKLI",c9088bc3e4085a8a:"a2LOL","6f071ff9a7a2b90e":"1fcQw","818427dea57ab21c":"i11rh","21904e239c915c7f":"fC3To","587f9c67cc5dcf55":"6GwZf",d13dcc30aa283061:"3lwy5"}],"6hRLM":[function(e,t,i){let{AudioConst:n}=e("326aa6ee5d80738b"),{Logger:r,sc:s}=e("bddd20eeb20a74c3");t.exports.AudioManager=class{constructor(e){this.events=s.get(e,"events",!1),this.events||r.error("EventsManager undefined in AudioManager."),this.globalAudios=s.get(e,"globalAudios",{}),this.roomsAudios=s.get(e,"roomsAudios",{}),this.categories=s.get(e,"categories",{}),this.playerConfig=s.get(e,"playerConfig",{}),this.currentPlayerData=s.get(e,"currentPlayerData",{}),this.playing={},this.currentMuteState=!1,this.changedMutedState={},this.lockedMuteState=!1,this.defaultAudioConfig={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!0,delay:0}}async setAudio(e,t){if(this.lockedMuteState)return r.info("Locked mute state to set audio."),!1;await this.events.emit("reldens.setAudio",{audioManager:this,categoryKey:e,enabled:t});let i=this.categories[e];if(this.playerConfig[i.id]=t?1:0,!s.hasOwn(this.playing,e))return!0;let n=t?"play":"stop",a=this.playing[e];return i.single_audio&&s.isObjectFunction(a,n)?this.setAudioForSingleEntity(a,n,e,t):this.setAudioForElementChildren(a,i,t)}setAudioForSingleEntity(e,t,i,n){if(!e)return r.error("Missing playingElement.",{audioKey:i,playingElement:e}),!1;if(!e.currentConfig)return!1;if(!s.isObjectFunction(e,t))return r.error("Missing playOrStop method in playingElement.",{audioKey:i,playOrStop:t,playingElement:e}),!1;try{e[t](),e.mute=!n}catch(n){r.error("PlayingElement error.",{audioKey:i,playOrStop:t,playingElement:e,error:n})}return!0}setAudioForElementChildren(e,t,i){if(t.single_audio)return!1;let n=Object.keys(e);if(0===n.length)return!1;for(let t of n)this.setAudioForSingleEntity(e[t],"stop",t,i);return!0}generateAudio(e,t){let i=Object.assign({},this.defaultAudioConfig,t.config||{});if(!s.hasOwn(e.cache.audio.entries.entries,t.audio_key))return r.error("Audio file does not exists. Audio key: "+t.audio_key,e.cache.audio.entries.entries),!1;let n=e.sound.add(t.audio_key,i);if(t.markers&&0<t.markers.length)for(let e of t.markers){let t=Object.assign({},i,e.config||{},{name:e.marker_key,start:e.start,duration:e.duration});n.addMarker(t)}return{data:t,audioInstance:n}}findAudio(e,t){return this.findRoomAudio(e,t)||this.findGlobalAudio(e)}findRoomAudio(e,t){return s.hasOwn(this.roomsAudios,t)||(this.roomsAudios[t]={}),this.findAudioInObjectKey(e,this.roomsAudios[t])}findGlobalAudio(e){return this.findAudioInObjectKey(e,this.globalAudios)}findAudioInObjectKey(e,t){if(s.hasOwn(t,e))return{audio:t[e],marker:!1};let i=Object.keys(t);if(0===i.length)return!1;for(let n of i){let i=t[n];if(s.hasOwn(i.audioInstance.markers,e))return{audio:i,marker:e}}return!1}addCategories(e){for(let t of e)s.hasOwn(this.categories,t.category_key)||(this.categories[t.category_key]=t),s.hasOwn(this.playing,t.category_key)||(this.playing[t.category_key]={})}async loadGlobalAudios(e,t){let i=Object.keys(e);if(0===i.length)return!1;await this.loadByKeys(i,e,t,"globalAudios")}async loadAudiosInScene(e,t){let i=Object.keys(e);if(0===i.length)return!1;s.hasOwn(this.roomsAudios,t.key)||(this.roomsAudios[t.key]={}),await this.loadByKeys(i,e,t,"roomsAudios")}async loadByKeys(e,t,i,n){let s=0;for(let a of e){let e=t[a];this.removeSceneAudioByAudioKey(i,e.audio_key);let o=await this.prepareFiles(e);if(0===o.length)continue;let h=i.load.audio(e.audio_key,o);h.on("filecomplete",async a=>{if(a!==e.audio_key)return!1;let o=this.generateAudio(i,e);if(!1===o)return r.error("AudioLoader can not generate the audio.",{"Audio key:":e.audio_key,"Storage key:":n}),!1;"roomsAudios"===n?this.roomsAudios[i.key][e.audio_key]=o:this.globalAudios[e.audio_key]=o,s++,await this.fireAudioEvents(t,i,e,s)}),h.start()}}async existsFileByXMLHttpRequest(e){try{let t=await fetch(e,{method:"HEAD"});return 404!==t.status}catch(e){return r.error("Error fetching:",e),!1}}async prepareFiles(e){let t=e.files_name.split(","),i=[];for(let e of t){let t=n.AUDIO_BUCKET+"/"+e;!1!==await this.existsFileByXMLHttpRequest(t)&&i.push(t)}return i}async fireAudioEvents(e,t,i,n){await t.gameManager.events.emit("reldens.audioLoaded",this,e,t,i),n===e.length&&await t.gameManager.events.emit("reldens.allAudiosLoaded",this,e,t,i)}removeAudiosFromScene(e,t){if(0===e.length||!t)return!1;for(let i of e)this.removeSceneAudioByAudioKey(t,i.audio_key);return!0}removeSceneAudioByAudioKey(e,t){e.sound.removeByKey(t),s.hasOwn(e.cache.audio.entries.entries,t)&&delete e.cache.audio.entries.entries[t],s.hasOwn(this.roomsAudios[e.key],t)&&delete this.roomsAudios[e.key][t],s.hasOwn(this.globalAudios,t)&&delete this.globalAudios[t]}updateDefaultConfig(e){s.isObject(e)&&Object.assign(this.defaultAudioConfig,e)}async processUpdateData(e,t,i){e.playerConfig&&(this.playerConfig=e.playerConfig),e.categories&&(this.addCategories(e.categories),await this.events.emit("reldens.audioManagerUpdateCategoriesLoaded",this,t,i,e));let n=s.get(e,"audios",{});if(0<Object.keys(n).length){let r=i.gameEngine.scene.getScene(t.name);await this.loadAudiosInScene(n,r),await this.events.emit("reldens.audioManagerUpdateAudiosLoaded",this,t,i,e)}}async processDeleteData(e,t,i){if(0===e.audios.length)return!1;let n=i.gameEngine.scene.getScene(t.name);this.removeAudiosFromScene(e.audios,n),await this.events.emit("reldens.audioManagerDeleteAudios",this,t,i,e)}destroySceneAudios(){let e=Object.keys(this.playing);if(0===e.length)return!1;for(let t of e){let e=this.playing[t],i=this.categories[t];if(i.single_audio&&s.isObjectFunction(e,"stop")){e.stop(),delete this.playing[t];continue}let n=Object.keys(e);if(i.single_audio||0!==n.length)for(let i of n){let n=e[i];s.isObjectFunction(n,"stop")&&(n.stop(),delete n[t])}}}async changeMuteState(e,t){return(!1===t&&(this.lockedMuteState=!1),this.currentMuteState=e,this.lockedMuteState&&!1!==t)?(r.info("Locked mute state from changes."),!1):e?await this.muteCategories(t):await this.restoreMute(t)}async muteCategories(e){let t=Object.keys(this.categories);if(0<t.length)return r.info("Mute categories not found."),!1;for(let e of t)this.changedMutedState[e]=this.currentMuteState,await this.setAudio(e,!1);return this.setMuteLock(e),!0}async restoreMute(e){let t=Object.keys(this.changedMutedState);if(0===t.length)return this.setMuteLock(e),!1;for(let e of t)await this.setAudio(e,!0);return this.setMuteLock(e),this.changedMutedState={},!0}setMuteLock(e){!1===e&&(this.lockedMuteState=!1),!0===e&&(this.lockedMuteState=!0)}}},{"326aa6ee5d80738b":"6GwZf",bddd20eeb20a74c3:"3lwy5"}],"6GwZf":[function(e,t,i){t.exports.AudioConst={AUDIO_UPDATE:"ap",AUDIO_DELETE:"ad",AUDIO_ANIMATION_KEY_START:"i_",AUDIO_ANIMATION_KEY_UPDATE:"u_",AUDIO_ANIMATION_KEY_COMPLETE:"c_",AUDIO_ANIMATION_KEY_REPEAT:"r_",AUDIO_ANIMATION_KEY_STOP:"s_",AUDIO_BUCKET:"/assets/audio",MESSAGE:{DATA:{UPDATE_TYPE:"ck",UPDATE_VALUE:"uv"},DATA_VALUES:{NAMESPACE:"audio"}}}},{}],"4ld6d":[function(e,t,i){let{AudioConst:n}=e("30220416ce7546a9"),{Logger:r,sc:s}=e("f35c0a4a20893403");t.exports.SceneAudioPlayer=new class{playSceneAudio(e,t,i){let n=t.associatedAudio;return(!0===i||!1!==n&&(!n||!n.audio.audioInstance.isPlaying))&&(t.associatedAudio=e.findAudio(t.key,t.key),!!t.associatedAudio&&(this.playSpriteAudio(t.associatedAudio,t,!1,e),t.associatedAudio))}associateSceneAnimationsAudios(e,t){t.cameras.main.on("camerafadeincomplete",()=>{if(t.children.list.length<=0)return!1;for(let i of t.children.list)"Sprite"===i.type&&(i.on("animationstart",r=>{let s=n.AUDIO_ANIMATION_KEY_START+r.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationupdate",r=>{let s=n.AUDIO_ANIMATION_KEY_UPDATE+r.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationcomplete",r=>{let s=n.AUDIO_ANIMATION_KEY_COMPLETE+r.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationrepeat",r=>{let s=n.AUDIO_ANIMATION_KEY_REPEAT+r.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}),i.on("animationstop",r=>{let s=n.AUDIO_ANIMATION_KEY_STOP+r.key,a=this.attachAudioToSprite(i,s,e,t);!1!==a&&this.playSpriteAudio(a,t,i,e)}))})}attachAudioToSprite(e,t,i,n){return s.hasOwn(e.associatedAudio,t)||(s.hasOwn(e,"associatedAudio")||(e.associatedAudio={}),s.hasOwn(e.associatedAudio,t)||(e.associatedAudio[t]=i.findAudio(t,n.key))),e.associatedAudio[t]}playSpriteAudio(e,t,i,n){let a=Number(n.currentPlayerData.id),o=Number(s.get(i,"player_id")),h=this.isCurrentPlayerSprite(o,a);if(e.audio.data.config?.onlyCurrentPlayer&&!h)return!1;let c=t.player;if(h&&c&&(c.isDisabled()||c.isDeath()))return!1;if(!e||!e.audio||!e.audio.data)return r.error("Missing associated audio data.",e),!1;let l=e.audio.data.category.category_key,u=s.get(n.categories,l,!1),d=s.get(n.playerConfig,u.id,u.enabled);if(!u||!d)return!1;let f=e.audio.audioInstance;if(u.single_audio&&s.isObjectFunction(n.playing[u.category_key],"stop")&&n.playing[u.category_key].stop(),u.single_audio)return n.playing[u.category_key]=f,!this.isMutedState(n,u.category_key,f)&&(f.mute=!1,f.play(),!0);if(!u.single_audio){if(!e.marker)return n.playing[u.category_key][e.audio.data.audio_key]=f,!this.isMutedState(n,u.category_key,f)&&(f.mute=!1,f.play(),!0);if(e.marker)return n.playing[u.category_key][e.marker]=f,!this.isMutedState(n,u.category_key,f)&&(f.mute=!1,f.play(e.marker),!0)}}isCurrentPlayerSprite(e,t){return e&&e===t}isMutedState(e,t,i){return!1!==e.currentMuteState&&(r.info("AudioManager in muted state to play audio.",{mutedKey:t,audioInstance:i}),e.changedMutedState[t]=e.currentMuteState,!0)}}},{"30220416ce7546a9":"6GwZf",f35c0a4a20893403:"3lwy5"}],khKLI:[function(e,t,i){let{AudioConst:n}=e("f38271dbda4592b9");t.exports.MessagesListener=class{constructor(){this.queueMessages=[],this.sceneReady=!1}listenMessages(e,t){e.onMessage("*",async i=>{await this.processMessage(i,e,t)})}async processQueue(){if(this.sceneReady=!0,0===this.queueMessages.length)return!1;for(let e of this.queueMessages){let{message:t,room:i,gameManager:n}=e;await this.processMessage(t,i,n)}return!0}async processMessage(e,t,i){!1===this.sceneReady&&this.queueMessages.push({message:e,room:t,gameManager:i}),e.act===n.AUDIO_UPDATE&&await i.audioManager.processUpdateData(e,t,i),e.act===n.AUDIO_DELETE&&await i.audioManager.processDeleteData(e,t,i)}}},{f38271dbda4592b9:"6GwZf"}],a2LOL:[function(e,t,i){let{SceneAudioPlayer:n}=e("d9b7615cb55a6656"),{AudioUpdate:r}=e("9bae50dfe6fad086"),{sc:s}=e("fc209b9537d685a9");t.exports.AudioUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.audioManager=this.gameManager.audioManager,this.sceneAudioPlayer=n}createUi(){if(!this.audioManager.categories)return;let e=this.uiScene.cache.html.get("audio"),t=this.uiScene.cache.html.get("audio-category"),i=this.prepareAudioSettingsContent(t,e);this.gameManager.gameDom.appendToElement("#settings-dynamic",i);let n=this.gameManager.gameDom.getElements(".audio-setting");if(0===n.length)return!1;for(let e of n)e.addEventListener("click",async t=>{await this.audioManager.setAudio(t.target.dataset.categoryKey,e.checked),this.gameManager.activeRoomEvents.send(new r(e.value,e.checked)),this.sceneAudioPlayer.playSceneAudio(this.audioManager,this.gameManager.getActiveScene())})}prepareAudioSettingsContent(e,t){let i=this.prepareCategoriesRows(e);return this.gameManager.gameEngine.parseTemplate(t,{audioCategories:i,settingsTitle:this.gameManager.services.translator.t("audio.settingsTitle")})}prepareCategoriesRows(e){let t="";for(let i of Object.keys(this.audioManager.categories)){let n=this.audioManager.categories[i],r=s.get(this.audioManager.playerConfig,n.id,n.enabled);t+=this.gameManager.gameEngine.parseTemplate(e,{categoryId:n.id,categoryLabel:n.category_label,categoryKey:n.category_key,categoryChecked:r?' checked="checked"':""})}return t}}},{d9b7615cb55a6656:"4ld6d","9bae50dfe6fad086":"ibm3l",fc209b9537d685a9:"3lwy5"}],ibm3l:[function(e,t,i){let{AudioConst:n}=e("206716204b95df4c"),{GameConst:r}=e("c7ddf895e347bc66");t.exports.AudioUpdate=class{constructor(e,t){this[r.ACTION_KEY]=n.AUDIO_UPDATE,this[n.MESSAGE.DATA.UPDATE_TYPE]=e,this[n.MESSAGE.DATA.UPDATE_VALUE]=t}}},{"206716204b95df4c":"6GwZf",c7ddf895e347bc66:"93TbC"}],i11rh:[function(e,t,i){t.exports={audio:{settingsTitle:"Audio Settings"}}},{}],"3yQhR":[function(e,t,i){let{ActionsConst:n}=e("1e41f2c4a061523b"),{RoomsConst:r}=e("c28085823a93fbc9"),{PluginInterface:s}=e("6710f6d3bb0219bd"),{Logger:a,sc:o}=e("4de0a3d14a3e7a84");t.exports.RoomsPlugin=class extends s{setup(e){this.gameManager=o.get(e,"gameManager",!1),this.gameManager||a.error("Game Manager undefined in RoomsPlugin."),this.events=o.get(e,"events",!1),this.events||a.error("EventsManager undefined in RoomsPlugin."),this.events.on("reldens.beforeCreateEngine",(e,t)=>{t.config.get("client/rooms/selection/allowOnLogin",!1)&&e.roomSelection&&this.populateSceneSelector(e.roomSelection,t)}),this.events.on("reldens.onPrepareSinglePlayerSelectorFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)}),this.events.on("reldens.onPreparePlayerSelectorFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)}),this.events.on("reldens.onPreparePlayerCreationFormSubmit",e=>{this.appendSelectedScene(e.gameManager,e.form)})}populateSceneSelector(e,t){let i=t.gameDom.getElement(n.SELECTORS.PLAYER_CREATION_ADDITIONAL_INFO),r=t.gameDom.getElement(n.SELECTORS.PLAYER_SELECTION_ADDITIONAL_INFO);if(!i&&!r)return a.warning("Missing element.",{playerCreationAdditional:i,playerSelectionAdditional:r}),!1;if(i){let n=this.filterCreationRooms(e),r=this.createSelectorElements(t,n,"creation");i.append(r)}if(r){let i=this.createSelectorElements(t,e,"selection");r.append(i)}}filterCreationRooms(e){let t=[];for(let i of e)i.name!==r.ROOM_LAST_LOCATION_KEY&&t.push(i);return t}appendSelectedScene(e,t){let i=e.gameDom.getElement(".scene-select",t);if(!i)return;let n=i.options[i.selectedIndex].value;n&&(e.initialGameData.selectedScene=n)}createSelectorElements(e,t,i){let n=e.gameDom.createElement("div");n.classList.add("input-box");let r=e.gameDom.createElement("label");r.htmlFor=i+"SelectedScene",r.innerText=this.gameManager.services.translator.t("game.pleaseSelectScene");let s=e.gameDom.createElement("select");for(let e of(s.name=i+"SelectedScene",s.id=i+"SelectedScene",s.classList.add("select-element"),s.classList.add("scene-select"),t)){let t=new Option(e.title,e.name);s.append(t)}return n.append(r),n.append(s),n}}},{"1e41f2c4a061523b":"59VA7",c28085823a93fbc9:"9vHHC","6710f6d3bb0219bd":"fC3To","4de0a3d14a3e7a84":"3lwy5"}],"80hlx":[function(e,t,i){let{PredictionWorldCreator:n}=e("1f99afae6127aa6e"),{RoomEventsOverride:r}=e("fd23b82a5f097c7a"),{PluginInterface:s}=e("eb3ab2d7c28717c2"),{Logger:a,sc:o}=e("fc917919e6e14072");t.exports.PredictionPlugin=class extends s{setup(e){this.gameManager=o.get(e,"gameManager",!1),this.events=o.get(e,"events",!1),this.predictionWorldCreator=new n,this.roomEventsOverride=new r,this.validateProperties()&&this.listenEvents()}validateProperties(){return this.gameManager?!!this.events||(a.error("EventsManager undefined in PredictionPlugin."),!1):(a.error("Game Manager undefined in PredictionPlugin."),!1)}listenEvents(){this.events.on("reldens.createEngineSceneDone",async e=>{await this.predictionWorldCreator.createSceneWorld(e.currentScene)}),this.events.on("reldens.createdRoomsEventsInstance",(e,t)=>{this.roomEventsOverride.createCurrentPlayerOverride(t.activeRoomEvents),this.roomEventsOverride.playerOnChangeOverride(t.activeRoomEvents),this.roomEventsOverride.createPlayerEngineInstanceOverride(t.activeRoomEvents),this.roomEventsOverride.createSceneInstanceOverride(t.activeRoomEvents)})}}},{"1f99afae6127aa6e":"4rqFy",fd23b82a5f097c7a:"4xzUf",eb3ab2d7c28717c2:"fC3To",fc917919e6e14072:"3lwy5"}],"4rqFy":[function(e,t,i){let{CollisionsManager:n}=e("804590972ed05c20"),{P2world:r}=e("398044c66c46a0d1"),{WorldPointsValidator:s}=e("1ceec76f8d305544"),{WorldTimer:a}=e("6582f8b293532f90"),{Logger:o,sc:h}=e("8c1495bc004bacd5");t.exports.PredictionWorldCreator=class{async createSceneWorld(e){if(!e.experimentalClientPrediction)return;let t=this.findValidLayers(e),i=this.cloneMapJson(e,t),r={sceneName:e.key,roomId:e.params.roomId,roomMap:e.params.roomMap,mapJson:i,config:e.configManager,events:e.eventsManager,allowSimultaneous:e.configManager.get("client/general/controls/allowSimultaneousKeys",!0),worldConfig:e.gameManager.activeRoomEvents.sceneData?.worldConfig||e.worldConfig};e.worldPrediction=this.createWorldInstance(r),e.worldPrediction.createLimits(),await e.worldPrediction.createWorldContent({});let h=e.gameManager.getCurrentPlayer();if(!h){o.error("Current player not present for prediction.");return}let c={id:h.playerId,width:e.configManager.get("client/players/physicalBody/width"),height:e.configManager.get("client/players/physicalBody/height"),bodyState:h.state},l=e.worldPrediction.createPlayerBody(c);l.updateBodyState=this.updateBodyStateOverride(l,h),h.predictionBody=l,e.worldPredictionTimer=new a({callbacks:[()=>{if(!e.worldPrediction){o.error("Scene World not longer exists.",e.roomWorld);return}e.worldPrediction.removeBodiesFromWorld()}]}),e.worldPredictionTimer.startWorldSteps(e.worldPrediction),e.collisionsManager=new n({roomWorld:e.worldPrediction}),h.pointsValidator=new s(i.width,i.height)}cloneMapJson(e,t){return Object.assign({},e.cache?.tilemap?.entries?.entries[e.tileset.name]?.data||{},{layers:t})}findValidLayers(e){let t=[];for(let i of e.cache.tilemap.entries.entries[e.tileset.name].data.layers)-1!==i.name.indexOf("collision")&&t.push(i);return t}updateBodyStateOverride(e,t){return()=>{if(!h.hasOwn(e.bodyState,"x")||!h.hasOwn(e.bodyState,"y")||!e.position[0]||!e.position[1])return;if(e.isNotMoving()){e.bodyState.mov=!1;return}e.bodyState.x!==e.position[0]&&(e.bodyState.x=e.position[0]),e.bodyState.y!==e.position[1]&&(e.bodyState.y=e.position[1]);let i=0!==Number(Number(e.velocity[0]).toFixed(2))||0!==Number(e.velocity[1].toFixed(2));e.bodyState.mov!==i&&(e.bodyState.mov=i);let n={x:e.position[0],y:e.position[1],dir:e.bodyState.dir};t.updatePlayer(t.playerId,{state:n})}}createWorldInstance(e){return new r(e)}}},{"804590972ed05c20":"dlIjw","398044c66c46a0d1":"hvh2r","1ceec76f8d305544":"e44so","6582f8b293532f90":"5zAcU","8c1495bc004bacd5":"3lwy5"}],dlIjw:[function(e,t,i){let{PhysicalBody:n}=e("8b976b60c28092e0"),{ErrorManager:r,Logger:s,sc:a}=e("92f5971959d19587");t.exports.CollisionsManager=class{constructor(e){this.activateCollisions(e)}activateCollisions(e){e&&(this.room=e,a.hasOwn(this.room,"roomWorld")||r.error("Room world not found."),this.guestEmailDomain=this.room.config.getWithoutLogs("server/players/guestsUser/emailDomain"),this.room.roomWorld.on("postBroadphase",this.onWorldStepStart.bind(this)),this.room.roomWorld.on("preSolve",this.beforeResolveCollision.bind(this)),this.room.roomWorld.on("beginContact",this.onCollisionsBegin.bind(this)),this.room.roomWorld.on("endContact",this.onCollisionsEnd.bind(this)))}onWorldStepStart(e){let{pairs:t}=e;if(1>=t.length)return;let i=!1,n=!1,r=!1,s=!1;for(let e of t)e.playerId&&e.pStop&&e.stopFull(),e.roomObject&&e.pStop&&e.stopFull(),e.playerId&&(r=e),e.isBullet&&(i&&!n&&(n=e),i||(i=e),e.removeInvalidStateBulletBody()),e.isRoomObject&&!e.isBullet&&(s=e);this.room.roomWorld.bulletsStopOnPlayer&&r&&i&&r.stopFull(),this.room.roomWorld.bulletsStopOnObject&&s&&i&&s.stopFull(),this.removeIdleBullets()}removeIdleBullets(){if(0!==this.room.roomWorld.removeBulletsStateIds.length)for(let e of this.room.roomWorld.removeBulletsStateIds)this.room.state.removeBody(e),this.room.roomWorld.removeBulletsStateIds.splice(this.room.roomWorld.removeBulletsStateIds.indexOf(e),1)}beforeResolveCollision(e){if(this.room.roomWorld.allowPassWallsFromBelow)for(let t of e.contactEquations){let e=this.getPlayerBody(t),i=this.getWallBody(t);if(!e||!i||i.isWorldWall)return;e.position[1]>i.position[1]&&(t.enabled=!1)}}onCollisionsBegin(e){let t=e.bodyA,i=e.bodyB,n=!1,r=!1,s=!1;return t.playerId&&i.playerId?this.playerHitPlayerBegin(t,i):(t.playerId&&(n=t,r=i),i.playerId&&(n=i,r=t),n&&r.isRoomObject)?this.playerHitObjectBegin(n,r):n&&r.changeScenePoint?this.playerHitChangePointBegin(n,r):n&&r.isWall?this.playerHitWallBegin(n,r):t.isRoomObject&&i.isRoomObject?this.objectHitObjectBegin(t,i):void(t.isRoomObject&&(s=t,r=i),i.isRoomObject&&(s=i,r=t),s&&r.isWall&&this.objectHitWallBegin(s,r))}onCollisionsEnd(e){let t=e.bodyA,i=e.bodyB,n=!1,r=!1,s=!1;return(e.bodyA.playerId&&e.bodyB.playerId&&this.playerHitPlayerEnd(e.bodyA,e.bodyB),t.playerId&&(n=t,r=i),i.playerId&&(n=i,r=t),n&&r.isRoomObject)?this.playerHitObjectEnd(n,r):n&&r.isWall?this.playerHitWallEnd(n,r):(t.isRoomObject&&i.isRoomObject&&this.objectHitObjectEnd(t,i),t.isRoomObject&&(s=t,r=i),i.isRoomObject&&(s=i,r=t),s&&r.isWall)?this.objectHitWallEnd(s,r):void 0}playerHitPlayerBegin(e,t){this.room.events.emit("reldens.playerHitPlayer",{bodyA:e,bodyB:t})}playerHitPlayerEnd(e,t){e.stopFull(),t.stopFull(),this.room.events.emit("reldens.playerHitPlayerEnd",{bodyA:e,bodyB:t})}playerHitObjectBegin(e,t){this.room.events.emit("reldens.startPlayerHitObjectBegin",{playerBody:e,otherBody:t}),this.findAlternativePath(e),t.roomObject&&a.isFunction(t.roomObject.onHit)&&t.roomObject.onHit({bodyA:e,bodyB:t,room:this.room}),this.room.events.emit("reldens.endPlayerHitObjectBegin",{playerBody:e,otherBody:t})}playerHitObjectEnd(e,t){let i={stopFull:!0,continue:!0};if(this.room.events.emit("reldens.playerHitObjectEnd",{playerBody:e,result:i}),!i.continue)return!1;e.stopFull(i.stopFull)}playerHitWallBegin(e,t){this.room.events.emit("reldens.playerHitWallBegin",{playerBody:e,wallBody:t})}playerHitWallEnd(e,t){if(this.room.events.emit("reldens.startPlayerHitWallEnd",{playerBody:e,wallBody:t}),e.autoMoving&&1<e.autoMoving.length){let t=e.autoMoving.pop();e.moveToPoint({column:t[0],row:t[1]});return}e.world&&!e.world.applyGravity&&e.stopFull(!0),this.room.events.emit("reldens.endPlayerHitWallEnd",{playerBody:e,wallBody:t})}playerHitChangePointBegin(e,t){if(this.room.events.emit("reldens.startPlayerHitChangePoint",{collisionsManager:this,playerBody:e,changePoint:t}),e.resetAuto(),a.get(e,"isChangingScene",!1))return s.info("Player is busy for a change point: "+e.playerId),!1;let i=this.room.playerBySessionIdFromState(e.playerId),n=this.room.getClientById(e.playerId),r=-1!==n.auth.email?.indexOf(this.guestEmailDomain);if(!this.room.validateRoom(t.changeScenePoint,r,!0))return s.info("Guest Player hit change point but is not allowed to the room: "+i.state.scene),this.room.events.emit("reldens.guestInvalidChangePoint",{collisionsManager:this,playerBody:e,changePoint:t,playerSchema:i,contactClient:n,isGuest:r}),!1;let o={x:e.position[0],y:e.position[1]};this.room.state.positionPlayer(e.playerId,o);let h={prev:i.state.scene,next:t.changeScenePoint};e.isChangingScene=!0,this.room.nextSceneInitialPosition(n,h,e).catch(e=>{s.error("There was an error while setting the next scene initial position.",e)}),this.room.events.emit("reldens.endPlayerHitChangePoint",{collisionsManager:this,playerSchema:i,playerBody:e,changePoint:t,changeData:h})}objectHitObjectBegin(e,t){this.room.events.emit("reldens.startObjectHitObject",{bodyA:e,bodyB:t});let i=a.hasOwn(e,"hitPriority"),n=a.hasOwn(t,"hitPriority"),r={bodyA:e,bodyB:t,room:this.room},s=(i||n)&&(!i||n&&!(i>n))?t:e;s.roomObject&&a.isFunction(s.roomObject?.onHit)&&s.roomObject.onHit(r),e.isBullet&&e.roomObject.removeBullet(e),t.isBullet&&t.roomObject.removeBullet(t),this.findAlternativePath(e),this.findAlternativePath(t),this.room.events.emit("reldens.endObjectHitObject",{bodyA:e,bodyB:t,priorityObject:s})}objectHitObjectEnd(e,t){this.bodyFullStop(e),this.bodyFullStop(t),this.room.events.emit("reldens.objectHitObjectEnd",{bodyA:e,bodyB:t})}objectHitWallBegin(e,t){let i={objectBody:e,wall:t,continue:!0};return this.room.events.emit("reldens.objectHitWallBegin",i),i.continue&&e.isBullet&&e.roomObject.removeBullet(e),i}objectHitWallEnd(e){this.room.events.emit("reldens.startObjectHitWall",{objectBody:e}),this.resetObjectAutoMove(e),this.room.events.emit("reldens.endObjectHitWall",{objectBody:e})}bodyFullStop(e){if(!e)return!1;!(e.autoMoving&&0<e.autoMoving.length)&&!e.isBullet&&e.isRoomObject&&e instanceof n&&e.stopFull(!0),e.isBullet&&e.roomObject.removeBullet(e)}findAlternativePath(e){if(!e.autoMoving||0===e.autoMoving.length)return!1;let t=e.autoMoving.shift(),i=e.autoMoving.pop();e.autoMoving=e.getPathFinder().findPath(t,i)}resetObjectAutoMove(e){if(!(e instanceof n)||!e.world)return;let t=!1;if(a.isArray(e.autoMoving)&&0<e.autoMoving.length&&(t=e.autoMoving.pop()),t){if(e.world.applyGravity?e.stopFull(!0):e.stopX(!0),e.autoMovingResetRetries++,e.autoMovingResetMaxRetries===e.autoMovingResetRetries)return e.autoMovingResetRetries=0,e.moveToOriginalPoint();e.moveToPoint({column:t[0],row:t[1]})}}getWallBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.isWall?t:!!i&&!!i.isWall&&i}getObjectBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.isRoomObject?t:!!i&&!!i.isRoomObject&&i}getPlayerBody(e){let{bodyA:t,bodyB:i}=e;return t&&t.playerId?t:!!i&&!!i.playerId&&i}}},{"8b976b60c28092e0":"ga5Ov","92f5971959d19587":"3lwy5"}],ga5Ov:[function(e,t,i){let{Body:n,vec2:r}=e("3304f256e9e76c94"),{GameConst:s}=e("37df9b723b227260"),{Logger:a,sc:o}=e("924061961623cd99");t.exports.PhysicalBody=class extends n{constructor(e){super(e),this.bodyState=null,this.animationBasedOnPress=e.animationBasedOnPress,this.diagonalHorizontal=e.diagonalHorizontal,this.autoMoving=!1,this.pathFinder=!1,this.isChangingScene=!1,this.currentCol=!1,this.currentRow=!1,this.originalCol=!1,this.originalRow=!1,this.jumpSpeed=o.get(e,"jumpSpeed",540),this.jumpTimeMs=o.get(e,"jumpTimeMs",180),this.movementSpeed=o.get(e,"movementSpeed",180),this.speedThreshold=o.get(e,"speedThreshold",.1),this.applySpeedThresholdOnBullets=o.get(e,"applySpeedThresholdOnBullets",!0),this.worldPositionPrecision=o.get(e,"worldPositionPrecision",0),this.worldSpeedPrecision=o.get(e,"worldSpeedPrecision",0),this.autoMovingResetMaxRetries=o.get(e,"autoMovingResetMaxRetries",5),this.autoMovingResetRetries=0,this.moveToOriginalPointWithDelay=o.get(e,"moveToOriginalPointWithDelay",100),this.moveToOriginalPointTimer=!1,this.originalSpeed={x:0,y:0},this.speedToNextMaxRetries=o.get(e,"speedToNextMaxRetries",3),this.speedToNextRetryCounter={col:0,row:0,retries:0},this.lastSetCollisionGroup=!1}integrate(e){if(s.STATUS.DISABLED===this.bodyState?.inState)return;let t=this.invMass,i=this.force,n=this.position,a=this.velocity;r.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e);let h=r.create();if(r.scale(h,i,e*t),r.multiply(h,this.massMultiplier,h),r.add(a,h,a),!this.integrateToTimeOfImpact(e)){let t=r.create();r.scale(t,a,e),r.add(n,n,t),this.fixedRotation||(this.angle+=this.angularVelocity*e)}this.speedToNext(),this.aabbNeedsUpdate=!0,this.velocity[0]=1e-4>Math.abs(this.velocity[0])?0:o.roundToPrecision(this.velocity[0],4),this.velocity[1]=1e-4>Math.abs(this.velocity[1])?0:o.roundToPrecision(this.velocity[1],4),.001>Math.abs(this.velocity[0])&&this.stopX(),.001>Math.abs(this.velocity[1])&&this.stopY(),this.updateBodyState()}speedToNext(){if(!this.autoMoving||0===this.autoMoving.length){this.setShapesCollisionGroup(this.originalCollisionGroup);return}if(!this.autoMoving[0]){a.error("Missing autoMoving first index."),this.setShapesCollisionGroup(this.originalCollisionGroup);return}let e=this.autoMoving[0][0],t=this.autoMoving[0][1];if(0!==this.speedToNextRetryCounter.col&&this.speedToNextRetryCounter.col===e&&0!==this.speedToNextRetryCounter.row&&this.speedToNextRetryCounter.row===t&&0!==this.velocity[0]&&0!==this.velocity[1]&&this.speedToNextRetryCounter.retries++,this.speedToNextMaxRetries===this.speedToNextRetryCounter.retries){this.speedToNextRetryCounter.col=0,this.speedToNextRetryCounter.row=0;let e=this.autoMoving.shift(),t=this.autoMoving.pop();this.stopFull(!0),this.alignToTile(),this.autoMoving=this.getPathFinder().findPath(e,t),this.speedToNextRetryCounter.retries=0;return}if(this.speedToNextRetryCounter.col=e,this.speedToNextRetryCounter.row=t,this.currentCol===e&&this.currentRow===t){this.autoMoving.shift(),0===this.autoMoving.length&&this.stopAutoMoving();return}this.currentCol===e&&0!==this.velocity[0]&&(this.stopX(),this.alignToTile()),this.currentCol>e&&this.initMove(s.LEFT,!0),this.currentCol<e&&this.initMove(s.RIGHT,!0),this.currentRow===t&&0!==this.velocity[1]&&(this.stopY(),this.alignToTile()),this.currentRow>t&&this.initMove(s.UP,!0),this.currentRow<t&&this.initMove(s.DOWN,!0),this.updateCurrentPoints()}stopAutoMoving(){this.stopFull(),this.resetAuto(),this.alignToTile(),this.setShapesCollisionGroup(this.originalCollisionGroup)}alignToTile(){this.currentCol&&this.currentRow||this.updateCurrentPoints();let e=this.currentCol*this.worldTileWidth,t=this.currentRow*this.worldTileHeight,i=e-this.position[0],n=t-this.position[1];.01>=Math.abs(i)&&.01>=Math.abs(n)&&(this.position[0]=e,this.position[1]=t)}updateBodyState(){if(!o.hasOwn(this.bodyState,"x")||!o.hasOwn(this.bodyState,"y"))return;if(this.isNotMoving()){this.bodyState.mov=!1;return}let e=o.roundToPrecision(this.position[0],0),t=o.roundToPrecision(this.position[1],0);if(!e||!t)return;this.bodyState.x!==e&&(this.bodyState.x=o.roundToPrecision(e,this.worldPositionPrecision)),this.bodyState.y!==t&&(this.bodyState.y=o.roundToPrecision(t,this.worldPositionPrecision));let i=o.roundToPrecision(this.velocity[0],this.worldSpeedPrecision),n=o.roundToPrecision(this.velocity[1],this.worldSpeedPrecision);this.bodyState.mov=0!==i||0!==n,this.removeInvalidStateBulletBody()}bodyLogKey(){return this.playerId?"PJ-"+this.playerId:this.bodyState?.key}removeInvalidStateBulletBody(){this.isBullet&&(this.isOutOfWorldBounds()||this.hasInvalidSpeed())&&(this.world.removeBodies.push(this),this.bodyStateId&&this.world.removeBulletsStateIds.push(this.bodyStateId))}hasInvalidSpeed(){if(!this.applySpeedThresholdOnBullets&&this.isBullet)return!1;let e=this.isBullet?this.originalSpeed.x:this.movementSpeed,t=this.isBullet?this.originalSpeed.x:this.movementSpeed,i=e*this.speedThreshold,n=t*this.speedThreshold;return Math.abs(this.velocity[0])<i&&(a.debug("Invalid speed, stopping X:",{speedX:Math.abs(this.velocity[0]),minimumSpeedX:i}),this.stopX(!0)),Math.abs(this.velocity[1])<n&&(a.debug("Invalid speed, stopping Y.",{speedY:Math.abs(this.velocity[1]),minimumSpeedY:n}),this.stopY(!0)),0===this.velocity[0]&&0===this.velocity[1]}isOutOfWorldBounds(){return 0>this.position[0]||this.position[0]>this.worldWidth*this.worldTileWidth||0>this.position[1]||this.position[1]>this.worldHeight*this.worldTileHeight}isNotMoving(){let e=this.movementSpeed*this.speedThreshold,t=o.roundToPrecision(this.velocity[0]),i=o.roundToPrecision(this.velocity[1]);if(0!==this.velocity[0]&&Math.abs(t)<e){let e=o.roundToPrecision(this.position[0]+(0<t?1:-1));this.position[0]=e,this.stopX(!0)}if(0!==this.velocity[1]&&Math.abs(i)<e&&!this.world.applyGravity){let e=this.position[1]+(0<i?1:-1);this.position[1]=e,this.stopY(!0)}let n=o.roundToPrecision(this.position[0],0),r=o.roundToPrecision(this.position[1],0);return this.bodyState.x===n&&this.bodyState.y===r&&0===t&&0===i}resetAuto(){this.autoMoving=!1}initMove(e,t=!1){if(t||this.resetAuto(),this.world){if(this.world.allowSimultaneous){this.simultaneousKeyPressMovement(e);return}return this.singleKeyPressMovement(e)}}singleKeyPressMovement(e){e===s.RIGHT&&0===this.velocity[1]&&(this.velocity[0]=this.movementSpeed),e===s.LEFT&&0===this.velocity[1]&&(this.velocity[0]=-this.movementSpeed),e===s.UP&&0===this.velocity[0]&&this.moveUp(this.movementSpeed),e!==s.DOWN||0!==this.velocity[0]||this.world.applyGravity||(this.velocity[1]=this.movementSpeed)}simultaneousKeyPressMovement(e){if(!this.world.applyGravity){this.simultaneousMovementDiagonalSpeedFix(e,this.movementSpeed);return}e===s.RIGHT&&(this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),this.velocity[0]=this.movementSpeed),e===s.LEFT&&(this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),this.velocity[0]=-this.movementSpeed),e===s.UP&&(this.validateAndSetDirection(e,!this.diagonalHorizontal,this.velocity[0]),this.moveUp(this.movementSpeed))}simultaneousMovementDiagonalSpeedFix(e,t){let i=0===this.velocity[0]?0:0>this.velocity[0]?-1:1,n=0===this.velocity[1]?0:0>this.velocity[1]?-1:1;e===s.RIGHT&&(i=1),e===s.LEFT&&(i=-1),e===s.UP&&(n=-1),e===s.DOWN&&(n=1);let r=this.normalizeSpeed(i,n);this.velocity[0]=t*i*r,this.velocity[1]=t*n*r,(e===s.RIGHT||e===s.LEFT)&&this.validateAndSetDirection(e,this.diagonalHorizontal,this.velocity[1]),(e===s.UP||e===s.DOWN)&&this.validateAndSetDirection(e,!this.diagonalHorizontal,this.velocity[0])}moveUp(e){if(!this.world.applyGravity){this.velocity[1]=-e;return}this.canJump()&&(this.velocity[1]=-this.jumpSpeed,setTimeout(()=>{this.stopY()},this.jumpTimeMs))}calculateMagnitude(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}checkNonZeroComponents(e,t){return Math.abs(e)>0||Math.abs(t)>0}normalizeSpeed(e,t){return this.checkNonZeroComponents(e,t)?1/this.calculateMagnitude(e,t):0}validateAndSetDirection(e,t,i){(this.animationBasedOnPress||this.bodyState.autoDirection)&&(t||0===i)&&(this.bodyState.dir=e)}stopMove(){this.world&&this.world.applyGravity?this.stopX():this.stopFull()}stopFull(e=!1){this.velocity[0]=0,this.world?.applyGravity||(this.velocity[1]=0),this.angularVelocity=0,this.angularForce=0,this.pStop=e}stopX(e=!1){this.velocity[0]=0,this.angularVelocity=0,this.angularForce=0,this.pStop=e}stopY(e=!1){this.velocity[1]=0,this.angularVelocity=0,this.angularForce=0,this.pStop=e}moveToPoint(e){this.resetAuto(),this.updateCurrentPoints();let t=[this.currentCol,this.currentRow],i=[e.column,e.row],n=this.getPathFinder();return n?(this.autoMoving=n.findPath(t,i),this.autoMoving||(this.setShapesCollisionGroup(this.originalCollisionGroup),this.stopMove()),this.autoMoving):(this.setShapesCollisionGroup(this.originalCollisionGroup),!1)}updateCurrentPoints(){if(!this.world)return;let{currentCol:e,currentRow:t}=this.positionToTiles(this.position[0],this.position[1]);return this.originalCol||(this.originalCol=e),this.originalRow||(this.originalRow=t),this.currentCol=e,this.currentRow=t,this}moveToOriginalPoint(){if(this.originalCol&&this.originalRow||this.updateCurrentPoints(),this.disableObjectsCollisionsOnReturn&&this.setShapesCollisionGroup(0),this.stopFull(),0===this.moveToOriginalPointWithDelay){this.moveToPoint({column:this.originalCol,row:this.originalRow});return}this.moveToOriginalPointTimer=setTimeout(()=>{this.moveToPoint({column:this.originalCol,row:this.originalRow})},this.moveToOriginalPointWithDelay)}setShapesCollisionGroup(e){if(this.lastSetCollisionGroup!==e)for(let t of(this.lastSetCollisionGroup=e,this.shapes))t.collisionGroup=e}canJump(){for(let e of this.world.narrowphase.contactEquations){let t=e.bodyA===this?e.bodyA:e.bodyB,i=e.bodyA.isWall?e.bodyA:e.bodyB;if(t.playerId&&0<=Number(Number(t.velocity[1]).toFixed(2))&&i.isWall&&!i.isWorldWall&&t.position[1]<i.position[1])return!0}return!1}positionToTiles(e,t){let i=Math.round((e-this.worldTileWidth/2)/this.worldTileWidth);i=i>=0?i>this.worldWidth?this.worldWidth:i:0;let n=Math.round((t-this.worldTileHeight/2)/this.worldTileHeight);return{currentCol:i,currentRow:n=n>=0?n>this.worldHeight?this.worldHeight:n:0}}getPathFinder(){return this.pathFinder?this.pathFinder:this.world?.pathFinder}get worldTileWidth(){return this.world?.mapJson?.tilewidth}get worldTileHeight(){return this.world?.mapJson?.tileheight}get worldWidth(){return this.world?.mapJson?.width}get worldHeight(){return this.world?.mapJson?.height}}},{"3304f256e9e76c94":"6bkiu","37df9b723b227260":"93TbC","924061961623cd99":"3lwy5"}],"6bkiu":[function(e,t,i){Object.defineProperty(t.exports={AABB:e("684b4c2f51a7982f"),AngleLockEquation:e("bdffc69900b9d197"),Body:e("3f75664c0e64d6f0"),Broadphase:e("6a91eca7403fbf23"),Capsule:e("856d4f0d9932be15"),Circle:e("2ed19d42da3c562d"),Constraint:e("aa927dde400e3497"),ContactEquation:e("2d074b8afa958c13"),ContactEquationPool:e("c3b18056b7840eb7"),ContactMaterial:e("95c5dc13a3c7c260"),Convex:e("ac59578c032edc9f"),DistanceConstraint:e("5c90feeb31df3d5e"),Equation:e("f8f4511fa21776ff"),EventEmitter:e("c3d3b3771d6558ce"),FrictionEquation:e("cab660c3bd983ee4"),FrictionEquationPool:e("87607de358c9c21"),GearConstraint:e("90a946d116b90b53"),GSSolver:e("6894c0e11a66902e"),Heightfield:e("4b3b7392ecef1240"),Line:e("1e20d14367f50060"),LockConstraint:e("fdc7a4304d635ff8"),Material:e("2ead159ba8c055f3"),Narrowphase:e("9e6fca932dff920d"),NaiveBroadphase:e("b1c0219aba2108d9"),Particle:e("9633119b46909ded"),Plane:e("4f144cae12074657"),Pool:e("a996dbee78852c0f"),RevoluteConstraint:e("34cc4dd48e1d0bad"),PrismaticConstraint:e("53d36735aa65530e"),Ray:e("1d4b6783af535b58"),RaycastResult:e("f9b0bdbeada25bdf"),Box:e("1eaca10f1a6fb0c1"),RotationalVelocityEquation:e("316198d4ce4102e3"),SAPBroadphase:e("60bfc18e7e665b71"),Shape:e("1eb899949248649e"),Solver:e("3c21f4f3806b3be"),Spring:e("e3ff62163c08949b"),TopDownVehicle:e("e782a409308bbff6"),LinearSpring:e("78e7b803f9bca9ee"),RotationalSpring:e("fe49496c221554ba"),Utils:e("36b147cdc3f4bb72"),World:e("551a53932a4cfdc8"),vec2:e("19262ec940ce734e"),version:e("df51020e342624b").version},"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"684b4c2f51a7982f":"7Fman",bdffc69900b9d197:"jaQW1","3f75664c0e64d6f0":"1vLHz","6a91eca7403fbf23":"5ZGdm","856d4f0d9932be15":"iCu6l","2ed19d42da3c562d":"71oh9",aa927dde400e3497:"fl4d5","2d074b8afa958c13":"2hWGL",c3b18056b7840eb7:"c7vmA","95c5dc13a3c7c260":"7VedP",ac59578c032edc9f:"jXoGk","5c90feeb31df3d5e":"eMph3",f8f4511fa21776ff:"kSmDE",c3d3b3771d6558ce:"3wc90",cab660c3bd983ee4:"6o1RQ","87607de358c9c21":"dT2Zx","90a946d116b90b53":"c2nuE","6894c0e11a66902e":"Kc35t","4b3b7392ecef1240":"g5PHm","1e20d14367f50060":"3e8Uk",fdc7a4304d635ff8:"3C7H6","2ead159ba8c055f3":"kKj3c","9e6fca932dff920d":"bsKDm",b1c0219aba2108d9:"liK4P","9633119b46909ded":"hsc7O","4f144cae12074657":"kpexr",a996dbee78852c0f:"5lrfq","34cc4dd48e1d0bad":"aOW07","53d36735aa65530e":"iK7mQ","1d4b6783af535b58":"3aaBs",f9b0bdbeada25bdf:"bK4Qs","1eaca10f1a6fb0c1":"1uf32","316198d4ce4102e3":"dpMuH","60bfc18e7e665b71":"cJxaR","1eb899949248649e":"fyiLV","3c21f4f3806b3be":"cslpB",e3ff62163c08949b:"cXKmN",e782a409308bbff6:"cQjmW","78e7b803f9bca9ee":"4chxn",fe49496c221554ba:"j6tWA","36b147cdc3f4bb72":"7sQcP","551a53932a4cfdc8":"5xqPb","19262ec940ce734e":"geg3A",df51020e342624b:"aPywz"}],"7Fman":[function(e,t,i){var n=e("b3f1d8665c8114ff");function r(e){this.lowerBound=n.create(),e&&e.lowerBound&&n.copy(this.lowerBound,e.lowerBound),this.upperBound=n.create(),e&&e.upperBound&&n.copy(this.upperBound,e.upperBound)}e("def10f340a350e0e"),t.exports=r;var s=n.create();r.prototype.setFromPoints=function(e,t,i,r){var a=this.lowerBound,o=this.upperBound;"number"!=typeof i&&(i=0),0!==i?n.rotate(a,e[0],i):n.copy(a,e[0]),n.copy(o,a);for(var h=Math.cos(i),c=Math.sin(i),l=1;l<e.length;l++){var u=e[l];if(0!==i){var d=u[0],f=u[1];s[0]=h*d-c*f,s[1]=c*d+h*f,u=s}for(var p=0;p<2;p++)u[p]>o[p]&&(o[p]=u[p]),u[p]<a[p]&&(a[p]=u[p])}t&&(n.add(this.lowerBound,this.lowerBound,t),n.add(this.upperBound,this.upperBound,t)),r&&(this.lowerBound[0]-=r,this.lowerBound[1]-=r,this.upperBound[0]+=r,this.upperBound[1]+=r)},r.prototype.copy=function(e){n.copy(this.lowerBound,e.lowerBound),n.copy(this.upperBound,e.upperBound)},r.prototype.extend=function(e){for(var t=2;t--;){var i=e.lowerBound[t];this.lowerBound[t]>i&&(this.lowerBound[t]=i);var n=e.upperBound[t];this.upperBound[t]<n&&(this.upperBound[t]=n)}},r.prototype.overlaps=function(e){var t=this.lowerBound,i=this.upperBound,n=e.lowerBound,r=e.upperBound;return(n[0]<=i[0]&&i[0]<=r[0]||t[0]<=r[0]&&r[0]<=i[0])&&(n[1]<=i[1]&&i[1]<=r[1]||t[1]<=r[1]&&r[1]<=i[1])},r.prototype.containsPoint=function(e){var t=this.lowerBound,i=this.upperBound;return t[0]<=e[0]&&e[0]<=i[0]&&t[1]<=e[1]&&e[1]<=i[1]},r.prototype.overlapsRay=function(e){var t=1/e.direction[0],i=1/e.direction[1],n=(this.lowerBound[0]-e.from[0])*t,r=(this.upperBound[0]-e.from[0])*t,s=(this.lowerBound[1]-e.from[1])*i,a=(this.upperBound[1]-e.from[1])*i,o=Math.max(Math.max(Math.min(n,r),Math.min(s,a))),h=Math.min(Math.min(Math.max(n,r),Math.max(s,a)));return h<0||o>h?-1:o}},{b3f1d8665c8114ff:"geg3A",def10f340a350e0e:"7sQcP"}],geg3A:[function(e,t,i){var n=t.exports={},r=e("d83d88b709f376af");n.crossLength=function(e,t){return e[0]*t[1]-e[1]*t[0]},n.crossVZ=function(e,t,i){return n.rotate(e,t,-Math.PI/2),n.scale(e,e,i),e},n.crossZV=function(e,t,i){return n.rotate(e,i,Math.PI/2),n.scale(e,e,t),e},n.rotate=function(e,t,i){if(0!==i){var n=Math.cos(i),r=Math.sin(i),s=t[0],a=t[1];e[0]=n*s-r*a,e[1]=r*s+n*a}else e[0]=t[0],e[1]=t[1]},n.rotate90cw=function(e,t){var i=t[0],n=t[1];e[0]=n,e[1]=-i},n.toLocalFrame=function(e,t,i,r){n.copy(e,t),n.sub(e,e,i),n.rotate(e,e,-r)},n.toGlobalFrame=function(e,t,i,r){n.copy(e,t),n.rotate(e,e,r),n.add(e,e,i)},n.vectorToLocalFrame=function(e,t,i){n.rotate(e,t,-i)},n.vectorToGlobalFrame=function(e,t,i){n.rotate(e,t,i)},n.centroid=function(e,t,i,r){return n.add(e,t,i),n.add(e,e,r),n.scale(e,e,1/3),e},n.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},n.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},n.fromValues=function(e,t){var i=new r.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},n.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},n.set=function(e,t,i){return e[0]=t,e[1]=i,e},n.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},n.subtract=function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e},n.sub=n.subtract,n.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e},n.mul=n.multiply,n.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e},n.div=n.divide,n.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},n.distance=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)},n.dist=n.distance,n.squaredDistance=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],i=e[1];return Math.sqrt(t*t+i*i)},n.len=n.length,n.squaredLength=function(e){var t=e[0],i=e[1];return t*t+i*i},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},n.normalize=function(e,t){var i=t[0],n=t[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},n.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},n.lerp=function(e,t,i,n){var r=t[0],s=t[1];return e[0]=r+n*(i[0]-r),e[1]=s+n*(i[1]-s),e},n.reflect=function(e,t,i){var n=t[0]*i[0]+t[1]*i[1];e[0]=t[0]-2*i[0]*n,e[1]=t[1]-2*i[1]*n},n.getLineSegmentsIntersection=function(e,t,i,r,s){var a=n.getLineSegmentsIntersectionFraction(t,i,r,s);return!(a<0)&&(e[0]=t[0]+a*(i[0]-t[0]),e[1]=t[1]+a*(i[1]-t[1]),!0)},n.getLineSegmentsIntersectionFraction=function(e,t,i,n){var r,s,a=t[0]-e[0],o=t[1]-e[1],h=n[0]-i[0],c=n[1]-i[1];return(r=(-o*(e[0]-i[0])+a*(e[1]-i[1]))/(-h*o+a*c),s=(h*(e[1]-i[1])-c*(e[0]-i[0]))/(-h*o+a*c),r>=0&&r<=1&&s>=0&&s<=1)?s:-1}},{d83d88b709f376af:"7sQcP"}],"7sQcP":[function(e,t,i){function n(){}t.exports=n,n.appendArray=function(e,t){if(t.length<15e4)e.push.apply(e,t);else for(var i=0,n=t.length;i!==n;++i)e.push(t[i])},n.splice=function(e,t,i){i=i||1;for(var n=t,r=e.length-i;n<r;n++)e[n]=e[n+i];e.length=r},"undefined"!=typeof P2_ARRAY_TYPE?n.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?n.ARRAY_TYPE=Float32Array:n.ARRAY_TYPE=Array,n.extend=function(e,t){for(var i in t)e[i]=t[i]},n.defaults=function(e,t){for(var i in e=e||{},t)i in e||(e[i]=t[i]);return e}},{}],jaQW1:[function(e,t,i){var n=e("96b39f139ed9fe19");function r(e,t,i){i=i||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}e("65e9c376f4842e26"),t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},r.prototype.setRatio=function(e){var t=this.G;t[2]=e,t[5]=-1,this.ratio=e},r.prototype.setMaxTorque=function(e){this.maxForce=e,this.minForce=-e}},{"96b39f139ed9fe19":"kSmDE","65e9c376f4842e26":"geg3A"}],kSmDE:[function(e,t,i){t.exports=s;var n=e("409fe7de84f659c2"),r=e("899649d302242471");function s(e,t,i,n){this.minForce=void 0===i?-Number.MAX_VALUE:i,this.maxForce=void 0===n?Number.MAX_VALUE:n,this.bodyA=e,this.bodyB=t,this.stiffness=s.DEFAULT_STIFFNESS,this.relaxation=s.DEFAULT_RELAXATION,this.G=new r.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}e("96f5ab3af7110940"),s.prototype.constructor=s,s.DEFAULT_STIFFNESS=1e6,s.DEFAULT_RELAXATION=4,s.prototype.update=function(){var e=this.stiffness,t=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*t)),this.b=4*t/(1+4*t),this.epsilon=4/(i*i*e*(1+4*t)),this.needsUpdate=!1},s.prototype.gmult=function(e,t,i,n,r){return e[0]*t[0]+e[1]*t[1]+e[2]*i+e[3]*n[0]+e[4]*n[1]+e[5]*r},s.prototype.computeB=function(e,t,i){var n=this.computeGW();return-this.computeGq()*e-n*t-this.computeGiMf()*i};var a=n.create(),o=n.create();s.prototype.computeGq=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=(t.position,i.position,t.angle),r=i.angle;return this.gmult(e,a,n,o,r)+this.offset},s.prototype.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,s=t.angularVelocity,a=i.angularVelocity;return this.gmult(e,n,s,r,a)+this.relativeVelocity},s.prototype.computeGWlambda=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.vlambda,r=i.vlambda,s=t.wlambda,a=i.wlambda;return this.gmult(e,n,s,r,a)};var h=n.create(),c=n.create();s.prototype.computeGiMf=function(){var e=this.bodyA,t=this.bodyB,i=e.force,r=e.angularForce,s=t.force,a=t.angularForce,o=e.invMassSolve,l=t.invMassSolve,u=e.invInertiaSolve,d=t.invInertiaSolve,f=this.G;return n.scale(h,i,o),n.multiply(h,e.massMultiplier,h),n.scale(c,s,l),n.multiply(c,t.massMultiplier,c),this.gmult(f,h,r*u,c,a*d)},s.prototype.computeGiMGt=function(){var e=this.bodyA,t=this.bodyB,i=e.invMassSolve,n=t.invMassSolve,r=e.invInertiaSolve,s=t.invInertiaSolve,a=this.G;return a[0]*a[0]*i*e.massMultiplier[0]+a[1]*a[1]*i*e.massMultiplier[1]+a[2]*a[2]*r+a[3]*a[3]*n*t.massMultiplier[0]+a[4]*a[4]*n*t.massMultiplier[1]+a[5]*a[5]*s};var l=n.create(),u=n.create(),d=n.create();n.create(),n.create(),n.create(),s.prototype.addToWlambda=function(e){var t=this.bodyA,i=this.bodyB,r=t.invMassSolve,s=i.invMassSolve,a=t.invInertiaSolve,o=i.invInertiaSolve,h=this.G;u[0]=h[0],u[1]=h[1],d[0]=h[3],d[1]=h[4],n.scale(l,u,r*e),n.multiply(l,l,t.massMultiplier),n.add(t.vlambda,t.vlambda,l),t.wlambda+=a*h[2]*e,n.scale(l,d,s*e),n.multiply(l,l,i.massMultiplier),n.add(i.vlambda,i.vlambda,l),i.wlambda+=o*h[5]*e},s.prototype.computeInvC=function(e){return 1/(this.computeGiMGt()+e)}},{"409fe7de84f659c2":"geg3A","899649d302242471":"7sQcP","96f5ab3af7110940":"1vLHz"}],"1vLHz":[function(e,t,i){var n=e("e93126ba09caa5de"),r=e("75db1bf8b12d094"),s=e("85daf14b1e993a58"),a=e("bca387afe93c506d"),o=e("8404a18a841f8c6f"),h=e("b3d48c1afc29fb22"),c=e("1546b4044e1fff1d");function l(e){e=e||{},c.call(this),this.id=e.id||++l._idCounter,this.world=null,this.shapes=[],this.mass=e.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!e.fixedRotation,this.fixedX=!!e.fixedX,this.fixedY=!!e.fixedY,this.massMultiplier=n.create(),this.position=n.fromValues(0,0),e.position&&n.copy(this.position,e.position),this.interpolatedPosition=n.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=n.fromValues(0,0),this.previousAngle=0,this.velocity=n.fromValues(0,0),e.velocity&&n.copy(this.velocity,e.velocity),this.vlambda=n.fromValues(0,0),this.wlambda=0,this.angle=e.angle||0,this.angularVelocity=e.angularVelocity||0,this.force=n.create(),e.force&&n.copy(this.force,e.force),this.angularForce=e.angularForce||0,this.damping="number"==typeof e.damping?e.damping:.1,this.angularDamping="number"==typeof e.angularDamping?e.angularDamping:.1,this.type=l.STATIC,void 0!==e.type?this.type=e.type:e.mass?this.type=l.DYNAMIC:this.type=l.STATIC,this.boundingRadius=0,this.aabb=new h,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===e.allowSleep||e.allowSleep,this.wantsToSleep=!1,this.sleepState=l.AWAKE,this.sleepSpeedLimit=void 0!==e.sleepSpeedLimit?e.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==e.sleepTimeLimit?e.sleepTimeLimit:1,this.gravityScale=void 0!==e.gravityScale?e.gravityScale:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==e.ccdSpeedThreshold?e.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==e.ccdIterations?e.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}t.exports=l,l.prototype=new c,l.prototype.constructor=l,l._idCounter=0,l.prototype.updateSolveMassProperties=function(){this.sleepState===l.SLEEPING||this.type===l.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},l.prototype.setDensity=function(e){var t=this.getArea();this.mass=t*e,this.updateMassProperties()},l.prototype.getArea=function(){for(var e=0,t=0;t<this.shapes.length;t++)e+=this.shapes[t].area;return e},l.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var u=new h,d=n.create();l.prototype.updateAABB=function(){for(var e=this.shapes,t=e.length,i=this.angle,r=0;r!==t;r++){var s=e[r],a=s.angle+i;n.rotate(d,s.position,i),n.add(d,d,this.position),s.computeAABB(u,d,a),0===r?this.aabb.copy(u):this.aabb.extend(u)}this.aabbNeedsUpdate=!1},l.prototype.updateBoundingRadius=function(){for(var e=this.shapes,t=e.length,i=0,r=0;r!==t;r++){var s=e[r],a=n.length(s.position),o=s.boundingRadius;a+o>i&&(i=a+o)}this.boundingRadius=i},l.prototype.addShape=function(e,t,i){if(e.body)throw Error("A shape can only be added to one body.");e.body=this,t?n.copy(e.position,t):n.set(e.position,0,0),e.angle=i||0,this.shapes.push(e),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},l.prototype.removeShape=function(e){var t=this.shapes.indexOf(e);return -1!==t&&(this.shapes.splice(t,1),this.aabbNeedsUpdate=!0,e.body=null,!0)},l.prototype.updateMassProperties=function(){if(this.type===l.STATIC||this.type===l.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var e=this.shapes,t=e.length,i=this.mass/t,r=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var s=0;s<t;s++){var a=e[s],o=n.squaredLength(a.position);r+=a.computeMomentOfInertia(i)+i*o}this.inertia=r,this.invInertia=r>0?1/r:0}this.invMass=1/this.mass,n.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},n.create(),l.prototype.applyForce=function(e,t){if(n.add(this.force,this.force,e),t){var i=n.crossLength(t,e);this.angularForce+=i}};var f=n.create(),p=n.create(),g=n.create();l.prototype.applyForceLocal=function(e,t){t=t||g,this.vectorToWorldFrame(f,e),this.vectorToWorldFrame(p,t),this.applyForce(f,p)};var m=n.create();l.prototype.applyImpulse=function(e,t){if(this.type===l.DYNAMIC&&(n.scale(m,e,this.invMass),n.multiply(m,this.massMultiplier,m),n.add(this.velocity,m,this.velocity),t)){var i=n.crossLength(t,e);i*=this.invInertia,this.angularVelocity+=i}};var v=n.create(),y=n.create(),b=n.create();l.prototype.applyImpulseLocal=function(e,t){t=t||b,this.vectorToWorldFrame(v,e),this.vectorToWorldFrame(y,t),this.applyImpulse(v,y)},l.prototype.toLocalFrame=function(e,t){n.toLocalFrame(e,t,this.position,this.angle)},l.prototype.toWorldFrame=function(e,t){n.toGlobalFrame(e,t,this.position,this.angle)},l.prototype.vectorToLocalFrame=function(e,t){n.vectorToLocalFrame(e,t,this.angle)},l.prototype.vectorToWorldFrame=function(e,t){n.vectorToGlobalFrame(e,t,this.angle)},l.prototype.fromPolygon=function(e,t){t=t||{};for(var i,a=this.shapes.length;a>=0;--a)this.removeShape(this.shapes[a]);var o=new r.Polygon;if(o.vertices=e,o.makeCCW(),"number"==typeof t.removeCollinearPoints&&o.removeCollinearPoints(t.removeCollinearPoints),void 0===t.skipSimpleCheck&&!o.isSimple())return!1;this.concavePath=o.vertices.slice(0);for(var a=0;a<this.concavePath.length;a++){var h=[0,0];n.copy(h,this.concavePath[a]),this.concavePath[a]=h}i=t.optimalDecomp?o.decomp():o.quickDecomp();for(var c=n.create(),a=0;a!==i.length;a++){for(var l=new s({vertices:i[a].vertices}),u=0;u!==l.vertices.length;u++){var h=l.vertices[u];n.sub(h,h,l.centerOfMass)}n.scale(c,l.centerOfMass,1),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),this.addShape(l,c)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0},n.fromValues(0,0);var x=n.fromValues(0,0),E=n.fromValues(0,0),w=n.fromValues(0,0);l.prototype.adjustCenterOfMass=function(){var e=0;n.set(E,0,0);for(var t=0;t!==this.shapes.length;t++){var i=this.shapes[t];n.scale(x,i.position,i.area),n.add(E,E,x),e+=i.area}n.scale(w,E,1/e);for(var t=0;t!==this.shapes.length;t++){var i=this.shapes[t];n.sub(i.position,i.position,w)}n.add(this.position,this.position,w);for(var t=0;this.concavePath&&t<this.concavePath.length;t++)n.sub(this.concavePath[t],this.concavePath[t],w);this.updateMassProperties(),this.updateBoundingRadius()},l.prototype.setZeroForce=function(){n.set(this.force,0,0),this.angularForce=0},l.prototype.resetConstraintVelocity=function(){var e=this.vlambda;n.set(e,0,0),this.wlambda=0},l.prototype.addConstraintVelocity=function(){var e=this.velocity;n.add(e,e,this.vlambda),this.angularVelocity+=this.wlambda},l.prototype.applyDamping=function(e){if(this.type===l.DYNAMIC){var t=this.velocity;n.scale(t,t,Math.pow(1-this.damping,e)),this.angularVelocity*=Math.pow(1-this.angularDamping,e)}},l.prototype.wakeUp=function(){var e=this.sleepState;this.sleepState=l.AWAKE,this.idleTime=0,e!==l.AWAKE&&this.emit(l.wakeUpEvent)},l.prototype.sleep=function(){this.sleepState=l.SLEEPING,this.angularVelocity=0,this.angularForce=0,n.set(this.velocity,0,0),n.set(this.force,0,0),this.emit(l.sleepEvent)},l.prototype.sleepTick=function(e,t,i){this.allowSleep&&this.type!==l.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,n.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=l.AWAKE):(this.idleTime+=i,this.sleepState=l.SLEEPY),this.idleTime>this.sleepTimeLimit&&(t?this.wantsToSleep=!0:this.sleep()))},l.prototype.overlaps=function(e){return this.world.overlapKeeper.bodiesAreOverlapping(this,e)};var T=n.create(),S=n.create();l.prototype.integrate=function(e){var t=this.invMass,i=this.force,r=this.position,s=this.velocity;n.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e),n.scale(T,i,e*t),n.multiply(T,this.massMultiplier,T),n.add(s,T,s),this.integrateToTimeOfImpact(e)||(n.scale(S,s,e),n.add(r,r,S),this.fixedRotation||(this.angle+=this.angularVelocity*e)),this.aabbNeedsUpdate=!0};var A=new a,C=new o({mode:o.ALL}),_=n.create(),I=n.create(),O=n.create(),P=n.create();l.prototype.integrateToTimeOfImpact=function(e){if(this.ccdSpeedThreshold<0||n.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;n.normalize(_,this.velocity),n.scale(I,this.velocity,e),n.add(I,I,this.position),n.sub(O,I,this.position);var t,i=this.angularVelocity*e,r=n.length(O),s=1,a=this;if(A.reset(),C.callback=function(e){e.body!==a&&(t=e.body,e.getHitPoint(I,C),n.sub(O,I,a.position),s=n.length(O)/r,e.stop())},n.copy(C.from,this.position),n.copy(C.to,I),C.update(),this.world.raycast(A,C),!t)return!1;var o=this.angle;n.copy(P,this.position);for(var h=0,c=0,l=0,u=s;u>=c&&h<this.ccdIterations;)h++,l=(u-c)/2,n.scale(S,O,s),n.add(this.position,P,S),this.angle=o+i*s,this.updateAABB(),this.aabb.overlaps(t.aabb)&&this.world.narrowphase.bodiesOverlap(this,t)?c=l:u=l;return s=l,n.copy(this.position,P),this.angle=o,n.scale(S,O,s),n.add(this.position,this.position,S),this.fixedRotation||(this.angle+=i*s),!0},l.prototype.getVelocityAtPoint=function(e,t){return n.crossVZ(e,t,this.angularVelocity),n.subtract(e,this.velocity,e),e},l.sleepyEvent={type:"sleepy"},l.sleepEvent={type:"sleep"},l.wakeUpEvent={type:"wakeup"},l.DYNAMIC=1,l.STATIC=2,l.KINEMATIC=4,l.AWAKE=0,l.SLEEPY=1,l.SLEEPING=2},{e93126ba09caa5de:"geg3A","75db1bf8b12d094":"5arAY","85daf14b1e993a58":"jXoGk",bca387afe93c506d:"bK4Qs","8404a18a841f8c6f":"3aaBs",b3d48c1afc29fb22:"7Fman","1546b4044e1fff1d":"3wc90"}],"5arAY":[function(e,t,i){t.exports={Polygon:e("2eab5d17bb85406d"),Point:e("bd8f4793cca96f82")}},{"2eab5d17bb85406d":"cUvDj",bd8f4793cca96f82:"jyNL6"}],cUvDj:[function(e,t,i){var n=e("d8008e40e643f58e"),r=e("27760a6f627f557e"),s=e("edd1be50e7a94605");function a(){this.vertices=[]}t.exports=a,a.prototype.at=function(e){var t=this.vertices,i=t.length;return t[e<0?e%i+i:e%i]},a.prototype.first=function(){return this.vertices[0]},a.prototype.last=function(){return this.vertices[this.vertices.length-1]},a.prototype.clear=function(){this.vertices.length=0},a.prototype.append=function(e,t,i){if(void 0===t)throw Error("From is not given!");if(void 0===i)throw Error("To is not given!");if(i-1<t)throw Error("lol1");if(i>e.vertices.length)throw Error("lol2");if(t<0)throw Error("lol3");for(var n=t;n<i;n++)this.vertices.push(e.vertices[n])},a.prototype.makeCCW=function(){for(var e=0,t=this.vertices,i=1;i<this.vertices.length;++i)(t[i][1]<t[e][1]||t[i][1]==t[e][1]&&t[i][0]>t[e][0])&&(e=i);r.left(this.at(e-1),this.at(e),this.at(e+1))||this.reverse()},a.prototype.reverse=function(){for(var e=[],t=0,i=this.vertices.length;t!==i;t++)e.push(this.vertices.pop());this.vertices=e},a.prototype.isReflex=function(e){return r.right(this.at(e-1),this.at(e),this.at(e+1))};var o=[],h=[];function c(e,t,i,n,r){r=r||0;var a=t[1]-e[1],o=e[0]-t[0],h=a*e[0]+o*e[1],c=n[1]-i[1],l=i[0]-n[0],u=c*i[0]+l*i[1],d=a*l-c*o;return s.eq(d,0,r)?[0,0]:[(l*h-o*u)/d,(a*u-c*h)/d]}a.prototype.canSee=function(e,t){var i,s;if(r.leftOn(this.at(e+1),this.at(e),this.at(t))&&r.rightOn(this.at(e-1),this.at(e),this.at(t)))return!1;s=r.sqdist(this.at(e),this.at(t));for(var a=0;a!==this.vertices.length;++a)if((a+1)%this.vertices.length!==e&&a!==e&&r.leftOn(this.at(e),this.at(t),this.at(a+1))&&r.rightOn(this.at(e),this.at(t),this.at(a))&&(o[0]=this.at(e),o[1]=this.at(t),h[0]=this.at(a),h[1]=this.at(a+1),i=n.lineInt(o,h),r.sqdist(this.at(e),i)<s))return!1;return!0},a.prototype.copy=function(e,t,i){var n=i||new a;if(n.clear(),e<t)for(var r=e;r<=t;r++)n.vertices.push(this.vertices[r]);else{for(var r=0;r<=t;r++)n.vertices.push(this.vertices[r]);for(var r=e;r<this.vertices.length;r++)n.vertices.push(this.vertices[r])}return n},a.prototype.getCutEdges=function(){for(var e=[],t=[],i=[],n=new a,r=Number.MAX_VALUE,s=0;s<this.vertices.length;++s)if(this.isReflex(s)){for(var o=0;o<this.vertices.length;++o)if(this.canSee(s,o)){t=this.copy(s,o,n).getCutEdges(),i=this.copy(o,s,n).getCutEdges();for(var h=0;h<i.length;h++)t.push(i[h]);t.length<r&&(e=t,r=t.length,e.push([this.at(s),this.at(o)]))}}return e},a.prototype.decomp=function(){var e=this.getCutEdges();return e.length>0?this.slice(e):[this]},a.prototype.slice=function(e){if(0==e.length)return[this];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2==e[0].length&&e[0][0]instanceof Array){for(var t=[this],i=0;i<e.length;i++)for(var n=e[i],r=0;r<t.length;r++){var s=t[r].slice(n);if(s){t.splice(r,1),t.push(s[0],s[1]);break}}return t}var n=e,i=this.vertices.indexOf(n[0]),r=this.vertices.indexOf(n[1]);return -1!=i&&-1!=r&&[this.copy(i,r),this.copy(r,i)]},a.prototype.isSimple=function(){for(var e=this.vertices,t=0;t<e.length-1;t++)for(var i=0;i<t-1;i++)if(n.segmentsIntersect(e[t],e[t+1],e[i],e[i+1]))return!1;for(var t=1;t<e.length-2;t++)if(n.segmentsIntersect(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0},a.prototype.quickDecomp=function(e,t,i,n,s,o){s=s||100,o=o||0,n=n||25,e=void 0!==e?e:[],t=t||[],i=i||[];var h=[0,0],l=[0,0],u=[0,0],d=0,f=0,p=0,g=0,m=0,v=0,y=0,b=new a,x=new a,E=this.vertices;if(E.length<3)return e;if(++o>s)return console.warn("quickDecomp: max level ("+s+") reached."),e;for(var w=0;w<this.vertices.length;++w)if(this.isReflex(w)){t.push(this.vertices[w]),d=f=Number.MAX_VALUE;for(var T=0;T<this.vertices.length;++T)r.left(this.at(w-1),this.at(w),this.at(T))&&r.rightOn(this.at(w-1),this.at(w),this.at(T-1))&&(u=c(this.at(w-1),this.at(w),this.at(T),this.at(T-1)),r.right(this.at(w+1),this.at(w),u)&&(p=r.sqdist(this.vertices[w],u))<f&&(f=p,l=u,v=T)),r.left(this.at(w+1),this.at(w),this.at(T+1))&&r.rightOn(this.at(w+1),this.at(w),this.at(T))&&(u=c(this.at(w+1),this.at(w),this.at(T),this.at(T+1)),r.left(this.at(w-1),this.at(w),u)&&(p=r.sqdist(this.vertices[w],u))<d&&(d=p,h=u,m=T));if(v==(m+1)%this.vertices.length)u[0]=(l[0]+h[0])/2,u[1]=(l[1]+h[1])/2,i.push(u),w<m?(b.append(this,w,m+1),b.vertices.push(u),x.vertices.push(u),0!=v&&x.append(this,v,this.vertices.length),x.append(this,0,w+1)):(0!=w&&b.append(this,w,this.vertices.length),b.append(this,0,m+1),b.vertices.push(u),x.vertices.push(u),x.append(this,v,w+1));else{if(v>m&&(m+=this.vertices.length),g=Number.MAX_VALUE,m<v)return e;for(var T=v;T<=m;++T)r.leftOn(this.at(w-1),this.at(w),this.at(T))&&r.rightOn(this.at(w+1),this.at(w),this.at(T))&&(p=r.sqdist(this.at(w),this.at(T)))<g&&(g=p,y=T%this.vertices.length);w<y?(b.append(this,w,y+1),0!=y&&x.append(this,y,E.length),x.append(this,0,w+1)):(0!=w&&b.append(this,w,E.length),b.append(this,0,y+1),x.append(this,y,w+1))}return b.vertices.length<x.vertices.length?(b.quickDecomp(e,t,i,n,s,o),x.quickDecomp(e,t,i,n,s,o)):(x.quickDecomp(e,t,i,n,s,o),b.quickDecomp(e,t,i,n,s,o)),e}return e.push(this),e},a.prototype.removeCollinearPoints=function(e){for(var t=0,i=this.vertices.length-1;this.vertices.length>3&&i>=0;--i)r.collinear(this.at(i-1),this.at(i),this.at(i+1),e)&&(this.vertices.splice(i%this.vertices.length,1),i--,t++);return t}},{d8008e40e643f58e:"4K6SZ","27760a6f627f557e":"jyNL6",edd1be50e7a94605:"7TFSV"}],"4K6SZ":[function(e,t,i){var n=e("fea8e7ecc9e8fe4");function r(){}t.exports=r,r.lineInt=function(e,t,i){i=i||0;var r,s,a,o,h,c,l,u=[0,0];return r=e[1][1]-e[0][1],s=e[0][0]-e[1][0],a=r*e[0][0]+s*e[0][1],o=t[1][1]-t[0][1],h=t[0][0]-t[1][0],c=o*t[0][0]+h*t[0][1],l=r*h-o*s,n.eq(l,0,i)||(u[0]=(h*a-s*c)/l,u[1]=(r*c-o*a)/l),u},r.segmentsIntersect=function(e,t,i,n){var r=t[0]-e[0],s=t[1]-e[1],a=n[0]-i[0],o=n[1]-i[1];if(a*s-o*r==0)return!1;var h=(r*(i[1]-e[1])+s*(e[0]-i[0]))/(a*s-o*r),c=(a*(e[1]-i[1])+o*(i[0]-e[0]))/(o*r-a*s);return h>=0&&h<=1&&c>=0&&c<=1}},{fea8e7ecc9e8fe4:"7TFSV"}],"7TFSV":[function(e,t,i){function n(){}t.exports=n,n.eq=function(e,t,i){return Math.abs(e-t)<(i=i||0)}},{}],jyNL6:[function(e,t,i){function n(){}t.exports=n,n.area=function(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])},n.left=function(e,t,i){return n.area(e,t,i)>0},n.leftOn=function(e,t,i){return n.area(e,t,i)>=0},n.right=function(e,t,i){return 0>n.area(e,t,i)},n.rightOn=function(e,t,i){return 0>=n.area(e,t,i)};var r=[],s=[];n.collinear=function(e,t,i,a){return a?(r[0]=t[0]-e[0],r[1]=t[1]-e[1],s[0]=i[0]-t[0],s[1]=i[1]-t[1],Math.acos((r[0]*s[0]+r[1]*s[1])/(Math.sqrt(r[0]*r[0]+r[1]*r[1])*Math.sqrt(s[0]*s[0]+s[1]*s[1])))<a):0==n.area(e,t,i)},n.sqdist=function(e,t){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}},{}],jXoGk:[function(e,t,i){var n=e("841fd986776e9f0c"),r=e("dcb74eb19e59e896"),s=e("84be6d54e4a9572e");function a(e){Array.isArray(arguments[0])&&(e={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),e=e||{},this.vertices=[];for(var t=void 0!==e.vertices?e.vertices:[],i=0;i<t.length;i++){var s=r.create();r.copy(s,t[i]),this.vertices.push(s)}if(this.axes=[],e.axes)for(var i=0;i<e.axes.length;i++){var a=r.create();r.copy(a,e.axes[i]),this.axes.push(a)}else for(var i=0;i<this.vertices.length;i++){var o=this.vertices[i],h=this.vertices[(i+1)%this.vertices.length],c=r.create();r.sub(c,h,o),r.rotate90cw(c,c),r.normalize(c,c),this.axes.push(c)}if(this.centerOfMass=r.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,e.type=n.CONVEX,n.call(this,e),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw Error("Convex vertices must be given in conter-clockwise winding.")}e("a884cbe4162e15c3"),t.exports=a,a.prototype=new n,a.prototype.constructor=a;var o=r.create(),h=r.create();a.prototype.projectOntoLocalAxis=function(e,t){for(var i,n,s=null,a=null,e=o,h=0;h<this.vertices.length;h++)i=this.vertices[h],n=r.dot(i,e),(null===s||n>s)&&(s=n),(null===a||n<a)&&(a=n);if(a>s){var c=a;a=s,s=c}r.set(t,a,s)},a.prototype.projectOntoWorldAxis=function(e,t,i,n){var s=h;this.projectOntoLocalAxis(e,n),0!==i?r.rotate(s,e,i):s=e;var a=r.dot(t,s);r.set(n,n[0]+a,n[1]+a)},a.prototype.updateTriangles=function(){this.triangles.length=0;for(var e=[],t=0;t<this.vertices.length;t++){var i=this.vertices[t];e.push(i[0],i[1])}for(var n=s.Triangulate(e),t=0;t<n.length;t+=3){var r=n[t],a=n[t+1],o=n[t+2];this.triangles.push([r,a,o])}};var c=r.create(),l=r.create(),u=r.create(),d=r.create(),f=r.create();r.create(),r.create(),r.create(),r.create(),a.prototype.updateCenterOfMass=function(){var e=this.triangles,t=this.vertices,i=this.centerOfMass,n=u,s=d,o=f;r.set(i,0,0);for(var h=0,p=0;p!==e.length;p++){var g=e[p],n=t[g[0]],s=t[g[1]],o=t[g[2]];r.centroid(c,n,s,o);var m=a.triangleArea(n,s,o);h+=m,r.scale(l,c,m),r.add(i,i,l)}r.scale(i,i,1/h)},a.prototype.computeMomentOfInertia=function(e){for(var t=0,i=0,n=this.vertices.length,s=n-1,a=0;a<n;s=a,a++){var o=this.vertices[s],h=this.vertices[a],c=Math.abs(r.crossLength(o,h));t+=c*(r.dot(h,h)+r.dot(h,o)+r.dot(o,o)),i+=c}return e/6*(t/i)},a.prototype.updateBoundingRadius=function(){for(var e=this.vertices,t=0,i=0;i!==e.length;i++){var n=r.squaredLength(e[i]);n>t&&(t=n)}this.boundingRadius=Math.sqrt(t)},a.triangleArea=function(e,t,i){return((t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1]))*.5},a.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var e=this.triangles,t=this.vertices,i=0;i!==e.length;i++){var n=e[i],r=t[n[0]],s=t[n[1]],o=t[n[2]],h=a.triangleArea(r,s,o);this.area+=h}},a.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)};var p=r.create(),g=r.create(),m=r.create();a.prototype.raycast=function(e,t,i,n){var s=this.vertices;r.toLocalFrame(p,t.from,i,n),r.toLocalFrame(g,t.to,i,n);for(var a=s.length,o=0;o<a&&!e.shouldStop(t);o++){var h=s[o],c=s[(o+1)%a],l=r.getLineSegmentsIntersectionFraction(p,g,h,c);l>=0&&(r.sub(m,c,h),r.rotate(m,m,-Math.PI/2+n),r.normalize(m,m),t.reportIntersection(e,l,m,o))}}},{"841fd986776e9f0c":"fyiLV",dcb74eb19e59e896:"geg3A","84be6d54e4a9572e":"5fcbo",a884cbe4162e15c3:"5arAY"}],fyiLV:[function(e,t,i){t.exports=r;var n=e("7f0647825fa1536d");function r(e){e=e||{},this.body=null,this.position=n.fromValues(0,0),e.position&&n.copy(this.position,e.position),this.angle=e.angle||0,this.type=e.type||0,this.id=r.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:1,this.material=e.material||null,this.area=0,this.sensor=void 0!==e.sensor&&e.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}r.idCounter=0,r.CIRCLE=1,r.PARTICLE=2,r.PLANE=4,r.CONVEX=8,r.LINE=16,r.BOX=32,Object.defineProperty(r,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),r.BOX}}),r.CAPSULE=64,r.HEIGHTFIELD=128,r.prototype.computeMomentOfInertia=function(e){},r.prototype.updateBoundingRadius=function(){},r.prototype.updateArea=function(){},r.prototype.computeAABB=function(e,t,i){},r.prototype.raycast=function(e,t,i,n){}},{"7f0647825fa1536d":"geg3A"}],"5fcbo":[function(e,t,i){var n={};n.GetArea=function(e){if(e.length<6)return 0;for(var t=e.length-2,i=0,n=0;n<t;n+=2)i+=(e[n+2]-e[n])*(e[n+1]+e[n+3]);return-(.5*(i+=(e[0]-e[t])*(e[t+1]+e[1])))},n.Triangulate=function(e){var t=e.length>>1;if(t<3)return[];for(var i=[],r=[],s=0;s<t;s++)r.push(s);for(var s=0,a=t;a>3;){var o=r[(s+0)%a],h=r[(s+1)%a],c=r[(s+2)%a],l=e[2*o],u=e[2*o+1],d=e[2*h],f=e[2*h+1],p=e[2*c],g=e[2*c+1],m=!1;if(n._convex(l,u,d,f,p,g)){m=!0;for(var v=0;v<a;v++){var y=r[v];if(y!=o&&y!=h&&y!=c&&n._PointInTriangle(e[2*y],e[2*y+1],l,u,d,f,p,g)){m=!1;break}}}if(m)i.push(o,h,c),r.splice((s+1)%a,1),a--,s=0;else if(s++>3*a)break}return i.push(r[0],r[1],r[2]),i},n._PointInTriangle=function(e,t,i,n,r,s,a,o){var h=a-i,c=o-n,l=r-i,u=s-n,d=e-i,f=t-n,p=h*h+c*c,g=h*l+c*u,m=h*d+c*f,v=l*l+u*u,y=l*d+u*f,b=1/(p*v-g*g),x=(v*m-g*y)*b,E=(p*y-g*m)*b;return x>=0&&E>=0&&x+E<1},n._convex=function(e,t,i,n,r,s){return(t-n)*(r-i)+(i-e)*(s-n)>=0},t.exports=n},{}],bK4Qs:[function(e,t,i){var n=e("ffed16535981586e"),r=e("b8c131fd689cab6d");function s(){this.normal=n.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}t.exports=s,s.prototype.reset=function(){n.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},s.prototype.getHitDistance=function(e){return n.distance(e.from,e.to)*this.fraction},s.prototype.hasHit=function(){return -1!==this.fraction},s.prototype.getHitPoint=function(e,t){n.lerp(e,t.from,t.to,this.fraction)},s.prototype.stop=function(){this.isStopped=!0},s.prototype.shouldStop=function(e){return this.isStopped||-1!==this.fraction&&e.mode===r.ANY},s.prototype.set=function(e,t,i,r,s){n.copy(this.normal,e),this.shape=t,this.body=i,this.fraction=r,this.faceIndex=s}},{ffed16535981586e:"geg3A",b8c131fd689cab6d:"3aaBs"}],"3aaBs":[function(e,t,i){t.exports=r;var n=e("33edfb61f004dada");function r(e){e=e||{},this.from=e.from?n.fromValues(e.from[0],e.from[1]):n.create(),this.to=e.to?n.fromValues(e.to[0],e.to[1]):n.create(),this.checkCollisionResponse=void 0===e.checkCollisionResponse||e.checkCollisionResponse,this.skipBackfaces=!!e.skipBackfaces,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:-1,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:-1,this.mode=void 0!==e.mode?e.mode:r.ANY,this.callback=e.callback||function(e){},this.direction=n.create(),this.length=1,this.update()}e("9e89c41e6357f79c"),e("197f77279886c828"),e("bb1f87d75f3ca6c0"),r.prototype.constructor=r,r.CLOSEST=1,r.ANY=2,r.ALL=4,r.prototype.update=function(){var e=this.direction;n.sub(e,this.to,this.from),this.length=n.length(e),n.normalize(e,e)},r.prototype.intersectBodies=function(e,t){for(var i=0,n=t.length;!e.shouldStop(this)&&i<n;i++){var r=t[i],s=r.getAABB();(s.overlapsRay(this)>=0||s.containsPoint(this.from))&&this.intersectBody(e,r)}};var s=n.create();r.prototype.intersectBody=function(e,t){var i=this.checkCollisionResponse;if(!i||t.collisionResponse)for(var r=0,a=t.shapes.length;r<a;r++){var o=t.shapes[r];if((!i||o.collisionResponse)&&(this.collisionGroup&o.collisionMask)!=0&&(o.collisionGroup&this.collisionMask)!=0){n.rotate(s,o.position,t.angle),n.add(s,s,t.position);var h=o.angle+t.angle;if(this.intersectShape(e,o,h,s,t),e.shouldStop(this))break}}},r.prototype.intersectShape=function(e,t,i,r,s){var h,c,l;h=this.from,c=this.direction,n.sub(a,r,h),l=n.dot(a,c),n.scale(o,c,l),n.add(o,o,h),n.squaredDistance(r,o)>t.boundingRadius*t.boundingRadius||(this._currentBody=s,this._currentShape=t,t.raycast(e,this,r,i),this._currentBody=this._currentShape=null)},r.prototype.getAABB=function(e){var t=this.to,i=this.from;n.set(e.lowerBound,Math.min(t[0],i[0]),Math.min(t[1],i[1])),n.set(e.upperBound,Math.max(t[0],i[0]),Math.max(t[1],i[1]))},n.create(),r.prototype.reportIntersection=function(e,t,i,s){this.from,this.to;var a=this._currentShape,o=this._currentBody;if(!(this.skipBackfaces&&n.dot(i,this.direction)>0))switch(this.mode){case r.ALL:e.set(i,a,o,t,s),this.callback(e);break;case r.CLOSEST:(t<e.fraction||!e.hasHit())&&e.set(i,a,o,t,s);break;case r.ANY:e.set(i,a,o,t,s)}};var a=n.create(),o=n.create()},{"33edfb61f004dada":"geg3A","9e89c41e6357f79c":"bK4Qs","197f77279886c828":"fyiLV",bb1f87d75f3ca6c0:"7Fman"}],"3wc90":[function(e,t,i){var n=function(){};t.exports=n,n.prototype={constructor:n,on:function(e,t,i){t.context=i||this,void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t),this},has:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;if(t){if(void 0!==i[e]&&-1!==i[e].indexOf(t))return!0}else if(void 0!==i[e])return!0;return!1},off:function(e,t){if(void 0===this._listeners)return this;var i=this._listeners,n=i[e].indexOf(t);return -1!==n&&i[e].splice(n,1),this},emit:function(e){if(void 0===this._listeners)return this;var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=0,n=t.length;i<n;i++){var r=t[i];r.call(r.context,e)}}return this}}},{}],"5ZGdm":[function(e,t,i){var n=e("1627a00dfa455de0"),r=e("2a79571e0c411022");function s(e){this.type=e,this.result=[],this.world=null,this.boundingVolumeType=s.AABB}t.exports=s,s.AABB=1,s.BOUNDING_CIRCLE=2,s.prototype.setWorld=function(e){this.world=e},s.prototype.getCollisionPairs=function(e){};var a=n.create();s.boundingRadiusCheck=function(e,t){n.sub(a,e.position,t.position);var i=n.squaredLength(a),r=e.boundingRadius+t.boundingRadius;return i<=r*r},s.aabbCheck=function(e,t){return e.getAABB().overlaps(t.getAABB())},s.prototype.boundingVolumeCheck=function(e,t){var i;switch(this.boundingVolumeType){case s.BOUNDING_CIRCLE:i=s.boundingRadiusCheck(e,t);break;case s.AABB:i=s.aabbCheck(e,t);break;default:throw Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},s.canCollide=function(e,t){var i=r.KINEMATIC,n=r.STATIC;return(e.type!==n||t.type!==n)&&(e.type!==i||t.type!==n)&&(e.type!==n||t.type!==i)&&(e.type!==i||t.type!==i)&&(e.sleepState!==r.SLEEPING||t.sleepState!==r.SLEEPING)&&(e.sleepState!==r.SLEEPING||t.type!==n)&&(t.sleepState!==r.SLEEPING||e.type!==n)},s.NAIVE=1,s.SAP=2},{"1627a00dfa455de0":"geg3A","2a79571e0c411022":"1vLHz"}],iCu6l:[function(e,t,i){var n=e("9e9977082ca4fe14"),r=e("18975187aa31e1cf");function s(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),e=e||{},this.length=e.length||1,this.radius=e.radius||1,e.type=n.CAPSULE,n.call(this,e)}t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeMomentOfInertia=function(e){var t=this.radius,i=this.length+t,n=2*t;return e*(n*n+i*i)/12},s.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},s.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=r.create();s.prototype.computeAABB=function(e,t,i){var n=this.radius;r.set(a,this.length/2,0),0!==i&&r.rotate(a,a,i),r.set(e.upperBound,Math.max(a[0]+n,-a[0]+n),Math.max(a[1]+n,-a[1]+n)),r.set(e.lowerBound,Math.min(a[0]-n,-a[0]-n),Math.min(a[1]-n,-a[1]-n)),r.add(e.lowerBound,e.lowerBound,t),r.add(e.upperBound,e.upperBound,t)};var o=r.create(),h=r.create(),c=r.create(),l=r.create(),u=r.fromValues(0,1);s.prototype.raycast=function(e,t,i,n){var s=t.from,a=t.to;t.direction;for(var d=this.length/2,f=0;f<2;f++){var p=this.radius*(2*f-1);r.set(c,-d,p),r.set(l,d,p),r.toGlobalFrame(c,c,i,n),r.toGlobalFrame(l,l,i,n);var g=r.getLineSegmentsIntersectionFraction(s,a,c,l);if(g>=0&&(r.rotate(h,u,n),r.scale(h,h,2*f-1),t.reportIntersection(e,g,h,-1),e.shouldStop(t)))return}for(var m=Math.pow(this.radius,2)+Math.pow(d,2),f=0;f<2;f++){r.set(c,d*(2*f-1),0),r.toGlobalFrame(c,c,i,n);var v=Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2),y=2*((a[0]-s[0])*(s[0]-c[0])+(a[1]-s[1])*(s[1]-c[1])),g=Math.pow(y,2)-4*v*(Math.pow(s[0]-c[0],2)+Math.pow(s[1]-c[1],2)-Math.pow(this.radius,2));if(!(g<0)){if(0===g){if(r.lerp(o,s,a,g),r.squaredDistance(o,i)>m&&(r.sub(h,o,c),r.normalize(h,h),t.reportIntersection(e,g,h,-1),e.shouldStop(t)))return}else{var b=Math.sqrt(g),x=1/(2*v),E=(-y-b)*x,w=(-y+b)*x;if(E>=0&&E<=1&&(r.lerp(o,s,a,E),r.squaredDistance(o,i)>m&&(r.sub(h,o,c),r.normalize(h,h),t.reportIntersection(e,E,h,-1),e.shouldStop(t)))||w>=0&&w<=1&&(r.lerp(o,s,a,w),r.squaredDistance(o,i)>m&&(r.sub(h,o,c),r.normalize(h,h),t.reportIntersection(e,w,h,-1),e.shouldStop(t))))return}}}}},{"9e9977082ca4fe14":"fyiLV","18975187aa31e1cf":"geg3A"}],"71oh9":[function(e,t,i){var n=e("7b96c457d59a0d0"),r=e("b89d644e39bbe061");function s(e){"number"==typeof arguments[0]&&(e={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),e=e||{},this.radius=e.radius||1,e.type=n.CIRCLE,n.call(this,e)}t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeMomentOfInertia=function(e){var t=this.radius;return e*t*t/2},s.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},s.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},s.prototype.computeAABB=function(e,t,i){var n=this.radius;r.set(e.upperBound,n,n),r.set(e.lowerBound,-n,-n),t&&(r.add(e.lowerBound,e.lowerBound,t),r.add(e.upperBound,e.upperBound,t))};var a=r.create(),o=r.create();s.prototype.raycast=function(e,t,i,n){var s=t.from,h=t.to,c=this.radius,l=Math.pow(h[0]-s[0],2)+Math.pow(h[1]-s[1],2),u=2*((h[0]-s[0])*(s[0]-i[0])+(h[1]-s[1])*(s[1]-i[1])),d=Math.pow(u,2)-4*l*(Math.pow(s[0]-i[0],2)+Math.pow(s[1]-i[1],2)-Math.pow(c,2));if(!(d<0)){if(0===d)r.lerp(a,s,h,d),r.sub(o,a,i),r.normalize(o,o),t.reportIntersection(e,d,o,-1);else{var f=Math.sqrt(d),p=1/(2*l),g=(-u-f)*p,m=(-u+f)*p;if(g>=0&&g<=1&&(r.lerp(a,s,h,g),r.sub(o,a,i),r.normalize(o,o),t.reportIntersection(e,g,o,-1),e.shouldStop(t)))return;m>=0&&m<=1&&(r.lerp(a,s,h,m),r.sub(o,a,i),r.normalize(o,o),t.reportIntersection(e,m,o,-1))}}}},{"7b96c457d59a0d0":"fyiLV",b89d644e39bbe061:"geg3A"}],fl4d5:[function(e,t,i){t.exports=r;var n=e("72b9dd33e1ac0322");function r(e,t,i,r){this.type=i,r=n.defaults(r,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=e,this.bodyB=t,this.collideConnected=r.collideConnected,r.wakeUpBodies&&(e&&e.wakeUp(),t&&t.wakeUp())}r.prototype.update=function(){throw Error("method update() not implmemented in this Constraint subclass!")},r.DISTANCE=1,r.GEAR=2,r.LOCK=3,r.PRISMATIC=4,r.REVOLUTE=5,r.prototype.setStiffness=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.stiffness=e,n.needsUpdate=!0}},r.prototype.setRelaxation=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.relaxation=e,n.needsUpdate=!0}}},{"72b9dd33e1ac0322":"7sQcP"}],"2hWGL":[function(e,t,i){var n=e("d1ef8939b96b621"),r=e("b8f27de80732e752");function s(e,t){n.call(this,e,t,0,Number.MAX_VALUE),this.contactPointA=r.create(),this.penetrationVec=r.create(),this.contactPointB=r.create(),this.normalA=r.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeB=function(e,t,i){var n,s,a=this.bodyA,o=this.bodyB,h=this.contactPointA,c=this.contactPointB,l=a.position,u=o.position,d=this.penetrationVec,f=this.normalA,p=this.G,g=r.crossLength(h,f),m=r.crossLength(c,f);return p[0]=-f[0],p[1]=-f[1],p[2]=-g,p[3]=f[0],p[4]=f[1],p[5]=m,r.add(d,u,c),r.sub(d,d,l),r.sub(d,d,h),this.firstImpact&&0!==this.restitution?(s=0,n=1/t*(1+this.restitution)*this.computeGW()):(s=r.dot(f,d)+this.offset,n=this.computeGW()),-s*e-n*t-i*this.computeGiMf()};var a=r.create(),o=r.create(),h=r.create();s.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(o,this.contactPointB),r.subtract(h,a,o),r.dot(this.normalA,h)}},{d1ef8939b96b621:"kSmDE",b8f27de80732e752:"geg3A"}],c7vmA:[function(e,t,i){var n=e("c9592f5c11436c3c"),r=e("16e85c8eda8f563e");function s(){r.apply(this,arguments)}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.create=function(){return new n},s.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{c9592f5c11436c3c:"2hWGL","16e85c8eda8f563e":"5lrfq"}],"5lrfq":[function(e,t,i){function n(e){e=e||{},this.objects=[],void 0!==e.size&&this.resize(e.size)}t.exports=n,n.prototype.resize=function(e){for(var t=this.objects;t.length>e;)t.pop();for(;t.length<e;)t.push(this.create());return this},n.prototype.get=function(){var e=this.objects;return e.length?e.pop():this.create()},n.prototype.release=function(e){return this.destroy(e),this.objects.push(e),this}},{}],"7VedP":[function(e,t,i){var n=e("fc2def147583745d"),r=e("91d2d0213c5dc868");function s(e,t,i){if(i=i||{},!(e instanceof n)||!(t instanceof n))throw Error("First two arguments must be Material instances.");this.id=s.idCounter++,this.materialA=e,this.materialB=t,this.friction=void 0!==i.friction?Number(i.friction):.3,this.restitution=void 0!==i.restitution?Number(i.restitution):0,this.stiffness=void 0!==i.stiffness?Number(i.stiffness):r.DEFAULT_STIFFNESS,this.relaxation=void 0!==i.relaxation?Number(i.relaxation):r.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==i.frictionStiffness?Number(i.frictionStiffness):r.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==i.frictionRelaxation?Number(i.frictionRelaxation):r.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}t.exports=s,s.idCounter=0},{fc2def147583745d:"kKj3c","91d2d0213c5dc868":"kSmDE"}],kKj3c:[function(e,t,i){function n(e){this.id=e||n.idCounter++}t.exports=n,n.idCounter=0},{}],eMph3:[function(e,t,i){var n=e("620aafee58b85d7b"),r=e("9a9c76eef024f50"),s=e("631888c66aae238e"),a=e("6fddc2832ed3f9f");function o(e,t,i){i=a.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),n.call(this,e,t,n.DISTANCE,i),this.localAnchorA=s.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=s.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var o,h=this.localAnchorA,c=this.localAnchorB;if(this.distance=0,"number"==typeof i.distance)this.distance=i.distance;else{var l=s.create(),u=s.create(),d=s.create();s.rotate(l,h,e.angle),s.rotate(u,c,t.angle),s.add(d,t.position,u),s.sub(d,d,l),s.sub(d,d,e.position),this.distance=s.length(d)}var f=new r(e,t,-(o=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce),o);this.equations=[f],this.maxForce=o;var d=s.create(),p=s.create(),g=s.create(),m=this;f.computeGq=function(){var e=this.bodyA,t=this.bodyB,i=e.position,n=t.position;return s.rotate(p,h,e.angle),s.rotate(g,c,t.angle),s.add(d,n,g),s.sub(d,d,p),s.sub(d,d,i),s.length(d)-m.distance},this.setMaxForce(o),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}t.exports=o,o.prototype=new n,o.prototype.constructor=o;var h=s.create(),c=s.create(),l=s.create();o.prototype.update=function(){var e=this.equations[0],t=this.bodyA,i=this.bodyB,n=(this.distance,t.position),r=i.position,a=this.equations[0],o=e.G;s.rotate(c,this.localAnchorA,t.angle),s.rotate(l,this.localAnchorB,i.angle),s.add(h,r,l),s.sub(h,h,c),s.sub(h,h,n),this.position=s.length(h);var u=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(a.maxForce=0,a.minForce=-this.maxForce,this.distance=this.upperLimit,u=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(a.maxForce=this.maxForce,a.minForce=0,this.distance=this.lowerLimit,u=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!u){a.enabled=!1;return}a.enabled=!0,s.normalize(h,h);var d=s.crossLength(c,h),f=s.crossLength(l,h);o[0]=-h[0],o[1]=-h[1],o[2]=-d,o[3]=h[0],o[4]=h[1],o[5]=f},o.prototype.setMaxForce=function(e){var t=this.equations[0];t.minForce=-e,t.maxForce=e},o.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"620aafee58b85d7b":"fl4d5","9a9c76eef024f50":"kSmDE","631888c66aae238e":"geg3A","6fddc2832ed3f9f":"7sQcP"}],"6o1RQ":[function(e,t,i){var n=e("b0acfea61f6f4161"),r=e("4a773823483ed44");function s(e,t,i){r.call(this,e,t,-i,i),this.contactPointA=n.create(),this.contactPointB=n.create(),this.t=n.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}e("981c32654f98c292"),t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.setSlipForce=function(e){this.maxForce=e,this.minForce=-e},s.prototype.getSlipForce=function(){return this.maxForce},s.prototype.computeB=function(e,t,i){this.bodyA,this.bodyB;var r=this.contactPointA,s=this.contactPointB,a=this.t,o=this.G;return o[0]=-a[0],o[1]=-a[1],o[2]=-n.crossLength(r,a),o[3]=a[0],o[4]=a[1],o[5]=n.crossLength(s,a),-this.computeGW()*t-i*this.computeGiMf()}},{b0acfea61f6f4161:"geg3A","4a773823483ed44":"kSmDE","981c32654f98c292":"7sQcP"}],dT2Zx:[function(e,t,i){var n=e("4ef88f5abe9e17d5"),r=e("f82e12a03081c4a8");function s(){r.apply(this,arguments)}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.create=function(){return new n},s.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{"4ef88f5abe9e17d5":"6o1RQ",f82e12a03081c4a8:"5lrfq"}],c2nuE:[function(e,t,i){var n=e("73ca40a78930f02d"),r=(e("1e7494b86ac8914c"),e("c98a2cf2d75a2125"));function s(e,t,i){i=i||{},n.call(this,e,t,n.GEAR,i),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:t.angle-this.ratio*e.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new r(e,t,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}e("5750fdd4fabd8533"),t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.update=function(){var e=this.equations[0];e.ratio!==this.ratio&&e.setRatio(this.ratio),e.angle=this.angle},s.prototype.setMaxTorque=function(e){this.equations[0].setMaxTorque(e)},s.prototype.getMaxTorque=function(e){return this.equations[0].maxForce}},{"73ca40a78930f02d":"fl4d5","1e7494b86ac8914c":"kSmDE",c98a2cf2d75a2125:"jaQW1","5750fdd4fabd8533":"geg3A"}],Kc35t:[function(e,t,i){var n=e("5da883f1a169a767"),r=e("806c911d364412af"),s=e("860c6aa487698116"),a=e("407b0a2d87bc3b6e");function o(e){r.call(this,e,r.GS),e=e||{},this.iterations=e.iterations||10,this.tolerance=e.tolerance||1e-7,this.arrayStep=30,this.lambda=new s.ARRAY_TYPE(this.arrayStep),this.Bs=new s.ARRAY_TYPE(this.arrayStep),this.invCs=new s.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==e.frictionIterations?0:e.frictionIterations,this.usedIterations=0}t.exports=o,o.prototype=new r,o.prototype.constructor=o,o.prototype.solve=function(e,t){this.sortEquations();var i,r,h,c,l=0,u=this.iterations,d=this.frictionIterations,f=this.equations,p=f.length,g=Math.pow(this.tolerance*p,2),m=t.bodies,v=t.bodies.length,y=(n.add,n.set,this.useZeroRHS),b=this.lambda;if(this.usedIterations=0,p)for(var h=0;h!==v;h++){var x=m[h];x.updateSolveMassProperties()}b.length<p&&(b=this.lambda=new s.ARRAY_TYPE(p+this.arrayStep),this.Bs=new s.ARRAY_TYPE(p+this.arrayStep),this.invCs=new s.ARRAY_TYPE(p+this.arrayStep)),function(e){for(var t=e.length;t--;)e[t]=0}(b);for(var E=this.invCs,w=this.Bs,b=this.lambda,h=0;h!==f.length;h++){var i=f[h];(i.timeStep!==e||i.needsUpdate)&&(i.timeStep=e,i.update()),w[h]=i.computeB(i.a,i.b,e),E[h]=i.computeInvC(i.epsilon)}if(0!==p){for(h=0;h!==v;h++){var x=m[h];x.resetConstraintVelocity()}if(d){for(l=0;l!==d;l++){for(c=0,r=0;c!==p;c++){i=f[c];var T=o.iterateEquation(c,i,i.epsilon,w,E,b,y,e,l);r+=Math.abs(T)}if(this.usedIterations++,r*r<=g)break}for(o.updateMultipliers(f,b,1/e),c=0;c!==p;c++){var S=f[c];if(S instanceof a){for(var A=0,C=0;C!==S.contactEquations.length;C++)A+=S.contactEquations[C].multiplier;A*=S.frictionCoefficient/S.contactEquations.length,S.maxForce=A,S.minForce=-A}}}for(l=0;l!==u;l++){for(c=0,r=0;c!==p;c++){i=f[c];var T=o.iterateEquation(c,i,i.epsilon,w,E,b,y,e,l);r+=Math.abs(T)}if(this.usedIterations++,r*r<=g)break}for(h=0;h!==v;h++)m[h].addConstraintVelocity();o.updateMultipliers(f,b,1/e)}},o.updateMultipliers=function(e,t,i){for(var n=e.length;n--;)e[n].multiplier=t[n]*i},o.iterateEquation=function(e,t,i,n,r,s,a,o,h){var c=n[e],l=r[e],u=s[e],d=t.computeGWlambda(),f=t.maxForce,p=t.minForce;a&&(c=0);var g=l*(c-d-i*u),m=u+g;return m<p*o?g=p*o-u:m>f*o&&(g=f*o-u),s[e]+=g,t.addToWlambda(g),g}},{"5da883f1a169a767":"geg3A","806c911d364412af":"cslpB","860c6aa487698116":"7sQcP","407b0a2d87bc3b6e":"6o1RQ"}],cslpB:[function(e,t,i){e("ead7d6ca55bdfe1c");var n=e("d16ea32444765393");function r(e,t){e=e||{},n.call(this),this.type=t,this.equations=[],this.equationSortFunction=e.equationSortFunction||!1}t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.solve=function(e,t){throw Error("Solver.solve should be implemented by subclasses!")};var s={bodies:[]};r.prototype.solveIsland=function(e,t){this.removeAllEquations(),t.equations.length&&(this.addEquations(t.equations),s.bodies.length=0,t.getBodies(s.bodies),s.bodies.length&&this.solve(e,s))},r.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},r.prototype.addEquation=function(e){e.enabled&&this.equations.push(e)},r.prototype.addEquations=function(e){for(var t=0,i=e.length;t!==i;t++){var n=e[t];n.enabled&&this.equations.push(n)}},r.prototype.removeEquation=function(e){var t=this.equations.indexOf(e);-1!==t&&this.equations.splice(t,1)},r.prototype.removeAllEquations=function(){this.equations.length=0},r.GS=1,r.ISLAND=2},{ead7d6ca55bdfe1c:"7sQcP",d16ea32444765393:"3wc90"}],g5PHm:[function(e,t,i){var n=e("8b74883bebf2335f"),r=e("2a849db0ba73e95d");function s(e){if(Array.isArray(arguments[0])){if(e={heights:arguments[0]},"object"==typeof arguments[1])for(var t in arguments[1])e[t]=arguments[1][t];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}e=e||{},this.heights=e.heights?e.heights.slice(0):[],this.maxValue=e.maxValue||null,this.minValue=e.minValue||null,this.elementWidth=e.elementWidth||.1,(void 0===e.maxValue||void 0===e.minValue)&&this.updateMaxMinValues(),e.type=n.HEIGHTFIELD,n.call(this,e)}e("2dc7f9a400756551"),t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.updateMaxMinValues=function(){for(var e=this.heights,t=e[0],i=e[0],n=0;n!==e.length;n++){var r=e[n];r>t&&(t=r),r<i&&(i=r)}this.maxValue=t,this.minValue=i},s.prototype.computeMomentOfInertia=function(e){return Number.MAX_VALUE},s.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},s.prototype.updateArea=function(){for(var e=this.heights,t=0,i=0;i<e.length-1;i++)t+=(e[i]+e[i+1])/2*this.elementWidth;this.area=t};var a=[r.create(),r.create(),r.create(),r.create()];s.prototype.computeAABB=function(e,t,i){r.set(a[0],0,this.maxValue),r.set(a[1],this.elementWidth*this.heights.length,this.maxValue),r.set(a[2],this.elementWidth*this.heights.length,this.minValue),r.set(a[3],0,this.minValue),e.setFromPoints(a,t,i)},s.prototype.getLineSegment=function(e,t,i){var n=this.heights,s=this.elementWidth;r.set(e,i*s,n[i]),r.set(t,(i+1)*s,n[i+1])},s.prototype.getSegmentIndex=function(e){return Math.floor(e[0]/this.elementWidth)},s.prototype.getClampedSegmentIndex=function(e){var t=this.getSegmentIndex(e);return Math.min(this.heights.length,Math.max(t,0))},r.create();var o=r.create(),h=r.create(),c=r.create(),l=r.create(),u=r.create();r.fromValues(0,1),s.prototype.raycast=function(e,t,i,n){var s=t.from,a=t.to;t.direction,r.toLocalFrame(l,s,i,n),r.toLocalFrame(u,a,i,n);var d=this.getClampedSegmentIndex(l),f=this.getClampedSegmentIndex(u);if(d>f){var p=d;d=f,f=p}for(var g=0;g<this.heights.length-1;g++){this.getLineSegment(h,c,g);var m=r.getLineSegmentsIntersectionFraction(l,u,h,c);if(m>=0&&(r.sub(o,c,h),r.rotate(o,o,n+Math.PI/2),r.normalize(o,o),t.reportIntersection(e,m,o,-1),e.shouldStop(t)))return}}},{"8b74883bebf2335f":"fyiLV","2a849db0ba73e95d":"geg3A","2dc7f9a400756551":"7sQcP"}],"3e8Uk":[function(e,t,i){var n=e("e0cff235fc0213eb"),r=e("f3353cee691d66a4");function s(e){"number"==typeof arguments[0]&&(e={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),e=e||{},this.length=e.length||1,e.type=n.LINE,n.call(this,e)}t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeMomentOfInertia=function(e){return e*Math.pow(this.length,2)/12},s.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[r.create(),r.create()];s.prototype.computeAABB=function(e,t,i){var n=this.length/2;r.set(a[0],-n,0),r.set(a[1],n,0),e.setFromPoints(a,t,i,0)},r.create();var o=r.create(),h=r.create(),c=r.create(),l=r.fromValues(0,1);s.prototype.raycast=function(e,t,i,n){var s=t.from,a=t.to,u=this.length/2;r.set(h,-u,0),r.set(c,u,0),r.toGlobalFrame(h,h,i,n),r.toGlobalFrame(c,c,i,n);var d=r.getLineSegmentsIntersectionFraction(h,c,s,a);d>=0&&(r.rotate(o,l,n),t.reportIntersection(e,d,o,-1))}},{e0cff235fc0213eb:"fyiLV",f3353cee691d66a4:"geg3A"}],"3C7H6":[function(e,t,i){var n=e("97b5dc61d97fd4de"),r=e("48200108ddae2806"),s=e("6dd72d87868993d0");function a(e,t,i){i=i||{},n.call(this,e,t,n.LOCK,i);var a=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce;i.localAngleB;var o=new s(e,t,-a,a),h=new s(e,t,-a,a),c=new s(e,t,-a,a),l=r.create(),u=r.create(),d=this;o.computeGq=function(){return r.rotate(l,d.localOffsetB,e.angle),r.sub(u,t.position,e.position),r.sub(u,u,l),u[0]},h.computeGq=function(){return r.rotate(l,d.localOffsetB,e.angle),r.sub(u,t.position,e.position),r.sub(u,u,l),u[1]};var f=r.create(),p=r.create();c.computeGq=function(){return r.rotate(f,d.localOffsetB,t.angle-d.localAngleB),r.scale(f,f,-1),r.sub(u,e.position,t.position),r.add(u,u,f),r.rotate(p,f,-Math.PI/2),r.normalize(p,p),r.dot(u,p)},this.localOffsetB=r.create(),i.localOffsetB?r.copy(this.localOffsetB,i.localOffsetB):(r.sub(this.localOffsetB,t.position,e.position),r.rotate(this.localOffsetB,this.localOffsetB,-e.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=t.angle-e.angle,this.equations.push(o,h,c),this.setMaxForce(a)}t.exports=a,a.prototype=new n,a.prototype.constructor=a,a.prototype.setMaxForce=function(e){for(var t=this.equations,i=0;i<this.equations.length;i++)t[i].maxForce=e,t[i].minForce=-e},a.prototype.getMaxForce=function(){return this.equations[0].maxForce};var o=r.create(),h=r.create(),c=r.create(),l=r.fromValues(1,0),u=r.fromValues(0,1);a.prototype.update=function(){var e=this.equations[0],t=this.equations[1],i=this.equations[2],n=this.bodyA,s=this.bodyB;r.rotate(o,this.localOffsetB,n.angle),r.rotate(h,this.localOffsetB,s.angle-this.localAngleB),r.scale(h,h,-1),r.rotate(c,h,Math.PI/2),r.normalize(c,c),e.G[0]=-1,e.G[1]=0,e.G[2]=-r.crossLength(o,l),e.G[3]=1,t.G[0]=0,t.G[1]=-1,t.G[2]=-r.crossLength(o,u),t.G[4]=1,i.G[0]=-c[0],i.G[1]=-c[1],i.G[3]=c[0],i.G[4]=c[1],i.G[5]=r.crossLength(h,c)}},{"97b5dc61d97fd4de":"fl4d5","48200108ddae2806":"geg3A","6dd72d87868993d0":"kSmDE"}],bsKDm:[function(e,t,i){var n=e("d204b374af39e639"),r=n.sub,s=n.add,a=n.dot,o=(e("20933053438ebab6"),e("d95153d3fb05b14")),h=e("f0516d5454f63cd7"),c=e("bfdf9baf3e6a5d5e"),l=e("bcecfc97841fc70f"),u=(e("4364ae5edbd1b6f2"),e("d45d0e6691fce04d"),e("ae87cd0523cc9ee0")),d=e("25f1c61bf04b8848"),f=e("6ee63ef2e0948d6f"),p=(e("390f12b6d811410f"),e("4ace90d86ba1ce1"));t.exports=k;var g=n.fromValues(0,1),m=n.fromValues(0,0),v=n.fromValues(0,0),y=n.fromValues(0,0),b=n.fromValues(0,0),x=n.fromValues(0,0),E=n.fromValues(0,0),w=n.fromValues(0,0),T=n.fromValues(0,0),S=n.fromValues(0,0),A=n.fromValues(0,0),C=n.fromValues(0,0),_=n.fromValues(0,0),I=n.fromValues(0,0),O=n.fromValues(0,0),P=n.fromValues(0,0),M=n.fromValues(0,0),R=n.fromValues(0,0),L=n.fromValues(0,0),D=[];function k(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new o({size:32}),this.frictionEquationPool=new h({size:64}),this.restitution=0,this.stiffness=l.DEFAULT_STIFFNESS,this.relaxation=l.DEFAULT_RELAXATION,this.frictionStiffness=l.DEFAULT_STIFFNESS,this.frictionRelaxation=l.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new c,this.contactSkinSize=.01}var N=n.create(),F=n.create();function B(e,t){n.set(e.vertices[0],-(.5*t.length),-t.radius),n.set(e.vertices[1],.5*t.length,-t.radius),n.set(e.vertices[2],.5*t.length,t.radius),n.set(e.vertices[3],-(.5*t.length),t.radius)}k.prototype.bodiesOverlap=function(e,t){for(var i=0,n=e.shapes.length;i!==n;i++){var r=e.shapes[i];e.toWorldFrame(N,r.position);for(var s=0,a=t.shapes.length;s!==a;s++){var o=t.shapes[s];if(t.toWorldFrame(F,o.position),this[r.type|o.type](e,r,N,r.angle+e.angle,t,o,F,o.angle+t.angle,!0))return!0}}return!1},k.prototype.collidedLastStep=function(e,t){var i=0|e.id,n=0|t.id;return!!this.collidingBodiesLastStep.get(i,n)},k.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var e=this.contactEquations,t=e.length;t--;){var i=e[t],n=i.bodyA.id,r=i.bodyB.id;this.collidingBodiesLastStep.set(n,r,!0)}for(var s=this.contactEquations,a=this.frictionEquations,o=0;o<s.length;o++)this.contactEquationPool.release(s[o]);for(var o=0;o<a.length;o++)this.frictionEquationPool.release(a[o]);this.contactEquations.length=this.frictionEquations.length=0},k.prototype.createContactEquation=function(e,t,i,n){var r=this.contactEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.restitution=this.restitution,r.firstImpact=!this.collidedLastStep(e,t),r.stiffness=this.stiffness,r.relaxation=this.relaxation,r.needsUpdate=!0,r.enabled=this.enabledEquations,r.offset=this.contactSkinSize,r},k.prototype.createFrictionEquation=function(e,t,i,n){var r=this.frictionEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.setSlipForce(this.slipForce),r.frictionCoefficient=this.frictionCoefficient,r.relativeVelocity=this.surfaceVelocity,r.enabled=this.enabledEquations,r.needsUpdate=!0,r.stiffness=this.frictionStiffness,r.relaxation=this.frictionRelaxation,r.contactEquations.length=0,r},k.prototype.createFrictionFromContact=function(e){var t=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB);return n.copy(t.contactPointA,e.contactPointA),n.copy(t.contactPointB,e.contactPointB),n.rotate90cw(t.t,e.normalA),t.contactEquations.push(e),t},k.prototype.createFrictionFromAverage=function(e){var t=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB),r=t.bodyA;t.bodyB,n.set(i.contactPointA,0,0),n.set(i.contactPointB,0,0),n.set(i.t,0,0);for(var s=0;s!==e;s++)(t=this.contactEquations[this.contactEquations.length-1-s]).bodyA===r?(n.add(i.t,i.t,t.normalA),n.add(i.contactPointA,i.contactPointA,t.contactPointA),n.add(i.contactPointB,i.contactPointB,t.contactPointB)):(n.sub(i.t,i.t,t.normalA),n.add(i.contactPointA,i.contactPointA,t.contactPointB),n.add(i.contactPointB,i.contactPointB,t.contactPointA)),i.contactEquations.push(t);var a=1/e;return n.scale(i.contactPointA,i.contactPointA,a),n.scale(i.contactPointB,i.contactPointB,a),n.normalize(i.t,i.t),n.rotate90cw(i.t,i.t),i},k.prototype[f.LINE|f.CONVEX]=k.prototype.convexLine=function(e,t,i,n,r,s,a,o,h){return!h&&0},k.prototype[f.LINE|f.BOX]=k.prototype.lineBox=function(e,t,i,n,r,s,a,o,h){return!h&&0};var U=new p({width:1,height:1}),V=n.create();k.prototype[f.CAPSULE|f.CONVEX]=k.prototype[f.CAPSULE|f.BOX]=k.prototype.convexCapsule=function(e,t,i,r,s,a,o,h,c){n.set(V,a.length/2,0),n.rotate(V,V,h),n.add(V,V,o);var l=this.circleConvex(s,a,V,h,e,t,i,r,c,a.radius);n.set(V,-a.length/2,0),n.rotate(V,V,h),n.add(V,V,o);var u=this.circleConvex(s,a,V,h,e,t,i,r,c,a.radius);return!!c&&(!!l||!!u)||(B(U,a),this.convexConvex(e,t,i,r,s,U,o,h,c)+l+u)},k.prototype[f.CAPSULE|f.LINE]=k.prototype.lineCapsule=function(e,t,i,n,r,s,a,o,h){return!h&&0};var G=n.create(),j=n.create(),W=new p({width:1,height:1});k.prototype[f.CAPSULE|f.CAPSULE]=k.prototype.capsuleCapsule=function(e,t,i,r,s,a,o,h,c){for(var l,u=0,d=0;d<2;d++){n.set(G,(0===d?-1:1)*t.length/2,0),n.rotate(G,G,r),n.add(G,G,i);for(var f=0;f<2;f++){n.set(j,(0===f?-1:1)*a.length/2,0),n.rotate(j,j,h),n.add(j,j,o),this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1);var p=this.circleCircle(e,t,G,r,s,a,j,h,c,t.radius,a.radius);if(this.enableFrictionReduction&&(this.enableFriction=l),c&&p)return!0;u+=p}}this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1),B(W,t);var g=this.convexCapsule(e,W,i,r,s,a,o,h,c);if(this.enableFrictionReduction&&(this.enableFriction=l),c&&g)return!0;if(u+=g,this.enableFrictionReduction){var l=this.enableFriction;this.enableFriction=!1}B(W,a);var m=this.convexCapsule(s,W,o,h,e,t,i,r,c);return this.enableFrictionReduction&&(this.enableFriction=l),!!c&&!!m||(u+=m,this.enableFrictionReduction&&u&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(u)),u)},k.prototype[f.LINE|f.LINE]=k.prototype.lineLine=function(e,t,i,n,r,s,a,o,h){return!h&&0},k.prototype[f.PLANE|f.LINE]=k.prototype.planeLine=function(e,t,i,o,h,c,l,u,d){var f=0;n.set(m,-c.length/2,0),n.set(v,c.length/2,0),n.rotate(y,m,u),n.rotate(b,v,u),s(y,y,l),s(b,b,l),n.copy(m,y),n.copy(v,b),r(x,v,m),n.normalize(E,x),n.rotate90cw(S,E),n.rotate(T,g,o),D[0]=m,D[1]=v;for(var p=0;p<D.length;p++){var A=D[p];r(w,A,i);var C=a(w,T);if(C<0){if(d)return!0;var _=this.createContactEquation(e,h,t,c);f++,n.copy(_.normalA,T),n.normalize(_.normalA,_.normalA),n.scale(w,T,C),r(_.contactPointA,A,w),r(_.contactPointA,_.contactPointA,e.position),r(_.contactPointB,A,l),s(_.contactPointB,_.contactPointB,l),r(_.contactPointB,_.contactPointB,h.position),this.contactEquations.push(_),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(_))}}return!d&&(!this.enableFrictionReduction&&f&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f)},k.prototype[f.PARTICLE|f.CAPSULE]=k.prototype.particleCapsule=function(e,t,i,n,r,s,a,o,h){return this.circleLine(e,t,i,n,r,s,a,o,h,s.radius,0)},k.prototype[f.CIRCLE|f.LINE]=k.prototype.circleLine=function(e,t,i,o,h,c,l,u,d,f,p){var f=f||0,p=void 0!==p?p:t.radius;n.set(T,-c.length/2,0),n.set(S,c.length/2,0),n.rotate(A,T,u),n.rotate(C,S,u),s(A,A,l),s(C,C,l),n.copy(T,A),n.copy(S,C),r(E,S,T),n.normalize(w,E),n.rotate90cw(x,w),r(_,i,T);var g=a(_,x);r(b,T,l),r(I,i,l);var P=p+f;if(Math.abs(g)<P){n.scale(m,x,g),r(y,i,m),n.scale(v,x,a(x,I)),n.normalize(v,v),n.scale(v,v,f),s(y,y,v);var M=a(w,y),R=a(w,T),L=a(w,S);if(M>R&&M<L){if(d)return!0;var k=this.createContactEquation(e,h,t,c);return n.scale(k.normalA,m,-1),n.normalize(k.normalA,k.normalA),n.scale(k.contactPointA,k.normalA,p),s(k.contactPointA,k.contactPointA,i),r(k.contactPointA,k.contactPointA,e.position),r(k.contactPointB,y,l),s(k.contactPointB,k.contactPointB,l),r(k.contactPointB,k.contactPointB,h.position),this.contactEquations.push(k),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(k)),1}}D[0]=T,D[1]=S;for(var N=0;N<D.length;N++){var F=D[N];if(r(_,F,i),n.squaredLength(_)<Math.pow(P,2)){if(d)return!0;var k=this.createContactEquation(e,h,t,c);return n.copy(k.normalA,_),n.normalize(k.normalA,k.normalA),n.scale(k.contactPointA,k.normalA,p),s(k.contactPointA,k.contactPointA,i),r(k.contactPointA,k.contactPointA,e.position),r(k.contactPointB,F,l),n.scale(O,k.normalA,-f),s(k.contactPointB,k.contactPointB,O),s(k.contactPointB,k.contactPointB,l),r(k.contactPointB,k.contactPointB,h.position),this.contactEquations.push(k),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(k)),1}}return 0},k.prototype[f.CIRCLE|f.CAPSULE]=k.prototype.circleCapsule=function(e,t,i,n,r,s,a,o,h){return this.circleLine(e,t,i,n,r,s,a,o,h,s.radius)},k.prototype[f.CIRCLE|f.CONVEX]=k.prototype[f.CIRCLE|f.BOX]=k.prototype.circleConvex=function(e,t,i,a,o,h,c,l,u,d){for(var d="number"==typeof d?d:t.radius,f=!1,p=Number.MAX_VALUE,g=h.vertices,E=0;E!==g.length+1;E++){var w=g[E%g.length],T=g[(E+1)%g.length];if(n.rotate(m,w,l),n.rotate(v,T,l),s(m,m,c),s(v,v,c),r(y,v,m),n.normalize(b,y),n.rotate90cw(x,b),n.scale(O,x,-t.radius),s(O,O,i),K(O,h,c,l)){n.sub(P,m,O);var S=Math.abs(n.dot(P,x));S<p&&(n.copy(M,O),p=S,n.scale(I,x,S),n.add(I,I,O),f=!0)}}if(f){if(u)return!0;var _=this.createContactEquation(e,o,t,h);return n.sub(_.normalA,M,i),n.normalize(_.normalA,_.normalA),n.scale(_.contactPointA,_.normalA,d),s(_.contactPointA,_.contactPointA,i),r(_.contactPointA,_.contactPointA,e.position),r(_.contactPointB,I,c),s(_.contactPointB,_.contactPointB,c),r(_.contactPointB,_.contactPointB,o.position),this.contactEquations.push(_),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(_)),1}if(d>0)for(var E=0;E<g.length;E++){var R=g[E];if(n.rotate(C,R,l),s(C,C,c),r(A,C,i),n.squaredLength(A)<Math.pow(d,2)){if(u)return!0;var _=this.createContactEquation(e,o,t,h);return n.copy(_.normalA,A),n.normalize(_.normalA,_.normalA),n.scale(_.contactPointA,_.normalA,d),s(_.contactPointA,_.contactPointA,i),r(_.contactPointA,_.contactPointA,e.position),r(_.contactPointB,C,c),s(_.contactPointB,_.contactPointB,c),r(_.contactPointB,_.contactPointB,o.position),this.contactEquations.push(_),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(_)),1}}return 0};var Y=n.create(),H=n.create(),z=n.create(),X=n.create();function K(e,t,i,a){for(var o=t.vertices,h=null,c=0;c!==o.length+1;c++){var l=o[c%o.length],u=o[(c+1)%o.length];n.rotate(Y,l,a),n.rotate(H,u,a),s(Y,Y,i),s(H,H,i),r(z,Y,e),r(X,H,e);var d=n.crossLength(z,X);if(null===h&&(h=d),d*h<=0)return!1;h=d}return!0}k.prototype[f.PARTICLE|f.CONVEX]=k.prototype[f.PARTICLE|f.BOX]=k.prototype.particleConvex=function(e,t,i,o,h,c,l,u,d){var f=Number.MAX_VALUE,p=!1,g=c.vertices;if(!K(i,c,l,u))return 0;if(d)return!0;for(var T=0;T!==g.length+1;T++){var S=g[T%g.length],C=g[(T+1)%g.length];n.rotate(m,S,u),n.rotate(v,C,u),s(m,m,l),s(v,v,l),r(y,v,m),n.normalize(b,y),n.rotate90cw(x,b),r(A,i,m),a(A,x),r(E,m,l),r(w,i,l),n.sub(R,m,i);var _=Math.abs(n.dot(R,x));_<f&&(f=_,n.scale(I,x,_),n.add(I,I,i),n.copy(L,x),p=!0)}if(p){var O=this.createContactEquation(e,h,t,c);return n.scale(O.normalA,L,-1),n.normalize(O.normalA,O.normalA),n.set(O.contactPointA,0,0),s(O.contactPointA,O.contactPointA,i),r(O.contactPointA,O.contactPointA,e.position),r(O.contactPointB,I,l),s(O.contactPointB,O.contactPointB,l),r(O.contactPointB,O.contactPointB,h.position),this.contactEquations.push(O),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(O)),1}return 0},k.prototype[f.CIRCLE]=k.prototype.circleCircle=function(e,t,i,a,o,h,c,l,u,d,f){var d=d||t.radius,f=f||h.radius;r(m,i,c);var p=d+f;if(n.squaredLength(m)>Math.pow(p,2))return 0;if(u)return!0;var g=this.createContactEquation(e,o,t,h);return r(g.normalA,c,i),n.normalize(g.normalA,g.normalA),n.scale(g.contactPointA,g.normalA,d),n.scale(g.contactPointB,g.normalA,-f),s(g.contactPointA,g.contactPointA,i),r(g.contactPointA,g.contactPointA,e.position),s(g.contactPointB,g.contactPointB,c),r(g.contactPointB,g.contactPointB,o.position),this.contactEquations.push(g),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(g)),1},k.prototype[f.PLANE|f.CONVEX]=k.prototype[f.PLANE|f.BOX]=k.prototype.planeConvex=function(e,t,i,o,h,c,l,u,d){var f=0;n.rotate(v,g,o);for(var p=0;p!==c.vertices.length;p++){var b=c.vertices[p];if(n.rotate(m,b,u),s(m,m,l),r(y,m,i),0>=a(y,v)){if(d)return!0;f++;var x=this.createContactEquation(e,h,t,c);r(y,m,i),n.copy(x.normalA,v);var E=a(y,x.normalA);n.scale(y,x.normalA,E),r(x.contactPointB,m,h.position),r(x.contactPointA,m,y),r(x.contactPointA,x.contactPointA,e.position),this.contactEquations.push(x),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}}return this.enableFrictionReduction&&this.enableFriction&&f&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f},k.prototype[f.PARTICLE|f.PLANE]=k.prototype.particlePlane=function(e,t,i,s,o,h,c,l,u){l=l||0,r(m,i,c),n.rotate(v,g,l);var d=a(m,v);if(d>0)return 0;if(u)return!0;var f=this.createContactEquation(o,e,h,t);return n.copy(f.normalA,v),n.scale(m,f.normalA,d),r(f.contactPointA,i,m),r(f.contactPointA,f.contactPointA,o.position),r(f.contactPointB,i,e.position),this.contactEquations.push(f),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(f)),1},k.prototype[f.CIRCLE|f.PARTICLE]=k.prototype.circleParticle=function(e,t,i,a,o,h,c,l,u){if(r(m,c,i),n.squaredLength(m)>Math.pow(t.radius,2))return 0;if(u)return!0;var d=this.createContactEquation(e,o,t,h);return n.copy(d.normalA,m),n.normalize(d.normalA,d.normalA),n.scale(d.contactPointA,d.normalA,t.radius),s(d.contactPointA,d.contactPointA,i),r(d.contactPointA,d.contactPointA,e.position),r(d.contactPointB,c,o.position),this.contactEquations.push(d),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(d)),1};var q=new u({radius:1}),J=n.create(),$=n.create();n.create(),k.prototype[f.PLANE|f.CAPSULE]=k.prototype.planeCapsule=function(e,t,i,r,a,o,h,c,l){n.set(J,-o.length/2,0),n.rotate(J,J,c),s(J,J,h),n.set($,o.length/2,0),n.rotate($,$,c),s($,$,h),q.radius=o.radius,this.enableFrictionReduction&&(u=this.enableFriction,this.enableFriction=!1);var u,d=this.circlePlane(a,q,J,0,e,t,i,r,l),f=this.circlePlane(a,q,$,0,e,t,i,r,l);if(this.enableFrictionReduction&&(this.enableFriction=u),l)return d||f;var p=d+f;return this.enableFrictionReduction&&p&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p},k.prototype[f.CIRCLE|f.PLANE]=k.prototype.circlePlane=function(e,t,i,o,h,c,l,u,d){var f=u;f=f||0,r(m,i,l),n.rotate(v,g,f);var p=a(v,m);if(p>t.radius)return 0;if(d)return!0;var b=this.createContactEquation(h,e,c,t);return n.copy(b.normalA,v),n.scale(b.contactPointB,b.normalA,-t.radius),s(b.contactPointB,b.contactPointB,i),r(b.contactPointB,b.contactPointB,e.position),n.scale(y,b.normalA,p),r(b.contactPointA,m,y),s(b.contactPointA,b.contactPointA,l),r(b.contactPointA,b.contactPointA,h.position),this.contactEquations.push(b),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(b)),1},k.prototype[f.CONVEX]=k.prototype[f.CONVEX|f.BOX]=k.prototype[f.BOX]=k.prototype.convexConvex=function(e,t,i,o,h,c,l,u,d,f){var p=0,f="number"==typeof f?f:0;if(!k.findSeparatingAxis(t,i,o,c,l,u,m))return 0;r(T,l,i),a(m,T)>0&&n.scale(m,m,-1);var g=k.getClosestEdge(t,o,m,!0),E=k.getClosestEdge(c,u,m);if(-1===g||-1===E)return 0;for(var A=0;A<2;A++){var C,_=g,I=E,O=t,P=c,M=i,R=l,L=o,D=u,N=e,F=h;0===A&&(C=_,_=I,I=C,C=O,O=P,P=C,C=M,M=R,R=C,C=L,L=D,D=C,C=N,N=F,F=C);for(var B=I;B<I+2;B++){var U=P.vertices[(B+P.vertices.length)%P.vertices.length];n.rotate(v,U,D),s(v,v,R);for(var V=0,G=_-1;G<_+2;G++){var j=O.vertices[(G+O.vertices.length)%O.vertices.length],W=O.vertices[(G+1+O.vertices.length)%O.vertices.length];n.rotate(y,j,L),n.rotate(b,W,L),s(y,y,M),s(b,b,M),r(x,b,y),n.rotate90cw(S,x),n.normalize(S,S),r(T,v,y);var Y=a(S,T);(G===_&&Y<=f||G!==_&&Y<=0)&&V++}if(V>=3){if(d)return!0;var H=this.createContactEquation(N,F,O,P);p++;var j=O.vertices[_%O.vertices.length],W=O.vertices[(_+1)%O.vertices.length];n.rotate(y,j,L),n.rotate(b,W,L),s(y,y,M),s(b,b,M),r(x,b,y),n.rotate90cw(H.normalA,x),n.normalize(H.normalA,H.normalA),r(T,v,y);var Y=a(H.normalA,T);n.scale(w,H.normalA,Y),r(H.contactPointA,v,M),r(H.contactPointA,H.contactPointA,w),s(H.contactPointA,H.contactPointA,M),r(H.contactPointA,H.contactPointA,N.position),r(H.contactPointB,v,R),s(H.contactPointB,H.contactPointB,R),r(H.contactPointB,H.contactPointB,F.position),this.contactEquations.push(H),!this.enableFrictionReduction&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(H))}}}return this.enableFrictionReduction&&this.enableFriction&&p&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p};var Q=n.fromValues(0,0);k.projectConvexOntoAxis=function(e,t,i,r,s){var o,h=null,c=null;n.rotate(Q,r,-i);for(var l=0;l<e.vertices.length;l++)o=a(e.vertices[l],Q),(null===h||o>h)&&(h=o),(null===c||o<c)&&(c=o);if(c>h){var u=c;c=h,h=u}var d=a(t,r);n.set(s,c+d,h+d)};var Z=n.fromValues(0,0),ee=n.fromValues(0,0),et=n.fromValues(0,0),ei=n.fromValues(0,0),en=n.fromValues(0,0),er=n.fromValues(0,0);k.findSeparatingAxis=function(e,t,i,s,a,o,h){var c=null,l=!1,u=!1;if(e instanceof p&&s instanceof p)for(var d=0;2!==d;d++){var f=e,g=i;1===d&&(f=s,g=o);for(var m=0;2!==m;m++){0===m?n.set(ei,0,1):1===m&&n.set(ei,1,0),0!==g&&n.rotate(ei,ei,g),k.projectConvexOntoAxis(e,t,i,ei,en),k.projectConvexOntoAxis(s,a,o,ei,er);var v=en,y=er;en[0]>er[0]&&(y=en,v=er);var b=y[0]-v[1];l=b<=0,(null===c||b>c)&&(n.copy(h,ei),c=b,u=l)}}else for(var d=0;2!==d;d++){var f=e,g=i;1===d&&(f=s,g=o);for(var m=0;m!==f.vertices.length;m++){n.rotate(ee,f.vertices[m],g),n.rotate(et,f.vertices[(m+1)%f.vertices.length],g),r(Z,et,ee),n.rotate90cw(ei,Z),n.normalize(ei,ei),k.projectConvexOntoAxis(e,t,i,ei,en),k.projectConvexOntoAxis(s,a,o,ei,er);var v=en,y=er;en[0]>er[0]&&(y=en,v=er);var b=y[0]-v[1];l=b<=0,(null===c||b>c)&&(n.copy(h,ei),c=b,u=l)}}return u};var es=n.fromValues(0,0),ea=n.fromValues(0,0),eo=n.fromValues(0,0);k.getClosestEdge=function(e,t,i,s){n.rotate(es,i,-t),s&&n.scale(es,es,-1);for(var o=-1,h=e.vertices.length,c=-1,l=0;l!==h;l++){r(ea,e.vertices[(l+1)%h],e.vertices[l%h]),n.rotate90cw(eo,ea),n.normalize(eo,eo);var u=a(eo,es);(-1===o||u>c)&&(o=l%h,c=u)}return o};var eh=n.create(),ec=n.create(),el=n.create(),eu=n.create(),ed=n.create(),ef=n.create(),ep=n.create();k.prototype[f.CIRCLE|f.HEIGHTFIELD]=k.prototype.circleHeightfield=function(e,t,i,a,o,h,c,l,u,d){var f=h.heights,d=d||t.radius,p=h.elementWidth,g=Math.floor((i[0]-d-c[0])/p),m=Math.ceil((i[0]+d-c[0])/p);g<0&&(g=0),m>=f.length&&(m=f.length-1);for(var v=f[g],y=f[m],b=g;b<m;b++)f[b]<y&&(y=f[b]),f[b]>v&&(v=f[b]);if(i[1]-d>v)return!u&&0;for(var x=!1,b=g;b<m;b++){n.set(el,b*p,f[b]),n.set(eu,(b+1)*p,f[b+1]),n.add(el,el,c),n.add(eu,eu,c),n.sub(ef,eu,el),n.rotate(ef,ef,Math.PI/2),n.normalize(ef,ef),n.scale(eh,ef,-d),n.add(eh,eh,i),n.sub(ec,eh,el);var E=n.dot(ec,ef);if(eh[0]>=el[0]&&eh[0]<eu[0]&&E<=0){if(u)return!0;x=!0,n.scale(ec,ef,-E),n.add(ed,eh,ec),n.copy(ep,ef);var w=this.createContactEquation(o,e,h,t);n.copy(w.normalA,ep),n.scale(w.contactPointB,w.normalA,-d),s(w.contactPointB,w.contactPointB,i),r(w.contactPointB,w.contactPointB,e.position),n.copy(w.contactPointA,ed),n.sub(w.contactPointA,w.contactPointA,o.position),this.contactEquations.push(w),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}if(x=!1,d>0){for(var b=g;b<=m;b++)if(n.set(el,b*p,f[b]),n.add(el,el,c),n.sub(ec,i,el),n.squaredLength(ec)<Math.pow(d,2)){if(u)return!0;x=!0;var w=this.createContactEquation(o,e,h,t);n.copy(w.normalA,ec),n.normalize(w.normalA,w.normalA),n.scale(w.contactPointB,w.normalA,-d),s(w.contactPointB,w.contactPointB,i),r(w.contactPointB,w.contactPointB,e.position),r(w.contactPointA,el,c),s(w.contactPointA,w.contactPointA,c),r(w.contactPointA,w.contactPointA,o.position),this.contactEquations.push(w),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}return x?1:0};var eg=n.create(),em=n.create(),ev=n.create(),ey=new d({vertices:[n.create(),n.create(),n.create(),n.create()]});k.prototype[f.BOX|f.HEIGHTFIELD]=k.prototype[f.CONVEX|f.HEIGHTFIELD]=k.prototype.convexHeightfield=function(e,t,i,r,s,a,o,h,c){var l=a.heights,u=a.elementWidth,d=Math.floor((e.aabb.lowerBound[0]-o[0])/u),f=Math.ceil((e.aabb.upperBound[0]-o[0])/u);d<0&&(d=0),f>=l.length&&(f=l.length-1);for(var p=l[d],g=l[f],m=d;m<f;m++)l[m]<g&&(g=l[m]),l[m]>p&&(p=l[m]);if(e.aabb.lowerBound[1]>p)return!c&&0;for(var v=0,m=d;m<f;m++)n.set(eg,m*u,l[m]),n.set(em,(m+1)*u,l[m+1]),n.add(eg,eg,o),n.add(em,em,o),n.set(ev,(em[0]+eg[0])*.5,(em[1]+eg[1]-100)*.5),n.sub(ey.vertices[0],em,ev),n.sub(ey.vertices[1],eg,ev),n.copy(ey.vertices[2],ey.vertices[1]),n.copy(ey.vertices[3],ey.vertices[0]),ey.vertices[2][1]-=100,ey.vertices[3][1]-=100,v+=this.convexConvex(e,t,i,r,s,ey,ev,0,c);return v}},{d204b374af39e639:"geg3A","20933053438ebab6":"7sQcP",d95153d3fb05b14:"c7vmA",f0516d5454f63cd7:"dT2Zx",bfdf9baf3e6a5d5e:"gyzPH",bcecfc97841fc70f:"kSmDE","4364ae5edbd1b6f2":"2hWGL",d45d0e6691fce04d:"6o1RQ",ae87cd0523cc9ee0:"71oh9","25f1c61bf04b8848":"jXoGk","6ee63ef2e0948d6f":"fyiLV","390f12b6d811410f":"1vLHz","4ace90d86ba1ce1":"1uf32"}],gyzPH:[function(e,t,i){var n=e("8f6c901d02437d27");function r(){this.data={},this.keys=[]}t.exports=r,r.prototype.getKey=function(e,t){return(0|(e|=0))==(0|(t|=0))?-1:((0|e)>(0|t)?e<<16|65535&t:t<<16|65535&e)|0},r.prototype.getByKey=function(e){return e|=0,this.data[e]},r.prototype.get=function(e,t){return this.data[this.getKey(e,t)]},r.prototype.set=function(e,t,i){if(!i)throw Error("No data!");var n=this.getKey(e,t);return this.data[n]||this.keys.push(n),this.data[n]=i,n},r.prototype.reset=function(){for(var e=this.data,t=this.keys,i=t.length;i--;)delete e[t[i]];t.length=0},r.prototype.copy=function(e){this.reset(),n.appendArray(this.keys,e.keys);for(var t=e.keys.length;t--;){var i=e.keys[t];this.data[i]=e.data[i]}}},{"8f6c901d02437d27":"7sQcP"}],"1uf32":[function(e,t,i){var n=e("57927c61fbcf992f"),r=e("1e621ded3903d68e"),s=e("a8501ada722b06e1");function a(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),e=e||{};var t=this.width=e.width||1,i=this.height=e.height||1,a=[n.fromValues(-t/2,-i/2),n.fromValues(t/2,-i/2),n.fromValues(t/2,i/2),n.fromValues(-t/2,i/2)],o=[n.fromValues(1,0),n.fromValues(0,1)];e.vertices=a,e.axes=o,e.type=r.BOX,s.call(this,e)}t.exports=a,a.prototype=new s,a.prototype.constructor=a,a.prototype.computeMomentOfInertia=function(e){var t=this.width,i=this.height;return e*(i*i+t*t)/12},a.prototype.updateBoundingRadius=function(){var e=this.width,t=this.height;this.boundingRadius=Math.sqrt(e*e+t*t)/2},n.create(),n.create(),n.create(),n.create(),a.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)},a.prototype.updateArea=function(){this.area=this.width*this.height}},{"57927c61fbcf992f":"geg3A","1e621ded3903d68e":"fyiLV",a8501ada722b06e1:"jXoGk"}],liK4P:[function(e,t,i){e("852348000d7d6d69"),e("b1906358d63dd535"),e("2589eb1c960dc6a0"),e("41d1d194c5bc6ec2");var n=e("c59906df004f11c2");function r(){n.call(this,n.NAIVE)}e("3a4bfb1510f2f292"),t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.getCollisionPairs=function(e){var t=e.bodies,i=this.result;i.length=0;for(var r=0,s=t.length;r!==s;r++)for(var a=t[r],o=0;o<r;o++){var h=t[o];n.canCollide(a,h)&&this.boundingVolumeCheck(a,h)&&i.push(a,h)}return i},r.prototype.aabbQuery=function(e,t,i){i=i||[];for(var n=e.bodies,r=0;r<n.length;r++){var s=n[r];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(t)&&i.push(s)}return i}},{"852348000d7d6d69":"71oh9",b1906358d63dd535:"kpexr","2589eb1c960dc6a0":"fyiLV","41d1d194c5bc6ec2":"hsc7O",c59906df004f11c2:"5ZGdm","3a4bfb1510f2f292":"geg3A"}],kpexr:[function(e,t,i){var n=e("40d47a7ae5f74602"),r=e("d6a039ff95ed19ff");function s(e){(e=e||{}).type=n.PLANE,n.call(this,e)}e("99b09beaade4db61"),t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeMomentOfInertia=function(e){return 0},s.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},s.prototype.computeAABB=function(e,t,i){var n=i%(2*Math.PI),s=r.set,a=e.lowerBound,o=e.upperBound;s(a,-1e7,-1e7),s(o,1e7,1e7),0===n?o[1]=0:n===Math.PI/2?a[0]=0:n===Math.PI?a[1]=0:n===3*Math.PI/2&&(o[0]=0)},s.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=r.create();r.create(),r.create();var o=r.create(),h=r.create();s.prototype.raycast=function(e,t,i,n){var s=t.from,c=t.to,l=t.direction;r.set(o,0,1),r.rotate(o,o,n),r.sub(h,s,i);var u=r.dot(h,o);if(r.sub(h,c,i),!(u*r.dot(h,o)>0)&&!(r.squaredDistance(s,c)<u*u)){var d=r.dot(o,l);r.sub(a,s,i);var f=-r.dot(o,a)/d/t.length;t.reportIntersection(e,f,o,-1)}}},{"40d47a7ae5f74602":"fyiLV",d6a039ff95ed19ff:"geg3A","99b09beaade4db61":"7sQcP"}],hsc7O:[function(e,t,i){var n=e("8c3c67d5ddbef9a9"),r=e("f808570b9798e32c");function s(e){(e=e||{}).type=n.PARTICLE,n.call(this,e)}t.exports=s,s.prototype=new n,s.prototype.constructor=s,s.prototype.computeMomentOfInertia=function(e){return 0},s.prototype.updateBoundingRadius=function(){this.boundingRadius=0},s.prototype.computeAABB=function(e,t,i){r.copy(e.lowerBound,t),r.copy(e.upperBound,t)}},{"8c3c67d5ddbef9a9":"fyiLV",f808570b9798e32c:"geg3A"}],aOW07:[function(e,t,i){var n=e("7bb9001261b70165"),r=e("c254ded0f86d88a6"),s=e("782f46607b8e1f04"),a=e("2180020912c5d37f"),o=e("274a00bc1872e73d");t.exports=f;var h=o.create(),c=o.create(),l=o.fromValues(1,0),u=o.fromValues(0,1),d=o.create();function f(e,t,i){i=i||{},n.call(this,e,t,n.REVOLUTE,i);var f=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE;this.pivotA=o.create(),this.pivotB=o.create(),i.worldPivot?(o.sub(this.pivotA,i.worldPivot,e.position),o.sub(this.pivotB,i.worldPivot,t.position),o.rotate(this.pivotA,this.pivotA,-e.angle),o.rotate(this.pivotB,this.pivotB,-t.angle)):(o.copy(this.pivotA,i.localPivotA),o.copy(this.pivotB,i.localPivotB));var p=this.equations=[new r(e,t,-f,f),new r(e,t,-f,f)],g=p[0],m=p[1],v=this;g.computeGq=function(){return o.rotate(h,v.pivotA,e.angle),o.rotate(c,v.pivotB,t.angle),o.add(d,t.position,c),o.sub(d,d,e.position),o.sub(d,d,h),o.dot(d,l)},m.computeGq=function(){return o.rotate(h,v.pivotA,e.angle),o.rotate(c,v.pivotB,t.angle),o.add(d,t.position,c),o.sub(d,d,e.position),o.sub(d,d,h),o.dot(d,u)},m.minForce=g.minForce=-f,m.maxForce=g.maxForce=f,this.motorEquation=new s(e,t),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new a(e,t),this.lowerLimitEquation=new a(e,t),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}f.prototype=new n,f.prototype.constructor=f,f.prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)},f.prototype.update=function(){var e=this.bodyA,t=this.bodyB,i=this.pivotA,n=this.pivotB,r=this.equations,s=(r[0],r[1],r[0]),a=r[1],d=this.upperLimit,f=this.lowerLimit,p=this.upperLimitEquation,g=this.lowerLimitEquation,m=this.angle=t.angle-e.angle;if(this.upperLimitEnabled&&m>d)p.angle=d,-1===r.indexOf(p)&&r.push(p);else{var v=r.indexOf(p);-1!==v&&r.splice(v,1)}if(this.lowerLimitEnabled&&m<f)g.angle=f,-1===r.indexOf(g)&&r.push(g);else{var v=r.indexOf(g);-1!==v&&r.splice(v,1)}o.rotate(h,i,e.angle),o.rotate(c,n,t.angle),s.G[0]=-1,s.G[1]=0,s.G[2]=-o.crossLength(h,l),s.G[3]=1,s.G[4]=0,s.G[5]=o.crossLength(c,l),a.G[0]=0,a.G[1]=-1,a.G[2]=-o.crossLength(h,u),a.G[3]=0,a.G[4]=1,a.G[5]=o.crossLength(c,u)},f.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},f.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},f.prototype.motorIsEnabled=function(){return!!this.motorEnabled},f.prototype.setMotorSpeed=function(e){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations[t].relativeVelocity=e}},f.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"7bb9001261b70165":"fl4d5",c254ded0f86d88a6:"kSmDE","782f46607b8e1f04":"dpMuH","2180020912c5d37f":"cuyM8","274a00bc1872e73d":"geg3A"}],dpMuH:[function(e,t,i){var n=e("4035d4d99eba87f");function r(e,t){n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}e("ee6b2fe68ba01697"),t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.computeB=function(e,t,i){var n=this.G;n[2]=-1,n[5]=this.ratio;var r=this.computeGiMf();return-this.computeGW()*t-i*r}},{"4035d4d99eba87f":"kSmDE",ee6b2fe68ba01697:"geg3A"}],cuyM8:[function(e,t,i){var n=e("d4425f27662d9010"),r=e("867c2e114efbe97f");function s(e,t,i){i=i||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;var r=this.G;r[2]=1,r[5]=-1}t.exports=s,s.prototype=new n,s.prototype.constructor=s;var a=r.create(),o=r.create(),h=r.fromValues(1,0),c=r.fromValues(0,1);s.prototype.computeGq=function(){return r.rotate(a,h,this.bodyA.angle+this.angle),r.rotate(o,c,this.bodyB.angle),r.dot(a,o)}},{d4425f27662d9010:"kSmDE","867c2e114efbe97f":"geg3A"}],iK7mQ:[function(e,t,i){var n=e("1b130cbf15113819"),r=e("556121ab2e42c55f"),s=e("dad4f74d2d1bd1e4"),a=e("fdc2f7cc299227f5"),o=e("38523a5be66d6187");function h(e,t,i){i=i||{},n.call(this,e,t,n.PRISMATIC,i);var h=a.fromValues(0,0),c=a.fromValues(1,0),l=a.fromValues(0,0);i.localAnchorA&&a.copy(h,i.localAnchorA),i.localAxisA&&a.copy(c,i.localAxisA),i.localAnchorB&&a.copy(l,i.localAnchorB),this.localAnchorA=h,this.localAnchorB=l,this.localAxisA=c;var u=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE,d=new s(e,t,-u,u),f=new a.create,p=new a.create,g=new a.create,m=new a.create;if(d.computeGq=function(){return a.dot(g,m)},d.updateJacobian=function(){var i=this.G,n=e.position,r=t.position;a.rotate(f,h,e.angle),a.rotate(p,l,t.angle),a.add(g,r,p),a.sub(g,g,n),a.sub(g,g,f),a.rotate(m,c,e.angle+Math.PI/2),i[0]=-m[0],i[1]=-m[1],i[2]=-a.crossLength(f,m)+a.crossLength(m,g),i[3]=m[0],i[4]=m[1],i[5]=a.crossLength(p,m)},this.equations.push(d),!i.disableRotationalLock){var v=new o(e,t,-u,u);this.equations.push(v)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==i.lowerLimit,this.upperLimitEnabled=void 0!==i.upperLimit,this.lowerLimit=void 0!==i.lowerLimit?i.lowerLimit:0,this.upperLimit=void 0!==i.upperLimit?i.upperLimit:1,this.upperLimitEquation=new r(e,t),this.lowerLimitEquation=new r(e,t),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=u,this.motorEquation=new s(e,t),this.motorEnabled=!1,this.motorSpeed=0;var y=this,b=this.motorEquation;b.computeGW,b.computeGq=function(){return 0},b.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,s=t.angularVelocity,a=i.angularVelocity;return this.gmult(e,n,s,r,a)+y.motorSpeed}}t.exports=h,h.prototype=new n,h.prototype.constructor=h;var c=a.create(),l=a.create(),u=a.create(),d=a.create(),f=a.create(),p=a.create();h.prototype.update=function(){var e=this.equations,t=e[0],i=this.upperLimit,n=this.lowerLimit,r=this.upperLimitEquation,s=this.lowerLimitEquation,o=this.bodyA,h=this.bodyB,g=this.localAxisA,m=this.localAnchorA,v=this.localAnchorB;t.updateJacobian(),a.rotate(c,g,o.angle),a.rotate(d,m,o.angle),a.add(l,d,o.position),a.rotate(f,v,h.angle),a.add(u,f,h.position);var y=this.position=a.dot(u,c)-a.dot(l,c);if(this.motorEnabled){var b=this.motorEquation.G;b[0]=c[0],b[1]=c[1],b[2]=a.crossLength(c,f),b[3]=-c[0],b[4]=-c[1],b[5]=-a.crossLength(c,d)}if(this.upperLimitEnabled&&y>i)a.scale(r.normalA,c,-1),a.sub(r.contactPointA,l,o.position),a.sub(r.contactPointB,u,h.position),a.scale(p,c,i),a.add(r.contactPointA,r.contactPointA,p),-1===e.indexOf(r)&&e.push(r);else{var x=e.indexOf(r);-1!==x&&e.splice(x,1)}if(this.lowerLimitEnabled&&y<n)a.scale(s.normalA,c,1),a.sub(s.contactPointA,l,o.position),a.sub(s.contactPointB,u,h.position),a.scale(p,c,n),a.sub(s.contactPointB,s.contactPointB,p),-1===e.indexOf(s)&&e.push(s);else{var x=e.indexOf(s);-1!==x&&e.splice(x,1)}},h.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},h.prototype.disableMotor=function(){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations.splice(e,1),this.motorEnabled=!1}},h.prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)}},{"1b130cbf15113819":"fl4d5","556121ab2e42c55f":"2hWGL",dad4f74d2d1bd1e4:"kSmDE",fdc2f7cc299227f5:"geg3A","38523a5be66d6187":"cuyM8"}],cJxaR:[function(e,t,i){var n=e("5f7fde3e1d0c7a5"),r=e("689fe0ee9da66c8a");function s(){r.call(this,r.SAP),this.axisList=[],this.axisIndex=0;var e=this;this._addBodyHandler=function(t){e.axisList.push(t.body)},this._removeBodyHandler=function(t){var i=e.axisList.indexOf(t.body);-1!==i&&e.axisList.splice(i,1)}}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.setWorld=function(e){this.axisList.length=0,n.appendArray(this.axisList,e.bodies),e.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),e.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=e},s.sortAxisList=function(e,t){t|=0;for(var i=1,n=e.length;i<n;i++){for(var r=e[i],s=i-1;s>=0&&!(e[s].aabb.lowerBound[t]<=r.aabb.lowerBound[t]);s--)e[s+1]=e[s];e[s+1]=r}return e},s.prototype.sortList=function(){var e=this.axisList,t=this.axisIndex;s.sortAxisList(e,t)},s.prototype.getCollisionPairs=function(e){var t=this.axisList,i=this.result,n=this.axisIndex;i.length=0;for(var s=t.length;s--;){var a=t[s];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var o=0,h=0|t.length;o!==h;o++)for(var c=t[o],l=o+1;l<h;l++){var u=t[l];if(!(u.aabb.lowerBound[n]<=c.aabb.upperBound[n]))break;r.canCollide(c,u)&&this.boundingVolumeCheck(c,u)&&i.push(c,u)}return i},s.prototype.aabbQuery=function(e,t,i){i=i||[],this.sortList();var n=this.axisIndex,r="x";1===n&&(r="y"),2===n&&(r="z");var s=this.axisList;t.lowerBound[r],t.upperBound[r];for(var a=0;a<s.length;a++){var o=s[a];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(t)&&i.push(o)}return i}},{"5f7fde3e1d0c7a5":"7sQcP","689fe0ee9da66c8a":"5ZGdm"}],cXKmN:[function(e,t,i){e("c01443790b82d458");var n=e("3dbb7f02d0685adc");function r(e,t,i){i=n.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=e,this.bodyB=t}t.exports=r,r.prototype.applyForce=function(){}},{c01443790b82d458:"geg3A","3dbb7f02d0685adc":"7sQcP"}],cQjmW:[function(e,t,i){var n=e("dd64cf8f6127747a");e("e3f3e8f2c9812e59");var r=e("e98c7cf86e72c936"),s=e("5dc61689b839dcb7"),a=e("cf0d23db120d4a5b");function o(e,t){t=t||{},this.chassisBody=e,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function h(e,t){t=t||{},this.vehicle=e,this.forwardEquation=new s(e.chassisBody,e.groundBody),this.sideEquation=new s(e.chassisBody,e.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==t.sideFriction?t.sideFriction:5),this.localForwardVector=n.fromValues(0,1),t.localForwardVector&&n.copy(this.localForwardVector,t.localForwardVector),this.localPosition=n.fromValues(0,0),t.localPosition&&n.copy(this.localPosition,t.localPosition),r.apply(this,e.chassisBody,e.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}t.exports=o,o.prototype.addToWorld=function(e){this.world=e,e.addBody(this.groundBody),e.on("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.addConstraint(i)}},o.prototype.removeFromWorld=function(){var e=this.world;e.removeBody(this.groundBody),e.off("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.removeConstraint(i)}this.world=null},o.prototype.addWheel=function(e){var t=new h(this,e);return this.wheels.push(t),t},o.prototype.update=function(){for(var e=0;e<this.wheels.length;e++)this.wheels[e].update()},h.prototype=new r,h.prototype.setBrakeForce=function(e){this.forwardEquation.setSlipForce(e)},h.prototype.setSideFriction=function(e){this.sideEquation.setSlipForce(e)};var c=n.create(),l=n.create();h.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(l,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(c,l),n.dot(c,l)};var u=n.create();h.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),n.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),n.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),n.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),n.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),n.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),n.normalize(u,this.forwardEquation.t),n.scale(u,u,this.engineForce),this.vehicle.chassisBody.applyForce(u,this.forwardEquation.contactPointA)}},{dd64cf8f6127747a:"geg3A",e3f3e8f2c9812e59:"7sQcP",e98c7cf86e72c936:"fl4d5","5dc61689b839dcb7":"6o1RQ",cf0d23db120d4a5b:"1vLHz"}],"4chxn":[function(e,t,i){var n=e("5543f36d5db55575"),r=e("36cd71b80d3e81e");function s(e,t,i){i=i||{},r.call(this,e,t,i),this.localAnchorA=n.fromValues(0,0),this.localAnchorB=n.fromValues(0,0),i.localAnchorA&&n.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&n.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);var s=n.create(),a=n.create();this.getWorldAnchorA(s),this.getWorldAnchorB(a);var o=n.distance(s,a);this.restLength="number"==typeof i.restLength?i.restLength:o}e("aabdc6762f524d"),t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.setWorldAnchorA=function(e){this.bodyA.toLocalFrame(this.localAnchorA,e)},s.prototype.setWorldAnchorB=function(e){this.bodyB.toLocalFrame(this.localAnchorB,e)},s.prototype.getWorldAnchorA=function(e){this.bodyA.toWorldFrame(e,this.localAnchorA)},s.prototype.getWorldAnchorB=function(e){this.bodyB.toWorldFrame(e,this.localAnchorB)};var a=n.create(),o=n.create(),h=n.create(),c=n.create(),l=n.create(),u=n.create(),d=n.create(),f=n.create(),p=n.create();s.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restLength,r=this.bodyA,s=this.bodyB;this.getWorldAnchorA(l),this.getWorldAnchorB(u),n.sub(d,l,r.position),n.sub(f,u,s.position),n.sub(a,u,l);var g=n.len(a);n.normalize(o,a),n.sub(h,s.velocity,r.velocity),n.crossZV(p,s.angularVelocity,f),n.add(h,h,p),n.crossZV(p,r.angularVelocity,d),n.sub(h,h,p),n.scale(c,o,-e*(g-i)-t*n.dot(h,o)),n.sub(r.force,r.force,c),n.add(s.force,s.force,c);var m=n.crossLength(d,c),v=n.crossLength(f,c);r.angularForce-=m,s.angularForce+=v}},{"5543f36d5db55575":"geg3A","36cd71b80d3e81e":"cXKmN",aabdc6762f524d:"7sQcP"}],j6tWA:[function(e,t,i){e("8946c1bacbbeb8d1");var n=e("28ac4889264da0ac");function r(e,t,i){i=i||{},n.call(this,e,t,i),this.restAngle="number"==typeof i.restAngle?i.restAngle:t.angle-e.angle}t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restAngle,n=this.bodyA,r=this.bodyB,s=-e*(r.angle-n.angle-i)-t*(r.angularVelocity-n.angularVelocity)*0;n.angularForce-=s,r.angularForce+=s}},{"8946c1bacbbeb8d1":"geg3A","28ac4889264da0ac":"cXKmN"}],"5xqPb":[function(e,t,i){var n=e("89f95dae5663d69d"),r=(e("1597060712a09eda"),e("e52fd346faa95ec5"),e("69e4774cee40db6d")),s=e("99235bbf4c27bfa5"),a=e("1a98bd60511f77ed"),o=(e("cac3a7e4a83aa352"),e("355e7b17b84d94f5")),h=e("b52cd0c8b35d5ddf"),c=e("d925c0839ca7edb5"),l=e("5feecb4008ad1788"),u=e("1bbc320b09c5a9fc"),d=(e("57e0920a6ef810a1"),e("a1d53f66bd715fd"),e("a5a7fbc7f4141c89")),f=e("a0f61690d079281f"),p=(e("974f59d76858707e"),e("94a2df0e7bb7858a"),e("c35840d95975c61d"),e("8c79984d8ee97d1f"),e("e356359911ba3311"),e("cf18ab7ef6aa5886"),e("62007958f12ce1dc"),e("d719e11dcfb0a9b1"),e("6a5dc8c97e432e93")),g=e("c2de07faf4223809"),m=e("88208900f1c274d3"),v=e("6f27f3e1a911a2d9"),y=e("97b04d6bb659a62a"),b=e("7703c149f2b0dd53");function x(e){l.apply(this),e=e||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=e.solver||new n,this.narrowphase=new m(this),this.islandManager=new b,this.gravity=r.fromValues(0,-9.78),e.gravity&&r.copy(this.gravity,e.gravity),this.frictionGravity=r.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=e.broadphase||new g,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new d,this.defaultContactMaterial=new f(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===e.islandSplit||!!e.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=x.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new y}e("ff1e4b24c7b18637"),t.exports=x,x.prototype=Object(l.prototype),x.prototype.constructor=x,x.NO_SLEEPING=1,x.BODY_SLEEPING=2,x.ISLAND_SLEEPING=4,x.prototype.addConstraint=function(e){this.constraints.push(e)},x.prototype.addContactMaterial=function(e){this.contactMaterials.push(e)},x.prototype.removeContactMaterial=function(e){var t=this.contactMaterials.indexOf(e);-1!==t&&v.splice(this.contactMaterials,t,1)},x.prototype.getContactMaterial=function(e,t){for(var i=this.contactMaterials,n=0,r=i.length;n!==r;n++){var s=i[n];if(s.materialA.id===e.id&&s.materialB.id===t.id||s.materialA.id===t.id&&s.materialB.id===e.id)return s}return!1},x.prototype.removeConstraint=function(e){var t=this.constraints.indexOf(e);-1!==t&&v.splice(this.constraints,t,1)},r.create(),r.create(),r.create(),r.create(),r.create(),r.create();var E=r.create(),w=r.fromValues(0,0),T=r.fromValues(0,0);r.fromValues(0,0),r.fromValues(0,0),x.prototype.step=function(e,t,i){if(i=i||10,0===(t=t||0))this.internalStep(e),this.time+=e;else{this.accumulator+=t;for(var n=0;this.accumulator>=e&&n<i;)this.internalStep(e),this.time+=e,this.accumulator-=e,n++;for(var s=this.accumulator%e/e,a=0;a!==this.bodies.length;a++){var o=this.bodies[a];r.lerp(o.interpolatedPosition,o.previousPosition,o.position,s),o.interpolatedAngle=o.previousAngle+s*(o.angle-o.previousAngle)}}};var S=[];x.prototype.internalStep=function(e){this.stepping=!0;var t=this.springs.length,i=this.springs,n=this.bodies,s=this.gravity,a=this.solver,o=this.bodies.length,h=this.broadphase,c=this.narrowphase,l=this.constraints,d=(r.scale,r.add),f=(r.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=e,this.useWorldGravityAsFrictionGravity){var p=r.length(this.gravity);0===p&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=p)}if(this.applyGravity)for(var g=0;g!==o;g++){var m=n[g],y=m.force;m.type===u.DYNAMIC&&m.sleepState!==u.SLEEPING&&(r.scale(E,s,m.mass*m.gravityScale),d(y,y,E))}if(this.applySpringForces)for(var g=0;g!==t;g++)i[g].applyForce();if(this.applyDamping)for(var g=0;g!==o;g++){var m=n[g];m.type===u.DYNAMIC&&m.applyDamping(e)}for(var b=h.getCollisionPairs(this),w=this.disabledBodyCollisionPairs,g=w.length-2;g>=0;g-=2)for(var T=b.length-2;T>=0;T-=2)(w[g]===b[T]&&w[g+1]===b[T+1]||w[g+1]===b[T]&&w[g]===b[T+1])&&b.splice(T,2);var A=l.length;for(g=0;g!==A;g++){var C=l[g];if(!C.collideConnected)for(var T=b.length-2;T>=0;T-=2)(C.bodyA===b[T]&&C.bodyB===b[T+1]||C.bodyB===b[T]&&C.bodyA===b[T+1])&&b.splice(T,2)}this.postBroadphaseEvent.pairs=b,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,c.reset(this);for(var g=0,_=b.length;g!==_;g+=2)for(var I=b[g],O=b[g+1],P=0,M=I.shapes.length;P!==M;P++)for(var R=I.shapes[P],L=R.position,D=R.angle,k=0,N=O.shapes.length;k!==N;k++){var F=O.shapes[k],B=F.position,U=F.angle,V=this.defaultContactMaterial;if(R.material&&F.material){var G=this.getContactMaterial(R.material,F.material);G&&(V=G)}this.runNarrowphase(c,I,R,L,D,O,F,B,U,V,this.frictionGravity)}for(var g=0;g!==o;g++){var j=n[g];j._wakeUpAfterNarrowphase&&(j.wakeUp(),j._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(S);for(var W=this.endContactEvent,k=S.length;k--;){var Y=S[k];W.shapeA=Y.shapeA,W.shapeB=Y.shapeB,W.bodyA=Y.bodyA,W.bodyB=Y.bodyB,this.emit(W)}S.length=0}var H=this.preSolveEvent;H.contactEquations=c.contactEquations,H.frictionEquations=c.frictionEquations,this.emit(H),H.contactEquations=H.frictionEquations=null;var A=l.length;for(g=0;g!==A;g++)l[g].update();if(c.contactEquations.length||c.frictionEquations.length||A){if(this.islandSplit){for(f.equations.length=0,v.appendArray(f.equations,c.contactEquations),v.appendArray(f.equations,c.frictionEquations),g=0;g!==A;g++)v.appendArray(f.equations,l[g].equations);f.split(this);for(var g=0;g!==f.islands.length;g++){var z=f.islands[g];z.equations.length&&a.solveIsland(e,z)}}else{for(a.addEquations(c.contactEquations),a.addEquations(c.frictionEquations),g=0;g!==A;g++)a.addEquations(l[g].equations);this.solveConstraints&&a.solve(e,this),a.removeAllEquations()}}for(var g=0;g!==o;g++){var j=n[g];j.integrate(e)}for(var g=0;g!==o;g++)n[g].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var X=this.impactEvent,g=0;g!==c.contactEquations.length;g++){var K=c.contactEquations[g];K.firstImpact&&(X.bodyA=K.bodyA,X.bodyB=K.bodyB,X.shapeA=K.shapeA,X.shapeB=K.shapeB,X.contactEquation=K,this.emit(X))}if(this.sleepMode===x.BODY_SLEEPING)for(g=0;g!==o;g++)n[g].sleepTick(this.time,!1,e);else if(this.sleepMode===x.ISLAND_SLEEPING&&this.islandSplit){for(g=0;g!==o;g++)n[g].sleepTick(this.time,!0,e);for(var g=0;g<this.islandManager.islands.length;g++){var z=this.islandManager.islands[g];z.wantsToSleep()&&z.sleep()}}this.stepping=!1;for(var q=this.bodiesToBeRemoved,g=0;g!==q.length;g++)this.removeBody(q[g]);q.length=0,this.emit(this.postStepEvent)},x.prototype.runNarrowphase=function(e,t,i,n,s,a,o,h,c,l,d){if((i.collisionGroup&o.collisionMask)!=0&&(o.collisionGroup&i.collisionMask)!=0){r.rotate(w,n,t.angle),r.rotate(T,h,a.angle),r.add(w,w,t.position),r.add(T,T,a.position);var f,p=s+t.angle,g=c+a.angle;e.enableFriction=l.friction>0,e.frictionCoefficient=l.friction,f=t.type===u.STATIC||t.type===u.KINEMATIC?a.mass:a.type===u.STATIC||a.type===u.KINEMATIC?t.mass:t.mass*a.mass/(t.mass+a.mass),e.slipForce=l.friction*d*f,e.restitution=l.restitution,e.surfaceVelocity=l.surfaceVelocity,e.frictionStiffness=l.frictionStiffness,e.frictionRelaxation=l.frictionRelaxation,e.stiffness=l.stiffness,e.relaxation=l.relaxation,e.contactSkinSize=l.contactSkinSize,e.enabledEquations=t.collisionResponse&&a.collisionResponse&&i.collisionResponse&&o.collisionResponse;var m=e[i.type|o.type],v=0;if(m){var y=i.sensor||o.sensor,b=e.frictionEquations.length;v=i.type<o.type?m.call(e,t,i,w,p,a,o,T,g,y):m.call(e,a,o,T,g,t,i,w,p,y);var x=e.frictionEquations.length-b;if(v){if(t.allowSleep&&t.type===u.DYNAMIC&&t.sleepState===u.SLEEPING&&a.sleepState===u.AWAKE&&a.type!==u.STATIC&&r.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(t._wakeUpAfterNarrowphase=!0),a.allowSleep&&a.type===u.DYNAMIC&&a.sleepState===u.SLEEPING&&t.sleepState===u.AWAKE&&t.type!==u.STATIC&&r.squaredLength(t.velocity)+Math.pow(t.angularVelocity,2)>=2*Math.pow(t.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(t,i,a,o),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,o)){var E=this.beginContactEvent;if(E.shapeA=i,E.shapeB=o,E.bodyA=t,E.bodyB=a,E.contactEquations.length=0,"number"==typeof v)for(var S=e.contactEquations.length-v;S<e.contactEquations.length;S++)E.contactEquations.push(e.contactEquations[S]);this.emit(E)}if("number"==typeof v&&x>1)for(var S=e.frictionEquations.length-x;S<e.frictionEquations.length;S++){var A=e.frictionEquations[S];A.setSlipForce(A.getSlipForce()/x)}}}}},x.prototype.addSpring=function(e){this.springs.push(e);var t=this.addSpringEvent;t.spring=e,this.emit(t),t.spring=null},x.prototype.removeSpring=function(e){var t=this.springs.indexOf(e);-1!==t&&v.splice(this.springs,t,1)},x.prototype.addBody=function(e){if(-1===this.bodies.indexOf(e)){this.bodies.push(e),e.world=this;var t=this.addBodyEvent;t.body=e,this.emit(t),t.body=null}},x.prototype.removeBody=function(e){if(this.stepping)this.bodiesToBeRemoved.push(e);else{e.world=null;var t=this.bodies.indexOf(e);-1!==t&&(v.splice(this.bodies,t,1),this.removeBodyEvent.body=e,e.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},x.prototype.getBodyById=function(e){for(var t=this.bodies,i=0;i<t.length;i++){var n=t[i];if(n.id===e)return n}return!1},x.prototype.disableBodyCollision=function(e,t){this.disabledBodyCollisionPairs.push(e,t)},x.prototype.enableBodyCollision=function(e,t){for(var i=this.disabledBodyCollisionPairs,n=0;n<i.length;n+=2)if(i[n]===e&&i[n+1]===t||i[n+1]===e&&i[n]===t){i.splice(n,2);return}},x.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var e=this.constraints,t=e.length-1;t>=0;t--)this.removeConstraint(e[t]);for(var i=this.bodies,t=i.length-1;t>=0;t--)this.removeBody(i[t]);for(var n=this.springs,t=n.length-1;t>=0;t--)this.removeSpring(n[t]);for(var r=this.contactMaterials,t=r.length-1;t>=0;t--)this.removeContactMaterial(r[t]);x.apply(this)};var A=r.create(),C=(r.fromValues(0,0),r.fromValues(0,0));x.prototype.hitTest=function(e,t,i){i=i||0;var n=new u({position:e}),l=new c;n.addShape(l);for(var d=this.narrowphase,f=[],p=0,g=t.length;p!==g;p++)for(var m=t[p],v=0,y=m.shapes.length;v!==y;v++){var b=m.shapes[v];r.rotate(A,b.position,m.angle),r.add(A,A,m.position);var x=b.angle+m.angle;(b instanceof s&&d.circleParticle(m,b,A,x,n,l,e,0,!0)||b instanceof a&&d.particleConvex(n,l,e,0,m,b,A,x,!0)||b instanceof o&&d.particlePlane(n,l,e,0,m,b,A,x,!0)||b instanceof h&&d.particleCapsule(n,l,e,0,m,b,A,x,!0)||b instanceof c&&r.squaredLength(r.sub(C,A,e))<i*i)&&f.push(m)}return f},x.prototype.setGlobalStiffness=function(e){for(var t=this.constraints,i=0;i!==t.length;i++)for(var n=t[i],r=0;r!==n.equations.length;r++){var s=n.equations[r];s.stiffness=e,s.needsUpdate=!0}for(var a=this.contactMaterials,i=0;i!==a.length;i++){var n=a[i];n.stiffness=n.frictionStiffness=e}var n=this.defaultContactMaterial;n.stiffness=n.frictionStiffness=e},x.prototype.setGlobalRelaxation=function(e){for(var t=0;t!==this.constraints.length;t++)for(var i=this.constraints[t],n=0;n!==i.equations.length;n++){var r=i.equations[n];r.relaxation=e,r.needsUpdate=!0}for(var t=0;t!==this.contactMaterials.length;t++){var i=this.contactMaterials[t];i.relaxation=i.frictionRelaxation=e}var i=this.defaultContactMaterial;i.relaxation=i.frictionRelaxation=e};var _=new p,I=[];x.prototype.raycast=function(e,t){return t.getAABB(_),this.broadphase.aabbQuery(this,_,I),t.intersectBodies(e,I),I.length=0,e.hasHit()}},{"89f95dae5663d69d":"Kc35t","1597060712a09eda":"cslpB",e52fd346faa95ec5:"3aaBs","69e4774cee40db6d":"geg3A","99235bbf4c27bfa5":"71oh9","1a98bd60511f77ed":"jXoGk",cac3a7e4a83aa352:"3e8Uk","355e7b17b84d94f5":"kpexr",b52cd0c8b35d5ddf:"iCu6l",d925c0839ca7edb5:"hsc7O","5feecb4008ad1788":"3wc90","1bbc320b09c5a9fc":"1vLHz","57e0920a6ef810a1":"fyiLV",a1d53f66bd715fd:"4chxn",a5a7fbc7f4141c89:"kKj3c",a0f61690d079281f:"7VedP","974f59d76858707e":"eMph3","94a2df0e7bb7858a":"fl4d5",c35840d95975c61d:"3C7H6","8c79984d8ee97d1f":"aOW07",e356359911ba3311:"iK7mQ",cf18ab7ef6aa5886:"c2nuE","62007958f12ce1dc":"aPywz",d719e11dcfb0a9b1:"5ZGdm","6a5dc8c97e432e93":"7Fman",c2de07faf4223809:"cJxaR","88208900f1c274d3":"bsKDm","6f27f3e1a911a2d9":"7sQcP","97b04d6bb659a62a":"kYZwj","7703c149f2b0dd53":"bVaR4",ff1e4b24c7b18637:"j6tWA"}],aPywz:[function(e,t,i){t.exports=JSON.parse('{"name":"p2","version":"0.7.1","description":"A JavaScript 2D physics engine.","author":"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)","keywords":["p2.js","p2","physics","engine","2d"],"main":"./src/p2.js","engines":{"node":"*"},"repository":{"type":"git","url":"https://github.com/schteppe/p2.js.git"},"bugs":{"url":"https://github.com/schteppe/p2.js/issues"},"licenses":[{"type":"MIT"}],"devDependencies":{"grunt":"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},"dependencies":{"poly-decomp":"0.1.1"}}')},{}],kYZwj:[function(e,t,i){var n=e("d1c511ff43075908");e("6ad6aae9d3178c1c");var r=e("ae69163b5e95d902");function s(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new r({size:16}),this.tmpDict=new n,this.tmpArray1=[]}e("ca81eee98f7bd467"),t.exports=s,s.prototype.tick=function(){for(var e=this.overlappingShapesLastState,t=this.overlappingShapesCurrentState,i=e.keys.length;i--;){var n=e.keys[i],r=e.getByKey(n);t.getByKey(n),r&&this.recordPool.release(r)}e.reset(),e.copy(t),t.reset()},s.prototype.setOverlapping=function(e,t,i,n){this.overlappingShapesLastState;var r=this.overlappingShapesCurrentState;if(!r.get(t.id,n.id)){var s=this.recordPool.get();s.set(e,t,i,n),r.set(t.id,n.id,s)}},s.prototype.getNewOverlaps=function(e){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,e)},s.prototype.getEndOverlaps=function(e){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,e)},s.prototype.bodiesAreOverlapping=function(e,t){for(var i=this.overlappingShapesCurrentState,n=i.keys.length;n--;){var r=i.keys[n],s=i.data[r];if(s.bodyA===e&&s.bodyB===t||s.bodyA===t&&s.bodyB===e)return!0}return!1},s.prototype.getDiff=function(e,t,i){var i=i||[];i.length=0;for(var n=t.keys.length;n--;){var r=t.keys[n],s=t.data[r];if(!s)throw Error("Key "+r+" had no data!");e.data[r]||i.push(s)}return i},s.prototype.isNewOverlap=function(e,t){var i=0|e.id,n=0|t.id,r=this.overlappingShapesLastState,s=this.overlappingShapesCurrentState;return!r.get(i,n)&&!!s.get(i,n)},s.prototype.getNewBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},s.prototype.getEndBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},s.prototype.getBodyDiff=function(e,t){t=t||[];for(var i=this.tmpDict,n=e.length;n--;){var r=e[n];i.set(0|r.bodyA.id,0|r.bodyB.id,r)}for(n=i.keys.length;n--;){var r=i.getByKey(i.keys[n]);r&&t.push(r.bodyA,r.bodyB)}return i.reset(),t}},{d1c511ff43075908:"gyzPH","6ad6aae9d3178c1c":"cwAfS",ae69163b5e95d902:"fO0xd",ca81eee98f7bd467:"7sQcP"}],cwAfS:[function(e,t,i){function n(e,t,i,n){this.shapeA=t,this.shapeB=n,this.bodyA=e,this.bodyB=i}t.exports=n,n.prototype.set=function(e,t,i,r){n.call(this,e,t,i,r)}},{}],fO0xd:[function(e,t,i){var n=e("ef39e4c8e830c20e"),r=e("6e41b1482492ad2f");function s(){r.apply(this,arguments)}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.create=function(){return new n},s.prototype.destroy=function(e){return e.bodyA=e.bodyB=e.shapeA=e.shapeB=null,this}},{ef39e4c8e830c20e:"cwAfS","6e41b1482492ad2f":"5lrfq"}],bVaR4:[function(e,t,i){e("f7108e810eaecffd"),e("50bfc1b1a312ac2f"),e("2f6d951f62024392");var n=e("9526c01719846e44"),r=e("82ea80983f48bd5f"),s=e("29efc1b1b871dc45");function a(e){this.nodePool=new n({size:16}),this.islandPool=new r({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}t.exports=a,a.getUnvisitedNode=function(e){for(var t=e.length,i=0;i!==t;i++){var n=e[i];if(!n.visited&&n.body.type===s.DYNAMIC)return n}return!1},a.prototype.visit=function(e,t,i){t.push(e.body);for(var n=e.equations.length,r=0;r!==n;r++){var s=e.equations[r];-1===i.indexOf(s)&&i.push(s)}},a.prototype.bfs=function(e,t,i){var n=this.queue;for(n.length=0,n.push(e),e.visited=!0,this.visit(e,t,i);n.length;)for(var r,o=n.pop();r=a.getUnvisitedNode(o.neighbors);)r.visited=!0,this.visit(r,t,i),r.body.type===s.DYNAMIC&&n.push(r)},a.prototype.split=function(e){for(var t,i=e.bodies,n=this.nodes,r=this.equations;n.length;)this.nodePool.release(n.pop());for(var s=0;s!==i.length;s++){var o=this.nodePool.get();o.body=i[s],n.push(o)}for(var h=0;h!==r.length;h++){var c=r[h],s=i.indexOf(c.bodyA),l=i.indexOf(c.bodyB),u=n[s],d=n[l];u.neighbors.push(d),d.neighbors.push(u),u.equations.push(c),d.equations.push(c)}for(var f=this.islands,s=0;s<f.length;s++)this.islandPool.release(f[s]);for(f.length=0;t=a.getUnvisitedNode(n);){var p=this.islandPool.get();this.bfs(t,p.bodies,p.equations),f.push(p)}return f}},{f7108e810eaecffd:"geg3A","50bfc1b1a312ac2f":"9wtT5","2f6d951f62024392":"jBEnk","9526c01719846e44":"jFQNb","82ea80983f48bd5f":"koVuB","29efc1b1b871dc45":"1vLHz"}],"9wtT5":[function(e,t,i){var n=e("3a86c65cb2375424");function r(){this.equations=[],this.bodies=[]}t.exports=r,r.prototype.reset=function(){this.equations.length=this.bodies.length=0};var s=[];r.prototype.getBodies=function(e){var t=e||[],i=this.equations;s.length=0;for(var n=0;n!==i.length;n++){var r=i[n];-1===s.indexOf(r.bodyA.id)&&(t.push(r.bodyA),s.push(r.bodyA.id)),-1===s.indexOf(r.bodyB.id)&&(t.push(r.bodyB),s.push(r.bodyB.id))}return t},r.prototype.wantsToSleep=function(){for(var e=0;e<this.bodies.length;e++){var t=this.bodies[e];if(t.type===n.DYNAMIC&&!t.wantsToSleep)return!1}return!0},r.prototype.sleep=function(){for(var e=0;e<this.bodies.length;e++)this.bodies[e].sleep();return!0}},{"3a86c65cb2375424":"1vLHz"}],jBEnk:[function(e,t,i){function n(e){this.body=e,this.neighbors=[],this.equations=[],this.visited=!1}t.exports=n,n.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],jFQNb:[function(e,t,i){var n=e("1eec35b5274cd8f"),r=e("d22686e86ec94159");function s(){r.apply(this,arguments)}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.create=function(){return new n},s.prototype.destroy=function(e){return e.reset(),this}},{"1eec35b5274cd8f":"jBEnk",d22686e86ec94159:"5lrfq"}],koVuB:[function(e,t,i){var n=e("ad7511310094aed1"),r=e("cb2242e59c24a87e");function s(){r.apply(this,arguments)}t.exports=s,s.prototype=new r,s.prototype.constructor=s,s.prototype.create=function(){return new n},s.prototype.destroy=function(e){return e.reset(),this}},{ad7511310094aed1:"9wtT5",cb2242e59c24a87e:"5lrfq"}],hvh2r:[function(e,t,i){let{World:n,Body:r,Box:s}=e("3c2200220f941251"),{PhysicalBody:a}=e("4b7049ae5e46523"),{ObjectBodyState:o}=e("34cbd7d2d2f92135"),{PathFinder:h}=e("ba70a00f1537ba85"),{TypeDeterminer:c}=e("16abd6b172c3d32c"),{GameConst:l}=e("ee41822ed6c3ec8e"),{RoomsConst:u}=e("189081ce52e8ddcf"),{WorldConst:d}=e("94a66cf7ab1c33b1"),{ErrorManager:f,Logger:p,sc:g}=e("6022040d772fa14");t.exports.P2world=class extends n{constructor(e){super(e),this.events=g.get(e,"events",!1),this.roomId=g.get(e,"roomId",!1),this.sceneName=g.get(e,"sceneName",!1),this.sceneTiledMapFile=g.get(e,"roomMap",!1),this.config=g.get(e,"config",!1),this.validateRequiredProperties(e),this.saveMapData(e),this.objectsManager=g.get(e,"objectsManager",!1),this.applyGravity=g.get(e.worldConfig,"applyGravity",!1),this.gravity=g.get(e.worldConfig,"gravity",[0,0]),this.globalStiffness=g.get(e.worldConfig,"globalStiffness",1e8),this.globalRelaxation=g.get(e.worldConfig,"globalRelaxation",10),this.useFixedWorldStep=g.get(e.worldConfig,"useFixedWorldStep",!0),this.timeStep=g.get(e.worldConfig,"timeStep",.04),this.maxSubSteps=g.get(e.worldConfig,"maxSubSteps",1),this.movementSpeed=g.get(e.worldConfig,"movementSpeed",180),this.allowPassWallsFromBelow=g.get(e.worldConfig,"allowPassWallsFromBelow",!1),this.jumpSpeed=g.get(e.worldConfig,"jumpSpeed",0),this.jumpTimeMs=g.get(e.worldConfig,"jumpTimeMs",0),this.tryClosestPath=g.get(e.worldConfig,"tryClosestPath",!1),this.onlyWalkable=g.get(e.worldConfig,"onlyWalkable",!1),this.wallsMassValue=g.get(e.worldConfig,"wallsMassValue",1),this.playerMassValue=g.get(e.worldConfig,"playerMassValue",1),this.bulletsStopOnPlayer=g.get(e.worldConfig,"bulletsStopOnPlayer",!0),this.bulletsStopOnObject=g.get(e.worldConfig,"bulletsStopOnObject",!0),this.disableObjectsCollisionsOnChase=g.get(e.worldConfig,"disableObjectsCollisionsOnChase",!1),this.disableObjectsCollisionsOnReturn=g.get(e.worldConfig,"disableObjectsCollisionsOnReturn",!0),this.collisionsGroupsByType=g.get(e.worldConfig,"collisionsGroupsByType",!0),this.groupWallsVertically=g.get(e.worldConfig,"groupWallsVertically",!1),this.groupWallsHorizontally=g.get(e.worldConfig,"groupWallsHorizontally",!1),this.allowSimultaneous=g.get(e,"allowSimultaneous",!1),this.allowChangePoints=g.get(e,"allowChangePoints",!0),this.allowRoomObjectsCreation=g.get(e,"allowRoomObjectsCreation",!0),this.allowBodiesWithState=g.get(e,"allowBodiesWithState",!0),this.usePathFinder=g.get(e,"usePathFinder",!0),this.respawnAreas=!1,this.removeBodies=[],this.removeBulletsStateIds=[],this.type=g.get(e,"type",d.WORLD_TYPES.NO_GRAVITY_2D),this.totalBodiesCount=0,this.totalBodiesCreated=0,this.queueBodies=[],this.enablePathFinder(),this.enableWorldDateTime(),this.worldKey=g.randomChars(16),this.limitsBodyType=g.get(e.worldConfig,"limitsBodyType",r.STATIC),this.wallBodyType=g.get(e.worldConfig,"wallBodyType",r.STATIC),this.changePointsBodyType=g.get(e.worldConfig,"changePointsBodyType",r.STATIC),this.worldObjectBodyType=g.get(e.worldConfig,"worldObjectBodyType",r.DYNAMIC),this.playersBodyType=g.get(e.worldConfig,"playersBodyType",r.DYNAMIC),this.bulletsBodyType=g.get(e.worldConfig,"playersBodyType",r.DYNAMIC),this.bodyTypes={KINEMATIC:r.KINEMATIC,STATIC:r.STATIC,DYNAMIC:r.DYNAMIC},this.typeDeterminer=new c,this.playerAnimationBasedOnPress=this.config.get("client/players/animations/basedOnPress",!1),this.playerAnimationDiagonalHorizontal=this.config.get("client/players/animations/diagonalHorizontal",!1),this.usePlayerSpeedConfig=this.config.get("server/players/physicsBody/usePlayerSpeedConfig",!1)}saveMapData(e){this.mapJson=g.get(e,"mapJson"),!this.mapJson&&g.hasOwn(this.config,"server")&&g.hasOwn(this.config.server,"maps")&&(this.mapJson=g.get(this.config.server.maps,this.sceneTiledMapFile,!1)),this.mapJson||(p.critical('Map "'+this.sceneTiledMapFile+'" not found in server maps.',Object.keys(this.config.server.maps)),f.error('Map "'+this.sceneTiledMapFile+'" not found in server maps.'))}enableWorldDateTime(){this.worldDateTime=new Date,this.worldDateTimeInterval=setInterval(()=>{this.worldDateTime=new Date},1e3)}enablePathFinder(){this.usePathFinder&&(this.pathFinder=new h,this.pathFinder.world=this,this.pathFinder.createGridFromMap())}validateRequiredProperties(e){this.events||f.error("EventsManager undefined in P2world."),this.roomId&&this.sceneName&&this.sceneTiledMapFile||(p.critical("World creation missing data in options.",{roomId:this.roomId,sceneName:this.sceneName,sceneTiledMapFile:this.sceneTiledMapFile}),f.error("World creation missing data in options.")),this.config||f.error("Missing Config Manager.")}async createWorldContent(e){if(!this.validateMapData(this.mapJson)){p.error("Missing map data.",this.mapJson);return}this.shouldGroupBodies()||p.warning("Group bodies fully disabled, this can impact performance."),this.changePoints=this.getSceneChangePoints(e);let t=this.mapJson.layers,i=[];for(let e of t){let t={layer:e,world:this};await this.events.emit("reldens.parsingMapLayerBefore",t),i.push(...await this.createLayerContents(t.layer)),await this.events.emit("reldens.parsingMapLayerAfter",t)}for(let e of i){let{layer:t,tileIndex:i,tileW:n,tileH:r,posX:s,posY:a}=e;await this.createRoomObjectBody(t,i,n,r,s,a)}for(let e of(this.processBodiesQueue(),t)){let t={layer:e,world:this};await this.events.emit("reldens.parsingMapLayersAfterBodiesQueue",t)}p.info("Total wall bodies found: "+this.totalBodiesCount,"Total wall bodies created: "+this.totalBodiesCreated)}processBodiesQueue(){for(let e of(this.queueBodies.sort((e,t)=>e.tileIndexes[0]-t.tileIndexes[0]),this.queueBodies))this.addBody(e);this.queueBodies=[]}async createLayerContents(e){let t=this.mapJson.tilewidth,i=this.mapJson.tileheight,n=t/2,r=i/2,s=-1!==e.name.indexOf("change-points"),a=-1!==e.name.indexOf("collisions"),o=[];for(let h=0;h<this.mapJson.width;h++){let c=h*t+n;for(let n=0;n<this.mapJson.height;n++){let l=n*i+r,u=this.tileIndexByRowAndColumn(n,h),d=0===Number(e.data[u]),f=!1,p=!1;!d&&(this.allowChangePoints&&s&&(f=this.createChangePoint(u,t,i,c,l)),a&&(p=this.createWallCollisionBody(u,this.determinePreviousTileIndexFromGroupingType(u,e,n,h),t,i,c,l))),this.usePathFinder&&this.markPathFinderTile(e,d,f,p,h,n),o.push({layer:e,tileIndex:u,tileW:t,tileH:i,posX:c,posY:l})}}return o}determinePreviousTileIndexFromGroupingType(e,t,i,n){return!!this.shouldGroupBodies()&&(this.groupWallsVertically?this.fetchPreviousWallTile(t,i,n):0!==e&&e-1)}fetchPreviousWallTile(e,t,i){if(0===t)return!1;let n=this.tileIndexByRowAndColumn(t-1,i);return 0!==Number(e.data[n])&&n}tileIndexByRowAndColumn(e,t){return e*this.mapJson.width+t}validateMapData(e){return 0<Number(e.width||0)&&0<Number(e.height||0)&&0<Number(e.tilewidth||0)&&0<Number(e.tileheight||0)}async createRoomObjectBody(e,t,i,n,r,s){if(!this.allowRoomObjectsCreation||!this.objectsManager)return;let a=e.name+t,o=this.objectsManager.getObjectData(a);if(o&&!o.multiple)return await this.createWorldObject(o,a,i,n,r,s)}markPathFinderTile(e,t,i,n,r,s){if(!this.pathFinder)return;let a=-1!==e.name.indexOf("pathfinder");(!t&&(i||n)||t&&a)&&this.pathFinder.grid.setWalkableAt(r,s,!1)}createWallCollisionBody(e,t,i,n,r,s){this.totalBodiesCount++;let a=!1!==t&&this.fetchBodyByTileIndexId(t);if(a){let t=a.tileIndexes;if(-1!==t.indexOf(e))return a;t.push(e);let o=this.createWall(this.determineShapeWidth(t,i),this.determineShapeHeight(t,n),this.determineBodyPositionX(a,i,r),this.determineBodyPositionY(a,n,s),this.wallBodyType);return o.tileIndexes=t,o.firstTileIndex=a.firstTileIndex,this.queueBodies.splice(this.queueBodies.indexOf(a),1),this.queueBodies.push(o),o}let o=this.createWall(i,n,r,s,this.wallBodyType);return o.tileIndexes=[e],o.firstTileIndex=e,this.shouldGroupBodies()?this.queueBodies.push(o):this.addBody(o),this.totalBodiesCreated++,o}shouldGroupBodies(){return this.groupWallsVertically||this.groupWallsHorizontally}determineBodyPositionY(e,t,i){return this.groupWallsVertically?e.position[1]+t/2:i}determineBodyPositionX(e,t,i){return this.groupWallsHorizontally?e.position[0]+t/2:i}determineShapeHeight(e,t){return this.groupWallsVertically?e.length*t:t}determineShapeWidth(e,t){return this.groupWallsHorizontally?e.length*t:t}fetchBodyByTileIndexId(e){for(let t of this.queueBodies)if(t.isWall&&t.tileIndexes&&-1!==t.tileIndexes.indexOf(e))return t;return!1}createChangePoint(e,t,i,n,r){let s=g.get(this.changePoints,e,null);if(null===s)return p.error(["Change point data not found in this.changePoints for tileIndex:",e]),!1;let a=this.createCollisionBody(t/2,i/2,n,r,this.changePointsBodyType);return a.changeScenePoint=s,this.addBody(a),p.info("Created change point on tileIndex: "+e),a}async createWorldObject(e,t,i,n,r,s,a=!1){r+=g.get(e,"xFix",0),s+=g.get(e,"yFix",0),e.x=r,e.y=s,this.objectsManager&&g.hasOwn(this.objectsManager.objectsAnimationsData,t)&&(this.objectsManager.objectsAnimationsData[t].x=r,this.objectsManager.objectsAnimationsData[t].y=s),e.interactionArea&&e.setupInteractionArea();let o=g.get(e,"bodyMass",1),h=g.get(e,"collisionResponse",!0),c=!!this.allowBodiesWithState&&g.get(e,"hasState",!1),l=g.get(e,"collisionType",this.worldObjectBodyType),u=g.get(e,"collisionGroup",d.COLLISIONS.OBJECT),f=this.createCollisionBody(i,n,r,s,l,u,o,h,c,t);return f.disableObjectsCollisionsOnChase=this.disableObjectsCollisionsOnChase,f.disableObjectsCollisionsOnReturn=this.disableObjectsCollisionsOnReturn,f.isRoomObject=!0,f.roomObject=e,this.usePathFinder&&a&&(f.pathFinder=a),this.addBody(f),e.state=f.bodyState,e.objectBody=f,p.info("Created object for objectIndex: "+t+" - At x/y: "+r+" / "+s+"."),await this.events.emit("reldens.createdWorldObject",{p2world:this,roomObject:e,bodyObject:f,bodyMass:o,collision:h,hasState:c,objectIndex:t,tileW:i,tileH:n,posX:r,posY:s,pathFinder:a}),e}createLimits(){let e=this.mapJson.tilewidth,t=this.mapJson.tileheight,i=this.mapJson.width*e,n=this.mapJson.height*t,r=i+e,s=n+t,a=this.createWall(r,1,i/2,1,this.limitsBodyType);a.isWorldWall=!0,this.addBody(a);let o=this.createWall(r,1,i/2,n-1,this.limitsBodyType);o.isWorldWall=!0,this.addBody(o);let h=this.createWall(1,s,1,n/2,this.limitsBodyType);h.isWorldWall=!0,this.addBody(h);let c=this.createWall(1,s,i-1,n/2,this.limitsBodyType);c.isWorldWall=!0,this.addBody(c)}createWall(e,t,i,n,r){let s=this.createCollisionBody(e,t,i,n,r,d.COLLISIONS.WALL,this.wallsMassValue);return s.isWall=!0,s}createCollisionBody(e,t,i,n,s,o=d.COLLISIONS.WALL,h=1,c=!0,l=!1,u=!1,f=!1){let p=this.createCollisionShape(e,t,o,c),g=new(l?a:r)({mass:h,position:[i,n],type:s,fixedRotation:!0,movementSpeed:this.movementSpeed,jumpSpeed:this.jumpSpeed,jumpTimeMs:this.jumpTimeMs});return l&&(g.bodyState=this.createBodyState(l,i,n,f,g,u)),g.originalCollisionGroup=o,g.addShape(p),g}createBodyState(e,t,i,n,r,s){return e instanceof a?e:new o({x:t,y:i,dir:n||l.DOWN,scene:this.sceneName,id:r.id,key:s||"",room_id:this.roomId})}createCollisionShape(e,t,i,n=!0,r=0,a=0){let o=new s({width:e,height:t,position:[r,a]});return o.collisionGroup=i,o.collisionMask=this.collisionsGroupsByType[i],o.collisionResponse=n,o}getSceneChangePoints(e){if(!e.changePoints)return{};let t=Object.keys(e.changePoints);if(0===t.length)return{};let i={};for(let n of t){let t=e.changePoints[n];i[t[u.TILE_INDEX]]=t[u.NEXT_SCENE]}return i}createPlayerBody(e){let t=this.createCollisionShape(e.width,e.height,d.COLLISIONS.PLAYER);this.playerMovementSpeed=this.fetchPlayerSpeed(e.speed);let i=new a({mass:this.playerMassValue,position:[e.bodyState.x,e.bodyState.y],type:this.playersBodyType,fixedRotation:!0,animationBasedOnPress:this.playerAnimationBasedOnPress,diagonalHorizontal:this.playerAnimationDiagonalHorizontal,movementSpeed:this.playerMovementSpeed});return i.playerId=e.id,i.collideWorldBounds=!0,i.isChangingScene=!1,i.isBlocked=!1,i.originalCollisionGroup=d.COLLISIONS.PLAYER,i.addShape(t),this.allowBodiesWithState&&(i.bodyState=e.bodyState),this.addBody(i),i}fetchPlayerSpeed(e){let t=this.movementSpeed;if(this.usePlayerSpeedConfig){let i=this.config.get("server/players/physicsBody/speed",e);0<i&&(t=i)}return p.debug("Use movement speed: "+t),t}shootBullet(e,t,i){let{objectWidth:n,objectHeight:r}=i,s=this.mapJson.tileheight/2+r/2,a=this.mapJson.tilewidth/2+n/2,o=e.y+(t.y>e.y?s:-s),h=e.x+(t.x>e.x?a:-a),c=Math.atan2(t.y-o,t.x-h),l=180*c/Math.PI,u=i.key?i.key:"",f=i.magnitude*Math.cos(c),g=i.magnitude*Math.sin(c),m=this.calculateDirection(i,e,t);p.debug('Shooting bullet "'+u+'":',{objectWidth:n,objectHeight:r,bulletY:o,bulletX:h,fromPosition:e,toPosition:t,bulletAngle:l,speedX:f,speedY:g});let v="BULLET_"+this.determineFromType(i),y=this.createCollisionBody(n,r,h,o,this.bulletsBodyType,d.COLLISIONS[v],1,!0,!0,u,m);y.updateMassProperties(),y.roomObject=i,y.hitPriority=i.hitPriority?i.hitPriority:2,y.isRoomObject=!0,y.isBullet=!0,y.key=""===u?"bullet-"+y.id:u,this.addBody(y);let b=u+"_bullet_"+y.id;return y.bodyStateId=b,i.room.state.addBodyToState(y.bodyState,b),y.angle=l,y.originalSpeed={x:f,y:g},y.velocity[0]=f,y.velocity[1]=g,y}determineFromType(e){return this.typeDeterminer.isPlayer(e.owner)?d.FROM_TYPES.PLAYER:this.typeDeterminer.isObject(e.owner)?d.FROM_TYPES.OBJECT:d.FROM_TYPES.OTHER}calculateDirection(e,t,i){return 3===g.get(e,"animDir",!1)?t.x<i.x?l.RIGHT:l.LEFT:t.y<i.y?l.DOWN:l.UP}removeBodiesFromWorld(){if(0!==this.removeBodies.length){for(let e of this.removeBodies)this.removeBody(e);this.removeBodies=[]}}}},{"3c2200220f941251":"6bkiu","4b7049ae5e46523":"ga5Ov","34cbd7d2d2f92135":"6Ja47",ba70a00f1537ba85:"4cX0H","16abd6b172c3d32c":"gubrG",ee41822ed6c3ec8e:"93TbC","189081ce52e8ddcf":"9vHHC","94a66cf7ab1c33b1":"3NNOt","6022040d772fa14":"3lwy5"}],"6Ja47":[function(e,t,i){let{type:n}=e("81074da3e2a28f41"),{BodyState:r}=e("45f557440fcabf20"),{sc:s}=e("ecc058b0615d66ff");class a extends r{constructor(e){super(e),this.id=e.id,this.autoDirection=s.get(e,"autoDirection",!0)}}n("number")(a.prototype,"id"),t.exports.ObjectBodyState=a},{"81074da3e2a28f41":"hyLjW","45f557440fcabf20":"8L2lC",ecc058b0615d66ff:"3lwy5"}],hyLjW:[function(e,t,i){!function(e){var t,i,n,r,s,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function h(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function c(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.OPERATION=void 0,(t=e.OPERATION||(e.OPERATION={}))[t.ADD=128]="ADD",t[t.REPLACE=0]="REPLACE",t[t.DELETE=64]="DELETE",t[t.DELETE_AND_ADD=192]="DELETE_AND_ADD",t[t.TOUCH=1]="TOUCH",t[t.CLEAR=10]="CLEAR";var l=function(){function t(e,t,i){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,i)}return t.prototype.setParent=function(e,t,i){var n=this;if(this.indexes||(this.indexes=this.ref instanceof eh?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=i,t){if(this.root=t,this.ref instanceof eh){var r=this.ref._definition;for(var s in r.schema){var a=this.ref[s];if(a&&a.$changes){var o=r.indexes[s];a.$changes.setParent(this.ref,t,o)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof eh){var i=e.$changes,r=n.ref.$changes.indexes[t];i.setParent(n.ref,n.root,r)}})}},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,i){void 0===i&&(i=e.OPERATION.ADD);var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t);var r=this.changes.get(n);r&&r.op!==e.OPERATION.DELETE&&r.op!==e.OPERATION.TOUCH||this.changes.set(n,{op:r&&r.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:i,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var i="number"==typeof t?t:this.indexes[t];this.assertValidIndex(i,t),this.changes.has(i)||this.changes.set(i,{op:e.OPERATION.TOUCH,index:i}),this.allChanges.add(i),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition){var t=this.ref._definition;return t.schema[t.fieldsByIndex[e]]}var t=this.parent._definition;return Object.values(t.schema[t.fieldsByIndex[this.parentIndex]])[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var i="number"==typeof t?t:this.indexes[t];if(void 0===i){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(i,")"));return}var n=this.getValue(i);this.changes.set(i,{op:e.OPERATION.DELETE,index:i}),this.allChanges.delete(i),delete this.caches[i],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()},t.prototype.discard=function(t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1),this.ref instanceof eh||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var i=n.ref.getIndex(t.index);delete n.indexes[i]}}),this.changes.clear(),this.changed=t,i&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var i=e.getValue(t.index);i&&i.$changes&&i.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function u(e,t,i,n){return e[t]||(e[t]=[]),e[t].push(i),null==n||n.forEach(function(e,t){return i(e,t)}),function(){return f(e[t],e[t].indexOf(i))}}function d(t){var i=this,n="string"!=typeof this.$changes.getType();this.$items.forEach(function(r,s){t.push({refId:i.$changes.refId,op:e.OPERATION.DELETE,field:s,value:void 0,previousValue:r}),n&&i.$changes.root.removeRef(r.$changes.refId)})}function f(e,t){if(-1===t||t>=e.length)return!1;for(var i=e.length-1,n=t;n<i;n++)e[n]=e[n+1];return e.length=i,!0}var p=function(e,t){var i=e.toString(),n=t.toString();return i<n?-1:i>n?1:0},g=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach(function(i){e=t.$refId++,t.setAt(e,i)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0)&&!(e>=this.length)){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)}},t.prototype.setAt=function(t,i){if(null==i){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(t)!==i){void 0!==i.$changes&&i.$changes.setParent(this,this.$changes.root,t);var n,r,s=null!==(r=null===(n=this.$changes.indexes[t])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,i),this.$changes.change(t,s)}},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new(t.bind.apply(t,c([void 0],(e=Array.from(this.$items.values())).concat.apply(e,i),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(i,n){e.setAt(t[n],i)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,i){var n=new t;return n.push.apply(n,Array.from(this.$items.values()).slice(e,i)),n},t.prototype.sort=function(e){var t=this;void 0===e&&(e=p);var i=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,n){t.setAt(i[n],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=Array.from(this.$items.keys()),s=[],a=e;a<e+t;a++)s.push(this.$items.get(r[a])),this.$deleteAt(r[a]);for(var a=0;a<i.length;a++)this.setAt(e+a,i[a]);return s},t.prototype.unshift=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.length,r=t.length,s=Array.from(this.$items.values());return t.forEach(function(t,i){e.setAt(i,t)}),s.forEach(function(t,i){e.setAt(r+i,t)}),n+r},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,i){throw Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,i){throw Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.with=function(e,i){var n=Array.from(this.$items.values());return n[e]=i,new(t.bind.apply(t,c([void 0],n,!1)))},t.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},t.prototype.toSorted=function(e){return Array.from(this.$items.values()).sort(e)},t.prototype.toSpliced=function(e,t){var i=Array.from(this.$items.values());return i.toSpliced.apply(i,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,c([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,c([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t}(),m=function(){function t(e){var i=this;if(this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e){if(e instanceof Map||e instanceof t)e.forEach(function(e,t){return i.set(t,e)});else for(var n in e)this.set(n,e[n])}}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,i){if(null==i)throw Error("MapSchema#set('".concat(t,"', ").concat(i,"): trying to set ").concat(i," value on '").concat(t,"'."));t=t.toString();var n=void 0!==this.$changes.indexes[t],r=n?this.$changes.indexes[t]:this.$refId++,s=n?e.OPERATION.REPLACE:e.OPERATION.ADD,a=void 0!==i.$changes;if(a&&i.$changes.setParent(this,this.$changes.root,r),n){if(!a&&this.$items.get(t)===i)return;a&&this.$items.get(t)!==i&&(s=e.OPERATION.ADD)}else this.$changes.indexes[t]=r,this.$indexes.set(r,t);return this.$items.set(t,i),this.$changes.change(t,s),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e.toString()),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,i){e[i]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e,t){e.$changes?i.set(t,e.clone()):i.set(t,e)})),i},t}(),v={},y=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var i=new e;return i.schema=Object.assign({},t&&t.schema||{}),i.indexes=Object.assign({},t&&t.indexes||{}),i.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),i.descriptors=Object.assign({},t&&t.descriptors||{}),i.deprecated=Object.assign({},t&&t.deprecated||{}),i},e.prototype.addField=function(e,t){var i=this.getNextFieldIndex();this.fieldsByIndex[i]=e,this.indexes[e]=i,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var i=this.indexes[e];if(v[Object.keys(this.schema[e])[0]])return this.childFilters||(this.childFilters={}),this.childFilters[i]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}(),b=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=y.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(i){return t.context||(t.context=new e),E(i,t)}},e}(),x=new b;function E(e,t){return void 0===t&&(t={}),function(i,n){var r=t.context||x,s=i.constructor;if(s._context=r,!e)throw Error("".concat(s.name,': @type() reference provided for "').concat(n,"\" is undefined. Make sure you don't have any circular dependencies."));r.has(s)||r.add(s);var a=s._definition;if(a.addField(n,e),a.descriptors[n]){if(a.deprecated[n])return;try{throw Error("@colyseus/schema: Duplicate '".concat(n,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var o=e.stack.split("\n")[4].trim();throw Error("".concat(e.message," ").concat(o))}}var h=g.is(e),l=!h&&m.is(e);if("string"!=typeof e&&!eh.is(e)){var u=Object.values(e)[0];"string"==typeof u||r.has(u)||r.add(u)}if(t.manual){a.descriptors[n]={enumerable:!0,configurable:!0,writable:!0};return}var d="_".concat(n);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[n]={get:function(){return this[d]},set:function(e){if(e!==this[d]){if(null!=e){if(!h||e instanceof g||(e=new(g.bind.apply(g,c([void 0],e,!1)))),!l||e instanceof m||(e=new m(e)),void 0===e.$proxy){var t,i;l?((t=e).$proxy=!0,e=t=new Proxy(t,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,i){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,i):e[t]=i,!0},deleteProperty:function(e,t){return e.delete(t),!0}})):h&&((i=e).$proxy=!0,e=i=new Proxy(i,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,i){if("symbol"==typeof t||isNaN(t))e[t]=i;else{var n=parseInt(Array.from(e.$items.keys())[t]||t);null==i?e.deleteAt(n):e.setAt(n,i)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0},has:function(e,t){return"symbol"==typeof t||isNaN(Number(t))?Reflect.has(e,t):e.$items.has(Number(t))}}))}this.$changes.change(n),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])}else this[d]&&this.$changes.delete(n);this[d]=e}},enumerable:!0,configurable:!0}}}function w(e,t,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?e[t++]=n:(n<2048?e[t++]=192|n>>6:(n<55296||n>=57344?e[t++]=224|n>>12:(r++,n=65536+((1023&n)<<10|1023&i.charCodeAt(r)),e[t++]=240|n>>18,e[t++]=128|n>>12&63),e[t++]=128|n>>6&63),e[t++]=128|63&n)}function T(e,t){e.push(255&t)}function S(e,t){e.push(255&t)}function A(e,t){e.push(255&t),e.push(t>>8&255)}function C(e,t){e.push(255&t),e.push(t>>8&255)}function _(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function I(e,t){e.push(255&t),e.push(255&t>>8),e.push(255&t>>16),e.push(255&t>>24)}function O(e,t){var i=Math.floor(t/4294967296);I(e,t>>>0),I(e,i)}function P(e,t){I(e,t>>>0),I(e,t/4294967296>>0)}var M=new Int32Array(2),R=new Float32Array(M.buffer),L=new Float64Array(M.buffer);function D(e,t){R[0]=t,_(e,M[0])}function k(e,t){L[0]=t,_(e,M[0]),_(e,M[1])}function N(e,t){t||(t="");var i=function(e){for(var t=0,i=0,n=0,r=e.length;n<r;n++)(t=e.charCodeAt(n))<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(n++,i+=4);return i}(t),n=0;if(i<32)e.push(160|i),n=1;else if(i<256)e.push(217),S(e,i),n=2;else if(i<65536)e.push(218),C(e,i),n=3;else if(i<4294967296)e.push(219),I(e,i),n=5;else throw Error("String too long");return w(e,e.length,t),n+i}function F(e,t){return isNaN(t)?F(e,0):isFinite(t)?t!==(0|t)?(e.push(203),k(e,t),9):t>=0?t<128?(S(e,t),1):t<256?(e.push(204),S(e,t),2):t<65536?(e.push(205),C(e,t),3):t<4294967296?(e.push(206),I(e,t),5):(e.push(207),P(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),T(e,t),2):t>=-32768?(e.push(209),A(e,t),3):t>=-2147483648?(e.push(210),_(e,t),5):(e.push(211),O(e,t),9):F(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var B=Object.freeze({__proto__:null,boolean:function(e,t){return S(e,t?1:0)},float32:function(e,t){D(e,t)},float64:function(e,t){k(e,t)},int16:A,int32:_,int64:O,int8:T,number:F,string:N,uint16:C,uint32:I,uint64:P,uint8:S,utf8Write:w,writeFloat32:D,writeFloat64:k});function U(e,t){return V(e,t)<<24>>24}function V(e,t){return e[t.offset++]}function G(e,t){return j(e,t)<<16>>16}function j(e,t){return e[t.offset++]|e[t.offset++]<<8}function W(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function Y(e,t){return W(e,t)>>>0}function H(e,t){var i=Y(e,t);return 4294967296*W(e,t)+i}function z(e,t){var i=Y(e,t);return 4294967296*Y(e,t)+i}var X=new Int32Array(2),K=new Float32Array(X.buffer),q=new Float64Array(X.buffer);function J(e,t){return X[0]=W(e,t),K[0]}function $(e,t){return X[0]=W(e,t),X[1]=W(e,t),q[0]}function Q(e,t){var i,n=e[t.offset++];n<192?i=31&n:217===n?i=V(e,t):218===n?i=j(e,t):219===n&&(i=Y(e,t));var r=function(e,t,i){for(var n="",r=0,s=t,a=t+i;s<a;s++){var o=e[s];if((128&o)==0){n+=String.fromCharCode(o);continue}if((224&o)==192){n+=String.fromCharCode((31&o)<<6|63&e[++s]);continue}if((240&o)==224){n+=String.fromCharCode((15&o)<<12|(63&e[++s])<<6|(63&e[++s])<<0);continue}if((248&o)==240){(r=(7&o)<<18|(63&e[++s])<<12|(63&e[++s])<<6|(63&e[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode((r>>>10)+55296,(1023&r)+56320)):n+=String.fromCharCode(r);continue}console.error("Invalid byte "+o.toString(16))}return n}(e,t.offset,i);return t.offset+=i,r}function Z(e,t){var i=e[t.offset++];if(i<128)return i;if(202===i)return J(e,t);if(203===i)return $(e,t);if(204===i)return V(e,t);if(205===i)return j(e,t);if(206===i)return Y(e,t);if(207===i)return z(e,t);else if(208===i)return U(e,t);else if(209===i)return G(e,t);else if(210===i)return W(e,t);else if(211===i)return H(e,t);else if(i>223)return-((255-i+1)*1)}function ee(e,t){return 255===e[t.offset-1]&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var et=Object.freeze({__proto__:null,arrayCheck:function(e,t){return e[t.offset]<160},boolean:function(e,t){return V(e,t)>0},float32:function(e,t){return J(e,t)},float64:function(e,t){return $(e,t)},int16:G,int32:W,int64:H,int8:U,number:Z,numberCheck:function(e,t){var i=e[t.offset];return i<128||i>=202&&i<=211},readFloat32:J,readFloat64:$,string:Q,stringCheck:function(e,t){var i=e[t.offset];return i<192&&i>160||217===i||218===i||219===i},switchStructureCheck:ee,uint16:j,uint32:Y,uint64:z,uint8:V}),ei=function(){function t(e){var t=this;this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),en=function(){function t(e){var t=this;this.$changes=new l(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,i){return void 0===i&&(i=!0),u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,i?this.$items:void 0)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){if(this.has(t))return!1;var i,n,r=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,r);var s=null!==(n=null===(i=this.$changes.indexes[r])||void 0===i?void 0:i.op)&&void 0!==n?n:e.OPERATION.ADD;return this.$changes.indexes[r]=r,this.$indexes.set(r,r),this.$items.set(r,t),this.$changes.change(r,s),r},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,i,n=this.$items.entries();(i=n.next())&&!i.done;)if(e===i.value[1]){t=i.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&d.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,i=this.$items.values(),n=!1;(t=i.next())&&!t.done;)if(e===t.value){n=!0;break}return n},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(i,n,r){return e(i,n,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,i){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var i;return e?i=Object.assign(new t,this):(i=new t,this.forEach(function(e){e.$changes?i.add(e.clone()):i.add(e)})),i},t}(),er=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),es=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,i){void 0===i&&(i=!0),this.refs.set(e,t),i&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){var t=this.refCounts[e];if(void 0===t){console.warn("trying to remove reference ".concat(e," that doesn't exist"));return}if(0===t){console.warn("trying to remove reference ".concat(e," with 0 refCount"));return}this.refCounts[e]=t-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(!(e.refCounts[t]>0)){var i=e.refs.get(t);if(i instanceof eh)for(var n in i._definition.schema)"string"!=typeof i._definition.schema[n]&&i[n]&&i[n].$changes&&e.removeRef(i[n].$changes.refId);else{var r=i.$changes.parent._definition;"function"==typeof Object.values(r.schema[r.fieldsByIndex[i.$changes.parentIndex]])[0]&&Array.from(i.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function eo(e,t,i,n){if(!(e instanceof t))throw new ea("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(i.constructor.name,"#").concat(n))}var eh=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new l(this,void 0,new es),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var i=this._definition.descriptors;i&&Object.defineProperties(this,i),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return u(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,i){var n=this;return void 0===i&&(i=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),i&&void 0!==this[e]&&t(this[e],void 0),function(){return f(n.$callbacks[e],n.$callbacks[e].indexOf(t))}},t.prototype.decode=function(i,n,r){void 0===n&&(n={offset:0}),void 0===r&&(r=this);var s=[],a=this.$changes.root,o=i.length,h=0;for(a.refs.set(h,this);n.offset<o;){var c,l=i[n.offset++];if(255==l){h=Z(i,n);var u=a.refs.get(h);if(!u)throw Error('"refId" not found: '.concat(h));r=u;continue}var d=r.$changes,f=void 0!==r._definition,p=f?l>>6<<6:l;if(p===e.OPERATION.CLEAR){r.clear(s);continue}var y=f?l%(p||255):Z(i,n),b=f?r._definition.fieldsByIndex[y]:"",x=d.getType(y),E=void 0,w=void 0,T=void 0;if(f?w=r["_".concat(b)]:(w=r.getByIndex(y),(p&e.OPERATION.ADD)===e.OPERATION.ADD?(T=r instanceof m?Q(i,n):y,r.setIndex(y,T)):T=r.getIndex(y)),(p&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(p!==e.OPERATION.DELETE_AND_ADD&&r.deleteByIndex(y),w&&w.$changes&&a.removeRef(w.$changes.refId),E=null),void 0===b){console.warn("@colyseus/schema: definition mismatch");for(var S={offset:n.offset};n.offset<o&&!(ee(i,n)&&(S.offset=n.offset+1,a.refs.has(Z(i,S))));)n.offset++;continue}if(p===e.OPERATION.DELETE);else if(t.is(x)){var A=Z(i,n);if(E=a.refs.get(A),p!==e.OPERATION.REPLACE){var C=this.getSchemaType(i,n,x);!E&&((E=this.createTypeInstance(C)).$changes.refId=A,w&&(E.$callbacks=w.$callbacks,w.$changes.refId&&A!==w.$changes.refId&&a.removeRef(w.$changes.refId))),a.addRef(A,E,E!==w)}}else if("string"==typeof x)c=n,E=et[x](i,c);else{var _=v[Object.keys(x)[0]],I=Z(i,n),O=a.refs.has(I)?w||a.refs.get(I):new _.constructor;if((E=O.clone(!0)).$changes.refId=I,w&&(E.$callbacks=w.$callbacks,w.$changes.refId&&I!==w.$changes.refId)){a.removeRef(w.$changes.refId);for(var P=w.entries(),M=void 0;(M=P.next())&&!M.done;){var R=M.value,L=R[0],D=R[1];s.push({refId:I,op:e.OPERATION.DELETE,field:L,value:void 0,previousValue:D})}}a.addRef(I,E,O!==w)}if(null!=E){if(E.$changes&&E.$changes.setParent(d.ref,d.root,y),r instanceof t)r[b]=E;else if(r instanceof m){var L=T;r.$items.set(L,E),r.$changes.allChanges.add(y)}else if(r instanceof g)r.setAt(y,E);else if(r instanceof ei){var k=r.add(E);r.setIndex(y,k)}else if(r instanceof en){var k=r.add(E);!1!==k&&r.setIndex(y,k)}}w!==E&&s.push({refId:h,op:p,field:b,dynamicIndex:T,value:E,previousValue:w})}return this._triggerChanges(s),a.garbageCollectDeletedRefs(),s},t.prototype.encode=function(i,n,r){void 0===i&&(i=!1),void 0===n&&(n=[]),void 0===r&&(r=!1);for(var s=this.$changes,a=new WeakSet,o=[s],h=1,c=0;c<h;c++){var l=o[c],u=l.ref,d=u instanceof t;l.ensureRefId(),a.add(l),l!==s&&(l.changed||i)&&(S(n,255),F(n,l.refId));for(var f=i?Array.from(l.allChanges):Array.from(l.changes.values()),p=0,g=f.length;p<g;p++){var y=i?{op:e.OPERATION.ADD,index:f[p]}:f[p],b=y.index,x=d?u._definition.fieldsByIndex&&u._definition.fieldsByIndex[b]:b,E=n.length;if(y.op!==e.OPERATION.TOUCH){if(d)S(n,b|y.op);else{if(S(n,y.op),y.op===e.OPERATION.CLEAR)continue;F(n,b)}}if(!d&&(y.op&e.OPERATION.ADD)==e.OPERATION.ADD&&u instanceof m&&N(n,l.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var w=l.getType(b),T=l.getValue(b);if(T&&T.$changes&&!a.has(T.$changes)&&(o.push(T.$changes),T.$changes.ensureRefId(),h++),y.op!==e.OPERATION.TOUCH){if(t.is(w))eo(T,w,u,x),F(n,T.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(n,w,T.constructor);else if("string"==typeof w)!function(e,t,i,n,r){!function(e,t,i,n){var r,s=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(i.constructor.name,"#").concat(n));break;case"string":r="string",s=!0;break;case"boolean":return}if(typeof e!==r&&(!s||s&&null!==e)){var a="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new ea("a '".concat(r,"' was expected, but ").concat(a," was provided in ").concat(i.constructor.name,"#").concat(n))}}(i,e,n,r);var s=B[e];if(s)s(t,i);else throw new ea("a '".concat(e,"' was expected, but ").concat(i," was provided in ").concat(n.constructor.name,"#").concat(r))}(w,n,T,u,x);else{var A=v[Object.keys(w)[0]];eo(u["_".concat(x)],A.constructor,u,x),F(n,T.$changes.refId)}r&&l.cache(b,n.slice(E))}}}i||r||l.discard()}return n},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(i,n){void 0===n&&(n=!1);for(var r,s,a=this,o=new Set,h=er.get(i),c=[this.$changes],l=1,u=[],d=0;d<l;d++)!function(d){var f=c[d];if(!o.has(f.refId)){var p=f.ref,g=p instanceof t;S(u,255),F(u,f.refId);var v=h.refIds.has(f),y=n||!v;h.addRefId(f);var b=h.containerIndexes.get(f),x=y?Array.from(f.allChanges):Array.from(f.changes.values());!n&&g&&p._definition.indexesWithFilters&&p._definition.indexesWithFilters.forEach(function(t){!b.has(t)&&f.allChanges.has(t)&&(y?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,w=x.length;E<w;E++){var T=y?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(T.op===e.OPERATION.CLEAR){S(u,T.op);continue}var A=T.index;if(T.op===e.OPERATION.DELETE){g?S(u,T.op|A):(S(u,T.op),F(u,A));continue}var C=f.getValue(A),_=f.getType(A);if(g){var I=p._definition.filters&&p._definition.filters[A];if(I&&!I.call(p,i,C,a)){C&&C.$changes&&o.add(C.$changes.refId);continue}}else{var O=f.parent,I=f.getChildrenFilter();if(I&&!I.call(O,i,p.$indexes.get(A),C,a)){C&&C.$changes&&o.add(C.$changes.refId);continue}}if(C.$changes&&(c.push(C.$changes),l++),T.op!==e.OPERATION.TOUCH){if(T.op===e.OPERATION.ADD||g)u.push.apply(u,null!==(r=f.caches[A])&&void 0!==r?r:[]),b.add(A);else if(b.has(A))u.push.apply(u,null!==(s=f.caches[A])&&void 0!==s?s:[]);else{if(b.add(A),S(u,e.OPERATION.ADD),F(u,A),p instanceof m){var P=f.ref.$indexes.get(A);N(u,P)}C.$changes?F(u,C.$changes.refId):B[_](u,C)}}else if(C.$changes&&!g){if(S(u,e.OPERATION.ADD),F(u,A),p instanceof m){var P=f.ref.$indexes.get(A);N(u,P)}F(u,C.$changes.refId)}}}}(d);return u},t.prototype.clone=function(){var e,t=new this.constructor,i=this._definition.schema;for(var n in i)"object"==typeof this[n]&&"function"==typeof(null===(e=this[n])||void 0===e?void 0:e.clone)?t[n]=this[n].clone():t[n]=this[n];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,i={};for(var n in e)t[n]||null===this[n]||void 0===this[n]||(i[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_".concat(n)]);return i},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,i){t._typeid!==i._typeid&&(S(e,213),F(e,i._typeid))},t.prototype.getSchemaType=function(e,t,i){var n;return 213===e[t.offset]&&(t.offset++,n=this.constructor._context.get(Z(e,t))),n||i},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(i){for(var n,r,s,a,o,h,c,l,u,d=new Set,f=this.$changes.root.refs,p=0;p<i.length;p++)!function(p){var g=i[p],m=g.refId,v=f.get(m),y=v.$callbacks;if((g.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&g.previousValue instanceof t&&(null===(r=null===(n=g.previousValue.$callbacks)||void 0===n?void 0:n[e.OPERATION.DELETE])||void 0===r||r.forEach(function(e){return e()})),y){if(v instanceof t){if(!d.has(m))try{null===(s=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===s||s.forEach(function(e){return e()})}catch(e){t.onError(e)}try{y.hasOwnProperty(g.field)&&(null===(a=y[g.field])||void 0===a||a.forEach(function(e){return e(g.value,g.previousValue)}))}catch(e){t.onError(e)}}else g.op===e.OPERATION.ADD&&void 0===g.previousValue?null===(o=y[e.OPERATION.ADD])||void 0===o||o.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}):g.op===e.OPERATION.DELETE?void 0!==g.previousValue&&(null===(h=y[e.OPERATION.DELETE])||void 0===h||h.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})):g.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(c=y[e.OPERATION.DELETE])||void 0===c||c.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),null===(l=y[e.OPERATION.ADD])||void 0===l||l.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),g.value!==g.previousValue&&(null===(u=y[e.OPERATION.REPLACE])||void 0===u||u.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}));d.add(m)}}(p)},t._definition=y.create(),t}(),ec={context:new b},el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),h([E("string",ec)],t.prototype,"name",void 0),h([E("string",ec)],t.prototype,"type",void 0),h([E("number",ec)],t.prototype,"referencedType",void 0),t}(eh),eu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new g,t}return o(t,e),h([E("number",ec)],t.prototype,"id",void 0),h([E([el],ec)],t.prototype,"fields",void 0),t}(eh),ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new g,t}return o(t,e),t.encode=function(e){var i,n=e.constructor,r=new t;r.rootType=n._typeid;var s=null===(i=n._context)||void 0===i?void 0:i.types;for(var a in s){var o=new eu;o.id=Number(a),function(e,t){for(var i in t){var n=new el;n.name=i;var s=void 0;if("string"==typeof t[i])s=t[i];else{var a=t[i],o=void 0;eh.is(a)?(s="ref",o=t[i]):(s=Object.keys(a)[0],"string"==typeof a[s]?s+=":"+a[s]:o=a[s]),n.referencedType=o?o._typeid:-1}n.type=s,e.fields.push(n)}r.types.push(e)}(o,s[a]._definition.schema)}return r.encodeAll()},t.decode=function(e,i){var n=new b,r=new t;r.decode(e,i);var s=r.types.reduce(function(e,t){var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(eh),r=t.id;return e[r]=i,n.add(i,r),e},{});r.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var i;if(void 0!==e.referencedType){var r=e.type,a=s[e.referencedType];if(!a){var o=e.type.split(":");r=o[0],a=o[1]}"ref"===r?E(a,{context:n})(t.prototype,e.name):E(((i={})[r]=a,i),{context:n})(t.prototype,e.name)}else E(e.type,{context:n})(t.prototype,e.name)})});var a=s[r.rootType],h=new a;for(var c in a._definition.schema){var l=a._definition.schema[c];"string"!=typeof l&&(h[c]="function"==typeof l?new l:new v[Object.keys(l)[0]].constructor)}return h},h([E([eu],ec)],t.prototype,"types",void 0),h([E("number",ec)],t.prototype,"rootType",void 0),t}(eh);i={constructor:m},v.map=i,n={constructor:g},v.array=n,r={constructor:en},v.set=r,s={constructor:ei},v.collection=s,e.ArraySchema=g,e.CollectionSchema=ei,e.Context=b,e.MapSchema=m,e.Reflection=ed,e.ReflectionField=el,e.ReflectionType=eu,e.Schema=eh,e.SchemaDefinition=y,e.SetSchema=en,e.decode=et,e.defineTypes=function(e,t,i){for(var n in void 0===i&&(i={}),i.context||(i.context=e._context||i.context||x),t)E(t[n],i)(e.prototype,n);return e},e.deprecated=function(e){return void 0===e&&(e=!0),function(t,i){var n=t.constructor._definition;n.deprecated[i]=!0,e&&(n.descriptors[i]={get:function(){throw Error("".concat(i," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],i={},n=0;n<1;n++)!function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,r=e.index;i[t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r)]=n.getValue(r)})}(n);return i},e.encode=B,e.filter=function(e){return function(t,i){var n=t.constructor;n._definition.addFilter(i,e)&&(n._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,i){var n=t.constructor;n._definition.addChildrenFilter(i,e)&&(n._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=function(e,t){v[e]=t},e.type=E}(i)},{}],"8L2lC":[function(e,t,i){let{Schema:n,type:r}=e("5cb6ab681f3bf25c"),{GameConst:s}=e("eff2e21bf6452f35");class a extends n{constructor(e){super(),this.room_id=e.room_id,this.scene=e.scene,this.key=e.key||"",this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.dir=e.dir,this.mov=!1,this.inState=e.inState||s.STATUS.ACTIVE}sync(e){return this.room_id=e.room_id,this.scene=e.scene,this.key=e.key,this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.dir=e.dir,this.mov=e.mov,this.inState=e.inState,this}}r("number")(a.prototype,"room_id"),r("string")(a.prototype,"scene"),r("string")(a.prototype,"key"),r("number")(a.prototype,"x"),r("number")(a.prototype,"y"),r("string")(a.prototype,"dir"),r("boolean")(a.prototype,"mov"),r("number")(a.prototype,"inState"),t.exports.BodyState=a},{"5cb6ab681f3bf25c":"hyLjW",eff2e21bf6452f35:"93TbC"}],"4cX0H":[function(e,t,i){let{sc:n}=e("d026eb33ec4f8a6d"),{Grid:r,AStarFinder:s}=e("8e5cc24e68f2d485");t.exports.PathFinder=class{constructor(){this.finder=new s,this.world=!1,this.grid=!1,this.bodies={}}createGridFromMap(){this.grid=new r(this.world.mapJson.width+1,this.world.mapJson.height+1)}addBodyToProcess(e){this.bodies[e.id]=e}findPath(e,t){if(this.world.onlyWalkable){let e=!1;try{e=!!n.hasOwn(this.grid,"nodes")&&this.grid.getNodeAt(t[0],t[1])}catch(e){}if(!e||!e.walkable)return!1}let i=this.grid.clone(),r=this.finder.findPath(e[0],e[1],t[0],t[1],i);if(!r.length&&this.world.tryClosestPath){let n=[1,1];e[0]<t[0]&&(n[0]=-1),e[1]<t[1]&&(n[1]=-1);let s=this.world.mapJson.width,a=this.world.mapJson.height,o=t[0]+n[0]>s?t[0]+n[0]:s,h=t[1]+n[1]>a?t[1]+n[1]:a,c=t[0]-n[0]<0?t[0]-n[0]:0,l=t[1]-n[1]<0?t[1]-n[1]:0,u=this.grid.getNodeAt(o,t[1]);u&&!u.walkable&&(u=this.grid.getNodeAt(t[0],h))&&!u.walkable&&(u=this.grid.getNodeAt(o,h))&&!u.walkable&&(u=this.grid.getNodeAt(c,t[1]))&&!u.walkable&&(u=this.grid.getNodeAt(t[0],l))&&!u.walkable&&(u=this.grid.getNodeAt(c,l))&&!u.walkable&&(u=this.grid.getNodeAt(c,h))&&!u.walkable&&(u=this.grid.getNodeAt(o,l)),u&&u.walkable&&(i=this.grid.clone(),r=this.finder.findPath(e[0],e[1],u.x,u.y,i))}return r}}},{d026eb33ec4f8a6d:"3lwy5","8e5cc24e68f2d485":"jSlJ0"}],jSlJ0:[function(e,t,i){t.exports=e("c08c5d893d481d77")},{c08c5d893d481d77:"110ct"}],"110ct":[function(e,t,i){t.exports={Heap:e("a11c2d2f6228b64d"),Node:e("5d6357416bae419"),Grid:e("eb2500554bbf40a2"),Util:e("b8fdf53e7c2bda86"),DiagonalMovement:e("ea6942fe46b7874a"),Heuristic:e("cc79ac15c71b85de"),AStarFinder:e("92550c19cc8290da"),BestFirstFinder:e("8fe7b6287e43173"),BreadthFirstFinder:e("49f4cbf7cb03de5a"),DijkstraFinder:e("f055f2df42298a76"),BiAStarFinder:e("ae88c656fdc0b402"),BiBestFirstFinder:e("6dfdccafa1ea046a"),BiBreadthFirstFinder:e("4f4a8a58aa00c271"),BiDijkstraFinder:e("f9f2731f8e4ac9f4"),IDAStarFinder:e("548d4f7f580680d4"),JumpPointFinder:e("c94d58273ef6271a")}},{a11c2d2f6228b64d:"j1Rgs","5d6357416bae419":"eTBTH",eb2500554bbf40a2:"4U8Sg",b8fdf53e7c2bda86:"eXbk6",ea6942fe46b7874a:"44ekP",cc79ac15c71b85de:"7ivQz","92550c19cc8290da":"b9jsj","8fe7b6287e43173":"j0U38","49f4cbf7cb03de5a":"c3dtf",f055f2df42298a76:"aTw5v",ae88c656fdc0b402:"gqRU9","6dfdccafa1ea046a":"OQep8","4f4a8a58aa00c271":"5kxE6",f9f2731f8e4ac9f4:"b2sHM","548d4f7f580680d4":"9146d",c94d58273ef6271a:"8thbF"}],j1Rgs:[function(e,t,i){t.exports=e("30b1093da33c692b")},{"30b1093da33c692b":"jKwEm"}],jKwEm:[function(e,t,i){(function(){var e,i,n,r,s,a,o,h,c,l,u,d,f,p,g;n=Math.floor,l=Math.min,i=function(e,t){return e<t?-1:e>t?1:0},c=function(e,t,r,s,a){var o;if(null==r&&(r=0),null==a&&(a=i),r<0)throw Error("lo must be non-negative");for(null==s&&(s=e.length);r<s;)0>a(t,e[o=n((r+s)/2)])?s=o:r=o+1;return[].splice.apply(e,[r,r-r].concat(t)),t},a=function(e,t,n){return null==n&&(n=i),e.push(t),p(e,0,e.length-1,n)},s=function(e,t){var n,r;return null==t&&(t=i),n=e.pop(),e.length?(r=e[0],e[0]=n,g(e,0,t)):r=n,r},h=function(e,t,n){var r;return null==n&&(n=i),r=e[0],e[0]=t,g(e,0,n),r},o=function(e,t,n){var r;return null==n&&(n=i),e.length&&0>n(e[0],t)&&(t=(r=[e[0],t])[0],e[0]=r[1],g(e,0,n)),t},r=function(e,t){var r,s,a,o,h,c;for(null==t&&(t=i),o=(function(){c=[];for(var t=0,i=n(e.length/2);0<=i?t<i:t>i;0<=i?t++:t--)c.push(t);return c}).apply(this).reverse(),h=[],s=0,a=o.length;s<a;s++)r=o[s],h.push(g(e,r,t));return h},f=function(e,t,n){var r;if(null==n&&(n=i),-1!==(r=e.indexOf(t)))return p(e,0,r,n),g(e,r,n)},u=function(e,t,n){var s,a,h,c;if(null==n&&(n=i),!(s=e.slice(0,t)).length)return s;for(r(s,n),a=0,h=(c=e.slice(t)).length;a<h;a++)o(s,c[a],n);return s.sort(n).reverse()},d=function(e,t,n){var a,o,h,u,d,f,p,g,m;if(null==n&&(n=i),10*t<=e.length){if(!(h=e.slice(0,t).sort(n)).length)return h;for(u=0,o=h[h.length-1],f=(p=e.slice(t)).length;u<f;u++)0>n(a=p[u],o)&&(c(h,a,0,null,n),h.pop(),o=h[h.length-1]);return h}for(r(e,n),m=[],d=0,g=l(t,e.length);0<=g?d<g:d>g;0<=g?++d:--d)m.push(s(e,n));return m},p=function(e,t,n,r){var s,a,o;for(null==r&&(r=i),s=e[n];n>t;){if(0>r(s,a=e[o=n-1>>1])){e[n]=a,n=o;continue}break}return e[n]=s},g=function(e,t,n){var r,s,a,o,h;for(null==n&&(n=i),s=e.length,h=t,a=e[t],r=2*t+1;r<s;)(o=r+1)<s&&!(0>n(e[r],e[o]))&&(r=o),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,p(e,h,t,n)},e=function(){function e(e){this.cmp=null!=e?e:i,this.nodes=[]}return e.push=a,e.pop=s,e.replace=h,e.pushpop=o,e.heapify=r,e.updateItem=f,e.nlargest=u,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return s(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return -1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return o(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),(null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)},{}],eTBTH:[function(e,t,i){t.exports=function(e,t,i){this.x=e,this.y=t,this.walkable=void 0===i||i}},{}],"4U8Sg":[function(e,t,i){var n=e("3debe8dfc5f4b19"),r=e("1630f01fef4aa0f7");function s(e,t,i){var n;"object"!=typeof e?n=e:(t=e.length,n=e[0].length,i=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,i)}s.prototype._buildNodes=function(e,t,i){var r,s,a=Array(t);for(r=0;r<t;++r)for(s=0,a[r]=Array(e);s<e;++s)a[r][s]=new n(s,r);if(void 0===i)return a;if(i.length!==t||i[0].length!==e)throw Error("Matrix size does not fit");for(r=0;r<t;++r)for(s=0;s<e;++s)i[r][s]&&(a[r][s].walkable=!1);return a},s.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},s.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},s.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},s.prototype.setWalkableAt=function(e,t,i){this.nodes[t][e].walkable=i},s.prototype.getNeighbors=function(e,t){var i=e.x,n=e.y,s=[],a=!1,o=!1,h=!1,c=!1,l=!1,u=!1,d=!1,f=!1,p=this.nodes;if(this.isWalkableAt(i,n-1)&&(s.push(p[n-1][i]),a=!0),this.isWalkableAt(i+1,n)&&(s.push(p[n][i+1]),h=!0),this.isWalkableAt(i,n+1)&&(s.push(p[n+1][i]),l=!0),this.isWalkableAt(i-1,n)&&(s.push(p[n][i-1]),d=!0),t===r.Never)return s;if(t===r.OnlyWhenNoObstacles)o=d&&a,c=a&&h,u=h&&l,f=l&&d;else if(t===r.IfAtMostOneObstacle)o=d||a,c=a||h,u=h||l,f=l||d;else if(t===r.Always)o=!0,c=!0,u=!0,f=!0;else throw Error("Incorrect value of diagonalMovement");return o&&this.isWalkableAt(i-1,n-1)&&s.push(p[n-1][i-1]),c&&this.isWalkableAt(i+1,n-1)&&s.push(p[n-1][i+1]),u&&this.isWalkableAt(i+1,n+1)&&s.push(p[n+1][i+1]),f&&this.isWalkableAt(i-1,n+1)&&s.push(p[n+1][i-1]),s},s.prototype.clone=function(){var e,t,i=this.width,r=this.height,a=this.nodes,o=new s(i,r),h=Array(r);for(e=0;e<r;++e)for(t=0,h[e]=Array(i);t<i;++t)h[e][t]=new n(t,e,a[e][t].walkable);return o.nodes=h,o},t.exports=s},{"3debe8dfc5f4b19":"eTBTH","1630f01fef4aa0f7":"44ekP"}],"44ekP":[function(e,t,i){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},{}],eXbk6:[function(e,t,i){function n(e){for(var t=[[e.x,e.y]];e.parent;)t.push([(e=e.parent).x,e.y]);return t.reverse()}function r(e,t,i,n){var r,s,a,o,h,c,l=Math.abs,u=[];for(a=l(i-e),o=l(n-t),r=e<i?1:-1,s=t<n?1:-1,h=a-o;u.push([e,t]),e!==i||t!==n;)(c=2*h)>-o&&(h-=o,e+=r),c<a&&(h+=a,t+=s);return u}i.backtrace=n,i.biBacktrace=function(e,t){var i=n(e),r=n(t);return i.concat(r.reverse())},i.pathLength=function(e){var t,i,n,r,s,a=0;for(t=1;t<e.length;++t)i=e[t-1],n=e[t],a+=Math.sqrt((r=i[0]-n[0])*r+(s=i[1]-n[1])*s);return a},i.interpolate=r,i.expandPath=function(e){var t,i,n,s,a,o,h=[],c=e.length;if(c<2)return h;for(a=0;a<c-1;++a)for(o=0,t=e[a],i=e[a+1],s=(n=r(t[0],t[1],i[0],i[1])).length;o<s-1;++o)h.push(n[o]);return h.push(e[c-1]),h},i.smoothenPath=function(e,t){var i,n,s,a,o,h,c,l,u,d=t.length,f=t[0][0],p=t[0][1],g=t[d-1][0],m=t[d-1][1];for(a=2,s=[[i=f,n=p]];a<d;++a){for(o=1,c=r(i,n,(h=t[a])[0],h[1]),u=!1;o<c.length;++o)if(l=c[o],!e.isWalkableAt(l[0],l[1])){u=!0;break}u&&(lastValidCoord=t[a-1],s.push(lastValidCoord),i=lastValidCoord[0],n=lastValidCoord[1])}return s.push([g,m]),s},i.compressPath=function(e){if(e.length<3)return e;var t,i,n,r,s,a,o=[],h=e[0][0],c=e[0][1],l=e[1][0],u=e[1][1],d=l-h,f=u-c;for(s=Math.sqrt(d*d+f*f),d/=s,f/=s,o.push([h,c]),a=2;a<e.length;a++)t=l,i=u,n=d,r=f,l=e[a][0],u=e[a][1],s=Math.sqrt((d=l-t)*d+(f=u-i)*f),d/=s,f/=s,(d!==n||f!==r)&&o.push([t,i]);return o.push([l,u]),o}},{}],"7ivQz":[function(e,t,i){t.exports={manhattan:function(e,t){return e+t},euclidean:function(e,t){return Math.sqrt(e*e+t*t)},octile:function(e,t){var i=Math.SQRT2-1;return e<t?i*e+t:i*t+e},chebyshev:function(e,t){return Math.max(e,t)}}},{}],b9jsj:[function(e,t,i){var n=e("b757ea534d669965"),r=e("754f144f9fe03b61"),s=e("89babbb01a8c7621"),a=e("253ad51195869677");function o(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||s.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||s.manhattan:this.heuristic=e.heuristic||s.octile}o.prototype.findPath=function(e,t,i,s,a){var o,h,c,l,u,d,f,p,g=new n(function(e,t){return e.f-t.f}),m=a.getNodeAt(e,t),v=a.getNodeAt(i,s),y=this.heuristic,b=this.diagonalMovement,x=this.weight,E=Math.abs,w=Math.SQRT2;for(m.g=0,m.f=0,g.push(m),m.opened=!0;!g.empty();){if((o=g.pop()).closed=!0,o===v)return r.backtrace(v);for(l=0,u=(h=a.getNeighbors(o,b)).length;l<u;++l)(c=h[l]).closed||(d=c.x,f=c.y,p=o.g+(d-o.x==0||f-o.y==0?1:w),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||x*y(E(d-i),E(f-s)),c.f=c.g+c.h,c.parent=o,c.opened?g.updateItem(c):(g.push(c),c.opened=!0)))}return[]},t.exports=o},{b757ea534d669965:"j1Rgs","754f144f9fe03b61":"eXbk6","89babbb01a8c7621":"7ivQz","253ad51195869677":"44ekP"}],j0U38:[function(e,t,i){var n=e("b7db616f6e486e56");function r(e){n.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},{b7db616f6e486e56:"b9jsj"}],c3dtf:[function(e,t,i){var n=e("6cf07efeb8a2810"),r=e("4df4f7ec3660ef9c");function s(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}s.prototype.findPath=function(e,t,i,r,s){var a,o,h,c,l,u=[],d=this.diagonalMovement,f=s.getNodeAt(e,t),p=s.getNodeAt(i,r);for(u.push(f),f.opened=!0;u.length;){if((h=u.shift()).closed=!0,h===p)return n.backtrace(p);for(c=0,l=(a=s.getNeighbors(h,d)).length;c<l;++c)(o=a[c]).closed||o.opened||(u.push(o),o.opened=!0,o.parent=h)}return[]},t.exports=s},{"6cf07efeb8a2810":"eXbk6","4df4f7ec3660ef9c":"44ekP"}],aTw5v:[function(e,t,i){var n=e("45c604de4657667e");function r(e){n.call(this,e),this.heuristic=function(e,t){return 0}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},{"45c604de4657667e":"b9jsj"}],gqRU9:[function(e,t,i){var n=e("108c6be25fad91af"),r=e("243c1e91777c041a"),s=e("cd71f9bf8d3d1dc4"),a=e("413e1b12231275fd");function o(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||s.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||s.manhattan:this.heuristic=e.heuristic||s.octile}o.prototype.findPath=function(e,t,i,s,a){var o,h,c,l,u,d,f,p,g=function(e,t){return e.f-t.f},m=new n(g),v=new n(g),y=a.getNodeAt(e,t),b=a.getNodeAt(i,s),x=this.heuristic,E=this.diagonalMovement,w=this.weight,T=Math.abs,S=Math.SQRT2;for(y.g=0,y.f=0,m.push(y),y.opened=1,b.g=0,b.f=0,v.push(b),b.opened=2;!m.empty()&&!v.empty();){for(l=0,(o=m.pop()).closed=!0,u=(h=a.getNeighbors(o,E)).length;l<u;++l)if(!(c=h[l]).closed){if(2===c.opened)return r.biBacktrace(o,c);d=c.x,f=c.y,p=o.g+(d-o.x==0||f-o.y==0?1:S),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||w*x(T(d-i),T(f-s)),c.f=c.g+c.h,c.parent=o,c.opened?m.updateItem(c):(m.push(c),c.opened=1))}for(l=0,(o=v.pop()).closed=!0,u=(h=a.getNeighbors(o,E)).length;l<u;++l)if(!(c=h[l]).closed){if(1===c.opened)return r.biBacktrace(c,o);d=c.x,f=c.y,p=o.g+(d-o.x==0||f-o.y==0?1:S),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||w*x(T(d-e),T(f-t)),c.f=c.g+c.h,c.parent=o,c.opened?v.updateItem(c):(v.push(c),c.opened=2))}}return[]},t.exports=o},{"108c6be25fad91af":"j1Rgs","243c1e91777c041a":"eXbk6",cd71f9bf8d3d1dc4:"7ivQz","413e1b12231275fd":"44ekP"}],OQep8:[function(e,t,i){var n=e("a6760298dc2ae1e2");function r(e){n.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},{a6760298dc2ae1e2:"gqRU9"}],"5kxE6":[function(e,t,i){var n=e("e34624d6ddfc3286"),r=e("3a2b331c44f27e4");function s(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}s.prototype.findPath=function(e,t,i,r,s){var a,o,h,c,l,u=s.getNodeAt(e,t),d=s.getNodeAt(i,r),f=[],p=[],g=this.diagonalMovement;for(f.push(u),u.opened=!0,u.by=0,p.push(d),d.opened=!0,d.by=1;f.length&&p.length;){for(c=0,(h=f.shift()).closed=!0,l=(a=s.getNeighbors(h,g)).length;c<l;++c)if(!(o=a[c]).closed){if(o.opened){if(1===o.by)return n.biBacktrace(h,o);continue}f.push(o),o.parent=h,o.opened=!0,o.by=0}for(c=0,(h=p.shift()).closed=!0,l=(a=s.getNeighbors(h,g)).length;c<l;++c)if(!(o=a[c]).closed){if(o.opened){if(0===o.by)return n.biBacktrace(o,h);continue}p.push(o),o.parent=h,o.opened=!0,o.by=1}}return[]},t.exports=s},{e34624d6ddfc3286:"eXbk6","3a2b331c44f27e4":"44ekP"}],b2sHM:[function(e,t,i){var n=e("4d2eb37086fd0a4d");function r(e){n.call(this,e),this.heuristic=function(e,t){return 0}}r.prototype=new n,r.prototype.constructor=r,t.exports=r},{"4d2eb37086fd0a4d":"gqRU9"}],"9146d":[function(e,t,i){e("c0387396fce16765");var n=e("dde77a9c5fac2972"),r=e("a8074282e5d01edd"),s=e("19018cfbc93f15b2");function a(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||n.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=e.heuristic||n.manhattan:this.heuristic=e.heuristic||n.octile}a.prototype.findPath=function(e,t,i,n,s){var a,o,h,c=0,l=new Date().getTime(),u=(function(e,t){return this.heuristic(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}).bind(this),d=(function(e,t,i,n,a){if(c++,this.timeLimit>0&&new Date().getTime()-l>1e3*this.timeLimit)return 1/0;var o,h,f,g,m,v=t+u(e,p)*this.weight;if(v>i)return v;if(e==p)return n[a]=[e.x,e.y],e;var y=s.getNeighbors(e,this.diagonalMovement);for(g=0,h=1/0;m=y[g];++g){if(this.trackRecursion&&(m.retainCount=m.retainCount+1||1,!0!==m.tested&&(m.tested=!0)),(f=d(m,t+(o=m,e.x===o.x||e.y===o.y?1:Math.SQRT2),i,n,a+1))instanceof r)return n[a]=[e.x,e.y],f;this.trackRecursion&&0==--m.retainCount&&(m.tested=!1),f<h&&(h=f)}return h}).bind(this),f=s.getNodeAt(e,t),p=s.getNodeAt(i,n),g=u(f,p);for(a=0;(h=d(f,0,g,o=[],0))!==1/0;++a){if(h instanceof r)return o;g=h}return[]},t.exports=a},{c0387396fce16765:"eXbk6",dde77a9c5fac2972:"7ivQz",a8074282e5d01edd:"eTBTH","19018cfbc93f15b2":"44ekP"}],"8thbF":[function(e,t,i){var n=e("2891a3456c178f83"),r=e("4bebb1dfbb208333"),s=e("2a49f576027a63b9"),a=e("4870319ec82eda68"),o=e("434359508a2431a3");t.exports=function(e){return(e=e||{}).diagonalMovement===n.Never?new r(e):e.diagonalMovement===n.Always?new s(e):e.diagonalMovement===n.OnlyWhenNoObstacles?new a(e):new o(e)}},{"2891a3456c178f83":"44ekP","4bebb1dfbb208333":"lWu7G","2a49f576027a63b9":"f8Z4Q","4870319ec82eda68":"gnl5v","434359508a2431a3":"eBShv"}],lWu7G:[function(e,t,i){var n=e("98703dbb8710efff"),r=e("6cca3053e9062116");function s(e){n.call(this,e)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-s,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-s,t+1))return[e,t]}else if(0!==a){if(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a)||this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}else throw Error("Only horizontal and vertical movements are allowed");return this._jump(e+s,t+a,e,t)},s.prototype._findNeighbors=function(e){var t,i,n,s,a,o,h,c,l=e.parent,u=e.x,d=e.y,f=this.grid,p=[];if(l)t=l.x,i=l.y,n=(u-t)/Math.max(Math.abs(u-t),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==n?(f.isWalkableAt(u,d-1)&&p.push([u,d-1]),f.isWalkableAt(u,d+1)&&p.push([u,d+1]),f.isWalkableAt(u+n,d)&&p.push([u+n,d])):0!==s&&(f.isWalkableAt(u-1,d)&&p.push([u-1,d]),f.isWalkableAt(u+1,d)&&p.push([u+1,d]),f.isWalkableAt(u,d+s)&&p.push([u,d+s]));else for(h=0,c=(a=f.getNeighbors(e,r.Never)).length;h<c;++h)p.push([(o=a[h]).x,o.y]);return p},t.exports=s},{"98703dbb8710efff":"abCz2","6cca3053e9062116":"44ekP"}],abCz2:[function(e,t,i){var n=e("8b7979f4607e3762"),r=e("179c54d27a93ac47"),s=e("b48b48ed099ac50b");function a(e){e=e||{},this.heuristic=e.heuristic||s.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}e("f5a1fa39fcf9e158"),a.prototype.findPath=function(e,t,i,s,a){var o,h=this.openList=new n(function(e,t){return e.f-t.f}),c=this.startNode=a.getNodeAt(e,t),l=this.endNode=a.getNodeAt(i,s);for(this.grid=a,c.g=0,c.f=0,h.push(c),c.opened=!0;!h.empty();){if((o=h.pop()).closed=!0,o===l)return r.expandPath(r.backtrace(l));this._identifySuccessors(o)}return[]},a.prototype._identifySuccessors=function(e){var t,i,n,r,a,o,h,c,l,u,d=this.grid,f=this.heuristic,p=this.openList,g=this.endNode.x,m=this.endNode.y,v=e.x,y=e.y,b=Math.abs;for(r=0,a=(t=this._findNeighbors(e)).length;r<a;++r)if(i=t[r],n=this._jump(i[0],i[1],v,y)){if(o=n[0],h=n[1],(u=d.getNodeAt(o,h)).closed)continue;c=s.octile(b(o-v),b(h-y)),l=e.g+c,(!u.opened||l<u.g)&&(u.g=l,u.h=u.h||f(b(o-g),b(h-m)),u.f=u.g+u.h,u.parent=e,u.opened?p.updateItem(u):(p.push(u),u.opened=!0))}},t.exports=a},{"8b7979f4607e3762":"j1Rgs","179c54d27a93ac47":"eXbk6",b48b48ed099ac50b:"7ivQz",f5a1fa39fcf9e158:"44ekP"}],f8Z4Q:[function(e,t,i){var n=e("f54d43a0156dd491"),r=e("c0fd5fc87fc6e982");function s(e){n.call(this,e)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(r.isWalkableAt(e-s,t+a)&&!r.isWalkableAt(e-s,t)||r.isWalkableAt(e+s,t-a)&&!r.isWalkableAt(e,t-a)||this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e+s,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+s,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return this._jump(e+s,t+a,e,t)},s.prototype._findNeighbors=function(e){var t,i,n,s,a,o,h,c,l=e.parent,u=e.x,d=e.y,f=this.grid,p=[];if(l)t=l.x,i=l.y,n=(u-t)/Math.max(Math.abs(u-t),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==n&&0!==s?(f.isWalkableAt(u,d+s)&&p.push([u,d+s]),f.isWalkableAt(u+n,d)&&p.push([u+n,d]),f.isWalkableAt(u+n,d+s)&&p.push([u+n,d+s]),f.isWalkableAt(u-n,d)||p.push([u-n,d+s]),f.isWalkableAt(u,d-s)||p.push([u+n,d-s])):0===n?(f.isWalkableAt(u,d+s)&&p.push([u,d+s]),f.isWalkableAt(u+1,d)||p.push([u+1,d+s]),f.isWalkableAt(u-1,d)||p.push([u-1,d+s])):(f.isWalkableAt(u+n,d)&&p.push([u+n,d]),f.isWalkableAt(u,d+1)||p.push([u+n,d+1]),f.isWalkableAt(u,d-1)||p.push([u+n,d-1]));else for(h=0,c=(a=f.getNeighbors(e,r.Always)).length;h<c;++h)p.push([(o=a[h]).x,o.y]);return p},t.exports=s},{f54d43a0156dd491:"abCz2",c0fd5fc87fc6e982:"44ekP"}],gnl5v:[function(e,t,i){var n=e("671509dd03a8d8cf"),r=e("8726ce1aeaa16523");function s(e){n.call(this,e)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-s,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-s,t+1))return[e,t]}else if(0!==a&&(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-a)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-a)))return[e,t];return r.isWalkableAt(e+s,t)&&r.isWalkableAt(e,t+a)?this._jump(e+s,t+a,e,t):null},s.prototype._findNeighbors=function(e){var t,i,n,s,a,o,h,c,l,u=e.parent,d=e.x,f=e.y,p=this.grid,g=[];if(u){if(i=u.x,n=u.y,s=(d-i)/Math.max(Math.abs(d-i),1),a=(f-n)/Math.max(Math.abs(f-n),1),0!==s&&0!==a)p.isWalkableAt(d,f+a)&&g.push([d,f+a]),p.isWalkableAt(d+s,f)&&g.push([d+s,f]),p.isWalkableAt(d,f+a)&&p.isWalkableAt(d+s,f)&&g.push([d+s,f+a]);else if(0!==s){t=p.isWalkableAt(d+s,f);var m=p.isWalkableAt(d,f+1),v=p.isWalkableAt(d,f-1);t&&(g.push([d+s,f]),m&&g.push([d+s,f+1]),v&&g.push([d+s,f-1])),m&&g.push([d,f+1]),v&&g.push([d,f-1])}else if(0!==a){t=p.isWalkableAt(d,f+a);var y=p.isWalkableAt(d+1,f),b=p.isWalkableAt(d-1,f);t&&(g.push([d,f+a]),y&&g.push([d+1,f+a]),b&&g.push([d-1,f+a])),y&&g.push([d+1,f]),b&&g.push([d-1,f])}}else for(c=0,l=(o=p.getNeighbors(e,r.OnlyWhenNoObstacles)).length;c<l;++c)h=o[c],g.push([h.x,h.y]);return g},t.exports=s},{"671509dd03a8d8cf":"abCz2","8726ce1aeaa16523":"44ekP"}],eBShv:[function(e,t,i){var n=e("f2c8225bd6d92e42"),r=e("30a82af97f1647c1");function s(e){n.call(this,e)}s.prototype=new n,s.prototype.constructor=s,s.prototype._jump=function(e,t,i,n){var r=this.grid,s=e-i,a=t-n;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s&&0!==a){if(r.isWalkableAt(e-s,t+a)&&!r.isWalkableAt(e-s,t)||r.isWalkableAt(e+s,t-a)&&!r.isWalkableAt(e,t-a)||this._jump(e+s,t,e,t)||this._jump(e,t+a,e,t))return[e,t]}else if(0!==s){if(r.isWalkableAt(e+s,t+1)&&!r.isWalkableAt(e,t+1)||r.isWalkableAt(e+s,t-1)&&!r.isWalkableAt(e,t-1))return[e,t]}else if(r.isWalkableAt(e+1,t+a)&&!r.isWalkableAt(e+1,t)||r.isWalkableAt(e-1,t+a)&&!r.isWalkableAt(e-1,t))return[e,t];return r.isWalkableAt(e+s,t)||r.isWalkableAt(e,t+a)?this._jump(e+s,t+a,e,t):null},s.prototype._findNeighbors=function(e){var t,i,n,s,a,o,h,c,l=e.parent,u=e.x,d=e.y,f=this.grid,p=[];if(l)t=l.x,i=l.y,n=(u-t)/Math.max(Math.abs(u-t),1),s=(d-i)/Math.max(Math.abs(d-i),1),0!==n&&0!==s?(f.isWalkableAt(u,d+s)&&p.push([u,d+s]),f.isWalkableAt(u+n,d)&&p.push([u+n,d]),(f.isWalkableAt(u,d+s)||f.isWalkableAt(u+n,d))&&p.push([u+n,d+s]),!f.isWalkableAt(u-n,d)&&f.isWalkableAt(u,d+s)&&p.push([u-n,d+s]),!f.isWalkableAt(u,d-s)&&f.isWalkableAt(u+n,d)&&p.push([u+n,d-s])):0===n?f.isWalkableAt(u,d+s)&&(p.push([u,d+s]),f.isWalkableAt(u+1,d)||p.push([u+1,d+s]),f.isWalkableAt(u-1,d)||p.push([u-1,d+s])):f.isWalkableAt(u+n,d)&&(p.push([u+n,d]),f.isWalkableAt(u,d+1)||p.push([u+n,d+1]),f.isWalkableAt(u,d-1)||p.push([u+n,d-1]));else for(h=0,c=(a=f.getNeighbors(e,r.IfAtMostOneObstacle)).length;h<c;++h)p.push([(o=a[h]).x,o.y]);return p},t.exports=s},{f2c8225bd6d92e42:"abCz2","30a82af97f1647c1":"44ekP"}],gubrG:[function(e,t,i){let{sc:n}=e("e99a0c8899f6ae88");t.exports.TypeDeterminer=class{isPlayer(e){return n.hasOwn(e,"sessionId")}isObject(e){return n.hasOwn(e,"key")}}},{e99a0c8899f6ae88:"3lwy5"}],"3NNOt":[function(e,t,i){t.exports.WorldConst={WORLD_TYPES:{NO_GRAVITY_2D:"NO_GRAVITY_2D",TOP_DOWN_WITH_GRAVITY:"TOP_DOWN_WITH_GRAVITY"},COLLISIONS:{PLAYER:1,OBJECT:2,WALL:4,BULLET_PLAYER:8,BULLET_OBJECT:16,BULLET_OTHER:32,DROP:64},FROM_TYPES:{PLAYER:"PLAYER",OBJECT:"OBJECT",OTHER:"OTHER"}}},{}],e44so:[function(e,t,i){t.exports.WorldPointsValidator=class{constructor(e,t){this.worldWidth=e,this.worldHeight=t}makeValidPoints(e){return e.column=e.column<0?0:e.column,e.column=e.column>this.worldWidth?this.worldWidth:e.column,e.row=e.row<0?0:e.row,e.row=e.row>this.worldHeight?this.worldHeight:e.row,e}}},{}],"5zAcU":[function(e,t,i){let{Logger:n,sc:r}=e("9b59b4ef27f548b6");t.exports.WorldTimer=class{constructor(e){this.clockInstance=r.get(e,"clockInstance",!1),this.callbacks=r.get(e,"callbacks",[]),this.worldTimer={},this.paused=!1,this.lastCallTime=0,this.stepTime=0,this.startedTime=new Date().getTime(),this.currentTime=this.startedTime}startWorldSteps(e){if(!e){n.error("World instance invalid.",{world:e});return}if(this.stepTime=1e3*e.timeStep,this.clockInstance){this.worldTimer=this.clockInstance.setInterval(()=>{this.setIntervalCallback(e)},this.stepTime);return}this.worldTimer=setInterval(()=>{this.setIntervalCallback(e)},this.stepTime)}setIntervalCallback(e){this.paused||(this.currentTime+=this.stepTime,this.stepWorld(e),this.executeCallbacks())}stepWorld(e){if(e.useFixedWorldStep){e.step(e.timeStep);return}this.stepWorldWithSubSteps(e)}executeCallbacks(){if(0!==this.callbacks.length)for(let e of this.callbacks)e()}stepWorldWithSubSteps(e){let t=Date.now()/1e3-this.lastCallTime;e.step(e.timeStep,t,e.maxSubSteps)}}},{"9b59b4ef27f548b6":"3lwy5"}],"4xzUf":[function(e,t,i){let{PlayerEnginePrediction:n}=e("35dabd79ba23aa99"),{SceneDynamic:r}=e("caa2ee44a66bdd90");t.exports.RoomEventsOverride=class{createCurrentPlayerOverride(e){e.createCurrentPlayer=async(t,i,n)=>{e.engineStarted=!0,await e.startEngineScene(t,e.room,i);let r=e.getActiveScene();if(!e.isValidScene(r,t))return!1;for(let s of(await e.events.emit("reldens.playersQueueBefore",t,n,i,e),Object.keys(e.playersQueue)))r.player.addPlayer(s,e.playersQueue[s]);r.experimentalClientPrediction&&(r.player.positionFromServer=t);let s={player:t,key:n,previousScene:i,roomEvents:e};return await e.events.emit("reldens.createCurrentPlayer",s),s}}playerOnChangeOverride(e){e.playersOnChange=(t,i,n)=>{if(t.state.scene!==e.roomName)return;let r=e.getActiveScene();if(e.playerExists(r,i)){if(r.experimentalClientPrediction&&e.isCurrentPlayer(i)){r.player.positionFromServer=t;return}r.player.updatePlayer(i,t)}}}createSceneInstanceOverride(e){e.createSceneInstance=(e,t,i)=>{let n=new r(e,t,i);return n.experimentalClientPrediction=i.config.get("client/general/engine/experimentalClientPrediction"),n.worldPrediction=!1,n}}createPlayerEngineInstanceOverride(e){e.createPlayerEngineInstance=(e,t,i,r)=>new n({scene:e,playerData:t,gameManager:i,room:r})}}},{"35dabd79ba23aa99":"8hflc",caa2ee44a66bdd90:"6Vn5m"}],"8hflc":[function(e,t,i){let{PlayerEngine:n}=e("a2861f4cd568519f"),{GameConst:r}=e("78935193245f5a91");t.exports.PlayerEnginePrediction=class extends n{constructor(e){super(e),this.predictionBody=!1,this.positionFromServer=!1;let t=this.gameManager.config.get("client/players/reconciliation/timeOutMs");this.reconciliationTimeOutMs=!1===t?1e3:Number(t)}left(){if("pressed"===this.lastKeyState[r.LEFT])return;let e={dir:r.LEFT};this.lastKeyState[r.LEFT]="pressed",this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(r.LEFT,!0)),this.roomEvents.send(e)}right(){if("pressed"===this.lastKeyState[r.RIGHT])return;this.lastKeyState[r.RIGHT]="pressed";let e={dir:r.RIGHT};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(r.RIGHT,!0)),this.roomEvents.send(e)}up(){if("pressed"===this.lastKeyState[r.UP])return;this.lastKeyState[r.UP]="pressed";let e={dir:r.UP};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(r.UP,!0)),this.roomEvents.send(e)}down(){if("pressed"===this.lastKeyState[r.DOWN])return;this.lastKeyState[r.DOWN]="pressed";let e={dir:r.DOWN};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.predictionBody.initMove(r.DOWN,!0)),this.roomEvents.send(e)}stop(){this.lastKeyState[r.LEFT]="",this.lastKeyState[r.RIGHT]="",this.lastKeyState[r.UP]="",this.lastKeyState[r.DOWN]="";let e={act:r.STOP};this.predictionBody&&(e.time=this.scene.worldPredictionTimer.currentTime,this.reconcilePosition()),this.roomEvents.send(e)}reconcilePosition(){this.predictionBody&&this.positionFromServer&&(this.predictionBody.stopFull(),setTimeout(()=>{this.predictionBody.position[0]=this.positionFromServer.state.x,this.predictionBody.position[1]=this.positionFromServer.state.y,this.predictionBody.dir=this.positionFromServer.state.dir,this.updatePlayer(this.playerId,this.positionFromServer)},this.reconciliationByTimeOutMs()))}reconciliationTimeOutCallBack(){return!1}reconciliationByTimeOutMs(){let e=this.reconciliationTimeOutCallBack();return Number(!1!==e?e:this.reconciliationTimeOutMs)}moveToPointer(e){this.lastKeyState[r.LEFT]="",this.lastKeyState[r.RIGHT]="",this.lastKeyState[r.UP]="",this.lastKeyState[r.DOWN]="";let t={act:r.POINTER,column:e.worldColumn,row:e.worldRow,x:e.worldX-this.leftOff,y:e.worldY-this.topOff};if(this.predictionBody&&this.pointsValidator){this.reconcilePosition();let e=Object.assign({},t);e=this.pointsValidator.makeValidPoints(e),this.predictionBody.moveToPoint(e)}this.roomEvents.send(t)}}},{a2861f4cd568519f:"3GkIQ","78935193245f5a91":"93TbC"}],"8MUNa":[function(e,t,i){let{PluginInterface:n}=e("ff0cd3a039680b50"),{TargetBoxEnricher:r}=e("bc896f1b30e26c8b"),{TeamMessageListener:s}=e("b9e6a2d82debed5b"),{ClanMessageListener:a}=e("d88cac34aed27f09"),{MessageProcessor:o}=e("187e0a90a62f31a1"),{TemplatesHandler:h}=e("a77183244ab38ca1"),{TeamsConst:c}=e("817bd734dbf4f984"),{Logger:l,sc:u}=e("5bd001817d1a1fe2");t.exports.TeamsPlugin=class extends n{setup(e){this.gameManager=u.get(e,"gameManager",!1),this.gameManager||l.error("Game Manager undefined in TeamsPlugin."),this.events=u.get(e,"events",!1),this.events||l.error("EventsManager undefined in TeamsPlugin."),this.teamMessageListener=new s,this.clanMessageListener=new a,this.listenEvents(),this.listenMessages()}listenMessages(){this.gameManager&&this.events&&(this.gameManager.config.client.message.listeners[c.KEY]=this.teamMessageListener,this.gameManager.config.client.message.listeners[c.CLAN_KEY]=this.clanMessageListener)}listenEvents(){this.events&&(this.events.on("reldens.createEngineSceneDone",e=>{let t=e.roomEvents;if(!t)return l.critical("RoomEvents undefined for process Team messages queue on TeamsPlugin.",e),!1;o.processClanMessagesQueue(t,this.clanMessageListener),o.processTeamMessagesQueue(t,this.teamMessageListener)}),this.events.on("reldens.preloadUiScene",e=>{h.preloadTemplates(e)}),this.events.on("reldens.gameEngineShowTarget",(e,t,i,n)=>{r.appendClanInviteButton(this.gameManager,t,i,n),r.appendTeamInviteButton(this.gameManager,t,i,n)}))}fetchTeamPlayerBySessionId(e){let t=this.gameManager.gameEngine.uiScene.currentTeam;if(!t)return!1;for(let i of Object.keys(t)){let n=t[i];if(n.sessionId===e)return n}return!1}}},{ff0cd3a039680b50:"fC3To",bc896f1b30e26c8b:"h6ORZ",b9e6a2d82debed5b:"2r7vd",d88cac34aed27f09:"dhhBt","187e0a90a62f31a1":"58JKl",a77183244ab38ca1:"7FChA","817bd734dbf4f984":"eA0W7","5bd001817d1a1fe2":"3lwy5"}],h6ORZ:[function(e,t,i){let{TeamsConst:n}=e("813960296055cff0"),{GameConst:r}=e("26255ed26260a75a"),{Logger:s,sc:a}=e("603fc0fc02377d1b");t.exports.TargetBoxEnricher=class{static appendClanInviteButton(e,t,i,n){let r=e?.gameEngine?.uiScene?.currentClan;if(!r)return!1;if(!r.ownerId)return s.error("Current clan missing owner.",r),!1;if(this.playerBySessionId(r,t.id))return!1;let a=e.getCurrentPlayer();if(!this.targetIsValidPlayer(t,a))return!1;let o=e.config.getWithoutLogs("client/clan/general/openInvites",!1);return(e.playerData.id.toString()===r.ownerId.toString()||!!o)&&this.appendInviteButton("clan",t,e,n)}static appendTeamInviteButton(e,t,i,n){return!(!this.targetIsValidPlayer(t,e.getCurrentPlayer())||e.getFeature("teams").fetchTeamPlayerBySessionId(t.id))&&this.appendInviteButton("team",t,e,n)}static appendInviteButton(e,t,i,r){let o=i.gameEngine.uiScene;if(!1===a.get(o,"uiTarget",!1))return s.critical('Missing "uiTarget" on uiScene.'),!1;let h=o.cache.html.get(e+"PlayerInvite");if(!h)return s.critical('Template "'+e+'PlayerInvite" not found.'),!1;i.gameDom.appendToElement("#target-container",i.gameEngine.parseTemplate(h,{playerName:r,playerId:t.player_id,inviteLabel:i.config.getWithoutLogs(e+"/labels/inviteLabel",n.LABELS[e.toUpperCase()].INVITE_BUTTON_LABEL)}));let c=i.gameDom.getElement("."+e+"-invite-"+t.player_id+" button");c?.addEventListener("click",()=>{let r={act:n.ACTIONS[e.toUpperCase()+"_INVITE"],id:t.player_id};i.activeRoomEvents.send(r),c.style.display="none",i.gameEngine.clearTarget()})}static targetIsValidPlayer(e,t){return r.TYPE_PLAYER===e.type&&t.playerId!==e.id}static playerBySessionId(e,t){let i=Object.keys(e.players);if(0===i.length)return!1;for(let n of i)if(e.players[n].sessionId===t)return e.players[n];return!1}}},{"813960296055cff0":"eA0W7","26255ed26260a75a":"93TbC","603fc0fc02377d1b":"3lwy5"}],eA0W7:[function(e,t,i){let n="cln.";t.exports.TeamsConst={KEY:"teams",CLAN_KEY:"clan",TEAM_PREF:"tm.",CLAN_PREF:n,NAME_LIMIT:50,CLAN_STARTING_POINTS:1,VALIDATION:{SUCCESS:1,NAME_EXISTS:2,LEVEL_ISSUE:3,CREATE_ERROR:4,CREATE_OWNER_ERROR:5},ACTIONS:{TEAM_INVITE:"tm.inv",TEAM_ACCEPTED:"tm.acp",TEAM_LEAVE:"tm.lev",TEAM_UPDATE:"tm.upd",TEAM_LEFT:"tm.lef",TEAM_REMOVE:"tm.rem",CLAN_INITIALIZE:n+"ini",CLAN_CREATE:n+"new",CLAN_INVITE:n+"inv",CLAN_ACCEPTED:n+"acp",CLAN_LEAVE:n+"lev",CLAN_UPDATE:n+"upd",CLAN_LEFT:n+"lef",CLAN_REMOVE:n+"rem",CLAN_REMOVED:n+"remd",CLAN_NAME:n+"nam"},LABELS:{TEAM:{INVITE_BUTTON_LABEL:"Team - Invite",REQUEST_FROM:"Accept team request from:",LEADER_NAME_TITLE:"Team leader: %leaderName",DISBAND:"Disband Team",LEAVE:"Leave Team",PROPERTY_MAX_VALUE:"/ %propertyMaxValue"},CLAN:{CREATE_CLAN_TITLE:"Clan - Creation",INVITE_BUTTON_LABEL:"Clan - Invite",REQUEST_FROM:"Accept clan request from:",CLAN_TITLE:"Clan: %clanName - Leader: %leaderName",NAME_PLACEHOLDER:"Choose a clan name...",CREATE:"Create",DISBAND:"Disband Clan",LEAVE:"Leave Clan",PROPERTY_MAX_VALUE:"/ %propertyMaxValue",PLAYERS_TITLE:"Connected Players:",MEMBERS_TITLE:"Clan Members:",NONE_CONNECTED:"None"}},CHAT:{MESSAGE:{INVITE_ACCEPTED:"%playerName has accepted your invitation.",INVITE_REJECTED:"%playerName has rejected your invitation.",DISBANDED:"%playerName has disbanded the %groupName.",LEFT:"You left the %groupName.",LEAVE:"%playerName has left the %groupName.",REMOVED:"%playerName has been removed from the %groupName.",ENTER:"%playerName has enter the %groupName.",NOT_ENOUGH_PLAYERS:"The team was disbanded due to a lack of players."}}}},{}],"2r7vd":[function(e,t,i){let{TeamMessageHandler:n}=e("6d14aca88eebc089"),{TeamsConst:r}=e("2253975335b3fdcf"),{Logger:s,sc:a}=e("d3f666b286aee6e5");t.exports.TeamMessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on TeamMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on TeamMessageListener.",e),!1;let r=new n({roomEvents:i,message:t});return r.validate()?!!this.isTeamMessage(t)&&this.handleTeamMessage(t,r):(this.isTeamMessage(t)&&(i.teamMessagesQueue||(i.teamMessagesQueue=[]),i.teamMessagesQueue.push(t)),s.error("Invalid TeamMessageHandler",r),!1)}handleTeamMessage(e,t){return r.ACTIONS.TEAM_INVITE===e.act?t.showTeamRequest():r.ACTIONS.TEAM_UPDATE===e.act?t.showTeamBox():r.ACTIONS.TEAM_LEFT!==e.act||t.removeTeamUi()}isTeamMessage(e){return 0===e.act?.indexOf(r.TEAM_PREF)}}},{"6d14aca88eebc089":"4FmFV","2253975335b3fdcf":"eA0W7",d3f666b286aee6e5:"3lwy5"}],"4FmFV":[function(e,t,i){let{UserInterface:n}=e("640ee5228c27b39"),{TeamsConst:r}=e("e52de429595682ab"),{Logger:s,sc:a}=e("3da1dc36372a33e1");t.exports.TeamMessageHandler=class{constructor(e){this.roomEvents=a.get(e,"roomEvents",!1),this.message=a.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(s.info("Missing GameManager on TeamMessageHandler."),!1):(s.info("Missing message on TeamMessageHandler."),!1):(s.info("Missing RoomEvents on TeamMessageHandler."),!1)}showTeamRequest(){this.createTeamUi(this.teamUiKey()),this.roomEvents.initUi({id:this.teamUiKey(),title:this.gameManager.config.getWithoutLogs("client/team/labels/requestFromTitle",r.LABELS.TEAM.REQUEST_FROM),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:r.ACTIONS.TEAM_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-1-"+this.teamUiKey())?.addEventListener("click",()=>{this.gameDom.removeElement(".team-invite")}),this.gameDom.getElement("#opt-2-"+this.teamUiKey())?.addEventListener("click",()=>{this.removeTeamUi()})}removeTeamUi(){let e=this.gameManager.getUiElement(this.teamUiKey());if(!e)return s.error('UI Element not found by team UI key "'+this.teamUiKey()+'".'),!1;e.removeElement(),delete this.uiScene.userInterfaces[this.teamUiKey()],delete this.uiScene.elementsUi[this.teamUiKey()],this.uiScene.currentTeam=!1}teamUiKey(){return r.KEY+this.message.id}showTeamBox(){let e=this.teamUiKey();this.createTeamUi(e);let t=this.gameManager.config.getWithoutLogs("client/team/labels/leaderNameTitle",r.LABELS.TEAM.LEADER_NAME_TITLE).replace("%leaderName",this.message.leaderName),i=this.gameManager.gameDom.getElement("#box-"+e+" .box-content");if(!i)return s.error('Missing container: "#box-'+e+' .box-content".'),!1;let n=this.uiScene.elementsUi[e];this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:""},this.uiScene);let o=a.get(this.message,"players",!1);this.uiScene.currentTeam=o,this.updateTeamBox(o,i)}createTeamUi(e){return a.get(this.uiScene.userInterfaces,e)||(this.uiScene.userInterfaces||(this.uiScene.userInterfaces={}),this.uiScene.userInterfaces[e]=new n(this.gameManager,{id:e,type:r.KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/teams/templates/ui-teams.html",r.KEY),this.uiScene.userInterfaces[e].createUiElement(this.uiScene,r.KEY),this.uiScene.userInterfaces[e])}updateTeamBox(e,t){if(!e){s.error("Players not defined.",e);return}let i="";for(let t of Object.keys(e))i+=this.createTeamMemberBox(e[t]);t.innerHTML=this.createTeamContainer(i),this.activateTeamPlayerActions(e),this.activateTeamLeaveButtonAction()}createTeamContainer(e){let t=this.uiScene.cache.html.get("teamContainer");if(!t)return s.error('Missing template "teamContainer".'),"";let i=this.gameManager.playerData.id.toString(),n=i===this.message.id.toString(),a="client/team/labels/",o=n?this.gameManager.config.getWithoutLogs(a+"disbandLabel",r.LABELS.TEAM.DISBAND):this.gameManager.config.getWithoutLogs(a+"leaveLabel",r.LABELS.TEAM.LEAVE),h={teamId:this.message.id,playerId:i,leaveActionLabel:o,teamMembers:e};return this.gameManager.gameEngine.parseTemplate(t,h)}activateTeamLeaveButtonAction(){let e=this.gameManager.gameDom.getElement(".leave-"+this.gameManager.playerData.id.toString());e?.addEventListener("click",()=>{this.roomEvents.send({act:r.ACTIONS.TEAM_LEAVE,id:this.message.id})})}createTeamMemberBox(e){let t=this.uiScene.cache.html.get("teamPlayerData");if(!t)return s.error('Missing template "teamPlayerData".'),"";let i=this.gameManager.playerData.id.toString()===this.message.id.toString();return this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id,playerName:e.name,playerProperties:this.createSharedPropertiesContent(e.sharedProperties),playerRemove:i?this.createDismissPlayerButton(e):""})}createDismissPlayerButton(e){let t=this.uiScene.cache.html.get("teamRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id}):(s.error('Missing template "teamRemove".'),"")}createSharedPropertiesContent(e){let t=this.uiScene.cache.html.get("teamsSharedProperty");if(!t)return s.error('Missing template "teamsSharedProperty".'),"";let i="";for(let n of Object.keys(e)){t=this.uiScene.cache.html.get("teamsSharedProperty");let s=e[n],o=a.get(s,"max","");""!==o&&(o=this.gameManager.config.getWithoutLogs("client/team/labels/propertyMaxValue",r.LABELS.TEAM.PROPERTY_MAX_VALUE).replace("%propertyMaxValue",o)),i+=this.gameManager.gameEngine.parseTemplate(t,{key:n,label:s.label,value:s.value,max:o})}return i}activateTeamPlayerActions(e){for(let t of Object.keys(e)){let i=e[t],n=".team-player-"+i.player_id+" .player-name";this.gameDom.getElement(n)?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let s=".team-player-"+i.player_id+" .properties-list-container";this.gameDom.getElement(s)?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let a=".team-player-"+i.player_id+" .team-remove-button";this.gameDom.getElement(a)?.addEventListener("click",()=>{this.roomEvents.send({act:r.ACTIONS.TEAM_REMOVE,id:this.message.id,remove:i.player_id})})}}}},{"640ee5228c27b39":"bzImH",e52de429595682ab:"eA0W7","3da1dc36372a33e1":"3lwy5"}],dhhBt:[function(e,t,i){let{ClanMessageHandler:n}=e("ffee11c5f30da2da"),{TeamsConst:r}=e("80c3d53d947c2511"),{Logger:s,sc:a}=e("b7dc8fe4d702b1c7");t.exports.ClanMessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on ClanMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on ClanMessageListener.",e),!1;let r=new n({roomEvents:i,message:t});return r.validate()?!!this.isClanMessage(t)&&this.handleClanMessage(t,r):(this.isClanMessage(t)&&(i.clanMessagesQueue||(i.clanMessagesQueue=[]),i.clanMessagesQueue.push(t)),!1)}handleClanMessage(e,t){return r.ACTIONS.CLAN_INITIALIZE===e.act?t.initializeClanUi():r.ACTIONS.CLAN_CREATE===e.act?r.VALIDATION.SUCCESS===e.result?t.showNewClan():t.initializeClanUi():r.ACTIONS.CLAN_INVITE===e.act?t.showClanRequest():r.ACTIONS.CLAN_UPDATE===e.act?t.showClanBox():r.ACTIONS.CLAN_LEFT===e.act?t.removeClanUi():!r.ACTIONS.CLAN_REMOVED||(t.removeClanUi(),t.initializeClanUi())}isClanMessage(e){return 0===e.act?.indexOf(r.CLAN_PREF)}}},{ffee11c5f30da2da:"9FVGq","80c3d53d947c2511":"eA0W7",b7dc8fe4d702b1c7:"3lwy5"}],"9FVGq":[function(e,t,i){let{UserInterface:n}=e("2dee0f2dc70de1b2"),{TeamsConst:r}=e("435f9309a487dcac"),{Logger:s,sc:a}=e("937cade469140286");t.exports.ClanMessageHandler=class{constructor(e){this.roomEvents=a.get(e,"roomEvents",!1),this.message=a.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?!!this.uiScene&&this.gameManager.playerData?.id:(s.info("Missing GameManager on ClanMessageHandler."),!1):(s.info("Missing message on ClanMessageHandler."),!1):(s.info("Missing RoomEvents on ClanMessageHandler."),!1)}initializeClanUi(){this.uiScene.currentClan=!1;let e=this.createClanUi(),t=this.gameManager.config.getWithoutLogs("client/clan/labels/createClanTitle",r.LABELS.CLAN.CREATE_CLAN_TITLE),i=this.gameManager.gameDom.getElement(".clan-dialog-box .box-content");if(!i)return s.error('Missing container: "#box-clan .box-content".'),!1;let n=this.uiScene.elementsUi[r.CLAN_KEY];if(!n)return s.error("Clan UI box not found.",{clanUi:e,container:i,uiBox:n}),!1;this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:this.createClanContent()},this.uiScene),this.activateCreateButton(),this.addAndRemoveCaptureKeys()}showNewClan(){let e=this.createClanUi(),t=this.gameManager.config.getWithoutLogs("client/clan/labels/clanTitle",r.LABELS.CLAN.CLAN_TITLE).replace("%clanName",this.message.clanName).replace("%leaderName",this.gameManager.currentPlayerName()),i=this.gameManager.gameDom.getElement(".clan-dialog-box .box-content");if(!i)return s.error('Missing container: ".clan-dialog-box .box-content".'),!1;let n=this.uiScene.elementsUi[r.CLAN_KEY];if(!n)return s.error("Clan UI box not found.",{clanUi:e,container:i,uiBox:n}),!1;this.roomEvents.uiSetTitle(n,{title:t}),this.roomEvents.uiSetContent(n,{content:""},this.uiScene),this.updateClanBox(i),this.setClanFromMessage()}showClanRequest(){this.createClanUi(),this.roomEvents.initUi({id:r.CLAN_KEY,title:this.gameManager.config.getWithoutLogs("client/clan/labels/requestFromTitle",r.LABELS.CLAN.REQUEST_FROM),content:this.message.from,options:this.gameManager.config.get("client/ui/options/acceptOrDecline"),overrideSendOptions:{act:r.ACTIONS.CLAN_ACCEPTED,id:this.message.id}}),this.gameDom.getElement("#opt-2-clan")?.addEventListener("click",()=>{this.initializeClanUi()})}showClanBox(){this.createClanUi();let e=this.gameManager.config.getWithoutLogs("client/clan/labels/clanTitle",r.LABELS.CLAN.CLAN_TITLE).replace("%clanName",this.message.clanName).replace("%leaderName",this.message.leaderName),t=this.gameManager.gameDom.getElement("#box-clan .box-content");if(!t)return s.error('Missing container: "#box-clan .box-content".'),!1;let i=this.uiScene.elementsUi[r.CLAN_KEY];this.roomEvents.uiSetTitle(i,{title:e}),this.roomEvents.uiSetContent(i,{content:""},this.uiScene),this.setClanFromMessage(),this.updateClanBox(t)}setClanFromMessage(){let e=a.get(this.message,"players",!1),t=a.get(this.message,"members",!1);this.uiScene.currentClan={id:this.message.id,name:this.message.clanName,leader:this.message.leaderName,ownerId:this.message.ownerId,players:e,members:t}}removeClanUi(){let e=this.gameManager.getUiElement(r.CLAN_KEY);if(!e)return s.error("Clan UI Element not found for remove."),!1;e.removeElement(),delete this.uiScene.userInterfaces[r.CLAN_KEY],delete this.uiScene.elementsUi[r.CLAN_KEY]}createClanUi(){return a.get(this.uiScene.userInterfaces,r.CLAN_KEY)||(this.uiScene.userInterfaces||(this.uiScene.userInterfaces={}),this.uiScene.userInterfaces[r.CLAN_KEY]=new n(this.gameManager,{id:r.CLAN_KEY,type:r.CLAN_KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/teams/templates/ui-clan.html",r.CLAN_KEY),this.uiScene.userInterfaces[r.CLAN_KEY].createUiElement(this.uiScene,r.CLAN_KEY),this.uiScene.userInterfaces[r.CLAN_KEY])}createClanContent(){let e=this.uiScene.cache.html.get("clanCreate");if(!e)return s.error('Missing template "clanCreate".'),"";let t={playerId:this.gameManager.playerData.id.toString(),createLabel:this.gameManager.config.getWithoutLogs("client/clan/labels/createLabel",r.LABELS.CLAN.CREATE),clanNamePlaceholder:this.gameManager.config.getWithoutLogs("client/clan/labels/namePlaceholder",r.LABELS.CLAN.NAME_PLACEHOLDER)};return this.gameManager.gameEngine.parseTemplate(e,t)}activateCreateButton(){let e=this.gameManager.gameDom.getElement(".clan-dialog-box .submit-clan-create");if(!e)return s.warning('Clan create button not found by ".clan-dialog-box .clan-create".'),!1;let t=this.gameManager.gameDom.getElement(".clan-dialog-box .clan-name-input");if(!t)return s.warning('Clan create button not found by ".clan-dialog-box .clan-name-input".'),!1;e.addEventListener("click",()=>{if(0===t.value.length)return!1;this.gameManager.gameDom.updateContent(".clan-dialog-box .box-content",this.uiScene.cache.html.get("uiLoading")),this.gameManager.activeRoomEvents.send({act:r.ACTIONS.CLAN_CREATE,[r.ACTIONS.CLAN_NAME]:t.value})})}updateClanBox(e){let t=a.get(this.message,"players",[]),i=Object.keys(t),n=0===i.length?this.gameManager.config.getWithoutLogs("client/clan/labels/noneConnected",r.LABELS.CLAN.NONE_CONNECTED):"";for(let e of i)n+=this.createClanPlayerBox(t[e]);let s=this.gameManager.playerData.id.toString()===this.message.ownerId.toString(),o=a.get(this.message,"members",[]),h="";for(let e of Object.keys(o))h+=this.createClanMemberBox(o[e],s);e.innerHTML=this.createClanContainer(n,h),this.activateClanPlayersActions(t),this.activateClanMembersActions(o),this.activateClanLeaveButtonAction()}addAndRemoveCaptureKeys(){let e=this.gameManager.getActiveScene(),t=e.availableControllersKeyCodes(),i=this.gameManager.gameDom.getElement(".clan-name-input");e.addAndRemoveCapture(t,i)}createClanContainer(e,t){let i=this.uiScene.cache.html.get("clanContainer");if(!i)return s.error('Missing template "clanContainer".'),"";let n=this.gameManager.playerData.id.toString()===this.message.ownerId.toString()?this.gameManager.config.getWithoutLogs("client/clan/labels/disbandLabel",r.LABELS.CLAN.DISBAND):this.gameManager.config.getWithoutLogs("client/clan/labels/leaveLabel",r.LABELS.CLAN.LEAVE),a={clanId:this.message.id,playerId:this.gameManager.playerData.id.toString(),leaveActionLabel:n,clanPlayersTitle:this.gameManager.config.getWithoutLogs("client/clan/labels/clanPlayersTitle",r.LABELS.CLAN.PLAYERS_TITLE),clanPlayers:e,clanMembersTitle:this.gameManager.config.getWithoutLogs("client/clan/labels/clanMembersTitle",r.LABELS.CLAN.MEMBERS_TITLE),clanMembers:t};return this.gameManager.gameEngine.parseTemplate(i,a)}activateClanLeaveButtonAction(){let e=this.gameManager.gameDom.getElement(".leave-"+this.message.id);e?.addEventListener("click",()=>{let e={act:r.ACTIONS.CLAN_LEAVE,id:this.message.id};this.gameManager.activeRoomEvents.send(e)})}createClanPlayerBox(e){let t=this.uiScene.cache.html.get("clanPlayerData");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.player_id,playerName:e.name,playerProperties:this.createSharedPropertiesContent(e.sharedProperties)}):(s.error('Missing template "clanPlayerData".'),"")}createClanMemberBox(e,t){let i=this.uiScene.cache.html.get("clanMemberData");if(!i)return s.error('Missing template "clanMemberData".'),"";let n=e.id.toString()!==this.message.ownerId.toString();return this.gameManager.gameEngine.parseTemplate(i,{playerId:e.id.toString(),playerName:e.name,clanRemove:t&&n?this.createDismissPlayerButton(e):""})}createDismissPlayerButton(e){let t=this.uiScene.cache.html.get("clanRemove");return t?this.gameManager.gameEngine.parseTemplate(t,{playerId:e.id.toString()}):(s.error('Missing template "clanRemove".'),"")}createSharedPropertiesContent(e){let t=this.uiScene.cache.html.get("teamsSharedProperty");if(!t)return s.error('Missing template "teamsSharedProperty".'),"";let i="";for(let n of Object.keys(e)){t=this.uiScene.cache.html.get("teamsSharedProperty");let s=e[n],o=a.get(s,"max","");""!==o&&(o=this.gameManager.config.getWithoutLogs("client/clan/labels/propertyMaxValue",r.LABELS.CLAN.PROPERTY_MAX_VALUE).replace("%propertyMaxValue",o)),i+=this.gameManager.gameEngine.parseTemplate(t,{key:n,label:s.label,value:s.value,max:o})}return i}activateClanPlayersActions(e){for(let t of Object.keys(e)){let i=e[t],n=".clan-player-"+t+" .player-name",r=".clan-player-"+t+" .properties-list-container",a=this.gameDom.getElement(n);a||s.notice("Player name element not found.",n),a?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)});let o=this.gameDom.getElement(r);a||s.notice("Player properties element not found.",r),o?.addEventListener("click",()=>{this.gameManager.getCurrentPlayer().setTargetPlayerById(i.sessionId)})}}activateClanMembersActions(e){for(let t of Object.keys(e)){let i=e[t],n=".clan-member-"+i.id+" .clan-remove-button";this.gameDom.getElement(n)?.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({act:r.ACTIONS.CLAN_REMOVE,id:this.message.id,remove:i.id})})}}}},{"2dee0f2dc70de1b2":"bzImH","435f9309a487dcac":"eA0W7","937cade469140286":"3lwy5"}],"58JKl":[function(e,t,i){let{ClanMessageHandler:n}=e("b6102a2bc5547886"),{TeamMessageHandler:r}=e("8b82527a10949305"),{sc:s}=e("600e9765de53cf98");t.exports.MessageProcessor=class{static processClanMessagesQueue(e,t){if(s.isArray(e.clanMessagesQueue)&&0!==e.clanMessagesQueue.length){for(let i of e.clanMessagesQueue)t.handleClanMessage(i,new n({roomEvents:e,message:i}));e.clanMessagesQueue=[]}}static processTeamMessagesQueue(e,t){if(s.isArray(e.teamMessagesQueue)&&0!==e.teamMessagesQueue.length){for(let i of e.teamMessagesQueue)t.handleTeamMessage(i,new r({roomEvents:e,message:i}));e.teamMessagesQueue=[]}}}},{b6102a2bc5547886:"9FVGq","8b82527a10949305":"4FmFV","600e9765de53cf98":"3lwy5"}],"7FChA":[function(e,t,i){let{TeamsConst:n}=e("7ae425e7585f8b77");t.exports.TemplatesHandler=class{static preloadTemplates(e){let t="/assets/features/teams/templates/";e.load.html(n.KEY,t+"ui-teams.html"),e.load.html(n.CLAN_KEY,t+"ui-clan.html"),e.load.html("teamPlayerInvite",t+"team-invite.html"),e.load.html("teamPlayerAccept",t+"team-accept.html"),e.load.html("teamRemove",t+"team-remove.html"),e.load.html("teamContainer",t+"team-container.html"),e.load.html("teamPlayerData",t+"team-player-data.html"),e.load.html("clanCreate",t+"clan-create.html"),e.load.html("clanPlayerInvite",t+"clan-invite.html"),e.load.html("clanPlayerAccept",t+"clan-accept.html"),e.load.html("clanRemove",t+"clan-remove.html"),e.load.html("clanContainer",t+"clan-container.html"),e.load.html("clanPlayerData",t+"clan-player-data.html"),e.load.html("clanMemberData",t+"clan-member-data.html"),e.load.html("teamsSharedProperty",t+"shared-property.html")}}},{"7ae425e7585f8b77":"eA0W7"}],tkJox:[function(e,t,i){let{Translator:n}=e("c0b37a63a164ee2"),{SnippetsUi:r}=e("248d3f3dadbe8854"),{TemplatesHandler:s}=e("1f76a945ba4ca26b"),{TranslationsMapper:a}=e("9f2145cb2c70fb80"),o=e("3cdaeb7ca281fdbe"),{SnippetsConst:h}=e("12b107607eac2374"),{PluginInterface:c}=e("b68fb0c66be53b"),{Logger:l,sc:u}=e("b6c13c4a8fae8965");t.exports.SnippetsPlugin=class extends c{setup(e){if(this.gameManager=u.get(e,"gameManager",!1),!this.gameManager)return l.error("Game Manager undefined in InventoryPlugin."),!1;this.events=u.get(e,"events",!1),this.events||l.error("EventsManager undefined in InventoryPlugin."),a.forConfig(this.gameManager.config.client,o),this.activeLocale=this.gameManager.initialGameData?.userLocale?.locale.locale||h.DEFAULT_LOCALE,this.gameManager.services.translator=new n({snippets:Object.assign({},this.gameManager.config.client.snippets),dataValues:Object.assign({},this.gameManager.config.client.snippetsDataValues),locale:h.DEFAULT_LOCALE,activeLocale:this.activeLocale}),this.listenEvents()}listenEvents(){if(!this.events)return!1;this.events.on("reldens.startEngineScene",async(e,t,i,n)=>{this.gameManager.services.translator.snippets=Object.assign(this.gameManager.services.translator.snippets,this.gameManager.config.client.snippets)}),this.events.on("reldens.preloadUiScene",e=>{s.preloadTemplates(e)}),this.events.on("reldens.createUiScene",e=>{this.uiManager=new r(e),this.uiManager.createUi()})}}},{c0b37a63a164ee2:"aYgYW","248d3f3dadbe8854":"4basu","1f76a945ba4ca26b":"1GX4b","9f2145cb2c70fb80":"1fcQw","3cdaeb7ca281fdbe":"5lWrq","12b107607eac2374":"biSFs",b68fb0c66be53b:"fC3To",b6c13c4a8fae8965:"3lwy5"}],aYgYW:[function(e,t,i){let{SnippetsConst:n}=e("f53f6da57661aae5"),{sc:r}=e("ca9a001439841d68");t.exports.Translator=class{constructor(e){this.snippets=r.get(e,"snippets",{}),this.dataValues=r.get(e,"dataValues",{}),this.locale=r.get(e,"locale",n.DEFAULT_LOCALE),this.activeLocale=r.get(e,"activeLocale",n.DEFAULT_LOCALE)}translate(e,t={},i=!1){i||(i=this.activeLocale);let n=r.get(this.snippets[i],e,e);if(e===n)return e;if(!r.isObject(t))return n;let s=Object.keys(t);if(0===s.length)return n;let a=this.snippetNameSpace(e);for(let e of s){let i=t[e],r="%"+((this.dataValues[a]||{})[e]||e);for(;-1!==n.indexOf(r);)n=n.replace(r,i)}return n}snippetNameSpace(e){let t=e.split(".");return 1===t.length?n.DATA_VALUES_DEFAULT_NAMESPACE:t[0]}t(e,t={},i=!1){return this.translate(e,t,i)}}},{f53f6da57661aae5:"biSFs",ca9a001439841d68:"3lwy5"}],"4basu":[function(e,t,i){let{SnippetsConst:n}=e("9095968e9689ed1b"),{Logger:r,sc:s}=e("4383b901c356e103");t.exports.SnippetsUi=class{constructor(e){this.uiScene=e,this.gameManager=this.uiScene.gameManager,this.translator=this.gameManager.services.translator,this.locales={}}createUi(){this.locales=s.get(this.gameManager.config.client,"locales",{});let e=Object.keys(this.locales);if(1>=e.length)return!1;let t=this.gameManager.gameEngine.parseTemplate(this.uiScene.cache.html.get(n.KEY),{snippetsTitle:this.translator.t("translator.title"),snippetsLabel:this.translator.t("translator.label"),snippetsNotification:this.translator.t("translator.notification")});if(!this.gameManager.gameDom.appendToElement("#settings-dynamic",t))return r.warning("Could not append snippets settings."),!1;let i=this.gameManager.gameDom.getElement(".snippets-setting");if(!i)return r.warning("Snippets settings container not available."),!1;for(let t of e){let e=this.locales[t],n=this.gameManager.gameDom.createElement("option");n.value=e.id,n.innerHTML=e.country_code,i.appendChild(n)}i.addEventListener("change",async()=>{this.gameManager.activeRoomEvents.send({act:n.ACTIONS.UPDATE,up:i.value})})}}},{"9095968e9689ed1b":"biSFs","4383b901c356e103":"3lwy5"}],"1GX4b":[function(e,t,i){let{SnippetsConst:n}=e("da1bec0d581b3bb0");t.exports.TemplatesHandler=class{static preloadTemplates(e){e.load.html(n.KEY,"/assets/features/snippets/templates/ui-snippets.html")}}},{da1bec0d581b3bb0:"biSFs"}],"5lWrq":[function(e,t,i){t.exports={translator:{title:"Languages Settings",label:"Choose your language:",notification:"Changes will take place after next login."}}},{}],aNIyr:[function(e,t,i){let{MessagesListener:n}=e("85a323b712a32599"),{SdkHandler:r}=e("1313cc258c10bcc1"),{ProvidersList:s}=e("939d602a1b11a3bf"),a=e("e0bd7042f0c03284"),{TranslationsMapper:o}=e("ae904a587e959599"),{AdsConst:h}=e("b33cf15ea82be794"),{PluginInterface:c}=e("9d441f820e5e636d"),{Logger:l,sc:u}=e("d2d2d55e6ca71f4b");t.exports.AdsPlugin=class extends c{setup(e){this.gameManager=u.get(e,"gameManager",!1),this.gameManager||l.error("Game Manager undefined in AdsPlugin."),this.events=u.get(e,"events",!1),this.events||l.error("EventsManager undefined in AdsPlugin."),this.config={},this.activeProviders={},this.playedAds=null,this.setConfig(),this.setSkdHandler(),this.fetchActiveProviders(),this.setTranslations(),this.listenEvents()}setConfig(){this.config=!!this.gameManager&&this.gameManager.config.get("client/ads/general",{})}setSkdHandler(){let e=this.gameManager?.gameDom;this.sdkHandler=!!e&&new r({gameDom:e,config:this.config})}fetchActiveProviders(){let e=u.get(this.config,"providers",{}),t=Object.keys(e);if(0===t.length)return!1;for(let i of t){let t=e[i];t.enabled&&(t.classDefinition=u.get(s,i,!1),this.activeProviders[i]=t)}}setTranslations(){if(!this.gameManager)return!1;o.forConfig(this.gameManager.config.client,a,h.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events||!this.gameManager||!this.sdkHandler)return l.error("Missing properties for AdsPlugin."),!1;this.events.on("reldens.beforeCreateEngine",async(e,t)=>{if(!this.sdkHandler){l.info("Undefined SDK Handler.");return}await this.sdkHandler.setupProvidersSdk(this.activeProviders,t)}),this.events.on("reldens.joinedRoom",async e=>{await n.listenMessages(e,this)})}}},{"85a323b712a32599":"abfmj","1313cc258c10bcc1":"cOb0P","939d602a1b11a3bf":"dIdRn",e0bd7042f0c03284:"dPTjY",ae904a587e959599:"1fcQw",b33cf15ea82be794:"8NbLx","9d441f820e5e636d":"fC3To",d2d2d55e6ca71f4b:"3lwy5"}],abfmj:[function(e,t,i){let{AdsConst:n}=e("4348dc3fba513ca9"),{Logger:r}=e("c1c750da7e6bb927");t.exports.MessagesListener=class{static async listenMessages(e,t){e.onMessage("*",e=>{if(n.ACTIONS.ADS_PLAYED!==e.act)return!1;if(t.playedAds={},!e.playedAdsModels)return r.info("None played ads.",e),!1;for(let i of e.playedAdsModels)t.playedAds[i.ads_id]=i;return!0})}}},{"4348dc3fba513ca9":"8NbLx",c1c750da7e6bb927:"3lwy5"}],"8NbLx":[function(e,t,i){t.exports.AdsConst={ENVIRONMENTS:{DISABLED:"disabled"},ADS_TYPES:{EVENT_VIDEO:"eventVideo",BANNER:"banner"},ACTIONS:{ADS_PLAYED:"adsP",AD_STARTED:"adS",AD_ENDED:"adE"},MESSAGE:{DATA_VALUES:{NAMESPACE:"ads"}},AWAIT_ADS_TIME:1e3,VIDEOS_MINIMUM_DURATION:3e3}},{}],cOb0P:[function(e,t,i){let{Logger:n,sc:r}=e("e03372517c231481");t.exports.SdkHandler=class{constructor(e){this.gameDom=r.get(e,"gameDom",!1)}async setupProvidersSdk(e,t){if(!this.gameDom)return n.error("Undefined GameDOM on SdkHandler."),!1;if(!r.isObject(e))return!1;let i=Object.keys(e);if(0===i.length)return!1;for(let r of i){let i=e[r];await this.appendSdk(i),await this.activateSdkInstance(i,t),n.info("Activated Ads SDK: "+i.key,i)}}async appendSdk(e){let t=r.get(e,"sdkUrl","");if(""===t)return!1;let i=this.gameDom.getElement("body"),n=this.gameDom.createElement("script");return n.src=t,i.append(n),!0}async activateSdkInstance(e,t){e.classDefinition&&(e.service=new e.classDefinition(e,t,e.activeAds)),r.isFunction(e.service?.activate)&&await e.service.activate()}}},{e03372517c231481:"3lwy5"}],dIdRn:[function(e,t,i){let{CrazyGames:n}=e("e56ab7764646c7b3"),{GameMonetize:r}=e("1a058a436deb6e61"),{GoogleAdSense:s}=e("e8b34c41dab1ace");t.exports.ProvidersList={crazyGames:n,gameMonetize:r,googleAdSense:s}},{e56ab7764646c7b3:"3CRbF","1a058a436deb6e61":"6XwV3",e8b34c41dab1ace:"8V0yJ"}],"3CRbF":[function(e,t,i){let{BannersHandler:n}=e("f96686ce9c54877d"),{VideosHandler:r}=e("786a85289268fabd"),{AdsProvider:s}=e("25abe1dccff858a9"),{AdsConst:a}=e("9c8391f4374e1d6f"),{Logger:o}=e("ff1ebd8b8b8b16e6");t.exports.CrazyGames=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e,this.sdk=this.window?.CrazyGames?.SDK,this.retry=0,this.environment=a.ENVIRONMENTS.DISABLED,this.metaData.sdkRetryTime||(this.metaData.sdkRetryTime=500),this.metaData.sdkMaxRetries||(this.metaData.sdkMaxRetries=10),this.metaData.sdkBannerRefreshTime||(this.metaData.sdkBannerRefreshTime=6e4),this.activeAds=this.fetchActiveAds(e);let i={gameManager:t,metaData:e,sdk:this.sdk,hasAdblock:this.hasAdblock,isEnabled:this.isEnabled};this.bannersHandler=new n(i),this.videosHandler=new r(i)}fetchActiveAds(e){return this.gameManager?.config?s.fetchActiveAdsByProviderId(e.id,this.validAdsTypes(),this.gameManager.config.get("client/ads/collection",{})):{}}validAdsTypes(){return[a.ADS_TYPES.BANNER,a.ADS_TYPES.EVENT_VIDEO]}async activate(){return this.sdk?(this.environment=await this.sdk.getEnvironment(),this.bannersHandler.sdk=this.sdk,this.videosHandler.sdk=this.sdk,!await this.hasAdblock()&&void await this.activateAds()):(this.retry===this.metaData.sdkMaxRetries?o.critical("CrazyGames required object."):this.retry<this.metaData.sdkMaxRetries&&setTimeout(()=>{this.retry++,o.info("CrazyGames required object, retry #"+this.retry+"."),this.sdk=this.window?.CrazyGames?.SDK,this.sdk&&o.info("CrazyGames object found."),this.activate()},this.metaData.sdkRetryTime),!1)}async hasAdblock(){try{let e=await this.sdk.ad.hasAdblock();return e&&o.critical("Adblock detected, please disable."),e}catch(e){o.info("SDK detected error.",e)}return!1}async isEnabled(){return a.ENVIRONMENTS.DISABLED!==await this.sdk.getEnvironment()}async activateAds(){let e=Object.keys(this.activeAds);if(0===e.length)return!1;for(let t of e){let e=this.activeAds[t];a.ADS_TYPES.BANNER===e.type.key&&await this.bannersHandler.activateAdBanner(e),a.ADS_TYPES.EVENT_VIDEO===e.type.key&&await this.videosHandler.activateAdVideo(e)}}}},{f96686ce9c54877d:"rqZs2","786a85289268fabd":"74T2t","25abe1dccff858a9":"iayFu","9c8391f4374e1d6f":"8NbLx",ff1ebd8b8b8b16e6:"3lwy5"}],rqZs2:[function(e,t,i){let{Validator:n}=e("3e58599d4b199bfe"),{Logger:r,sc:s}=e("16dda0dd59cf6195");t.exports.BannersHandler=class{constructor(e){this.gameManager=s.get(e,"gameManager",!1),this.metaData=s.get(e,"metaData",{}),this.gameDom=this.gameManager?.gameDom,this.events=this.gameManager?.events,this.sdk=s.get(e,"sdk",!1),this.hasAdblock=s.get(e,"hasAdblock",!1),this.isEnabled=s.get(e,"isEnabled",!1),this.activeBanners={},this.validator=new n}availableBanners(){return["728x90","300x250","320x50","468x60","320x100"]}availableResponsiveBanners(){return["970x90","320x50","160x600","336x280","728x90","300x600","468x60","970x250","300x250","250x250","120x600"]}validBannerSize(e){return -1!==this.availableBanners().indexOf(e)}validResponsiveBannerSize(e){return -1!==this.availableResponsiveBanners().indexOf(e)}async activateAdBanner(e){if(!e)return r.info("Missing activate ad.",e),!1;if(!this.validator.validate(this))return r.info("Invalid banner."),!1;let t=e.bannerData;if(!t)return r.info("No banner data."),!1;let i=s.get(t,"fullTime",!1),n=s.get(t,"responsive",!1);if(i)return await this.handleBannerType(n,e);let a=s.get(t,"uiReferenceIds",[]);if(0===a.length)return r.warning("Missing banner reference ID."),!1;this.events.on("reldens.openUI",async t=>{if(-1!==a.indexOf("ANY")||-1!==a.indexOf(t.openButton.id)){let i=e.id+"-"+t.openButton.id,r=new Date().getTime(),a=s.get(this.activeBanners,i,!1);if(a&&r<a.createdAt+this.metaData.sdkBannerRefreshTime){a.banner.classList.remove("hidden");return}a&&a.banner.remove();let o=await this.handleBannerType(n,e,i);this.activeBanners[i]={createdAt:r,banner:o}}}),this.events.on("reldens.closeUI",async t=>{let i=e.id+"-"+t.openButton.id,n=s.get(this.activeBanners,i,!1);n&&n.banner.classList.add("hidden")})}async handleBannerType(e,t,i){return e?this.createResponsiveBanner(t,i):await this.createBanner(t,i)}async createBanner(e,t){if(!this.validator.validate(this)||!await this.validator.canBeActivated(this))return!1;if(!this.isEnabled())return r.info("SDK not enabled."),!1;try{let i=s.get(e.styles,"width","300"),n=s.get(e.styles,"height","250");if(!this.validBannerSize(i+"x"+n))return r.info("CrazyGames - Invalid Banner size."),!1;let a=t||e.id;if(!a)return r.info("CrazyGames - Missing container ID.",e,t),!1;let o=this.gameDom.createElement("div","banner-container-"+a);this.gameDom.getElement("body")?.append(o),await this.isEnabled()&&await this.sdk.banner.requestBanner({id:o.id,width:i,height:n});let h=this.mapStylesWithValues(Object.assign({width:i,height:n},e));return this.gameDom.setElementStyles(o,h),o.classList.add("ads-banner-container"),o}catch(e){return r.critical("CrazyGames - Error on banner request.",e),!1}}mapStylesWithValues(e){let t={"z-index":2e8,width:s.get(e,"width",300),height:s.get(e,"height",250),position:""===s.get(e.styles,"position","")?e.position:"absolute"},i=s.get(e.styles,"top",null);null!==i&&(t.top=i);let n=s.get(e.styles,"bottom",null);null!==n&&(t.bottom=n);let r=s.get(e.styles,"left",null);null!==r&&(t.left=r);let a=s.get(e.styles,"right",null);return null!==a&&(t.right=a),t}async createResponsiveBanner(e,t){if(!this.validator.validate(this)||!await this.validator.canBeActivated(this))return!1;if(!this.isEnabled())return r.info("SDK not enabled."),!1;try{let i=t||e.id;if(!i)return r.info("CrazyGames - Missing container ID.",e,t),!1;let n=this.gameDom.createElement("div","responsive-banner-container-"+i),s=this.mapStylesWithValues(e);return delete s.width,delete s.height,this.gameDom.setElementStyles(n,s),this.gameDom.getElement("body").append(n),await this.isEnabled()&&await this.sdk.banner.requestResponsiveBanner(n.id),n.classList.add("ads-banner-container"),n}catch(e){return r.critical("CrazyGames - Error on banner request.",e),!1}}}},{"3e58599d4b199bfe":"dZuZ9","16dda0dd59cf6195":"3lwy5"}],dZuZ9:[function(e,t,i){let{Logger:n,sc:r}=e("11b40ed905e7acf1");t.exports.Validator=class{validate(e){return e.gameManager?e.sdk?(e.hasAdblock&&r.isFunction(e.hasAdblock)||n.warning("Missing or invalid hasAdblock function on Validator.",e),!!(e.isEnabled&&r.isFunction(e.isEnabled))||(n.error("Missing or invalid isEnabled function on Validator.",e),!1)):(n.error("Missing SDK on Validator.",e),!1):(n.error("Missing Game Manager on Validator.",e),!1)}async canBeActivated(e){return!(!r.isFunction(e.hasAdblock)||await e.hasAdblock())||(n.info("AdBlocker detected."),!1)}}},{"11b40ed905e7acf1":"3lwy5"}],"74T2t":[function(e,t,i){let{Validator:n}=e("eb221c6f45d898b0"),{AdsConst:r}=e("ff99f7bef03d711b"),{Logger:s,sc:a}=e("111cbb28b14bd31b");t.exports.VideosHandler=class{constructor(e){this.gameManager=a.get(e,"gameManager",!1),this.gameDom=this.gameManager?.gameDom,this.events=this.gameManager?.events,this.sdk=a.get(e,"sdk",!1),this.hasAdblock=a.get(e,"hasAdblock",!1),this.isEnabled=a.get(e,"isEnabled",!1),this.validator=new n,this.isPlayingAd=!1,this.setConfig()}setConfig(){this.videoMinimumDuration=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/crazyGames/videoMinimumDuration",r.VIDEOS_MINIMUM_DURATION):r.VIDEOS_MINIMUM_DURATION,this.awaitAdsTime=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/crazyGames/awaitAdsTime",r.AWAIT_ADS_TIME):r.AWAIT_ADS_TIME}async activateAdVideo(e){let t=a.get(e,"eventKey",!1);if(!t)return s.warning("Missing event key.",e),!1;this.events.on(t,async t=>this.isPlayingAd?(s.info("CrazyGames - Another ad is been played."),!1):this.validator.validate(this)&&await this.validator.canBeActivated(this)?this.isEnabled()?await this.tryRePlay(e):(s.info("CrazyGames - SDK not enabled."),!1):(s.error("CrazyGames - Ad can not be activated."),!1))}async tryRePlay(e){let t=this.gameManager.getFeature("ads");if(null===t.playedAds)return setTimeout(()=>{this.tryRePlay(e)},this.awaitAdsTime),!1;if(a.get(t?.playedAds,e.id,!1)&&!e.replay)return s.info("Ad already played",e),!1;let i=a.get(e,"adStartedCallback",()=>{this.isPlayingAd=!0,s.info("CrazyGames - Ad-started callback.",new Date().getTime()),this.send({act:r.ACTIONS.AD_STARTED,ads_id:e.id})}),n=a.get(e,"adFinishedCallback",async()=>{this.isPlayingAd=!1,s.info("CrazyGames - Ad-finished callback.",new Date().getTime()),this.send({act:r.ACTIONS.AD_ENDED,ads_id:e.id}),await this.gameManager.audioManager.changeMuteState(!1,!1)}),o=a.get(e,"adErrorCallback",async t=>{this.isPlayingAd=!1,s.info("CrazyGames - Ad-error callback.",t,new Date().getTime()),this.send({act:r.ACTIONS.AD_ENDED,ads_id:e.id,error:t}),await this.gameManager.audioManager.changeMuteState(!1,!1)}),h=a.get(e,"rewardItemKey",!1);await this.gameManager.audioManager.changeMuteState(!0,!0),await this.sdk.ad.requestAd(h?"rewarded":"midgame",{adStarted:i,adFinished:n,adError:o})}send(e){let t=this.gameManager?.activeRoomEvents;return t?t?.send(e):(s.warning("CrazyGames - RoomEvents undefined to send an Ad Video message."),!1)}}},{eb221c6f45d898b0:"dZuZ9",ff99f7bef03d711b:"8NbLx","111cbb28b14bd31b":"3lwy5"}],iayFu:[function(e,t,i){let{Logger:n}=e("55d686c62dfd5353");t.exports.AdsProvider=class{static fetchActiveAdsByProviderId(e,t,i){if(!e)return{};let r=Object.keys(i);if(0===r.length)return{};let s={};for(let a of r){let r=i[a];if(e===r.provider.id){if(!r.enabled){n.info("Ad not enabled.",r);continue}if(-1===t.indexOf(r.type.key)){n.info("Invalid ad type.",r);continue}s[a]=r}}return n.info({providerId:e,activeProviderAds:s}),s}}},{"55d686c62dfd5353":"3lwy5"}],"6XwV3":[function(e,t,i){let{AdsProvider:n}=e("f98142cce04e846c"),{AdsConst:r}=e("44a48259b87a5721"),{Logger:s,sc:a}=e("b637051a2a3ead94");t.exports.GameMonetize=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e,this.setSdkOptions(),this.sdk=this.window?.sdk,this.retry=0,this.isPlayingAd=!1,this.environment=r.ENVIRONMENTS.DISABLED,this.metaData.sdkRetryTime||(this.metaData.sdkRetryTime=500),this.metaData.sdkMaxRetries||(this.metaData.sdkMaxRetries=10),this.activeAds=this.fetchActiveAds(e),this.activeAdBeenPlayed=!1,this.setConfig()}fetchActiveAds(e){return this.gameManager?.config?n.fetchActiveAdsByProviderId(e.id,this.validAdsTypes(),this.gameManager.config.get("client/ads/collection",{})):{}}eventKeys(){return{sdkAdStarted:"CONTENT_PAUSE_REQUESTED",sdkAdEnded:"SDK_GAME_START",sdkReady:"SDK_READY"}}setSdkOptions(){return!!this.gameDom&&(this.metaData.gameId?void(this.gameDom.getWindow().SDK_OPTIONS={gameId:this.metaData.gameId,onEvent:async e=>{switch(s.info("GameMonetize - SDK event fired: "+e.name),e.name){case this.eventKeys().sdkAdStarted:await this.adStartedCallback(e);break;case this.eventKeys().sdkAdEnded:await this.adEndedCallback(e);break;case this.eventKeys().sdkReady:await this.sdkReadyCallback(e)}}}):(s.error("GameMonetize - Game ID undefined."),!1))}setConfig(){this.videoMinimumDuration=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/gameMonetize/videoMinimumDuration",r.VIDEOS_MINIMUM_DURATION):r.VIDEOS_MINIMUM_DURATION,this.awaitAdsTime=this.gameManager?this.gameManager.config.getWithoutLogs("client/ads/general/providers/gameMonetize/awaitAdsTime",r.AWAIT_ADS_TIME):r.AWAIT_ADS_TIME}validAdsTypes(){return[r.ADS_TYPES.EVENT_VIDEO]}async adStartedCallback(e){if(this.isPlayingAd=!0,await this.gameManager.audioManager.changeMuteState(!0,!0),!this.activeAdBeenPlayed)return s.info("AdStartedCallback undefined activeAd.",e,this.activeAdBeenPlayed),!1;s.info("GameMonetize - Ad-started callback.",new Date().getTime()),this.send({act:r.ACTIONS.AD_STARTED,ads_id:this.activeAdBeenPlayed.id})}async adEndedCallback(e){if(this.isPlayingAd=!1,await this.gameManager.audioManager.changeMuteState(!1,!1),!this.activeAdBeenPlayed)return s.info("AdEndedCallback undefined activeAd.",e,this.activeAdBeenPlayed),!1;s.info("GameMonetize - Ad-finished callback.",new Date().getTime()),this.send({act:r.ACTIONS.AD_ENDED,ads_id:this.activeAdBeenPlayed.id})}async sdkReadyCallback(e){this.sdk=this.window.sdk}async activate(){if(!this.sdk)return this.retry===this.metaData.sdkMaxRetries?s.critical("GameMonetize required object."):this.retry<this.metaData.sdkMaxRetries&&setTimeout(()=>{this.retry++,s.info("GameMonetize required object, retry #"+this.retry+"."),this.sdk=this.window?.sdk,this.sdk&&s.info("GameMonetize object found."),this.activate()},this.metaData.sdkRetryTime),!1;await this.activateAds()}async activateAds(){let e=Object.keys(this.activeAds);if(0===e.length)return s.info("None active ads."),!1;for(let t of e){let e=this.activeAds[t];if(r.ADS_TYPES.EVENT_VIDEO!==e.type.key)continue;let i=a.get(e,"eventKey",!1);if(!i)return s.warning("Missing event key.",e),!1;this.events.on(i,async t=>(s.info("GameMonetize - Video event fired, playing ad.",t,e),this.isPlayingAd)?(s.info("GameMonetize - Ad is been played."),!1):await this.tryRePlay(e))}}async tryRePlay(e){return null===this.gameManager.getFeature("ads").playedAds?(setTimeout(()=>{this.tryRePlay(e)},this.awaitAdsTime),!1):(this.activeAdBeenPlayed=e,a.isObjectFunction(this.sdk,"showBanner"))?void await this.sdk.showBanner():(s.critical("GameMonetize SDK not ready."),!1)}send(e){let t=this.gameManager?.activeRoomEvents;return t?t.send(e):(s.warning("GameMonetize - RoomEvents undefined to send an Ad Video message."),!1)}}},{f98142cce04e846c:"iayFu","44a48259b87a5721":"8NbLx",b637051a2a3ead94:"3lwy5"}],"8V0yJ":[function(e,t,i){t.exports.GoogleAdSense=class{constructor(e,t){this.gameManager=t,this.gameDom=t?.gameDom,this.events=t?.events,this.window=t?.gameDom?.getWindow(),this.metaData=e}}},{}],dPTjY:[function(e,t,i){t.exports={ads:{}}},{}],"79nNs":[function(e,t,i){let{DebugWorldCreator:n}=e("2f104c4a1fe36eaf"),{PluginInterface:r}=e("c03d54e76a300c60"),{Logger:s,sc:a}=e("56ce9c7fd2ae3df6");t.exports.WorldPlugin=class extends r{setup(e){this.gameManager=a.get(e,"gameManager",!1),this.events=a.get(e,"events",!1),this.debugWorldCreator=!1,this.validateProperties()&&this.setupDebugMode()}validateProperties(){return this.gameManager?!!this.events||(s.error("EventsManager undefined in PredictionPlugin."),!1):(s.error("Game Manager undefined in PredictionPlugin."),!1)}setupDebugMode(){if(!this.gameManager.config.getWithoutLogs("client/world/debug/enabled",!1))return!1;this.debugWorldCreator=new n,this.events.on("reldens.createEngineSceneDone",async e=>{await this.debugWorldCreator.createSceneWorld(e.currentScene)})}}},{"2f104c4a1fe36eaf":"2tOiq",c03d54e76a300c60:"fC3To","56ce9c7fd2ae3df6":"3lwy5"}],"2tOiq":[function(e,t,i){let{Renderer:n}=e("7f57d693a727d80"),{P2world:r}=e("56e554b827a8b617"),{WorldTimer:s}=e("b75a99257129c956"),{Logger:a}=e("493b121a06799e1e");t.exports.DebugWorldCreator=class{async createSceneWorld(e){let t=this.findValidLayers(e),i=this.cloneMapJson(e,t),r={sceneName:e.key,roomId:e.params.roomId,roomMap:e.params.roomName,mapJson:i,config:e.configManager,events:e.eventsManager,allowSimultaneous:e.configManager.get("client/general/controls/allowSimultaneousKeys",!0),worldConfig:e.gameManager.activeRoomEvents.sceneData?.worldConfig||e.worldConfig};e.debugWorld=this.createWorldInstance(r),e.debugWorld.createLimits(),await e.debugWorld.createWorldContent({}),e.debugWorldTimer=new s({callbacks:[()=>{if(!e.debugWorld){a.error("Scene World not longer exists.",e.roomWorld);return}e.debugWorld.removeBodiesFromWorld()}]}),e.debugWorldTimer.startWorldSteps(e.debugWorld),e.debugWorldRenderer=new n(e)}cloneMapJson(e,t){let i=e.tilesets[0];return i?Object.assign({},e.cache?.tilemap?.entries?.entries[i.name]?.data||{},{layers:t}):{}}findValidLayers(e){let t=[],i=e.tilesets[0];if(!i)return t;for(let n of e.cache.tilemap.entries.entries[i.name].data.layers)-1!==n.name.indexOf("collision")&&t.push(n);return t}createWorldInstance(e){return new r(e)}}},{"7f57d693a727d80":"6kVuK","56e554b827a8b617":"hvh2r",b75a99257129c956:"5zAcU","493b121a06799e1e":"3lwy5"}],"6kVuK":[function(e,t,i){let{Box:n}=e("43cbaab4204b970");t.exports.Renderer=class{constructor(e){this.scene=e,this.gameDom=e.gameManager.gameDom,this.world=e.debugWorld,this.canvasElement=!1,this.canvasContext=!1}fetchCanvasContext(){this.canvasContext=this.canvasElement.getContext("2d")}createCanvas(e,t){this.canvasElement=this.gameDom.createElement("canvas"),this.canvasElement.width=e,this.canvasElement.height=t,this.canvasElement.id="physicsCanvas",this.gameDom.getDocument().body.appendChild(this.canvasElement),this.fetchCanvasContext()}renderLoop(){this.canvasContext.clearRect(0,0,this.canvasElement.width,this.canvasElement.height),this.renderP2World(),this.gameDom.getWindow().requestAnimationFrame(this.renderLoop.bind(this))}renderP2World(){let e=this.canvasContext;for(let t=0;t<this.world.bodies.length;t++){let i=this.world.bodies[t];if(!i.isWall)continue;let r=i.shapes[0];if(e.fillStyle="#2f7dde",e.strokeStyle="#333333",r instanceof n){let t=i.position[0],n=i.position[1],s=r.width,a=r.height;e.save(),e.translate(t,n),e.rotate(i.angle),e.beginPath(),e.rect(-s/2,-a/2,s,a),e.closePath(),e.fill(),e.stroke(),e.restore()}e.closePath(),e.fill(),e.stroke()}for(let t=0;t<this.world.bodies.length;t++){let i=this.world.bodies[t];if(!i.isWall)continue;let r=i.shapes[0];if(r instanceof n){let t=i.firstTileIndex||0;e.fillStyle="#000000",e.font="9px Arial";let n=t.toString()+" / "+r.width+" / "+i.position[0],s=i.position[0],a=i.position[1],o=s-e.measureText(n).width/2;e.textAlign="left",e.textBaseline="middle",e.fillText(n,o,a)}}}debugWorld(){this.gameDom.getElement(".wrapper").style.display="none",this.createCanvas(this.scene.map.width*this.scene.map.tileWidth,this.scene.map.height*this.scene.map.tileHeight),this.renderP2World()}}},{"43cbaab4204b970":"6bkiu"}],jv1vT:[function(e,t,i){let{PreloaderHandler:n}=e("3b8c6a6b532efef7"),{ScoresMessageListener:r}=e("886a0d766603abc"),{MessageProcessor:s}=e("e89935d10dce4cba"),{ScoresConst:a}=e("e991266a552fb051"),o=e("b0db3ae90acf0cc5"),{TranslationsMapper:h}=e("e0289d80f135b58e"),{PluginInterface:c}=e("84d6714fa827e3e1"),{Logger:l,sc:u}=e("f46d2ddbf227db3d");t.exports.ScoresPlugin=class extends c{setup(e){this.gameManager=u.get(e,"gameManager",!1),this.events=u.get(e,"events",!1),this.preloaderHandler=new n,this.scoresMessageListener=new r,this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.listenMessages())}validateProperties(){return this.gameManager?!!this.events||(l.error("EventsManager undefined in ScoresPlugin."),!1):(l.error("Game Manager undefined in ScoresPlugin."),!1)}setTranslations(){if(!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,o,a.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events){l.error('EventsManager undefined in ScoresPlugin for "listenEvents".');return}this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createEngineSceneDone",e=>{let t=e?.roomEvents;if(!t)return l.critical("RoomEvents undefined for process Scores messages queue on ScoresPlugin.",e),!1;s.processScoresMessagesQueue(t,this.scoresMessageListener)})}listenMessages(){if(!this.gameManager||!this.events){l.error('Game Manager or EventsManager undefined in ScoresPlugin for "listenMessages".');return}this.gameManager.config.client.message.listeners[a.KEY]=this.scoresMessageListener}}},{"3b8c6a6b532efef7":"l5kMc","886a0d766603abc":"fpFc7",e89935d10dce4cba:"d0zyM",e991266a552fb051:"5oUd3",b0db3ae90acf0cc5:"beAgN",e0289d80f135b58e:"1fcQw","84d6714fa827e3e1":"fC3To",f46d2ddbf227db3d:"3lwy5"}],l5kMc:[function(e,t,i){let{ScoresConst:n}=e("fc16b961896d9e7e");t.exports.PreloaderHandler=class{loadContents(e){let t="/assets/features/scores/templates/";e.load.html(n.KEY,t+"ui-scores.html"),e.load.html(n.TEMPLATES.SCORES_TABLE,t+"ui-scores-table.html")}}},{fc16b961896d9e7e:"5oUd3"}],"5oUd3":[function(e,t,i){let n="scores.";t.exports.ScoresConst={KEY:"scores",PREFIX:"sco",ACTIONS:{UPDATE:"scoUp",TOP_SCORES_UPDATE:"scoTops"},TEMPLATES:{SCORES_TABLE:"scoresTable"},MESSAGE:{DATA_VALUES:{NAMESPACE:"scores"}},SNIPPETS:{PREFIX:n,TITLE:n+"scoresTitle",CONTENT:n+"scoresContent",MY_SCORE:n+"myScore"}}},{}],fpFc7:[function(e,t,i){let{ScoresMessageHandler:n}=e("d156c5882f191e51"),{ScoresConst:r}=e("2e4cd336beabe6ca"),{Logger:s,sc:a}=e("aebac8790f258c87");t.exports.ScoresMessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on ScoresMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on ScoresMessageListener.",e),!1;let r=new n({roomEvents:i,message:t});return r.validate()?!!this.isScoresMessage(t)&&this.handleScoresMessage(t,r):this.isScoresMessage(t)?(i.scoresMessagesQueue||(i.scoresMessagesQueue=[]),i.scoresMessagesQueue.push(t),!0):(s.error("Invalid ScoresMessageHandler",r),!1)}handleScoresMessage(e,t){return r.ACTIONS.UPDATE===e.act?t.updatePlayerScore():r.ACTIONS.TOP_SCORES_UPDATE!==e.act||t.updateScoresBox()}isScoresMessage(e){return 0===e.act?.indexOf(r.PREFIX)}}},{d156c5882f191e51:"e8G1n","2e4cd336beabe6ca":"5oUd3",aebac8790f258c87:"3lwy5"}],e8G1n:[function(e,t,i){let{UserInterface:n}=e("a45d421f329cd9bb"),{ScoresConst:r}=e("78e1225607fe67de"),{Logger:s,sc:a}=e("98287ac0824fa508");t.exports.ScoresMessageHandler=class{constructor(e){this.roomEvents=a.get(e,"roomEvents",!1),this.message=a.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(s.info("Missing GameManager on ScoresMessageHandler."),!1):(s.info("Missing message on ScoresMessageHandler."),!1):(s.info("Missing RoomEvents on ScoresMessageHandler."),!1)}createScoresUi(){let e=a.get(this.uiScene.userInterfaces,r.KEY);if(e)return e;this.uiScene.userInterfaces||(this.uiScene.userInterfaces={});let t=new n(this.gameManager,{id:r.KEY,type:r.KEY,defaultOpen:!0,defaultClose:!0},"/assets/features/scores/templates/ui-scores.html",r.KEY);t.createUiElement(this.uiScene,r.KEY);let i=this.uiScene.elementsUi[r.KEY];if(!i)return s.error("Scores UI box not found.",{uiScores:t,uiBox:i}),!1;let o=this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/title",r.SNIPPETS.TITLE)),h=this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/content",r.SNIPPETS.CONTENT));return this.roomEvents.uiSetTitleAndContent(i,{title:o,content:h},this.uiScene),this.uiScene.userInterfaces[r.KEY]=t,this.uiScene.userInterfaces[r.KEY]}updatePlayerScore(){this.createScoresUi(r.KEY);let e=a.get(this.message,"newTotalScore",!1);if(!e){s.debug("Missing new total score on update message.");return}this.uiScene.currentPlayerScore=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[r.KEY],{content:this.createContentsUpdate()},this.uiScene)}updateScoresBox(){this.createScoresUi(r.KEY);let e=a.get(this.message,"scores",!1);if(!e){s.debug("Missing scores data on message.");return}this.uiScene.scores=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[r.KEY],{content:this.createContentsUpdate()},this.uiScene)}createContentsUpdate(){let e=this.uiScene.cache.html.get(r.TEMPLATES.SCORES_TABLE);if(!e)return s.error('Missing template "'+r.TEMPLATES.SCORES_TABLE+'".'),"";let t={scores:this.uiScene.scores,showCurrentPlayer:!0,currentPlayerScore:this.gameManager.services.translator.t(this.gameManager.config.getWithoutLogs("client/scores/labels/myScore",r.SNIPPETS.MY_SCORE),{myScore:this.uiScene.currentPlayerScore||"0"})};return this.gameManager.gameEngine.parseTemplate(e,t)}}},{a45d421f329cd9bb:"bzImH","78e1225607fe67de":"5oUd3","98287ac0824fa508":"3lwy5"}],d0zyM:[function(e,t,i){let{ScoresMessageHandler:n}=e("45ab9844bbd919a8"),{sc:r}=e("d9c441fdb0377cf");t.exports.MessageProcessor=class{static processScoresMessagesQueue(e,t){if(r.isArray(e.scoresMessagesQueue)&&0!==e.scoresMessagesQueue.length){for(let i of e.scoresMessagesQueue)t.handleScoresMessage(i,new n({roomEvents:e,message:i}));e.scoresMessagesQueue=[]}}}},{"45ab9844bbd919a8":"e8G1n",d9c441fdb0377cf:"3lwy5"}],beAgN:[function(e,t,i){t.exports={scores:{scoresTitle:"Top Players Scores",scoresContent:"No scores available.",myScore:"My score: %myScore"}}},{}],"4p1ha":[function(e,t,i){let{PreloaderHandler:n}=e("efc9996b9ceaadce"),{MessageListener:r}=e("ef29ab05ba87fd5"),{MessageProcessor:s}=e("bd6312294795cf1c"),{RewardsConst:a}=e("a60c417cf40e6e4e"),o=e("702d39ed6c29ddf6"),{TranslationsMapper:h}=e("e6ea40ce120e2033"),{PluginInterface:c}=e("78f7099074cee28a"),{Logger:l,sc:u}=e("76d1b05ad0acce3a");t.exports.RewardsPlugin=class extends c{setup(e){this.gameManager=u.get(e,"gameManager",!1),this.events=u.get(e,"events",!1),this.preloaderHandler=new n,this.messageListener=new r,this.validateProperties()&&(this.setTranslations(),this.listenEvents(),this.listenMessages(),l.debug("Plugin READY: Rewards"))}validateProperties(){return this.gameManager?!!this.events||(l.error("EventsManager undefined in RewardsPlugin."),!1):(l.error("Game Manager undefined in RewardsPlugin."),!1)}setTranslations(){if(!this.gameManager)return!1;h.forConfig(this.gameManager.config.client,o,a.MESSAGE.DATA_VALUES)}listenEvents(){if(!this.events){l.error('EventsManager undefined in RewardsPlugin for "listenEvents".');return}this.events.on("reldens.preloadUiScene",e=>{this.preloaderHandler.loadContents(e)}),this.events.on("reldens.createEngineSceneDone",e=>{s.processRewardsMessagesQueue(e,this)})}listenMessages(){if(!this.gameManager||!this.events){l.error('Game Manager or EventsManager undefined in RewardsPlugin for "listenMessages".');return}this.gameManager.config.client.message.listeners[a.KEY]=this.messageListener}}},{efc9996b9ceaadce:"8NCLg",ef29ab05ba87fd5:"jXzBf",bd6312294795cf1c:"h8UKT",a60c417cf40e6e4e:"lIgFH","702d39ed6c29ddf6":"carao",e6ea40ce120e2033:"1fcQw","78f7099074cee28a":"fC3To","76d1b05ad0acce3a":"3lwy5"}],"8NCLg":[function(e,t,i){let{RewardsConst:n}=e("c14067eab2e5b23e");t.exports.PreloaderHandler=class{loadContents(e){let t="/assets/features/rewards/templates/";e.load.html(n.KEY,t+"ui-rewards.html"),e.load.html(n.TEMPLATES.REWARDS_LIST,t+"ui-rewards-list.html")}}},{c14067eab2e5b23e:"lIgFH"}],lIgFH:[function(e,t,i){let n="rewards.";t.exports.RewardsConst={KEY:"rewards",PREFIX:"rwd",ACTIONS:{INITIALIZE:"rwdIni",UPDATE:"rwdUp",ACCEPT_REWARD:"rwdAcpt",ACCEPTED_REWARD:"rwdAcpted"},SPLIT_EXPERIENCE:{ALL:0,PROPORTIONAL_BY_LEVEL:1},SPLIT_MODIFIER:{ALL:0,RANDOM:1},SPLIT_ITEMS:{DROP_KEEPS:0,RANDOM:1},MESSAGE:{DATA:{LABEL:"rlbl",DESCRIPTION:"rdes",POSITION:"rpos",SHOW_REWARD_IMAGE:"srimg",REWARD_IMAGE:"rimg",REWARD_IMAGE_PATH:"rimgp",EVENT_DATA:"redt",STATE_DATA:"resd",ITEMS_DATA:"rmid",ITEM_KEY:"rikey",ITEM_LABEL:"rilbl",ITEM_DESCRIPTION:"rides",ITEM_QUANTITY:"riqty"},DATA_VALUES:{NAMESPACE:"rewards"}},TEMPLATES:{REWARDS_LIST:"rewardsList"},SNIPPETS:{PREFIX:n,TITLE:n+"title",ACCEPTED_REWARD:n+"acceptedReward"}}},{}],jXzBf:[function(e,t,i){let{MessageHandler:n}=e("4d23f5e42478957c"),{RewardsConst:r}=e("bda46dc94809b55d"),{Logger:s,sc:a}=e("a4007c1db9e3ae27");t.exports.MessageListener=class{async executeClientMessageActions(e){let t=a.get(e,"message",!1);if(!t)return s.error("Missing message data on RewardsMessageListener.",e),!1;let i=a.get(e,"roomEvents",!1);if(!i)return s.error("Missing RoomEvents on RewardsMessageListener.",e),!1;if(!this.isRewardsMessage(t))return!1;let r=new n({roomEvents:i,message:t});return r.validate()?this.handleRewardsMessage(t,r):(i.rewardsMessagesQueue||(i.rewardsMessagesQueue=[]),i.rewardsMessagesQueue.push(t),!0)}handleRewardsMessage(e,t){return r.ACTIONS.UPDATE===e.act?t.updateRewardsBox():r.ACTIONS.ACCEPTED_REWARD!==e.act||t.showAcceptedReward()}isRewardsMessage(e){return 0===e.act?.indexOf(r.PREFIX)}}},{"4d23f5e42478957c":"4T3oM",bda46dc94809b55d:"lIgFH",a4007c1db9e3ae27:"3lwy5"}],"4T3oM":[function(e,t,i){let{UserInterface:n}=e("8d4a3a8b8eeaff6"),{RewardsConst:r}=e("677bd2d65b92e557"),{GameConst:s}=e("7a270c9c6c08724"),{Logger:a,sc:o}=e("70b77844d02b2070");t.exports.MessageHandler=class{constructor(e){this.roomEvents=o.get(e,"roomEvents",!1),this.message=o.get(e,"message",!1),this.gameManager=this.roomEvents?.gameManager,this.gameDom=this.gameManager?.gameDom,this.config=this.gameManager?.config,this.translator=this.gameManager?.services?.translator,this.uiScene=this.gameManager?.gameEngine?.uiScene}validate(){return this.roomEvents?this.message?this.gameManager?this.uiScene:(a.info("Missing GameManager on RewardsMessageHandler."),!1):(a.info("Missing message on RewardsMessageHandler."),!1):(a.info("Missing RoomEvents on RewardsMessageHandler."),!1)}createRewardsUi(e){let t=o.get(this.uiScene.userInterfaces,e);if(t)return t;this.uiScene.userInterfaces||(this.uiScene.userInterfaces={});let i=new n(this.gameManager,{id:e,type:e,defaultOpen:!0,defaultClose:!0},"/assets/features/rewards/templates/ui-rewards.html",e);i.createUiElement(this.uiScene,e),i.closeButton.addEventListener("click",()=>{this.gameDom.emptyElement(".accepted-reward")});let s=this.uiScene.elementsUi[e];if(!s)return a.error("Scores UI box not found.",{uiRewards:i,uiBox:s}),!1;let h=this.translator.t(this.config.getWithoutLogs("client/rewards/labels/title",r.SNIPPETS.TITLE));return this.roomEvents.uiSetTitleAndContent(s,{title:h},this.uiScene),this.uiScene.userInterfaces[e]=i,this.uiScene.userInterfaces[e]}updateRewardsBox(){this.createRewardsUi(r.KEY);let e=o.get(this.message,"rewards",!1);if(!e){a.debug("Missing rewards data on message.");return}this.enrichForDisplay(e),this.uiScene.rewards=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[r.KEY],{content:this.createUpdateContent()},this.uiScene),this.showRewardsNotificationBalloon(),this.activateRewardsAction()}showAcceptedReward(){this.createRewardsUi(r.KEY);let e=o.get(this.message,"acceptedReward",!1);if(!e){a.debug("Missing rewards on update message.");return}this.enrichForDisplay([e]),this.uiScene.acceptedReward=e,this.roomEvents.uiSetContent(this.uiScene.elementsUi[r.KEY],{content:this.createUpdateContent()},this.uiScene)}createUpdateContent(){let e=this.uiScene.cache.html.get(r.TEMPLATES.REWARDS_LIST);if(!e)return a.error('Missing template "'+r.TEMPLATES.REWARDS_LIST+'".'),"";let t=this.uiScene.acceptedReward,i=t?this.translator.t(this.config.getWithoutLogs("client/rewards/labels/acceptedReward",r.SNIPPETS.ACCEPTED_REWARD),{rewardLabel:t.translated.label}):"",n={rewards:this.uiScene.rewards,acceptedReward:t,acceptedRewardMessage:i};return this.gameManager.gameEngine.parseTemplate(e,n)}enrichForDisplay(e){for(let t of e){let e=this.translator.t(t[r.MESSAGE.DATA.DESCRIPTION]||"",{loginCount:t[r.MESSAGE.DATA.EVENT_DATA]?.days||""});this.config.getWithoutLogs("client/rewards/labels/includeItemsDescription",!0)&&(e+=this.mapItemsText(t));let i=this.translator.t(t[r.MESSAGE.DATA.LABEL]||"",{loginCount:t[r.MESSAGE.DATA.EVENT_DATA]?.days||""});t.translated={label:i,description:e};let n=t[r.MESSAGE.DATA.STATE_DATA];t.activeClass=n?.ready&&!n?.complete?"active":"inactive",t.showRewardImage=t[r.MESSAGE.DATA.SHOW_REWARD_IMAGE]||"",t.rewardImage=t[r.MESSAGE.DATA.REWARD_IMAGE]||"",t.rewardImagePath=t[r.MESSAGE.DATA.REWARD_IMAGE_PATH]||""}return e}mapItemsText(e){let t=this.config.getWithoutLogs("client/rewards/labels/itemsSeparator","<br/>"),i=this.config.getWithoutLogs("client/rewards/labels/itemsTemplate","%label (%quantity)");return t+e[r.MESSAGE.DATA.ITEMS_DATA]?.map(e=>i=(i=i.replace("%label",e[r.MESSAGE.DATA.ITEM_LABEL])).replace("%quantity",e[r.MESSAGE.DATA.ITEM_QUANTITY])).join(t)}showRewardsNotificationBalloon(){let e=this.gameDom.getElement("#rewards-notification-balloon"),t=this.gameDom.getElements(".reward-active");if(e&&t&&0<t.label){e.classList.remove("hidden");return}e.classList.add("hidden")}activateRewardsAction(){for(let e of this.gameDom.getElements(".reward-active"))e.addEventListener("click",()=>{this.gameManager.activeRoomEvents.send({[s.ACTION_KEY]:r.ACTIONS.ACCEPT_REWARD,id:e.dataset.rewardId})})}}},{"8d4a3a8b8eeaff6":"bzImH","677bd2d65b92e557":"lIgFH","7a270c9c6c08724":"93TbC","70b77844d02b2070":"3lwy5"}],h8UKT:[function(e,t,i){let{MessageHandler:n}=e("31470942304bd302"),{Logger:r,sc:s}=e("32739ae155fa16f3");t.exports.MessageProcessor=class{static processRewardsMessagesQueue(e,t){let i=e?.roomEvents;if(!i)return r.critical("RoomEvents undefined for process Rewards messages queue on RewardsPlugin.",e),!1;if(s.isArray(i.rewardsMessagesQueue)&&0!==i.rewardsMessagesQueue.length){for(let e of i.rewardsMessagesQueue)t.messageListener?.handleRewardsMessage(e,new n({roomEvents:i,message:e}));i.rewardsMessagesQueue=[]}}}},{"31470942304bd302":"4T3oM","32739ae155fa16f3":"3lwy5"}],carao:[function(e,t,i){t.exports={rewards:{title:"Rewards",dailyLogin:"Daily Login",dailyDescription:"Login every day and claim your reward",straightDaysLogin:"%loginCount Days Login",straightDaysDescription:"Login every day for %loginCount days and claim your reward",acceptedReward:'You accepted the "%rewardLabel" reward!'}}},{}],dkVHA:[function(e,t,i){let n=e("e6a5960c3a99bcc9").default,r=e("d306a7719b3b609a"),s=e("d3e0e9ccc057727d"),a=e("eb8d3da15fd6263e"),{ErrorsBlockHandler:o}=e("6645d49b0b5d816f"),{GameConst:h}=e("89df318e7a41c05a"),{ErrorManager:c,Logger:l,sc:u}=e("bf14904e4b931b12");t.exports.FirebaseConnector=class{constructor(e){e||c.error("FirebaseConnector - Missing game manager."),this.gameManager=e,this.gameDom=this.gameManager.gameDom,this.analytics=r,this.app=n,this.firebaseAuth=s,this.ui=a,this.authUi=!1,this.isActive=!1,this.containerId="#firebaseui-auth-container",this.uiConfig={signInOptions:[{provider:this.firebaseAuth.GoogleAuthProvider.PROVIDER_ID},{provider:this.firebaseAuth.FacebookAuthProvider.PROVIDER_ID},{provider:this.firebaseAuth.GithubAuthProvider.PROVIDER_ID}],signInFlow:"popup"},this.gameManager.events.on("reldens.beforeJoinGame",e=>{"firebase-login"===e.formData.formId&&(e.gameManager.userData.isFirebaseLogin=!0)})}startFirebase(){let e=this.gameManager.appServerUrl+h.ROUTE_PATHS.FIREBASE;this.gameDom.getJSON(e,(e,t)=>{if(!t.enabled)return!1;let i=t.firebaseConfig;this.initAuth(i,this.uiConfig),this.gameDom.getWindow().addEventListener("beforeunload",()=>{this.isActive&&this.app.auth().signOut()}),this.app.auth().onAuthStateChanged(e=>(e?this.setActiveUser(e):this.startAuthUi(),!1));let n=this.gameDom.getElement("#firebase-login");n&&this.activateLoginBehavior(n)})}activateLoginBehavior(e){e.addEventListener("submit",t=>{if(t.preventDefault(),!e.checkValidity())return!1;this.gameDom.getElement(".firebase-row-container").classList.remove("hidden")});let t=this.gameDom.getElement("#firebase-username");if(!t)return!1;this.gameDom.getElement(".firebase-row-container").classList.remove("hidden"),t.addEventListener("change",()=>{o.reset(e)}),t.addEventListener("focus",()=>{o.reset(e)})}startAuthUi(){this.isActive=!1,this.gameDom.getElement(this.containerId)&&(this.gameDom.getElement(this.containerId).innerHTML=""),this.authUi.start(this.containerId,this.uiConfig)}setActiveUser(e){this.isActive=!0;let t={formId:"firebase-login",email:e.email,username:this.gameDom.getElement("#firebase-username").value,password:e.uid};this.gameManager.startGame(t,!0)}initAuth(e,t){if(!e||!t)return l.error("Missing firebase configuration."),!1;this.firebaseConfig=e,this.uiConfig=t,this.app.initializeApp(this.firebaseConfig),u.hasOwn(this.firebaseConfig,"measurementId")&&this.app.analytics(),this.authUi=new this.ui.auth.AuthUI(this.app.auth()),u.hasOwn(this.uiConfig,"callbacks")||(this.uiConfig.callbacks={}),u.hasOwn(this.uiConfig.callbacks,"signInSuccessWithAuthResult")||(this.uiConfig.callbacks.signInSuccessWithAuthResult=()=>!1)}}},{e6a5960c3a99bcc9:"llQKY",d306a7719b3b609a:"jiMXy",d3e0e9ccc057727d:"2s8iN",eb8d3da15fd6263e:"1Z3EC","6645d49b0b5d816f":"kzsmo","89df318e7a41c05a":"93TbC",bf14904e4b931b12:"3lwy5"}],llQKY:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"default",()=>s.default);var r=e("@firebase/app-compat"),s=n.interopDefault(r);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,s.default).registerVersion("firebase","10.14.1","app-compat")},{"@firebase/app-compat":"9Npvu","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"9Npvu":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"default",()=>d);var r=e("@firebase/util"),s=e("@firebase/component"),a=e("@firebase/app"),o=e("@firebase/logger");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e,t){this._delegate=e,this.firebase=t,(0,a._addComponent)(e,new s.Component("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,a.deleteApp)(this._delegate)))}_getService(e,t=a._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();let n=this._delegate.container.getProvider(e);return n.isInitialized()||(null===(i=n.getComponent())||void 0===i?void 0:i.instantiationMode)!=="EXPLICIT"||n.initialize(),n.getImmediate({identifier:t})}_removeServiceInstance(e,t=a._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,a._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,a._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}let c=new r.ErrorFactory("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e(){let t=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t={},i={__esModule:!0,initializeApp:function(n,s={}){let o=a.initializeApp(n,s);if((0,r.contains)(t,o.name))return t[o.name];let h=new e(o,i);return t[o.name]=h,h},app:n,registerVersion:a.registerVersion,setLogLevel:a.setLogLevel,onLog:a.onLog,apps:null,SDK_VERSION:a.SDK_VERSION,INTERNAL:{registerComponent:function(t){let s=t.name,o=s.replace("-compat","");if(a._registerComponent(t)&&"PUBLIC"===t.type){let a=(e=n())=>{if("function"!=typeof e[o])throw c.create("invalid-app-argument",{appName:s});return e[o]()};void 0!==t.serviceProps&&(0,r.deepExtend)(a,t.serviceProps),i[o]=a,e.prototype[o]=function(...e){return this._getService.bind(this,s).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?i[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:a}};function n(e){if(e=e||a._DEFAULT_ENTRY_NAME,!(0,r.contains)(t,e))throw c.create("no-app",{appName:e});return t[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),n.App=e,i}(h);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.deepExtend)(t,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,deepExtend:r.deepExtend}),t}(),u=new o.Logger("@firebase/app-compat");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{let e=(0,r.getGlobal)();if(void 0!==e.firebase){u.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&u.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch(e){}let d=l;(0,a.registerVersion)("@firebase/app-compat","0.2.43",void 0)},{"@firebase/util":"j1gcd","@firebase/component":"dVjVM","@firebase/app":"hZODh","@firebase/logger":"7RF90","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],j1gcd:[function(e,t,i){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"CONSTANTS",()=>a),n.export(i,"DecodeBase64StringError",()=>d),n.export(i,"Deferred",()=>_),n.export(i,"ErrorFactory",()=>z),n.export(i,"FirebaseError",()=>H),n.export(i,"MAX_VALUE_MILLIS",()=>eT),n.export(i,"RANDOM_FACTOR",()=>eS),n.export(i,"Sha1",()=>el),n.export(i,"areCookiesEnabled",()=>Y),n.export(i,"assert",()=>o),n.export(i,"assertionError",()=>h),n.export(i,"async",()=>ef),n.export(i,"base64",()=>u),n.export(i,"base64Decode",()=>g),n.export(i,"base64Encode",()=>f),n.export(i,"base64urlEncodeWithoutPadding",()=>p),n.export(i,"calculateBackoffMillis",()=>eA),n.export(i,"contains",()=>et),n.export(i,"createMockUserToken",()=>I),n.export(i,"createSubscribe",()=>eu),n.export(i,"decode",()=>J),n.export(i,"deepCopy",()=>m),n.export(i,"deepEqual",()=>function e(t,i){if(t===i)return!0;let n=Object.keys(t),r=Object.keys(i);for(let s of n){if(!r.includes(s))return!1;let n=t[s],a=i[s];if(es(n)&&es(a)){if(!e(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}),n.export(i,"deepExtend",()=>v),n.export(i,"errorPrefix",()=>em),n.export(i,"extractQuerystring",()=>ec),n.export(i,"getDefaultAppConfig",()=>A),n.export(i,"getDefaultEmulatorHost",()=>T),n.export(i,"getDefaultEmulatorHostnameAndPort",()=>S),n.export(i,"getDefaults",()=>w),n.export(i,"getExperimentalSetting",()=>C),n.export(i,"getGlobal",()=>y),n.export(i,"getModularInstance",()=>e_),n.export(i,"getUA",()=>O),n.export(i,"isAdmin",()=>ee),n.export(i,"isBrowser",()=>R),n.export(i,"isBrowserExtension",()=>k),n.export(i,"isCloudflareWorker",()=>D),n.export(i,"isElectron",()=>F),n.export(i,"isEmpty",()=>en),n.export(i,"isIE",()=>B),n.export(i,"isIndexedDBAvailable",()=>j),n.export(i,"isMobileCordova",()=>P),n.export(i,"isNode",()=>M),n.export(i,"isNodeSdk",()=>V),n.export(i,"isReactNative",()=>N),n.export(i,"isSafari",()=>G),n.export(i,"isUWP",()=>U),n.export(i,"isValidFormat",()=>Z),n.export(i,"isValidTimestamp",()=>$),n.export(i,"isWebWorker",()=>L),n.export(i,"issuedAtTime",()=>Q),n.export(i,"jsonEval",()=>K),n.export(i,"map",()=>er),n.export(i,"ordinal",()=>eC),n.export(i,"promiseWithTimeout",()=>ea),n.export(i,"querystring",()=>eo),n.export(i,"querystringDecode",()=>eh),n.export(i,"safeGet",()=>ei),n.export(i,"stringLength",()=>eE),n.export(i,"stringToByteArray",()=>ex),n.export(i,"stringify",()=>q),n.export(i,"uuidv4",()=>ew),n.export(i,"validateArgCount",()=>eg),n.export(i,"validateCallback",()=>ey),n.export(i,"validateContextObject",()=>eb),n.export(i,"validateIndexedDBOpenable",()=>W),n.export(i,"validateNamespace",()=>ev);var r=arguments[3],s=e("d07263985281b344");let a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw h(t)},h=function(e){return Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},c=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:((64512&r)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[i++]=r>>18|240,t[i++]=r>>12&63|128):t[i++]=r>>12|224,t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},l=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[i++];t[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=((7&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{let s=e[i++],a=e[i++];t[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,h=o?e[t+2]:0,c=r>>2,l=(3&r)<<4|a>>4,u=(15&a)<<2|h>>6,d=63&h;o||(d=64,s||(u=64)),n.push(i[c],i[l],i[u],i[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let r=i[e.charAt(t++)],s=t<e.length?i[e.charAt(t)]:0,a=++t<e.length?i[e.charAt(t)]:64,o=++t<e.length?i[e.charAt(t)]:64;if(++t,null==r||null==s||null==a||null==o)throw new d;let h=r<<2|s>>4;if(n.push(h),64!==a){let e=s<<4&240|a>>2;if(n.push(e),64!==o){let e=a<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let f=function(e){let t=c(e);return u.encodeByteArray(t,!0)},p=function(e){return f(e).replace(/\./g,"")},g=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(let i in t)t.hasOwnProperty(i)&&"__proto__"!==i&&(e[i]=v(e[i],t[i]));return e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b=()=>y().__FIREBASE_DEFAULTS__,x=()=>{if(void 0===s||void 0===s.env)return;let e=void 0;if(e)return JSON.parse(e)},E=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&g(e[1]);return t&&JSON.parse(t)},w=()=>{try{return b()||x()||E()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},T=e=>{var t,i;return null===(i=null===(t=w())||void 0===t?void 0:t.emulatorHosts)||void 0===i?void 0:i[e]},S=e=>{let t=T(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return"["===t[0]?[t.substring(1,i-1),n]:[t.substring(0,i),n]},A=()=>{var e;return null===(e=w())||void 0===e?void 0:e.config},C=e=>{var t;return null===(t=w())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i=t||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function M(){var e;let t=null===(e=w())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.process)}catch(e){return!1}}function R(){return"undefined"!=typeof window||L()}function L(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function D(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function k(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function N(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return O().indexOf("Electron/")>=0}function B(){let e=O();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function U(){return O().indexOf("MSAppHost/")>=0}function V(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function G(){return!M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch(e){return!1}}function W(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function Y(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}class H extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z.prototype.create)}}class z{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?r.replace(X,(e,t)=>{let n=i[t];return null!=n?String(n):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${n}).`;return new H(n,a,i)}}let X=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){return JSON.parse(e)}function q(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J=function(e){let t={},i={},n={},r="";try{let s=e.split(".");t=K(g(s[0])||""),i=K(g(s[1])||""),r=s[2],n=i.d||{},delete i.d}catch(e){}return{header:t,claims:i,data:n,signature:r}},$=function(e){let t=J(e).claims,i=Math.floor(new Date().getTime()/1e3),n=0,r=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?n=t.nbf:t.hasOwnProperty("iat")&&(n=t.iat),r=t.hasOwnProperty("exp")?t.exp:n+86400),!!i&&!!n&&!!r&&i>=n&&i<=r},Q=function(e){let t=J(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},Z=function(e){let t=J(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},ee=function(e){let t=J(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ei(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function en(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function er(e,t,i){let n={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t.call(i,e[r],r,e));return n}function es(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(e,t=2e3){let i=new _;return setTimeout(()=>i.reject("timeout!"),t),e.then(i.resolve,i.reject),i.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function eh(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}}),t}function ec(e){let t=e.indexOf("?");if(!t)return"";let i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){let i,n;t||(t=0);let r=this.W_;if("string"==typeof e)for(let i=0;i<16;i++)r[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let i=0;i<16;i++)r[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=(t<<1|t>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],h=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(i=h^a&(o^h),n=1518500249):(i=a^o^h,n=1859775393):e<60?(i=a&o|h&(a|o),n=2400959708):(i=a^o^h,n=3395469782);let t=(s<<5|s>>>27)+i+c+n+r[e]&4294967295;c=h,h=o,o=(a<<30|a>>>2)&4294967295,a=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let i=t-this.blockSize,n=0,r=this.buf_,s=this.inbuf_;for(;n<t;){if(0===s)for(;n<=i;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(r[s]=e.charCodeAt(n),++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}else for(;n<t;)if(r[s]=e[n],++s,++n,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[i]=this.chain_[t]>>n&255,++i;return e}}function eu(e,t){let i=new ed(e,t);return i.subscribe.bind(i)}class ed{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:i}:e).next&&(n.next=ep),void 0===n.error&&(n.error=ep),void 0===n.complete&&(n.complete=ep);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ef(e,t){return(...i)=>{Promise.resolve(!0).then(()=>{e(...i)}).catch(e=>{t&&t(e)})}}function ep(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg=function(e,t,i,n){let r;if(n<t?r="at least "+t:n>i&&(r=0===i?"none":"no more than "+i),r)throw Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+r+".")};function em(e,t){return`${e} failed: ${t} argument `}function ev(e,t,i){if((!i||t)&&"string"!=typeof t)throw Error(em(e,"namespace")+"must be a valid firebase namespace.")}function ey(e,t,i,n){if((!n||i)&&"function"!=typeof i)throw Error(em(e,t)+"must be a valid function.")}function eb(e,t,i,n){if((!n||i)&&("object"!=typeof i||null===i))throw Error(em(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319){let t=r-55296;o(++n<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(n)-56320)}r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return t},eE=function(e){let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,i++):t+=3}return t},ew=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},eT=144e5,eS=.5;function eA(e,t=1e3,i=2){let n=t*Math.pow(i,e),r=Math.round(eS*n*(Math.random()-.5)*2);return Math.min(eT,n+r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(e){return Number.isFinite(e)?e+function(e){let t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";let i=e%10;return 1===i?"st":2===i?"nd":3===i?"rd":"th"}(e):`${e}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(e){return e&&e._delegate?e._delegate:e}},{d07263985281b344:"4VGCc","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],dVjVM:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"Component",()=>s),n.export(i,"ComponentContainer",()=>h),n.export(i,"Provider",()=>o);var r=e("@firebase/util");class s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[e,t]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var i;let n=this.normalizeInstanceIdentifier(t),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(e),this.onInitCallbacks.set(n,r);let s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let n of i)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===a?void 0:e,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}return i||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},{"@firebase/util":"j1gcd","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],hZODh:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"FirebaseError",()=>a.FirebaseError),n.export(i,"SDK_VERSION",()=>I),n.export(i,"_DEFAULT_ENTRY_NAME",()=>d),n.export(i,"_addComponent",()=>v),n.export(i,"_addOrOverwriteComponent",()=>y),n.export(i,"_apps",()=>p),n.export(i,"_clearComponents",()=>S),n.export(i,"_components",()=>m),n.export(i,"_getProvider",()=>x),n.export(i,"_isFirebaseApp",()=>w),n.export(i,"_isFirebaseServerApp",()=>T),n.export(i,"_registerComponent",()=>b),n.export(i,"_removeServiceInstance",()=>E),n.export(i,"_serverApps",()=>g),n.export(i,"deleteApp",()=>L),n.export(i,"getApp",()=>M),n.export(i,"getApps",()=>R),n.export(i,"initializeApp",()=>O),n.export(i,"initializeServerApp",()=>P),n.export(i,"onLog",()=>k),n.export(i,"registerVersion",()=>D),n.export(i,"setLogLevel",()=>N);var r=e("@firebase/component"),s=e("@firebase/logger"),a=e("@firebase/util"),o=e("idb");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let c="@firebase/app",l="0.10.13",u=new s.Logger("@firebase/app"),d="[DEFAULT]",f={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,g=new Map,m=new Map;function v(e,t){try{e.container.addComponent(t)}catch(i){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function y(e,t){e.container.addOrOverwriteComponent(t)}function b(e){let t=e.name;if(m.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;for(let i of(m.set(t,e),p.values()))v(i,e);for(let t of g.values())v(t,e);return!0}function x(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function E(e,t,i=d){x(e,t).clearInstance(i)}function w(e){return void 0!==e.options}function T(e){return void 0!==e.settings}function S(){m.clear()}let A=new a.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new r.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw A.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ extends C{constructor(e,t,i,n){let r=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:i,automaticDataCollectionEnabled:r};void 0!==e.apiKey?super(e,s,n):super(e.options,s,n),this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,D(c,l,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){L(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw A.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I="10.14.1";function O(e,t={}){let i=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),s=n.name;if("string"!=typeof s||!s)throw A.create("bad-app-name",{appName:String(s)});if(i||(i=(0,a.getDefaultAppConfig)()),!i)throw A.create("no-options");let o=p.get(s);if(o){if((0,a.deepEqual)(i,o.options)&&(0,a.deepEqual)(n,o.config))return o;throw A.create("duplicate-app",{appName:s})}let h=new r.ComponentContainer(s);for(let e of m.values())h.addComponent(e);let c=new C(i,n,h);return p.set(s,c),c}function P(e,t){let i;if((0,a.isBrowser)()&&!(0,a.isWebWorker)())throw A.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),i=w(e)?e.options:e;let n=Object.assign(Object.assign({},t),i);if(void 0!==n.releaseOnDeref&&delete n.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw A.create("finalization-registry-not-supported",{});let s=""+[...JSON.stringify(n)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),o=g.get(s);if(o)return o.incRefCount(t.releaseOnDeref),o;let h=new r.ComponentContainer(s);for(let e of m.values())h.addComponent(e);let c=new _(i,t,s,h);return g.set(s,c),c}function M(e=d){let t=p.get(e);if(!t&&e===d&&(0,a.getDefaultAppConfig)())return O();if(!t)throw A.create("no-app",{appName:e});return t}function R(){return Array.from(p.values())}async function L(e){let t=!1,i=e.name;p.has(i)?(t=!0,p.delete(i)):g.has(i)&&0>=e.decRefCount()&&(g.delete(i),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function D(e,t,i){var n;let s=null!==(n=f[e])&&void 0!==n?n:e;i&&(s+=`-${i}`);let a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){let e=[`Unable to register library "${s}" with version "${t}":`];a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),u.warn(e.join(" "));return}b(new r.Component(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function k(e,t){if(null!==e&&"function"!=typeof e)throw A.create("invalid-log-argument");(0,s.setUserLogHandler)(e,t)}function N(e){(0,s.setLogLevel)(e)}let F="firebase-heartbeat-store",B=null;function U(){return B||(B=(0,o.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(F)}catch(e){console.warn(e)}}}).catch(e=>{throw A.create("idb-open",{originalErrorMessage:e.message})})),B}async function V(e){try{let t=(await U()).transaction(F),i=await t.objectStore(F).get(j(e));return await t.done,i}catch(e){if(e instanceof a.FirebaseError)u.warn(e.message);else{let t=A.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});u.warn(t.message)}}}async function G(e,t){try{let i=(await U()).transaction(F,"readwrite"),n=i.objectStore(F);await n.put(t,j(e)),await i.done}catch(e){if(e instanceof a.FirebaseError)u.warn(e.message);else{let t=A.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});u.warn(t.message)}}}function j(e){return`${e.name}!${e.options.appId}`}class W{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new H(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Y();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){u.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=Y(),{heartbeatsToSend:i,unsentEntries:n}=function(e,t=1024){let i=[],n=e.slice();for(let r of e){let e=i.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),z(i)>t){e.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),z(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return u.warn(e),""}}}function Y(){return new Date().toISOString().substring(0,10)}class H{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.isIndexedDBAvailable)()&&(0,a.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await V(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function z(e){return(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}b(new r.Component("platform-logger",e=>new h(e),"PRIVATE")),b(new r.Component("heartbeat",e=>new W(e),"PRIVATE")),D(c,l,""),D(c,l,"esm2017"),D("fire-js","")},{"@firebase/component":"dVjVM","@firebase/logger":"7RF90","@firebase/util":"j1gcd",idb:"4zejX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"7RF90":[function(e,t,i){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n,r,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"LogLevel",()=>r),s.export(i,"Logger",()=>u),s.export(i,"setLogLevel",()=>d),s.export(i,"setUserLogHandler",()=>f);let a=[];(n=r||(r={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT";let o={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},h=r.INFO,c={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=c[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class u{constructor(e){this.name=e,this._logLevel=h,this._logHandler=l,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function d(e){a.forEach(t=>{t.setLogLevel(e)})}function f(e,t){for(let i of a){let n=null;t&&t.level&&(n=o[t.level]),null===e?i.userLogHandler=null:i.userLogHandler=(t,i,...s)=>{let a=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");i>=(null!=n?n:t.logLevel)&&e({level:r[i].toLowerCase(),message:a,args:s,type:t.name})}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"4zejX":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"unwrap",()=>r.u),n.export(i,"wrap",()=>r.w),n.export(i,"deleteDB",()=>a),n.export(i,"openDB",()=>s);var r=e("./wrap-idb-value.js");function s(e,t,{blocked:i,upgrade:n,blocking:a,terminated:o}={}){let h=indexedDB.open(e,t),c=(0,r.w)(h);return n&&h.addEventListener("upgradeneeded",e=>{n((0,r.w)(h.result),e.oldVersion,e.newVersion,(0,r.w)(h.transaction),e)}),i&&h.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e)),c.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),c}function a(e,{blocked:t}={}){let i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",e=>t(e.oldVersion,e)),(0,r.w)(i).then(()=>void 0)}let o=["get","getKey","getAll","getAllKeys","count"],h=["put","add","delete","clear"],c=new Map;function l(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(c.get(t))return c.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=h.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||o.includes(i)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),a=s.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),r&&s.done]))[0]};return c.set(t,s),s}(0,r.r)(e=>({...e,get:(t,i,n)=>l(t,i)||e.get(t,i,n),has:(t,i)=>!!l(t,i)||e.has(t,i)}))},{"./wrap-idb-value.js":"4IA5n","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"4IA5n":[function(e,t,i){let n,r;var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"a",()=>u),s.export(i,"i",()=>a),s.export(i,"r",()=>f),s.export(i,"u",()=>g),s.export(i,"w",()=>p);let a=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,h=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return p(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){d=e(d)}function p(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(p(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(l.has(e))return l.get(e);let i="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),p(o.get(this))}:function(...e){return p(t.apply(g(this),e))}:function(e,...i){let n=t.call(g(this),e,...i);return c.set(n,e.sort?e.sort():[e]),p(n)}:(t instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,i)=>{let n=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});h.set(e,t)}(t),a(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,d):t;return i!==e&&(l.set(e,i),u.set(i,e)),i}let g=e=>u.get(e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],jiMXy:[function(e,t,i){e("@firebase/analytics-compat")},{"@firebase/analytics-compat":"60GUK"}],"60GUK":[function(e,t,i){var n,r,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"registerAnalytics",()=>d);var a=e("@firebase/app-compat"),o=s.interopDefault(a),h=e("@firebase/analytics"),c=e("@firebase/component");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,i){(0,h.logEvent)(this._delegate,e,t,i)}setCurrentScreen(e,t){(0,h.setCurrentScreen)(this._delegate,e,t)}setUserId(e,t){(0,h.setUserId)(this._delegate,e,t)}setUserProperties(e,t){(0,h.setUserProperties)(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){(0,h.setAnalyticsCollectionEnabled)(this._delegate,e)}}(n=r||(r={})).ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u=e=>new l(e.getProvider("app-compat").getImmediate(),e.getProvider("analytics").getImmediate());function d(){let e={Analytics:l,settings:h.settings,isSupported:h.isSupported,EventName:r};(0,o.default).INTERNAL.registerComponent(new(0,c.Component)("analytics-compat",u,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}d(),(0,o.default).registerVersion("@firebase/analytics-compat","0.2.14")},{"@firebase/app-compat":"9Npvu","@firebase/analytics":"d71wp","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],d71wp:[function(e,t,i){let n,r,s,a;var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(i),o.export(i,"getAnalytics",()=>G),o.export(i,"getGoogleAnalyticsClientId",()=>H),o.export(i,"initializeAnalytics",()=>j),o.export(i,"isSupported",()=>W),o.export(i,"logEvent",()=>J),o.export(i,"setAnalyticsCollectionEnabled",()=>K),o.export(i,"setConsent",()=>$),o.export(i,"setCurrentScreen",()=>Y),o.export(i,"setDefaultEventParameters",()=>q),o.export(i,"setUserId",()=>z),o.export(i,"setUserProperties",()=>X),o.export(i,"settings",()=>V);var h=e("@firebase/app"),c=e("@firebase/logger"),l=e("@firebase/util"),u=e("@firebase/component");e("@firebase/installations");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d="analytics",f="https://www.googletagmanager.com/gtag/js",p=new c.Logger("@firebase/analytics"),g=new l.ErrorFactory("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e){if(!e.startsWith(f)){let t=g.create("invalid-gtag-resource",{gtagURL:e});return p.warn(t.message),""}return e}function v(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function y(e,t,i,n,r,s){let a=n[r];try{if(a)await t[a];else{let e=(await v(i)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(e){p.error(e)}e("config",r,s)}async function b(e,t,i,n,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);let n=await v(i);for(let i of e){let e=n.find(e=>e.measurementId===i),r=e&&t[e.appId];if(r)s.push(r);else{s=[];break}}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",n,r||{})}catch(e){p.error(e)}}let x=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function E(e){var t;let{appId:i,apiKey:n}=e,r={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":n})},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",i),a=await fetch(s,r);if(200!==a.status&&304!==a.status){let e="";try{let i=await a.json();(null===(t=i.error)||void 0===t?void 0:t.message)&&(e=i.error.message)}catch(e){}throw g.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}async function w(e,t=x,i){let{appId:n,apiKey:r,measurementId:s}=e.options;if(!n)throw g.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:n};throw g.create("no-api-key")}let a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new S;return setTimeout(async()=>{o.abort()},void 0!==i?i:6e4),T({appId:n,apiKey:r,measurementId:s},a,o,t)}async function T(e,{throttleEndTimeMillis:t,backoffCount:i},n,r=x){var s;let{appId:a,measurementId:o}=e;try{await new Promise((e,i)=>{let r=setTimeout(e,Math.max(t-Date.now(),0));n.addEventListener(()=>{clearTimeout(r),i(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}catch(e){if(o)return p.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:a,measurementId:o};throw e}try{let t=await E(e);return r.deleteThrottleMetadata(a),t}catch(c){if(!function(e){if(!(e instanceof l.FirebaseError)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(r.deleteThrottleMetadata(a),o)return p.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:a,measurementId:o};throw c}let t=503===Number(null===(s=null==c?void 0:c.customData)||void 0===s?void 0:s.httpStatus)?(0,l.calculateBackoffMillis)(i,r.intervalMillis,30):(0,l.calculateBackoffMillis)(i,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+t,backoffCount:i+1};return r.setThrottleMetadata(a,h),p.debug(`Calling attemptFetch again in ${t} millis`),T(e,h,n,r)}}class S{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function A(e,t,i,n,r){if(r&&r.global){e("event",i,n);return}{let r=await t;e("event",i,Object.assign(Object.assign({},n),{send_to:r}))}}async function C(e,t,i,n){if(n&&n.global)return e("set",{screen_name:i}),Promise.resolve();e("config",await t,{update:!0,screen_name:i})}async function _(e,t,i,n){if(n&&n.global)return e("set",{user_id:i}),Promise.resolve();e("config",await t,{update:!0,user_id:i})}async function I(e,t,i,n){if(n&&n.global){let t={};for(let e of Object.keys(i))t[`user_properties.${e}`]=i[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:i})}async function O(e,t){let i=await t;return new Promise((t,n)=>{e("get",i,"client_id",e=>{e||n(g.create("no-client-id")),t(e)})})}async function P(e,t){let i=await e;window[`ga-disable-${i}`]=!t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M(){if(!(0,l.isIndexedDBAvailable)())return p.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,l.validateIndexedDBOpenable)()}catch(e){return p.warn(g.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function R(e,t,i,s,a,o,h){var c;let l=w(e);l.then(t=>{i[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&p.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>p.error(e)),t.push(l);let u=M().then(e=>e?s.getId():void 0),[d,g]=await Promise.all([l,u]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(f)&&t.src.includes(e))return t;return null}(o)&&function(e,t){var i,n;let r;let s=(i="firebase-js-sdk-policy",n={createScriptURL:m},window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,n)),r),a=document.createElement("script"),o=`${f}?l=${e}&id=${t}`;a.src=s?null==s?void 0:s.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}(o,d.measurementId),r&&(a("consent","default",r),r=void 0),a("js",new Date);let v=null!==(c=null==h?void 0:h.config)&&void 0!==c?c:{};return v.origin="firebase",v.update=!0,null!=g&&(v.firebase_id=g),a("config",d.measurementId,v),n&&(a("set",n),n=void 0),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.app=e}_delete(){return delete D[this.app.options.appId],Promise.resolve()}}let D={},k=[],N={},F="dataLayer",B="gtag",U=!1;function V(e){if(U)throw g.create("already-initialized");e.dataLayerName&&(F=e.dataLayerName),e.gtagName&&(B=e.gtagName)}function G(e=(0,h.getApp)()){e=(0,l.getModularInstance)(e);let t=(0,h._getProvider)(e,d);return t.isInitialized()?t.getImmediate():j(e)}function j(e,t={}){let i=(0,h._getProvider)(e,d);if(i.isInitialized()){let e=i.getImmediate();if((0,l.deepEqual)(t,i.getOptions()))return e;throw g.create("already-initialized")}return i.initialize({options:t})}async function W(){if((0,l.isBrowserExtension)()||!(0,l.areCookiesEnabled)()||!(0,l.isIndexedDBAvailable)())return!1;try{return await (0,l.validateIndexedDBOpenable)()}catch(e){return!1}}function Y(e,t,i){e=(0,l.getModularInstance)(e),C(a,D[e.app.options.appId],t,i).catch(e=>p.error(e))}async function H(e){return e=(0,l.getModularInstance)(e),O(a,D[e.app.options.appId])}function z(e,t,i){e=(0,l.getModularInstance)(e),_(a,D[e.app.options.appId],t,i).catch(e=>p.error(e))}function X(e,t,i){e=(0,l.getModularInstance)(e),I(a,D[e.app.options.appId],t,i).catch(e=>p.error(e))}function K(e,t){P(D[(e=(0,l.getModularInstance)(e)).app.options.appId],t).catch(e=>p.error(e))}function q(e){a?a("set",e):n=e}function J(e,t,i,n){e=(0,l.getModularInstance)(e),A(a,D[e.app.options.appId],t,i,n).catch(e=>p.error(e))}function $(e){a?a("consent","update",e):r=e}let Q="@firebase/analytics",Z="0.10.8";(0,h._registerComponent)(new u.Component(d,(e,{options:t})=>(function(e,t,i){!function(){let e=[];if((0,l.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,l.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),i=g.create("invalid-analytics-context",{errorInfo:t});p.warn(i.message)}}();let n=e.options.appId;if(!n)throw g.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)p.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key")}if(null!=D[n])throw g.create("already-exists",{id:n});if(!U){var r,o,h,c;let e,t;r=F,e=[],Array.isArray(window[r])?e=window[r]:window[r]=e;let{wrappedGtag:i,gtagCore:n}=(o=F,h=B,t=function(...e){window[o].push(arguments)},window[h]&&"function"==typeof window[h]&&(t=window[h]),window[h]=(c=t,async function(e,...t){try{if("event"===e){let[e,i]=t;await b(c,D,k,e,i)}else if("config"===e){let[e,i]=t;await y(c,D,k,N,e,i)}else if("consent"===e){let[e,i]=t;c("consent",e,i)}else if("get"===e){let[e,i,n]=t;c("get",e,i,n)}else if("set"===e){let[e]=t;c("set",e)}else c(e,...t)}catch(e){p.error(e)}}),{gtagCore:t,wrappedGtag:window[h]});a=i,s=n,U=!0}return D[n]=R(e,k,N,t,s,F,i),new L(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,h._registerComponent)(new u.Component("analytics-internal",function(e){try{let t=e.getProvider(d).getImmediate();return{logEvent:(e,i,n)=>J(t,e,i,n)}}catch(e){throw g.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,h.registerVersion)(Q,Z),(0,h.registerVersion)(Q,Z,"esm2017")},{"@firebase/app":"hZODh","@firebase/logger":"7RF90","@firebase/util":"j1gcd","@firebase/component":"dVjVM","@firebase/installations":"fWFBI","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],fWFBI:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"deleteInstallations",()=>$),n.export(i,"getId",()=>X),n.export(i,"getInstallations",()=>Z),n.export(i,"getToken",()=>K),n.export(i,"onIdChange",()=>Q);var r=e("@firebase/app"),s=e("@firebase/component"),a=e("@firebase/util"),o=e("idb");let h="@firebase/installations",c="0.6.9",l=`w:${c}`,u="FIS_v2",d=new a.ErrorFactory("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function f(e){return e instanceof a.FirebaseError&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function g(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function m(e,t){let i=(await t.json()).error;return d.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function v({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function y(e,{refreshToken:t}){let i=v(e);return i.append("Authorization",`${u} ${t}`),i}async function b(e){let t=await e();return t.status>=500&&t.status<600?e():t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x({appConfig:e,heartbeatServiceProvider:t},{fid:i}){let n=p(e),r=v(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let a={method:"POST",headers:r,body:JSON.stringify({fid:i,authVersion:u,appId:e.appId,sdkVersion:l})},o=await b(()=>fetch(n,a));if(o.ok){let e=await o.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:g(e.authToken)}}throw await m("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S=new Map;function A(e,t){let i=T(e);C(i,t),function(e,t){let i=I();i&&i.postMessage({key:e,fid:t}),O()}(i,t)}function C(e,t){let i=S.get(e);if(i)for(let e of i)e(t)}let _=null;function I(){return!_&&"BroadcastChannel"in self&&((_=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{C(e.data.key,e.data.fid)}),_}function O(){0===S.size&&_&&(_.close(),_=null)}let P="firebase-installations-store",M=null;function R(){return M||(M=(0,o.openDB)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(P)}})),M}async function L(e,t){let i=T(e),n=(await R()).transaction(P,"readwrite"),r=n.objectStore(P),s=await r.get(i);return await r.put(t,i),await n.done,s&&s.fid===t.fid||A(e,t.fid),t}async function D(e){let t=T(e),i=(await R()).transaction(P,"readwrite");await i.objectStore(P).delete(t),await i.done}async function k(e,t){let i=T(e),n=(await R()).transaction(P,"readwrite"),r=n.objectStore(P),s=await r.get(i),a=t(s);return void 0===a?await r.delete(i):await r.put(a,i),await n.done,a&&(!s||s.fid!==a.fid)&&A(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N(e){let t;let i=await k(e.appConfig,i=>{let n=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(d.create("app-offline"))};let i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=F(e,i);return{installationEntry:i,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:B(e)}:{installationEntry:t}}(e,V(i||{fid:function(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return w.test(t)?t:""}catch(e){return""}}(),registrationStatus:0}));return t=n.registrationPromise,n.installationEntry});return""===i.fid?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}async function F(e,t){try{let i=await x(e,t);return L(e.appConfig,i)}catch(i){throw f(i)&&409===i.customData.serverCode?await D(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function B(e){let t=await U(e.appConfig);for(;1===t.registrationStatus;)await E(100),t=await U(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:i}=await N(e);return i||t}return t}function U(e){return k(e,e=>{if(!e)throw d.create("installation-not-found");return V(e)})}function V(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G({appConfig:e,heartbeatServiceProvider:t},i){let n=function(e,{fid:t}){return`${p(e)}/${t}/authTokens:generate`}(e,i),r=y(e,i),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}let a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:l,appId:e.appId}})},o=await b(()=>fetch(n,a));if(o.ok)return g(await o.json());throw await m("Generate Auth Token",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j(e,t=!1){let i;let n=await k(e.appConfig,n=>{var r;if(!z(n))throw d.create("not-registered");let s=n.authToken;if(!t&&2===(r=s).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(r))return n;if(1===s.requestStatus)return i=W(e,t),n;{if(!navigator.onLine)throw d.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return i=H(e,t),t}});return i?await i:n.authToken}async function W(e,t){let i=await Y(e.appConfig);for(;1===i.authToken.requestStatus;)await E(100),i=await Y(e.appConfig);let n=i.authToken;return 0===n.requestStatus?j(e,t):n}function Y(e){return k(e,e=>{var t;if(!z(e))throw d.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function H(e,t){try{let i=await G(e,t),n=Object.assign(Object.assign({},t),{authToken:i});return await L(e.appConfig,n),i}catch(i){if(f(i)&&(401===i.customData.serverCode||404===i.customData.serverCode))await D(e.appConfig);else{let i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,i)}throw i}}function z(e){return void 0!==e&&2===e.registrationStatus}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(e){let{installationEntry:t,registrationPromise:i}=await N(e);return i?i.catch(console.error):j(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t=!1){return await q(e),(await j(e,t)).token}async function q(e){let{registrationPromise:t}=await N(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e,t){let i=function(e,{fid:t}){return`${p(e)}/${t}`}(e,t),n={method:"DELETE",headers:y(e,t)},r=await b(()=>fetch(i,n));if(!r.ok)throw await m("Delete Installation",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $(e){let{appConfig:t}=e,i=await k(t,e=>{if(!e||0!==e.registrationStatus)return e});if(i){if(1===i.registrationStatus)throw d.create("delete-pending-registration");if(2===i.registrationStatus){if(navigator.onLine)await J(t,i),await D(t);else throw d.create("app-offline")}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t){let{appConfig:i}=e;return!function(e,t){I();let i=T(e),n=S.get(i);n||(n=new Set,S.set(i,n)),n.add(t)}(i,t),()=>{!function(e,t){let i=T(e),n=S.get(i);n&&(n.delete(t),0===n.size&&S.delete(i),O())}(i,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e=(0,r.getApp)()){return(0,r._getProvider)(e,"installations").getImmediate()}function ee(e){return d.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let et="installations";(0,r._registerComponent)(new s.Component(et,e=>{let t=e.getProvider("app").getImmediate(),i=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw ee("App Configuration");if(!e.name)throw ee("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw ee(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),n=(0,r._getProvider)(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,r._registerComponent)(new s.Component("installations-internal",e=>{let t=e.getProvider("app").getImmediate(),i=(0,r._getProvider)(t,et).getImmediate();return{getId:()=>X(i),getToken:e=>K(i,e)}},"PRIVATE")),(0,r.registerVersion)(h,c),(0,r.registerVersion)(h,c,"esm2017")},{"@firebase/app":"hZODh","@firebase/component":"dVjVM","@firebase/util":"j1gcd",idb:"4zejX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"2s8iN":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i);var r=e("@firebase/auth");n.exportAll(r,i)},{"@firebase/auth":"7aHdK","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"7aHdK":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"ActionCodeOperation",()=>r.A),n.export(i,"ActionCodeURL",()=>r.ai),n.export(i,"AuthCredential",()=>r.L),n.export(i,"AuthErrorCodes",()=>r.I),n.export(i,"EmailAuthCredential",()=>r.M),n.export(i,"EmailAuthProvider",()=>r.V),n.export(i,"FacebookAuthProvider",()=>r.W),n.export(i,"FactorId",()=>r.F),n.export(i,"GithubAuthProvider",()=>r.Y),n.export(i,"GoogleAuthProvider",()=>r.X),n.export(i,"OAuthCredential",()=>r.N),n.export(i,"OAuthProvider",()=>r.Z),n.export(i,"OperationType",()=>r.O),n.export(i,"PhoneAuthCredential",()=>r.Q),n.export(i,"PhoneAuthProvider",()=>r.P),n.export(i,"PhoneMultiFactorGenerator",()=>r.m),n.export(i,"ProviderId",()=>r.p),n.export(i,"RecaptchaVerifier",()=>r.R),n.export(i,"SAMLAuthProvider",()=>r._),n.export(i,"SignInMethod",()=>r.S),n.export(i,"TotpMultiFactorGenerator",()=>r.T),n.export(i,"TotpSecret",()=>r.n),n.export(i,"TwitterAuthProvider",()=>r.$),n.export(i,"applyActionCode",()=>r.a7),n.export(i,"beforeAuthStateChanged",()=>r.x),n.export(i,"browserLocalPersistence",()=>r.b),n.export(i,"browserPopupRedirectResolver",()=>r.k),n.export(i,"browserSessionPersistence",()=>r.a),n.export(i,"checkActionCode",()=>r.a8),n.export(i,"confirmPasswordReset",()=>r.a6),n.export(i,"connectAuthEmulator",()=>r.K),n.export(i,"createUserWithEmailAndPassword",()=>r.aa),n.export(i,"debugErrorMap",()=>r.G),n.export(i,"deleteUser",()=>r.E),n.export(i,"fetchSignInMethodsForEmail",()=>r.af),n.export(i,"getAdditionalUserInfo",()=>r.aq),n.export(i,"getAuth",()=>r.o),n.export(i,"getIdToken",()=>r.an),n.export(i,"getIdTokenResult",()=>r.ao),n.export(i,"getMultiFactorResolver",()=>r.as),n.export(i,"getRedirectResult",()=>r.j),n.export(i,"inMemoryPersistence",()=>r.U),n.export(i,"indexedDBLocalPersistence",()=>r.i),n.export(i,"initializeAuth",()=>r.J),n.export(i,"initializeRecaptchaConfig",()=>r.t),n.export(i,"isSignInWithEmailLink",()=>r.ad),n.export(i,"linkWithCredential",()=>r.a2),n.export(i,"linkWithPhoneNumber",()=>r.l),n.export(i,"linkWithPopup",()=>r.d),n.export(i,"linkWithRedirect",()=>r.g),n.export(i,"multiFactor",()=>r.at),n.export(i,"onAuthStateChanged",()=>r.y),n.export(i,"onIdTokenChanged",()=>r.w),n.export(i,"parseActionCodeURL",()=>r.aj),n.export(i,"prodErrorMap",()=>r.H),n.export(i,"reauthenticateWithCredential",()=>r.a3),n.export(i,"reauthenticateWithPhoneNumber",()=>r.r),n.export(i,"reauthenticateWithPopup",()=>r.e),n.export(i,"reauthenticateWithRedirect",()=>r.h),n.export(i,"reload",()=>r.ar),n.export(i,"revokeAccessToken",()=>r.D),n.export(i,"sendEmailVerification",()=>r.ag),n.export(i,"sendPasswordResetEmail",()=>r.a5),n.export(i,"sendSignInLinkToEmail",()=>r.ac),n.export(i,"setPersistence",()=>r.q),n.export(i,"signInAnonymously",()=>r.a0),n.export(i,"signInWithCredential",()=>r.a1),n.export(i,"signInWithCustomToken",()=>r.a4),n.export(i,"signInWithEmailAndPassword",()=>r.ab),n.export(i,"signInWithEmailLink",()=>r.ae),n.export(i,"signInWithPhoneNumber",()=>r.s),n.export(i,"signInWithPopup",()=>r.c),n.export(i,"signInWithRedirect",()=>r.f),n.export(i,"signOut",()=>r.C),n.export(i,"unlink",()=>r.ap),n.export(i,"updateCurrentUser",()=>r.B),n.export(i,"updateEmail",()=>r.al),n.export(i,"updatePassword",()=>r.am),n.export(i,"updatePhoneNumber",()=>r.u),n.export(i,"updateProfile",()=>r.ak),n.export(i,"useDeviceLanguage",()=>r.z),n.export(i,"validatePassword",()=>r.v),n.export(i,"verifyBeforeUpdateEmail",()=>r.ah),n.export(i,"verifyPasswordResetCode",()=>r.a9);var r=e("./index-68602d24.js");e("@firebase/app"),e("@firebase/util"),e("@firebase/logger"),e("tslib"),e("@firebase/component")},{"./index-68602d24.js":"gWuQ9","@firebase/app":"hZODh","@firebase/util":"j1gcd","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],gWuQ9:[function(e,t,i){var n,r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"$",()=>tE),r.export(i,"A",()=>p),r.export(i,"B",()=>ig),r.export(i,"C",()=>im),r.export(i,"D",()=>iv),r.export(i,"E",()=>iy),r.export(i,"F",()=>l),r.export(i,"G",()=>m),r.export(i,"H",()=>v),r.export(i,"I",()=>b),r.export(i,"J",()=>eK),r.export(i,"K",()=>eq),r.export(i,"L",()=>eQ),r.export(i,"M",()=>tt),r.export(i,"N",()=>tn),r.export(i,"O",()=>f),r.export(i,"P",()=>i8),r.export(i,"Q",()=>tc),r.export(i,"R",()=>i2),r.export(i,"S",()=>d),r.export(i,"T",()=>n$),r.export(i,"U",()=>ex),r.export(i,"V",()=>td),r.export(i,"W",()=>tm),r.export(i,"X",()=>tv),r.export(i,"Y",()=>ty),r.export(i,"Z",()=>tg),r.export(i,"_",()=>tx),r.export(i,"a",()=>iP),r.export(i,"a0",()=>tA),r.export(i,"a1",()=>tD),r.export(i,"a2",()=>tk),r.export(i,"a3",()=>tN),r.export(i,"a4",()=>tB),r.export(i,"a5",()=>tY),r.export(i,"a6",()=>tH),r.export(i,"a7",()=>tz),r.export(i,"a8",()=>tX),r.export(i,"a9",()=>tK),r.export(i,"aA",()=>eR),r.export(i,"aB",()=>T),r.export(i,"aC",()=>I),r.export(i,"aD",()=>nI),r.export(i,"aE",()=>ey),r.export(i,"aF",()=>eE),r.export(i,"aG",()=>nC),r.export(i,"aH",()=>nm),r.export(i,"aI",()=>ng),r.export(i,"aJ",()=>eU),r.export(i,"aK",()=>em),r.export(i,"aL",()=>eB),r.export(i,"aM",()=>eD),r.export(i,"aN",()=>iR),r.export(i,"aO",()=>nW),r.export(i,"aP",()=>N),r.export(i,"aQ",()=>tb),r.export(i,"aa",()=>tq),r.export(i,"ab",()=>tJ),r.export(i,"ac",()=>t$),r.export(i,"ad",()=>tQ),r.export(i,"ae",()=>tZ),r.export(i,"af",()=>t1),r.export(i,"ag",()=>t2),r.export(i,"ah",()=>t3),r.export(i,"ai",()=>tl),r.export(i,"aj",()=>tu),r.export(i,"ak",()=>t4),r.export(i,"al",()=>t9),r.export(i,"am",()=>t6),r.export(i,"an",()=>et),r.export(i,"ao",()=>ei),r.export(i,"ap",()=>tO),r.export(i,"aq",()=>ia),r.export(i,"ar",()=>el),r.export(i,"as",()=>iE),r.export(i,"at",()=>iS),r.export(i,"au",()=>P),r.export(i,"av",()=>eM),r.export(i,"aw",()=>eI),r.export(i,"ax",()=>w),r.export(i,"ay",()=>nH),r.export(i,"az",()=>nM),r.export(i,"b",()=>iI),r.export(i,"c",()=>no),r.export(i,"d",()=>nc),r.export(i,"e",()=>nh),r.export(i,"f",()=>nb),r.export(i,"g",()=>nT),r.export(i,"h",()=>nE),r.export(i,"i",()=>iX),r.export(i,"j",()=>nA),r.export(i,"k",()=>nX),r.export(i,"l",()=>i4),r.export(i,"m",()=>nJ),r.export(i,"n",()=>nZ),r.export(i,"o",()=>n6),r.export(i,"p",()=>u),r.export(i,"q",()=>io),r.export(i,"r",()=>i9),r.export(i,"s",()=>i5),r.export(i,"t",()=>ih),r.export(i,"u",()=>i7),r.export(i,"v",()=>ic),r.export(i,"w",()=>il),r.export(i,"x",()=>iu),r.export(i,"y",()=>id),r.export(i,"z",()=>ip);var s=e("@firebase/app"),a=e("@firebase/util"),o=e("@firebase/logger"),h=e("tslib"),c=e("@firebase/component");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l={PHONE:"phone",TOTP:"totp"},u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},d={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},f={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},p={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function g(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let m=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},v=g,y=new a.ErrorFactory("auth","Firebase",g()),b={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},x=new o.Logger("@firebase/auth");function E(e,...t){x.logLevel<=o.LogLevel.ERROR&&x.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e,...t){throw _(e,...t)}function T(e,...t){return _(e,...t)}function S(e,t,i){let n=Object.assign(Object.assign({},v()),{[t]:i});return new a.ErrorFactory("auth","Firebase",n).create(t,{appName:e.name})}function A(e){return S(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C(e,t,i){if(!(t instanceof i))throw i.name!==t.constructor.name&&w(e,"argument-error"),S(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return y.create(e,...t)}function I(e,t,...i){if(!e)throw _(t,...i)}function O(e){let t="INTERNAL ASSERTION FAILED: "+e;throw E(t),Error(t)}function P(e,t){e||O(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function R(){return"http:"===L()||"https:"===L()}function L(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e,t){this.shortDelay=e,this.longDelay=t,P(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.isMobileCordova)()||(0,a.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(R()||(0,a.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e,t){P(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void O("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void O("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void O("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},B=new D(3e4,6e4);function U(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function V(e,t,i,n,r={}){return G(e,r,async()=>{let r={},s={};n&&("GET"===t?s=n:r={body:JSON.stringify(n)});let o=(0,a.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);let c=Object.assign({method:t,headers:h},r);return(0,a.isCloudflareWorker)()||(c.referrerPolicy="no-referrer"),N.fetch()(W(e,e.config.apiHost,i,o),c)})}async function G(e,t,i){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},F),t);try{let t=new Y(e),r=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();let s=await r.json();if("needConfirmation"in s)throw H(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{let[t,i]=(r.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw H(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw H(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw H(e,"user-disabled",s);let a=n[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw S(e,a,i);w(e,a)}}catch(t){if(t instanceof a.FirebaseError)throw t;w(e,"network-request-failed",{message:String(t)})}}async function j(e,t,i,n,r={}){let s=await V(e,t,i,n,r);return"mfaPendingCredential"in s&&w(e,"multi-factor-auth-required",{_serverResponse:s}),s}function W(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?k(e.config,r):`${e.config.apiScheme}://${r}`}class Y{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(T(this.auth,"network-request-failed")),B.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=T(e,t,n);return r.customData._tokenResponse=i,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e){return void 0!==e&&void 0!==e.getResponse}function X(e){return void 0!==e&&void 0!==e.enterprise}class K{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e){return(await V(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function J(e,t){return V(e,"GET","/v2/recaptchaConfig",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $(e,t){return V(e,"POST","/v1/accounts:delete",t)}async function Q(e,t){return V(e,"POST","/v1/accounts:update",t)}async function Z(e,t){return V(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e,t=!1){return(0,a.getModularInstance)(e).getIdToken(t)}async function ei(e,t=!1){let i=(0,a.getModularInstance)(e),n=await i.getIdToken(t),r=er(n);I(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:ee(en(r.auth_time)),issuedAtTime:ee(en(r.iat)),expirationTime:ee(en(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function en(e){return 1e3*Number(e)}function er(e){let[t,i,n]=e.split(".");if(void 0===t||void 0===i||void 0===n)return E("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,a.base64Decode)(i);if(!e)return E("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return E("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function es(e){let t=er(e);return I(t,"internal-error"),I(void 0!==t.exp,"internal-error"),I(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof a.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ee(this.lastLoginAt),this.creationTime=ee(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(e){var t;let i=e.auth,n=await e.getIdToken(),r=await ea(e,Z(i,{idToken:n}));I(null==r?void 0:r.users.length,i,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?eu(s.providerUserInfo):[],o=[...e.providerData.filter(e=>!a.some(t=>t.providerId===e.providerId)),...a],h=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new eh(s.createdAt,s.lastLoginAt),isAnonymous:!!h&&c})}async function el(e){let t=(0,a.getModularInstance)(e);await ec(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eu(e){return e.map(e=>{var{providerId:t}=e,i=(0,h.__rest)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(e,t){let i=await G(e,{},async()=>{let i=(0,a.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:r}=e.config,s=W(e,n,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",N.fetch()(s,{method:"POST",headers:o,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ef(e,t){return V(e,"POST","/v2/accounts:revokeToken",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(void 0!==e.idToken,"internal-error"),I(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):es(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){I(0!==e.length,"internal-error");let t=es(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(I(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:n,expiresIn:r}=await ed(e,t);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){let{refreshToken:i,accessToken:n,expirationTime:r}=t,s=new ep;return i&&(I("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(I("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),r&&(I("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ep,this.toJSON())}_performRefresh(){return O("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e,t){I("string"==typeof e||void 0===e,"internal-error",{appName:t})}class em{constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,r=(0,h.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new eh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await ea(this,this.stsTokenManager.getToken(this.auth,e));return I(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ei(this,e)}reload(){return el(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new em(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s._isFirebaseServerApp)(this.auth.app))return Promise.reject(A(this.auth));let e=await this.getIdToken();return await ea(this,$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,r,s,a,o,h,c;let l=null!==(i=t.displayName)&&void 0!==i?i:void 0,u=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(h=t.createdAt)&&void 0!==h?h:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:E,stsTokenManager:w}=t;I(y&&w,e,"internal-error");let T=ep.fromJSON(this.name,w);I("string"==typeof y,e,"internal-error"),eg(l,e.name),eg(u,e.name),I("boolean"==typeof b,e,"internal-error"),I("boolean"==typeof x,e,"internal-error"),eg(d,e.name),eg(f,e.name),eg(p,e.name),eg(g,e.name),eg(m,e.name),eg(v,e.name);let S=new em({uid:y,auth:e,email:u,emailVerified:b,displayName:l,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(S.providerData=E.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t,i=!1){let n=new ep;n.updateFromServerResponse(t);let r=new em({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await ec(r),r}static async _fromGetAccountInfoResponse(e,t,i){let n=t.users[0];I(void 0!==n.localId,"internal-error");let r=void 0!==n.providerUserInfo?eu(n.providerUserInfo):[],s=!(n.email&&n.passwordHash)&&!(null==r?void 0:r.length),a=new ep;a.updateFromIdToken(i);let o=new em({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:r,metadata:new eh(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null==r?void 0:r.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev=new Map;function ey(e){P(e instanceof Function,"Expected a class definition");let t=ev.get(e);return t?P(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,ev.set(e,t)),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eb.type="NONE";let ex=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e,t,i){return`firebase:${e}:${t}:${i}`}class ew{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:n,name:r}=this.auth;this.fullUserKey=eE(this.userKey,n.apiKey,r),this.fullPersistenceKey=eE("persistence",n.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?em._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ew(ey(ex),e,i);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),r=n[0]||ey(ex),s=eE(i,e.config.apiKey,e.name),a=null;for(let i of t)try{let t=await i._get(s);if(t){let n=em._fromJSON(e,t);i!==r&&(a=n),r=i;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length&&(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new ew(r,e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(e_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eO(t))return"Blackberry";if(eP(t))return"Webos";if(eA(t))return"Safari";if((t.includes("chrome/")||eC(t))&&!t.includes("edge/"))return"Chrome";if(eI(t))return"Android";let i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function eS(e=(0,a.getUA)()){return/firefox\//i.test(e)}function eA(e=(0,a.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eC(e=(0,a.getUA)()){return/crios\//i.test(e)}function e_(e=(0,a.getUA)()){return/iemobile/i.test(e)}function eI(e=(0,a.getUA)()){return/android/i.test(e)}function eO(e=(0,a.getUA)()){return/blackberry/i.test(e)}function eP(e=(0,a.getUA)()){return/webos/i.test(e)}function eM(e=(0,a.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eR(e=(0,a.getUA)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function eL(e=(0,a.getUA)()){return eM(e)||eI(e)||eP(e)||eO(e)||/windows phone/i.test(e)||e_(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(e,t=[]){let i;switch(e){case"Browser":i=eT((0,a.getUA)());break;case"Worker":i=`${eT((0,a.getUA)())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${s.SDK_VERSION}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=t=>new Promise((i,n)=>{try{let n=e(t);i(n)}catch(e){n(e)}});i.onAbort=t,this.queue.push(i);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e,t={}){return V(e,"GET","/v2/passwordPolicy",U(e,t))}class eF{constructor(e){var t,i,n,r;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,n,r,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(i=o.meetsMaxPasswordLength)||void 0===i||i),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)i=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,n,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,i,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eV(this),this.idTokenSubscription=new eV(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ey(t)),this._initializationPromise=this.queue(async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await ew.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Z(this,{idToken:e}),i=await em._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,s._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let i=await this.assertedPersistence.getCurrentUser(),n=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===s)&&(null==a?void 0:a.user)&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(I(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s._isFirebaseServerApp)(this.app))return Promise.reject(A(this));let t=e?(0,a.getModularInstance)(e):null;return t&&I(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s._isFirebaseServerApp)(this.app)?Promise.reject(A(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s._isFirebaseServerApp)(this.app)?Promise.reject(A(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ey(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eF(await eN(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new a.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await ef(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ey(e)||this._popupRedirectResolver;I(t,this,"argument-error"),this.redirectPersistenceManager=await ew.create(this,[ey(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};let r="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),"function"==typeof t){let r=e.addObserver(t,i,n);return()=>{s=!0,r()}}{let i=e.addObserver(t);return()=>{s=!0,i()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){x.logLevel<=o.LogLevel.WARN&&x.warn(`Auth (${s.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function eU(e){return(0,a.getModularInstance)(e)}class eV{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.createSubscribe)(e=>this.observer=e)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eG={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ej(e){return eG.loadJS(e)}function eW(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eY{constructor(e){this.type="recaptcha-enterprise",this.auth=eU(e)}async verify(e="verify",t=!1){async function i(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,i)=>{J(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)i(Error("recaptcha Enterprise site key undefined"));else{let i=new K(n);return null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,t(i.siteKey)}}).catch(e=>{i(e)})})}function n(t,i,n){let r=window.grecaptcha;X(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{i(e)}).catch(()=>{i("NO_RECAPTCHA")})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{i(this.auth).then(i=>{if(!t&&X(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window){r(Error("RecaptchaVerifier is only supported in browser"));return}let t=eG.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ej(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function eH(e,t,i,n=!1){let r;let s=new eY(e);try{r=await s.verify(i)}catch(e){r=await s.verify(i,!0)}let a=Object.assign({},t);return n?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ez(e,t,i,n){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r||!r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return n(e,t).catch(async r=>{if("auth/missing-recaptcha-token"!==r.code)return Promise.reject(r);{console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let r=await eH(e,t,i,"getOobCode"===i);return n(e,r)}});{let r=await eH(e,t,i,"getOobCode"===i);return n(e,r)}}async function eX(e){let t=eU(e),i=new K(await J(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&new eY(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(e,t){let i=(0,s._getProvider)(e,"auth");if(i.isInitialized()){let e=i.getImmediate(),n=i.getOptions();if((0,a.deepEqual)(n,null!=t?t:{}))return e;w(e,"already-initialized")}return i.initialize({options:t})}function eq(e,t,i){let n=eU(e);I(n._canInitEmulator,n,"emulator-config-failed"),I(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!(null==i?void 0:i.disableWarnings),s=eJ(t),{host:a,port:o}=function(e){let t=eJ(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let e=r[1];return{host:e,port:e$(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:e$(t)}}}(t),h=null===o?"":`:${o}`;n.config.emulator={url:`${s}//${a}${h}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eJ(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e$(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return O("not implemented")}_getIdTokenResponse(e){return O("not implemented")}_linkToIdToken(e,t){return O("not implemented")}_getReauthenticationResolver(e){return O("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(e,t){return V(e,"POST","/v1/accounts:resetPassword",U(e,t))}async function e0(e,t){return V(e,"POST","/v1/accounts:update",t)}async function e1(e,t){return V(e,"POST","/v1/accounts:signUp",t)}async function e2(e,t){return V(e,"POST","/v1/accounts:update",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",U(e,t))}async function e5(e,t){return V(e,"POST","/v1/accounts:sendOobCode",U(e,t))}async function e4(e,t){return e5(e,t)}async function e9(e,t){return e5(e,t)}async function e6(e,t){return e5(e,t)}async function e7(e,t){return e5(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}async function te(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends eQ{constructor(e,t,i,n=null){super("password",i),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new tt(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new tt(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ez(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",e3);case"emailLink":return e8(e,{email:this._email,oobCode:this._password});default:w(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ez(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e1);case"emailLink":return te(e,{idToken:t,email:this._email,oobCode:this._password});default:w(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",U(e,t))}class tn extends eQ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new tn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):w("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,r=(0,h.__rest)(t,["providerId","signInMethod"]);if(!i||!n)return null;let s=new tn(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return ti(e,this.buildRequest())}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,ti(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.querystring)(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(e,t){return V(e,"POST","/v1/accounts:sendVerificationCode",U(e,t))}async function ts(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t))}async function ta(e,t){let i=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t));if(i.temporaryProof)throw H(e,"account-exists-with-different-credential",i);return i}let to={USER_NOT_FOUND:"user-not-found"};async function th(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),to)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends eQ{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ts(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ta(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return th(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}=e;return i||t||n||r?new tc({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}class tl{constructor(e){var t,i,n,r,s,o;let h=(0,a.querystringDecode)((0,a.extractQuerystring)(e)),c=null!==(t=h.apiKey)&&void 0!==t?t:null,l=null!==(i=h.oobCode)&&void 0!==i?i:null,u=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=h.mode)&&void 0!==n?n:null);I(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(r=h.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=h.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=h.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=(0,a.querystringDecode)((0,a.extractQuerystring)(e)).link,i=t?(0,a.querystringDecode)((0,a.extractQuerystring)(t)).deep_link_id:null,n=(0,a.querystringDecode)((0,a.extractQuerystring)(e)).deep_link_id;return(n?(0,a.querystringDecode)((0,a.extractQuerystring)(n)).link:null)||n||i||t||e}(e);try{return new tl(t)}catch(e){return null}}}function tu(e){return tl.parseLink(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.providerId=td.PROVIDER_ID}static credential(e,t){return tt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=tl.parseLink(t);return I(i,"argument-error"),tt._fromEmailAndCode(e,i.code,i.tenantId)}}td.PROVIDER_ID="password",td.EMAIL_PASSWORD_SIGN_IN_METHOD="password",td.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tg extends tp{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return I("providerId"in t&&"signInMethod"in t,"argument-error"),tn._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return I(e.idToken||e.accessToken,"argument-error"),tn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:n,pendingToken:r,nonce:s,providerId:a}=e;if(!i&&!n&&!t&&!r||!a)return null;try{return new tg(a)._credential({idToken:t,accessToken:i,nonce:s,pendingToken:r})}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends tp{constructor(){super("facebook.com")}static credential(e){return tn._fromParams({providerId:tm.PROVIDER_ID,signInMethod:tm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tm.credentialFromTaggedObject(e)}static credentialFromError(e){return tm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tm.credential(e.oauthAccessToken)}catch(e){return null}}}tm.FACEBOOK_SIGN_IN_METHOD="facebook.com",tm.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tn._fromParams({providerId:tv.PROVIDER_ID,signInMethod:tv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tv.credentialFromTaggedObject(e)}static credentialFromError(e){return tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return tv.credential(t,i)}catch(e){return null}}}tv.GOOGLE_SIGN_IN_METHOD="google.com",tv.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends tp{constructor(){super("github.com")}static credential(e){return tn._fromParams({providerId:ty.PROVIDER_ID,signInMethod:ty.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ty.credentialFromTaggedObject(e)}static credentialFromError(e){return ty.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ty.credential(e.oauthAccessToken)}catch(e){return null}}}ty.GITHUB_SIGN_IN_METHOD="github.com",ty.PROVIDER_ID="github.com";class tb extends eQ{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ti(e,this.buildRequest())}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,ti(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let{providerId:t,signInMethod:i,pendingToken:n}="string"==typeof e?JSON.parse(e):e;return t&&i&&n&&t===i?new tb(t,n):null}static _create(e,t){return new tb(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tx extends tf{constructor(e){I(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return tx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=tb.fromJSON(e);return I(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return tb._create(i,t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends tp{constructor(){super("twitter.com")}static credential(e,t){return tn._fromParams({providerId:tE.PROVIDER_ID,signInMethod:tE.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tE.credentialFromTaggedObject(e)}static credentialFromError(e){return tE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return tE.credential(t,i)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(e,t){return j(e,"POST","/v1/accounts:signUp",U(e,t))}tE.TWITTER_SIGN_IN_METHOD="twitter.com",tE.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,n=!1){return new tT({user:await em._fromIdTokenResponse(e,i,n),providerId:tS(i),_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){return await e._updateTokensIfNecessary(i,!0),new tT({user:e,providerId:tS(i),_tokenResponse:i,operationType:t})}}function tS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(e){var t;if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let i=eU(e);if(await i._initializationPromise,null===(t=i.currentUser)||void 0===t?void 0:t.isAnonymous)return new tT({user:i.currentUser,providerId:null,operationType:"signIn"});let n=await tw(i,{returnSecureToken:!0}),r=await tT._fromIdTokenResponse(i,"signIn",n,!0);return await i._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends a.FirebaseError{constructor(e,t,i,n){var r;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,tC.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,n){return new tC(e,t,i,n)}}function t_(e,t,i,n){return("reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw tC._fromErrorAndOperation(e,i,t,n);throw i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(e,t){let i=(0,a.getModularInstance)(e);await tM(!0,i,t);let{providerUserInfo:n}=await Q(i.auth,{idToken:await i.getIdToken(),deleteProvider:[t]}),r=tI(n||[]);return i.providerData=i.providerData.filter(e=>r.has(e.providerId)),r.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}async function tP(e,t,i=!1){let n=await ea(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return tT._forOperation(e,"link",n)}async function tM(e,t,i){await ec(t),I(tI(t.providerData).has(i)===e,t.auth,!1===e?"provider-already-linked":"no-such-provider")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(e,t,i=!1){let{auth:n}=e;if((0,s._isFirebaseServerApp)(n.app))return Promise.reject(A(n));let r="reauthenticate";try{let s=await ea(e,t_(n,r,t,e),i);I(s.idToken,n,"internal-error");let a=er(s.idToken);I(a,n,"internal-error");let{sub:o}=a;return I(e.uid===o,n,"user-mismatch"),tT._forOperation(e,r,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&w(n,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(e,t,i=!1){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n="signIn",r=await t_(e,n,t),a=await tT._fromIdTokenResponse(e,n,r);return i||await e._updateCurrentUser(a.user),a}async function tD(e,t){return tL(eU(e),t)}async function tk(e,t){let i=(0,a.getModularInstance)(e);return await tM(!1,i,t.providerId),tP(i,t)}async function tN(e,t){return tR((0,a.getModularInstance)(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(e,t){return j(e,"POST","/v1/accounts:signInWithCustomToken",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(e,t){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let i=eU(e),n=await tF(i,{token:t,returnSecureToken:!0}),r=await tT._fromIdTokenResponse(i,"signIn",n);return await i._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tV._fromServerResponse(e,t):"totpInfo"in t?tG._fromServerResponse(e,t):w(e,"internal-error")}}class tV extends tU{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tV(t)}}class tG extends tU{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new tG(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e,t,i){var n;I((null===(n=i.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),I(void 0===i.dynamicLinkDomain||i.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=i.url,t.dynamicLinkDomain=i.dynamicLinkDomain,t.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(I(i.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=i.iOS.bundleId),i.android&&(I(i.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=i.android.installApp,t.androidMinimumVersionCode=i.android.minimumVersion,t.androidPackageName=i.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(e){let t=eU(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tY(e,t,i){let n=eU(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};i&&tj(n,r,i),await ez(n,r,"getOobCode",e9)}async function tH(e,t,i){await eZ((0,a.getModularInstance)(e),{oobCode:t,newPassword:i}).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tW(e),t})}async function tz(e,t){await e2((0,a.getModularInstance)(e),{oobCode:t})}async function tX(e,t){let i=(0,a.getModularInstance)(e),n=await eZ(i,{oobCode:t}),r=n.requestType;switch(I(r,i,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(n.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(n.mfaInfo,i,"internal-error");default:I(n.email,i,"internal-error")}let s=null;return n.mfaInfo&&(s=tU._fromServerResponse(eU(i),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:s},operation:r}}async function tK(e,t){let{data:i}=await tX((0,a.getModularInstance)(e),t);return i.email}async function tq(e,t,i){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n=eU(e),r=ez(n,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tw),a=await r.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tW(e),t}),o=await tT._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function tJ(e,t,i){return(0,s._isFirebaseServerApp)(e.app)?Promise.reject(A(e)):tD((0,a.getModularInstance)(e),td.credential(t,i)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tW(e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(e,t,i){let n=eU(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};I(i.handleCodeInApp,n,"argument-error"),i&&tj(n,r,i),await ez(n,r,"getOobCode",e6)}function tQ(e,t){let i=tl.parseLink(t);return(null==i?void 0:i.operation)==="EMAIL_SIGNIN"}async function tZ(e,t,i){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n=(0,a.getModularInstance)(e),r=td.credentialWithLink(t,i||M());return I(r._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),tD(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(e,t){return V(e,"POST","/v1/accounts:createAuthUri",U(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(e,t){let i=R()?M():"http://localhost",{signinMethods:n}=await t0((0,a.getModularInstance)(e),{identifier:t,continueUri:i});return n||[]}async function t2(e,t){let i=(0,a.getModularInstance)(e),n={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&tj(i.auth,n,t);let{email:r}=await e4(i.auth,n);r!==e.email&&await e.reload()}async function t3(e,t,i){let n=(0,a.getModularInstance)(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};i&&tj(n.auth,r,i);let{email:s}=await e7(n.auth,r);s!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(e,t){return V(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(e,{displayName:t,photoURL:i}){if(void 0===t&&void 0===i)return;let n=(0,a.getModularInstance)(e),r=await n.getIdToken(),s=await ea(n,t5(n.auth,{idToken:r,displayName:t,photoUrl:i,returnSecureToken:!0}));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;let o=n.providerData.find(({providerId:e})=>"password"===e);o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function t9(e,t){let i=(0,a.getModularInstance)(e);return(0,s._isFirebaseServerApp)(i.auth.app)?Promise.reject(A(i.auth)):t7(i,t,null)}function t6(e,t){return t7((0,a.getModularInstance)(e),null,t)}async function t7(e,t,i){let{auth:n}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),i&&(r.password=i);let s=await ea(e,e0(n,r));await e._updateTokensIfNecessary(s,!0)}class t8{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class ie extends t8{constructor(e,t,i,n){super(e,t,i),this.username=n}}class it extends t8{constructor(e,t){super(e,"facebook.com",t)}}class ii extends ie{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class ir extends t8{constructor(e,t){super(e,"google.com",t)}}class is extends ie{constructor(e,t,i){super(e,"twitter.com",t,i)}}function ia(e){let{user:t,_tokenResponse:i}=e;return t.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t,i;if(!e)return null;let{providerId:n}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null==e?void 0:e.idToken)){let n=null===(i=null===(t=er(e.idToken))||void 0===t?void 0:t.firebase)||void 0===i?void 0:i.sign_in_provider;if(n)return new t8(s,"anonymous"!==n&&"custom"!==n?n:null)}if(!n)return null;switch(n){case"facebook.com":return new it(s,r);case"github.com":return new ii(s,r);case"google.com":return new ir(s,r);case"twitter.com":return new is(s,r,e.screenName||null);case"custom":case"anonymous":return new t8(s,null);default:return new t8(s,n,r)}}(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e,t){return(0,a.getModularInstance)(e).setPersistence(t)}function ih(e){return eX(e)}async function ic(e,t){return eU(e).validatePassword(t)}function il(e,t,i,n){return(0,a.getModularInstance)(e).onIdTokenChanged(t,i,n)}function iu(e,t,i){return(0,a.getModularInstance)(e).beforeAuthStateChanged(t,i)}function id(e,t,i,n){return(0,a.getModularInstance)(e).onAuthStateChanged(t,i,n)}function ip(e){(0,a.getModularInstance)(e).useDeviceLanguage()}function ig(e,t){return(0,a.getModularInstance)(e).updateCurrentUser(t)}function im(e){return(0,a.getModularInstance)(e).signOut()}function iv(e,t){return eU(e).revokeAccessToken(t)}async function iy(e){return(0,a.getModularInstance)(e).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new ib("enroll",e,t)}static _fromMfaPendingCredential(e){return new ib("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ib._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(i=e.multiFactorSession)||void 0===i?void 0:i.idToken)return ib._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){let i=eU(e),n=t.customData._serverResponse,r=(n.mfaInfo||[]).map(e=>tU._fromServerResponse(i,e));I(n.mfaPendingCredential,i,"internal-error");let s=ib._fromMfaPendingCredential(n.mfaPendingCredential);return new ix(s,r,async e=>{let r=await e._process(i,s);delete n.mfaInfo,delete n.mfaPendingCredential;let a=Object.assign(Object.assign({},n),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":let o=await tT._fromIdTokenResponse(i,t.operationType,a);return await i._updateCurrentUser(o.user),o;case"reauthenticate":return I(t.user,i,"internal-error"),tT._forOperation(t.user,t.operationType,a);default:w(i,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}function iE(e,t){var i;let n=(0,a.getModularInstance)(e);return I(t.customData.operationType,n,"argument-error"),I(null===(i=t.customData._serverResponse)||void 0===i?void 0:i.mfaPendingCredential,n,"argument-error"),ix._fromError(n,t)}class iw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>tU._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new iw(e)}async getSession(){return ib._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let i=await this.getSession(),n=await ea(this.user,e._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(n),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,i=await this.user.getIdToken();try{var n,r;let e=await ea(this.user,(n=this.user.auth,r={idToken:i,mfaEnrollmentId:t},V(n,"POST","/v2/accounts/mfaEnrollment:withdraw",U(n,r))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}let iT=new WeakMap;function iS(e){let t=(0,a.getModularInstance)(e);return iT.has(t)||iT.set(t,iw._fromUser(t)),iT.get(t)}let iA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(iA,"1"),this.storage.removeItem(iA),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class i_ extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,i)=>{this.notifyListeners(e,i)});return}let i=e.key;t?this.detachListener():this.stopPolling();let n=()=>{let e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},r=this.storage.getItem(i);(0,a.isIE)()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}i_.type="LOCAL";let iI=i_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iO.type="SESSION";let iP=iO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let i=new iM(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:i,data:n}=e.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:i});let s=Array.from(r).map(async t=>t(e.origin,n)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}iM.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let n,r;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let h=iR("",20);s.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},i);r={messageChannel:s,onMessage(e){if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(c),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(c),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return void 0!==iD().WorkerGlobalScope&&"function"==typeof iD().importScripts}async function iN(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iF="firebaseLocalStorageDb",iB="firebaseLocalStorage",iU="fbase_key";class iV{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iG(e,t){return e.transaction([iB],t?"readwrite":"readonly").objectStore(iB)}function ij(){let e=indexedDB.open(iF,1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(iB,{keyPath:iU})}catch(e){i(e)}}),e.addEventListener("success",async()=>{let i=e.result;i.objectStoreNames.contains(iB)?t(i):(i.close(),await new iV(indexedDB.deleteDatabase(iF)).toPromise(),t(await ij()))})})}async function iW(e,t,i){return new iV(iG(e,!0).put({[iU]:t,value:i})).toPromise()}async function iY(e,t){let i=iG(e,!1).get(t),n=await new iV(i).toPromise();return void 0===n?null:n.value}function iH(e,t){return new iV(iG(e,!0).delete(t)).toPromise()}class iz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ij()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ik()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iM._getInstance(ik()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new iL(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await ij();return await iW(e,iA,"1"),await iH(e,iA),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iW(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>iY(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iH(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new iV(iG(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],i=new Set;if(0!==e.length)for(let{fbase_key:n,value:r}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),t.push(n));for(let e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}iz.type="LOCAL";let iX=iz;class iK{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){let i=this.counter;return this._widgets.set(i,new iq(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;let i=e||1e12;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;return(null===(t=this._widgets.get(e||1e12))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||1e12))||void 0===t||t.execute(),""}}class iq{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let n="string"==typeof e?document.getElementById(e):e;I(n,"argument-error",{appName:t}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){let t=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(i.charAt(Math.floor(Math.random()*i.length)));return t.join("")}(0);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw Error("reCAPTCHA mock was already deleted!")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iJ=eW("rcb"),i$=new D(3e4,6e4);class iQ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=iD().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return(I(t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(t)&&z(iD().grecaptcha))?Promise.resolve(iD().grecaptcha):new Promise((i,n)=>{let r=iD().setTimeout(()=>{n(T(e,"network-request-failed"))},i$.get());iD()[iJ]=()=>{iD().clearTimeout(r),delete iD()[iJ];let s=iD().grecaptcha;if(!s||!z(s)){n(T(e,"internal-error"));return}let a=s.render;s.render=(e,t)=>{let i=a(e,t);return this.counter++,i},this.hostLanguage=t,i(s)},ej(`${eG.recaptchaV2Script}?${(0,a.querystring)({onload:iJ,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(r),n(T(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=iD().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class iZ{async load(e){return new iK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0="recaptcha",i1={theme:"light",type:"image"};class i2{constructor(e,t,i=Object.assign({},i1)){this.parameters=i,this.type=i0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=eU(e),this.isInvisible="invisible"===this.parameters.size,I("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");let n="string"==typeof t?document.getElementById(t):t;I(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iZ:new iQ,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(i=>{let n=e=>{e&&(this.tokenChangeListeners.delete(n),i(e))};this.tokenChangeListeners.add(n),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){let i=iD()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){let e;I(R()&&!ik(),this.auth,"internal-error"),await (e=null,new Promise(t=>{if("complete"===document.readyState){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=await q(this.auth);I(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=tc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function i5(e,t,i){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n=eU(e);return new i3(await i6(n,t,(0,a.getModularInstance)(i)),e=>tD(n,e))}async function i4(e,t,i){let n=(0,a.getModularInstance)(e);return await tM(!1,n,"phone"),new i3(await i6(n.auth,t,(0,a.getModularInstance)(i)),e=>tk(n,e))}async function i9(e,t,i){let n=(0,a.getModularInstance)(e);return(0,s._isFirebaseServerApp)(n.auth.app)?Promise.reject(A(n.auth)):new i3(await i6(n.auth,t,(0,a.getModularInstance)(i)),e=>tN(n,e))}async function i6(e,t,i){var n,r,s;let a=await i.verify();try{let o;if(I("string"==typeof a,e,"argument-error"),I(i.type===i0,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return I("enroll"===t.type,e,"internal-error"),(await (r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},V(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,r)))).phoneSessionInfo.sessionInfo;{I("signin"===t.type,e,"internal-error");let i=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;return I(i,e,"missing-multi-factor-info"),(await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:a}},V(e,"POST","/v2/accounts/mfaSignIn:start",U(e,s)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await tr(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{i._reset()}}async function i7(e,t){let i=(0,a.getModularInstance)(e);if((0,s._isFirebaseServerApp)(i.auth.app))return Promise.reject(A(i.auth));await tP(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.providerId=i8.PROVIDER_ID,this.auth=eU(e)}verifyPhoneNumber(e,t){return i6(this.auth,e,(0,a.getModularInstance)(t))}static credential(e,t){return tc._fromVerification(e,t)}static credentialFromResult(e){return i8.credentialFromTaggedObject(e)}static credentialFromError(e){return i8.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?tc._fromTokenResponse(t,i):null}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e,t){return t?ey(t):(I(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}i8.PROVIDER_ID="phone",i8.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends eQ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ti(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ni(e){return tL(e.auth,new nt(e),e.bypassAuthState)}function nn(e){let{auth:t,user:i}=e;return I(i,t,"internal-error"),tR(i,new nt(e),e.bypassAuthState)}async function nr(e){let{auth:t,user:i}=e;return I(i,t,"internal-error"),tP(i,new nt(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,i,n,r=!1){this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:n,tenantId:r,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return nr;case"reauthViaPopup":case"reauthViaRedirect":return nn;default:w(this.auth,"internal-error")}}resolve(e){P(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){P(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=new D(2e3,1e4);async function no(e,t,i){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(T(e,"operation-not-supported-in-this-environment"));let n=eU(e);C(e,t,tf);let r=ne(n,i);return new nl(n,"signInViaPopup",t,r).executeNotNull()}async function nh(e,t,i){let n=(0,a.getModularInstance)(e);if((0,s._isFirebaseServerApp)(n.auth.app))return Promise.reject(T(n.auth,"operation-not-supported-in-this-environment"));C(n.auth,t,tf);let r=ne(n.auth,i);return new nl(n.auth,"reauthViaPopup",t,r,n).executeNotNull()}async function nc(e,t,i){let n=(0,a.getModularInstance)(e);C(n.auth,t,tf);let r=ne(n.auth,i);return new nl(n.auth,"linkViaPopup",t,r,n).executeNotNull()}class nl extends ns{constructor(e,t,i,n,r){super(e,t,n,r),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return I(e,this.auth,"internal-error"),e}async onExecution(){P(1===this.filter.length,"Popup operations only handle one event");let e=iR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(T(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,na.get())};e()}}nl.currentPopupAction=null;let nu=new Map;class nd extends ns{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nu.get(this.auth._key());if(!e){try{let t=await nf(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nu.set(this.auth._key(),e)}return this.bypassAuthState||nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nf(e,t){let i=ny(t),n=nv(e);if(!await n._isAvailable())return!1;let r=await n._get(i)==="true";return await n._remove(i),r}async function np(e,t){return nv(e)._set(ny(t),"true")}function ng(){nu.clear()}function nm(e,t){nu.set(e._key(),t)}function nv(e){return ey(e._redirectPersistence)}function ny(e){return eE("pendingRedirect",e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e,t,i){return nx(e,t,i)}async function nx(e,t,i){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n=eU(e);C(e,t,tf),await n._initializationPromise;let r=ne(n,i);return await np(r,n),r._openRedirect(n,t,"signInViaRedirect")}function nE(e,t,i){return nw(e,t,i)}async function nw(e,t,i){let n=(0,a.getModularInstance)(e);if(C(n.auth,t,tf),(0,s._isFirebaseServerApp)(n.auth.app))return Promise.reject(A(n.auth));await n.auth._initializationPromise;let r=ne(n.auth,i);await np(r,n.auth);let o=await n_(n);return r._openRedirect(n.auth,t,"reauthViaRedirect",o)}function nT(e,t,i){return nS(e,t,i)}async function nS(e,t,i){let n=(0,a.getModularInstance)(e);C(n.auth,t,tf),await n.auth._initializationPromise;let r=ne(n.auth,i);await tM(!1,n,t.providerId),await np(r,n.auth);let s=await n_(n);return r._openRedirect(n.auth,t,"linkViaRedirect",s)}async function nA(e,t){return await eU(e)._initializationPromise,nC(e,t,!1)}async function nC(e,t,i=!1){if((0,s._isFirebaseServerApp)(e.app))return Promise.reject(A(e));let n=eU(e),r=ne(n,t),a=new nd(n,r,i),o=await a.execute();return o&&!i&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}async function n_(e){let t=iR(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class nI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!nP(e)){let n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(T(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nO(e))}saveEventToCache(e){this.cachedEventUids.add(nO(e)),this.lastProcessedEventTime=Date.now()}}function nO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nP({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(e,t={}){return V(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nL=/^https?/;async function nD(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nM(e);for(let e of t)try{if(function(e){let t=M(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let r=new URL(e);return""===r.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!nL.test(i))return!1;if(nR.test(e))return n===e;let r=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}(e))return}catch(e){}w(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=new D(3e4,6e4);function nN(){let e=iD().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let nF=null,nB=new D(5e3,15e3),nU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nG(e){let t=await (nF=nF||new Promise((t,i)=>{var n,r,s;function a(){nN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nN(),i(T(e,"network-request-failed"))},timeout:nk.get()})}if(null===(r=null===(n=iD().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else if(null===(s=iD().gapi)||void 0===s?void 0:s.load)a();else{let t=eW("iframefcb");return iD()[t]=()=>{gapi.load?a():i(T(e,"network-request-failed"))},ej(`${eG.gapiScript}?onload=${t}`).catch(e=>i(e))}}).catch(e=>{throw nF=null,e})),i=iD().gapi;return I(i,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;I(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?k(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},r=nV.get(e.config.apiHost);r&&(n.eid=r);let o=e._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${(0,a.querystring)(n).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nU,dontclear:!0},t=>new Promise(async(i,n)=>{await t.restyle({setHideOnLeave:!1});let r=T(e,"network-request-failed"),s=iD().setTimeout(()=>{n(r)},nB.get());function a(){iD().clearTimeout(s),i(t)}t.ping(a).then(a,()=>{n(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nW{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let nY=encodeURIComponent("fac");async function nH(e,t,i,n,r,o){I(e.config.authDomain,e,"auth-domain-config-required"),I(e.config.apiKey,e,"invalid-api-key");let h={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:s.SDK_VERSION,eventId:r};if(t instanceof tf)for(let[i,n]of(t.setDefaultLanguage(e.languageCode),h.providerId=t.providerId||"",(0,a.isEmpty)(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))h[i]=n;if(t instanceof tp){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(h.scopes=e.join(","))}for(let t of(e.tenantId&&(h.tid=e.tenantId),Object.keys(h)))void 0===h[t]&&delete h[t];let c=await e._getAppCheckToken(),l=c?`#${nY}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,a.querystring)(h).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nz="webStorageSupport",nX=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iP,this._completeRedirectFn=nC,this._overrideRedirectResult=nm}async _openPopup(e,t,i,n){var r;P(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");let s=await nH(e,t,i,M(),n);return function(e,t,i,n=500,r=600){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),h="",c=Object.assign(Object.assign({},nj),{width:n.toString(),height:r.toString(),top:s,left:o}),l=(0,a.getUA)().toLowerCase();i&&(h=eC(l)?"_blank":i),eS(l)&&(t=t||"http://localhost",c.scrollbars="yes");let u=Object.entries(c).reduce((e,[t,i])=>`${e}${t}=${i},`,"");if(function(e=(0,a.getUA)()){var t;return eM(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==h)return function(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",h),new nW(null);let d=window.open(t||"",h,u);I(d,e,"popup-blocked");try{d.focus()}catch(e){}return new nW(d)}(e,s,iR())}async _openRedirect(e,t,i,n){var r;return await this._originValidation(e),r=await nH(e,t,i,M(),n),iD().location.href=r,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(P(i,"If manager is not set, promise should be"),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await nG(e),i=new nI(e);return t.register("authEvent",t=>(I(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nz,{type:nz},i=>{var n;let r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[nz];void 0!==r&&t(!!r),w(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eL()||eA()||eM()}};class nK{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return O("unexpected MultiFactorSessionType")}}}class nq extends nK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new nq(e)}_finalizeEnroll(e,t,i){return V(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return V(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class nJ{constructor(){}static assertion(e){return nq._fromCredential(e)}}nJ.FACTOR_ID="phone";class n${static assertionForEnrollment(e,t){return nQ._fromSecret(e,t)}static assertionForSignIn(e,t){return nQ._fromEnrollmentId(e,t)}static async generateSecret(e){var t,i;I(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let n=await V(i=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",U(i,{idToken:e.credential,totpEnrollmentInfo:{}}));return nZ._fromStartTotpMfaEnrollmentResponse(n,e.user.auth)}}n$.FACTOR_ID="totp";class nQ extends nK{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new nQ(t,void 0,e)}static _fromEnrollmentId(e,t){return new nQ(t,e)}async _finalizeEnroll(e,t,i){return I(void 0!==this.secret,e,"argument-error"),V(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){I(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let i={verificationCode:this.otp};return V(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i}))}}class nZ{constructor(e,t,i,n,r,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new nZ(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let n=!1;return(n0(e)||n0(t))&&(n=!0),n&&(n0(e)&&(e=(null===(i=this.auth.currentUser)||void 0===i?void 0:i.email)||"unknownuser"),n0(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function n0(e){return void 0===e||(null==e?void 0:e.length)===0}var n1="@firebase/auth",n2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let n5=(0,a.getExperimentalSetting)("authIdTokenMaxAge")||300,n4=null,n9=e=>async t=>{let i=t&&await t.getIdTokenResult(),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>n5)return;let r=null==i?void 0:i.token;n4!==r&&(n4=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function n6(e=(0,s.getApp)()){let t=(0,s._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let i=eK(e,{popupRedirectResolver:nX,persistence:[iX,iI,iP]}),n=(0,a.getExperimentalSetting)("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(n,location.origin);if(location.origin===e.origin){let t=n9(e.toString());iu(i,t,()=>t(i.currentUser)),il(i,e=>t(e))}}let r=(0,a.getDefaultEmulatorHost)("auth");return r&&eq(i,`http://${r}`),i}eG={loadJS:e=>new Promise((t,i)=>{var n,r;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=T("internal-error");t.customData=e,i(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(r=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==r?r:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},n="Browser",(0,s._registerComponent)(new(0,c.Component)("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;I(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let h=new eB(i,r,s,{apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(n)});return function(e,t){let i=(null==t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(ey);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new(0,c.Component)("auth-internal",e=>new n3(eU(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(n1,n2,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),(0,s.registerVersion)(n1,n2,"esm2017")},{"@firebase/app":"hZODh","@firebase/util":"j1gcd","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"3aD9C":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"__extends",()=>s),n.export(i,"__assign",()=>a),n.export(i,"__rest",()=>o),n.export(i,"__decorate",()=>h),n.export(i,"__param",()=>c),n.export(i,"__esDecorate",()=>l),n.export(i,"__runInitializers",()=>u),n.export(i,"__propKey",()=>d),n.export(i,"__setFunctionName",()=>f),n.export(i,"__metadata",()=>p),n.export(i,"__awaiter",()=>g),n.export(i,"__generator",()=>m),n.export(i,"__createBinding",()=>v),n.export(i,"__exportStar",()=>y),n.export(i,"__values",()=>b),n.export(i,"__read",()=>x),n.export(i,"__spread",()=>E),n.export(i,"__spreadArrays",()=>w),n.export(i,"__spreadArray",()=>T),n.export(i,"__await",()=>S),n.export(i,"__asyncGenerator",()=>A),n.export(i,"__asyncDelegator",()=>C),n.export(i,"__asyncValues",()=>_),n.export(i,"__makeTemplateObject",()=>I),n.export(i,"__importStar",()=>M),n.export(i,"__importDefault",()=>R),n.export(i,"__classPrivateFieldGet",()=>L),n.export(i,"__classPrivateFieldSet",()=>D),n.export(i,"__classPrivateFieldIn",()=>k),n.export(i,"__addDisposableResource",()=>N),n.export(i,"__disposeResources",()=>B),n.export(i,"__rewriteRelativeImportExtension",()=>U);var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){return(a=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function h(e,t,i,n){var r,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function c(e,t){return function(i,n){t(i,n,e)}}function l(e,t,i,n,r,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var o,h=n.kind,c="getter"===h?"get":"setter"===h?"set":"value",l=!t&&e?n.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d=!1,f=i.length-1;f>=0;f--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,i[f])("accessor"===h?{get:u.get,set:u.set}:u[c],p);if("accessor"===h){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&r.unshift(o)}else(o=a(m))&&("field"===h?r.unshift(o):u[c]=o)}l&&Object.defineProperty(l,n.name,u),d=!0}function u(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,i,n){return new(i||(i=Promise))(function(r,s){function a(e){try{h(n.next(e))}catch(e){s(e)}}function o(e){try{h(n.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(a,o)}h((n=n.apply(e,t||[])).next())})}function m(e,t){var i,n,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(h){return function(o){if(i)throw TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,h])}}}var v=Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]};function y(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||v(t,e,i)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}function w(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<i;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)n[r]=s[a];return n}function T(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function A(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){r[e]&&(n[e]=function(t){return new Promise(function(i,n){s.push([e,t,i,n])>1||o(e,t)})},t&&(n[e]=t(n[e])))}function o(e,t){try{var i;(i=r[e](t)).value instanceof S?Promise.resolve(i.value.v).then(h,c):l(s[0][2],i)}catch(e){l(s[0][3],e)}}function h(e){o("next",e)}function c(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function C(e){var t,i;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,r){t[n]=e[n]?function(t){return(i=!i)?{value:S(e[n](t)),done:!1}:r?r(t):t}:r}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,r){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,r,(t=e[i](t)).done,t.value)})}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},P=function(e){return(P=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t})(e)};function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=P(e),n=0;n<i.length;n++)"default"!==i[n]&&v(t,e,i[n]);return O(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function D(e,t,i,n,r){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i}function k(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function N(e,t,i){if(null!=t){var n,r;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(i){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t}var F="function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function B(e){function t(t){e.error=e.hasError?new F(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var i,n=0;return function r(){for(;i=e.stack.pop();)try{if(!i.async&&1===n)return n=0,e.stack.push(i),Promise.resolve().then(r);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(s).then(r,function(e){return t(e),r()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function U(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,i,n,r,s){return i?t?".jsx":".js":!n||r&&s?n+r+"."+s.toLowerCase()+"js":e}):e}i.default={__extends:s,__assign:a,__rest:o,__decorate:h,__param:c,__esDecorate:l,__runInitializers:u,__propKey:d,__setFunctionName:f,__metadata:p,__awaiter:g,__generator:m,__createBinding:v,__exportStar:y,__values:b,__read:x,__spread:E,__spreadArrays:w,__spreadArray:T,__await:S,__asyncGenerator:A,__asyncDelegator:C,__asyncValues:_,__makeTemplateObject:I,__importStar:M,__importDefault:R,__classPrivateFieldGet:L,__classPrivateFieldSet:D,__classPrivateFieldIn:k,__addDisposableResource:N,__disposeResources:B,__rewriteRelativeImportExtension:U}},{"@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"1Z3EC":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"auth",()=>c);var r=e("firebase/compat/app"),s=n.interopDefault(r);e("firebase/compat/auth");var a=e("dialog-polyfill"),o=n.interopDefault(a);e("material-design-lite/src/mdlComponentHandler"),e("material-design-lite/src/button/button"),e("material-design-lite/src/progress/progress"),e("material-design-lite/src/spinner/spinner"),e("material-design-lite/src/textfield/textfield");var h=arguments[3];(function(){(function(){var e,t,i="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{t:{var n={};try{n.__proto__={xb:!0},n4=n.xb;break t}catch(e){}n4=!1}t=n4?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null}var r=t;function a(e,t){if(e.prototype=i(t.prototype),e.prototype.constructor=e,r)r(e,t);else for(var n in t)if("prototype"!=n){if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(t,n);s&&Object.defineProperty(e,n,s)}else e[n]=t[n]}e.K=t.prototype}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},c="undefined"!=typeof window&&window===this?this:void 0!==h&&null!=h?h:this;function l(e,t){if(t){var i=c;e=e.split(".");for(var n=0;n<e.length-1;n++){var r=e[n];r in i||(i[r]={}),i=i[r]}(t=t(n=i[e=e[e.length-1]]))!=n&&null!=t&&o(i,e,{configurable:!0,writable:!0,value:t})}}l("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),l("Array.prototype.includes",function(e){return e||function(e,t){var i=this;i instanceof String&&(i=String(i));var n=i.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var r=i[t];if(r===e||Object.is(r,e))return!0}return!1}});var u=this;function d(e){return void 0!==e}function f(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,g=null;function m(){}function v(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function y(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var i=Object.prototype.toString.call(e);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function b(e){return"array"==y(e)}function x(e){var t=y(e);return"array"==t||"object"==t&&"number"==typeof e.length}function E(e){return"function"==y(e)}function w(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var T="closure_uid_"+(1e9*Math.random()>>>0),S=0;function A(e,t,i){return e.call.apply(e.bind,arguments)}function C(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function _(e,t,i){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:C).apply(null,arguments)}function I(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function O(e,t){for(var i in t)e[i]=t[i]}var P=Date.now||function(){return+new Date};function M(e,t){e=e.split(".");var i,n=u;for((e[0]in n)||void 0===n.execScript||n.execScript("var "+e[0]);e.length&&(i=e.shift());)!e.length&&d(t)?n[i]=t:n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}}function R(e,t){function i(){}i.prototype=t.prototype,e.K=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.vc=function(e,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[i].apply(e,r)}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){e=e.split("%s");for(var i="",n=e.length-1,r=0;r<n;r++)i+=e[r]+(r<t.length?t[r]:"%s");L.call(this,i+e[n])}function k(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}R(L,Error),L.prototype.name="CustomError",R(D,L),D.prototype.name="AssertionError";var N=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(f(e))return f(t)&&1==t.length?e.indexOf(t,0):-1;for(var i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return -1},F=Array.prototype.forEach?function(e,t,i){Array.prototype.forEach.call(e,t,i)}:function(e,t,i){for(var n=e.length,r=f(e)?e.split(""):e,s=0;s<n;s++)s in r&&t.call(i,r[s],s,e)},B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=[],r=0,s=f(e)?e.split(""):e,a=0;a<i;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(n[r++]=o)}return n},U=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=Array(i),r=f(e)?e.split(""):e,s=0;s<i;s++)s in r&&(n[s]=t.call(void 0,r[s],s,e));return n},V=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var i=e.length,n=f(e)?e.split(""):e,r=0;r<i;r++)if(r in n&&t.call(void 0,n[r],r,e))return!0;return!1};function G(e,t){return 0<=N(e,t)}function j(e,t){var i;return(i=0<=(t=N(e,t)))&&W(e,t),i}function W(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function Y(e){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var i=Array(t),n=0;n<t;n++)i[n]=e[n];return i}return[]}var z=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,K=/</g,q=/>/g,J=/"/g,$=/'/g,Q=/\x00/g,Z=/[\x00&<>"']/;function ee(e,t){return e<t?-1:e>t?1:0}function et(e){return Z.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(X,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(K,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(q,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(J,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace($,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Q,"&#0;"))),e}function ei(e,t,i){for(var n in e)t.call(i,e[n],n,e)}function en(e){var t,i={};for(t in e)i[t]=e[t];return i}var er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(e,t){for(var i,n,r=1;r<arguments.length;r++){for(i in n=arguments[r])e[i]=n[i];for(var s=0;s<er.length;s++)i=er[s],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}var ea="StopIteration"in u?u.StopIteration:{message:"StopIteration",stack:""};function eo(){}function eh(e){if(e instanceof eo)return e;if("function"==typeof e.ha)return e.ha(!1);if(x(e)){var t=0,i=new eo;return i.next=function(){for(;;){if(t>=e.length)throw ea;if(t in e)return e[t++];t++}},i}throw Error("Not implemented")}function ec(e,t){this.g={},this.a=[],this.j=this.h=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(e){if(e instanceof ec)for(i=e.ja(),n=0;n<i.length;n++)this.set(i[n],e.get(i[n]));else for(n in e)this.set(n,e[n])}}function el(e){if(e.h!=e.a.length){for(var t=0,i=0;t<e.a.length;){var n=e.a[t];eu(e.g,n)&&(e.a[i++]=n),t++}e.a.length=i}if(e.h!=e.a.length){var r={};for(i=t=0;t<e.a.length;)eu(r,n=e.a[t])||(e.a[i++]=n,r[n]=1),t++;e.a.length=i}}function eu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}eo.prototype.next=function(){throw ea},eo.prototype.ha=function(){return this},(e=ec.prototype).la=function(){el(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return el(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return eu(this.g,e)?this.g[e]:t},e.set=function(e,t){eu(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var i=this.ja(),n=0;n<i.length;n++){var r=i[n],s=this.get(r);e.call(t,s,r,this)}},e.ha=function(e){el(this);var t=0,i=this.j,n=this,r=new eo;return r.next=function(){if(i!=n.j)throw Error("The map has changed since the iterator was created");if(t>=n.a.length)throw ea;var r=n.a[t++];return e?r:n.g[r]},r};var ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ef(e,t,i,n){for(var r=i.length;0<=(t=e.indexOf(i,t))&&t<n;){var s=e.charCodeAt(t-1);if((38==s||63==s)&&(!(s=e.charCodeAt(t+r))||61==s||38==s||35==s))return t;t+=r+1}return -1}var ep=/#|$/;function eg(e,t){var i=e.search(ep),n=ef(e,0,t,i);if(0>n)return null;var r=e.indexOf("&",n);return(0>r||r>i)&&(r=i),n+=t.length+1,decodeURIComponent(e.substr(n,r-n).replace(/\+/g," "))}var em=/[?&]($|#)/;function ev(e,t){var i;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof ev?(this.i=d(t)?t:e.i,ey(this,e.j),this.A=e.A,this.h=e.h,eb(this,e.C),this.g=e.g,ex(this,eD(e.a)),this.s=e.s):e&&(i=String(e).match(ed))?(this.i=!!t,ey(this,i[1]||"",!0),this.A=ew(i[2]||""),this.h=ew(i[3]||"",!0),eb(this,i[4]),this.g=ew(i[5]||"",!0),ex(this,i[6]||"",!0),this.s=ew(i[7]||"")):(this.i=!!t,this.a=new eP(null,this.i))}function ey(e,t,i){e.j=i?ew(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eb(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function ex(e,t,i){var n,r;t instanceof eP?(e.a=t,n=e.a,(r=e.i)&&!n.j&&(eM(n),n.h=null,n.a.forEach(function(e,t){var i=t.toLowerCase();t!=i&&(eR(this,t),eR(this,i),0<e.length&&(this.h=null,this.a.set(ek(this,i),H(e)),this.g+=e.length))},n)),n.j=r):(i||(t=eT(t,eI)),e.a=new eP(t,e.i))}function eE(e){return e instanceof ev?new ev(e):new ev(e,void 0)}function ew(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eT(e,t,i){return f(e)?(e=encodeURI(e).replace(t,eS),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eS(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ev.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eT(t,eA,!0),":");var i=this.h;return(i||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(eT(t,eA,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.C)&&e.push(":",String(i))),(i=this.g)&&(this.h&&"/"!=i.charAt(0)&&e.push("/"),e.push(eT(i,"/"==i.charAt(0)?e_:eC,!0))),(i=this.a.toString())&&e.push("?",i),(i=this.s)&&e.push("#",eT(i,eO)),e.join("")};var eA=/[#\/\?@]/g,eC=/[#\?:]/g,e_=/[#\?]/g,eI=/[#\?@]/g,eO=/#/g;function eP(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function eM(e){e.a||(e.a=new ec,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].indexOf("="),r=null;if(0<=n){var s=e[i].substring(0,n);r=e[i].substring(n+1)}else s=e[i];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function eR(e,t){eM(e),t=ek(e,t),eu(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,eu((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&el(e)))}function eL(e,t){return eM(e),t=ek(e,t),eu(e.a.g,t)}function eD(e){var t=new eP;return t.h=e.h,e.a&&(t.a=new ec(e.a),t.g=e.g),t}function ek(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function eN(e){this.a=eE(e)}function eF(e){return e.a.a.get(eU.Pa)||null}function eB(e,t){t?e.a.a.set(eU.PROVIDER_ID,t):eR(e.a.a,eU.PROVIDER_ID)}(e=eP.prototype).add=function(e,t){eM(this),this.h=null,e=ek(this,e);var i=this.a.get(e);return i||this.a.set(e,i=[]),i.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){eM(this),this.a.forEach(function(i,n){F(i,function(i){e.call(t,i,n,this)},this)},this)},e.ja=function(){eM(this);for(var e=this.a.la(),t=this.a.ja(),i=[],n=0;n<t.length;n++)for(var r=e[n],s=0;s<r.length;s++)i.push(t[n]);return i},e.la=function(e){eM(this);var t=[];if(f(e))eL(this,e)&&(t=Y(t,this.a.get(ek(this,e))));else{e=this.a.la();for(var i=0;i<e.length;i++)t=Y(t,e[i])}return t},e.set=function(e,t){return eM(this),this.h=null,eL(this,e=ek(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),i=0;i<t.length;i++){var n=t[i],r=encodeURIComponent(String(n));n=this.la(n);for(var s=0;s<n.length;s++){var a=r;""!==n[s]&&(a+="="+encodeURIComponent(String(n[s]))),e.push(a)}}return this.h=e.join("&")},eN.prototype.toString=function(){return this.a.toString()};var eU={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var eV=u.navigator;if(eV){var eG=eV.userAgent;if(eG){n6=eG;break t}}n6=""}function ej(e){return -1!=n6.indexOf(e)}function eW(){return(ej("Chrome")||ej("CriOS"))&&!ej("Edge")}function eY(e){return eY[" "](e),e}eY[" "]=m;var eH=ej("Opera"),ez=ej("Trident")||ej("MSIE"),eX=ej("Edge"),eK=eX||ez,eq=ej("Gecko")&&!(-1!=n6.toLowerCase().indexOf("webkit")&&!ej("Edge"))&&!(ej("Trident")||ej("MSIE"))&&!ej("Edge"),eJ=-1!=n6.toLowerCase().indexOf("webkit")&&!ej("Edge"),e$=eJ&&ej("Mobile"),eQ=ej("Macintosh");function eZ(){var e=u.document;return e?e.documentMode:void 0}t:{var e0,e1="",e2=(e0=n6,eq?/rv:([^\);]+)(\)|;)/.exec(e0):eX?/Edge\/([\d\.]+)/.exec(e0):ez?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e0):eJ?/WebKit\/(\S+)/.exec(e0):eH?/(?:Version)[ \/]?(\S+)/.exec(e0):void 0);if(e2&&(e1=e2?e2[1]:""),ez){var e3=eZ();if(null!=e3&&e3>parseFloat(e1)){n7=String(e3);break t}}n7=e1}var e5={};function e4(e){var t;return t=function(){for(var t=0,i=z(String(n7)).split("."),n=z(String(e)).split("."),r=Math.max(i.length,n.length),s=0;0==t&&s<r;s++){var a=i[s]||"",o=n[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=ee(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ee(0==a[2].length,0==o[2].length)||ee(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t},Object.prototype.hasOwnProperty.call(e5,e)?e5[e]:e5[e]=t(e)}var e9=u.document;function e6(e,t){this.a=e===e8&&t||"",this.g=e7}n8=e9&&ez?eZ()||("CSS1Compat"==e9.compatMode?parseInt(n7,10):5):void 0,e6.prototype.ma=!0,e6.prototype.ka=function(){return this.a},e6.prototype.toString=function(){return"Const{"+this.a+"}"};var e7={},e8={};function te(){this.a="",this.h=ti}function tt(e){return e instanceof te&&e.constructor===te&&e.h===ti?e.a:(k("expected object of type TrustedResourceUrl, got '"+e+"' of type "+y(e)),"type_error:TrustedResourceUrl")}te.prototype.ma=!0,te.prototype.ka=function(){return this.a.toString()},te.prototype.g=function(){return 1},te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ti={};function tn(){this.a="",this.h=th}function tr(e){return e instanceof tn&&e.constructor===tn&&e.h===th?e.a:(k("expected object of type SafeUrl, got '"+e+"' of type "+y(e)),"type_error:SafeUrl")}tn.prototype.ma=!0,tn.prototype.ka=function(){return this.a.toString()},tn.prototype.g=function(){return 1},tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ts=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ta(e){return e instanceof tn?e:(e="object"==typeof e&&e.ma?e.ka():String(e),ts.test(e)||(e="about:invalid#zClosurez"),tc(e))}function to(e){return e instanceof tn?e:(e="object"==typeof e&&e.ma?e.ka():String(e),ts.test(e)||(e="about:invalid#zClosurez"),tc(e))}var th={};function tc(e){var t=new tn;return t.a=e,t}function tl(){this.a="",this.g=tu}tc("about:blank"),tl.prototype.ma=!0;var tu={};function td(){this.a="",this.j=tp,this.h=null}function tf(e){return e instanceof td&&e.constructor===td&&e.j===tp?e.a:(k("expected object of type SafeHtml, got '"+e+"' of type "+y(e)),"type_error:SafeHtml")}tl.prototype.ka=function(){return this.a},tl.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},td.prototype.g=function(){return this.h},td.prototype.ma=!0,td.prototype.ka=function(){return this.a.toString()},td.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var tp={};function tg(e,t){var i=new td;return i.a=e,i.h=t,i}tg("<!DOCTYPE html>",0);var tm=tg("",0);tg("<br>",0);var tv=(n2=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=tf(tm),!t.parentElement)},n5=!1,function(){return n5||(n3=n2(),n5=!0),n3});function ty(e,t){t=t instanceof tn?t:to(t),e.assign(tr(t))}function tb(e,t){this.a=d(e)?e:0,this.g=d(t)?t:0}function tx(e,t){this.width=e,this.height=t}function tE(e){return e?new tM(tI(e)):n9||(n9=new tM)}function tw(e,t){var i=t||document;return i.querySelectorAll&&i.querySelector?i.querySelectorAll("."+e):tS(document,e,t)}function tT(e,t){var i=t||document;if(i.getElementsByClassName)e=i.getElementsByClassName(e)[0];else{i=document;var n=t||i;e=n.querySelectorAll&&n.querySelector&&e?n.querySelector(e?"."+e:""):tS(i,e,t)[0]||null}return e||null}function tS(e,t,i){var n;if((e=i||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var s={};for(i=n=0;e=r[i];i++){var a=e.className;"function"==typeof a.split&&G(a.split(/\s+/),t)&&(s[n++]=e)}return s.length=n,s}return r}tb.prototype.toString=function(){return"("+this.a+", "+this.g+")"},tb.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},tb.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},tb.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=tx.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var tA={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function tC(e){return e.scrollingElement?e.scrollingElement:(eJ||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function t_(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function tI(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function tO(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var i;i=e.firstChild;)e.removeChild(i);e.appendChild(tI(e).createTextNode(String(t)))}}function tP(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,function(e){return!t||f(e.className)&&G(e.className.split(/\s+/),t)}):null}function tM(e){this.a=e||u.document||document}tM.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var tR={Fc:!0},tL={Hc:!0},tD={},tk={Gc:!0};function tN(){throw Error("Do not instantiate directly")}function tF(e,t,i,n){if(e=e(t||tU,void 0,i),n=(n||tE()).a.createElement("DIV"),(e=function(e){if(!w(e))return et(String(e));if(e instanceof tN){if(e.fa===tR)return e.content;if(e.fa===tk)return et(e.content)}return k("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(tB),e=tg(e,null),tv())for(;n.lastChild;)n.removeChild(n.lastChild);return n.innerHTML=tf(e),1==n.childNodes.length&&1==(e=n.firstChild).nodeType&&(n=e),n}tN.prototype.va=null,tN.prototype.toString=function(){return this.content};var tB=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,tU={};function tV(){tN.call(this)}function tG(e){return null!=e&&e.fa===tR?e:e instanceof td?tH(tf(e).toString(),e.g()):tH(et(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case -1:return -1;case 0:return 0}return null}(e))}function tj(){tN.call(this)}function tW(e,t){this.content=String(e),this.va=null!=t?t:null}function tY(e){return new tW(e,void 0)}R(tV,tN),tV.prototype.fa=tR,R(tj,tN),tj.prototype.fa=tL,tj.prototype.va=1,R(tW,tN),tW.prototype.fa=tk;var tH=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,i){return e=new t(String(e)),void 0!==i&&(e.va=i),e}}(tV),tz=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(tj);function tX(e){return(e=String(e))?new tW(e,void 0):""}var tK=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,i){return(e=String(e))?(e=new t(e),void 0!==i&&(e.va=i),e):""}}(tV);function tq(e){return null!=e&&e.fa===tR?String(String(e.content).replace(t9,"").replace(t6,"&lt;")).replace(t2,tZ):et(String(e))}function tJ(e){return null!=e&&e.fa===tL?e=String(e).replace(t3,t1):e instanceof tn?e=String(tr(e).toString()).replace(t3,t1):t4.test(e=String(e))?e=e.replace(t3,t1):(k("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz"),e}function t$(e){return null!=e&&e.fa===tD?e=e.content:null==e?e="":e instanceof tl?e instanceof tl&&e.constructor===tl&&e.g===tu?e=e.a:(k("expected object of type SafeStyle, got '"+e+"' of type "+y(e)),e="type_error:SafeStyle"):t5.test(e=String(e))||(k("Bad value `%s` for |filterCssValue",[e]),e="zSoyz"),e}var tQ={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function tZ(e){return tQ[e]}var t0={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function t1(e){return t0[e]}var t2=/[\x00\x22\x27\x3c\x3e]/g,t3=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,t5=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,t4=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,t9=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,t6=/</g;function t7(){return tY("Enter a valid phone number")}function t8(){return tY("Unable to send password reset code to specified email")}function ie(){return tY("Something went wrong. Please try again.")}function it(){return tY("This email already exists without any means of sign-in. Please reset the password to recover.")}function ii(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return tY(t)}function ir(e,t,i){var n=Error.call(this);this.message=n.message,"stack"in n&&(this.stack=n.stack),this.code=is+e,(e=t)||((e="","firebaseui/merge-conflict"===this.code)?e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":e+=ie(),e=tY(e).toString()),this.message=e||"",this.credential=i||null}a(ir,Error),ir.prototype.toJSON=function(){return{code:this.code,message:this.message}};var is="firebaseui/";function ia(){0!=io&&(ih[this[T]||(this[T]=++S)]=this),this.T=this.T,this.C=this.C}var io=0,ih={};function ic(e,t){e.T?d(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(d(void 0)?_(t,void 0):t))}function il(e){e&&"function"==typeof e.m&&e.m()}ia.prototype.T=!1,ia.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=io)){var e=this[T]||(this[T]=++S);if(0!=io&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ih[e]}},ia.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var iu=Object.freeze||function(e){return e},id=!ez||9<=Number(n8),ip=ez&&!e4("9"),ig=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",m,t),u.removeEventListener("test",m,t)}catch(e){}return e}();function im(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function iv(e,t){if(im.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eq){t:{try{eY(t.nodeName);var r=!0;break t}catch(e){}r=!1}r||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==i?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=f(e.pointerType)?e.pointerType:iy[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}im.prototype.stopPropagation=function(){this.h=!0},im.prototype.preventDefault=function(){this.qb=!1},R(iv,im);var iy=iu({2:"touch",3:"pen",4:"mouse"});iv.prototype.stopPropagation=function(){iv.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},iv.prototype.preventDefault=function(){iv.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ip)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ib="closure_listenable_"+(1e6*Math.random()|0),ix=0;function iE(e,t,i,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!n,this.La=r,this.key=++ix,this.sa=this.Ia=!1}function iw(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function iT(e){this.src=e,this.a={},this.g=0}function iS(e,t){var i=t.type;i in e.a&&j(e.a[i],t)&&(iw(t),0==e.a[i].length&&(delete e.a[i],e.g--))}function iA(e,t,i,n){for(var r=0;r<e.length;++r){var s=e[r];if(!s.sa&&s.listener==t&&!!i==s.capture&&s.La==n)return r}return -1}iT.prototype.add=function(e,t,i,n,r){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=iA(e,t,n,r);return -1<a?(t=e[a],i||(t.Ia=!1)):((t=new iE(t,this.src,s,!!n,r)).Ia=i,e.push(t)),t};var iC="closure_lm_"+(1e6*Math.random()|0),i_={},iI=0;function iO(e,t,i,n,r){if(n&&n.once)return iM(e,t,i,n,r);if(b(t)){for(var s=0;s<t.length;s++)iO(e,t[s],i,n,r);return null}return i=iV(i),e&&e[ib]?e.J.add(String(t),i,!1,w(n)?!!n.capture:!!n,r):iP(e,t,i,!1,n,r)}function iP(e,t,i,n,r,s){if(!t)throw Error("Invalid event type");var a,o=w(r)?!!r.capture:!!r,h=iB(e);if(h||(e[iC]=h=new iT(e)),(i=h.add(t,i,n,o,s)).proxy)return i;if(n=a=id?function(e){return iF.call(a.src,a.listener,e)}:function(e){if(!(e=iF.call(a.src,a.listener,e)))return e},i.proxy=n,n.src=e,n.listener=i,e.addEventListener)ig||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(iD(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return iI++,i}function iM(e,t,i,n,r){if(b(t)){for(var s=0;s<t.length;s++)iM(e,t[s],i,n,r);return null}return i=iV(i),e&&e[ib]?e.J.add(String(t),i,!0,w(n)?!!n.capture:!!n,r):iP(e,t,i,!0,n,r)}function iR(e,t,i,n,r){if(b(t))for(var s=0;s<t.length;s++)iR(e,t[s],i,n,r);else(n=w(n)?!!n.capture:!!n,i=iV(i),e&&e[ib])?(e=e.J,(t=String(t).toString())in e.a&&-1<(i=iA(s=e.a[t],i,n,r))&&(iw(s[i]),W(s,i),0==s.length&&(delete e.a[t],e.g--))):e&&(e=iB(e))&&(t=e.a[t.toString()],e=-1,t&&(e=iA(t,i,n,r)),(i=-1<e?t[e]:null)&&iL(i))}function iL(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[ib])iS(t.J,e);else{var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(iD(i),n):t.addListener&&t.removeListener&&t.removeListener(n),iI--,(i=iB(t))?(iS(i,e),0==i.g&&(i.src=null,t[iC]=null)):iw(e)}}}function iD(e){return e in i_?i_[e]:i_[e]="on"+e}function ik(e,t,i,n){var r=!0;if((e=iB(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==i&&!s.sa&&(s=iN(s,n),r=r&&!1!==s)}return r}function iN(e,t){var i=e.listener,n=e.La||e.src;return e.Ia&&iL(e),i.call(n,t)}function iF(e,t){if(e.sa)return!0;if(!id){if(!t)t:{t=["window","event"];for(var i=u,n=0;n<t.length;n++)if(null==(i=i[t[n]])){t=null;break t}t=i}if(t=new iv(n=t,this),i=!0,!(0>n.keyCode||void 0!=n.returnValue)){t:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(e){r=!0}(r||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=t.g;r;r=r.parentNode)n.push(r);for(e=e.type,r=n.length-1;!t.h&&0<=r;r--){t.g=n[r];var s=ik(n[r],e,!0,t);i=i&&s}for(r=0;!t.h&&r<n.length;r++)t.g=n[r],s=ik(n[r],e,!1,t),i=i&&s}return i}return iN(e,new iv(t,this))}function iB(e){return(e=e[iC])instanceof iT?e:null}var iU="__closure_events_fn_"+(1e9*Math.random()>>>0);function iV(e){return E(e)?e:(e[iU]||(e[iU]=function(t){return e.handleEvent(t)}),e[iU])}function iG(){ia.call(this),this.J=new iT(this),this.wb=this,this.Ha=null}function ij(e,t){var i,n=e.Ha;if(n)for(i=[];n;n=n.Ha)i.push(n);if(e=e.wb,n=t.type||t,f(t))t=new im(t,e);else if(t instanceof im)t.target=t.target||e;else{var r=t;es(t=new im(n,e),r)}if(r=!0,i)for(var s=i.length-1;!t.h&&0<=s;s--){var a=t.g=i[s];r=iW(a,n,!0,t)&&r}if(t.h||(r=iW(a=t.g=e,n,!0,t)&&r,t.h||(r=iW(a,n,!1,t)&&r)),i)for(s=0;!t.h&&s<i.length;s++)r=iW(a=t.g=i[s],n,!1,t)&&r;return r}function iW(e,t,i,n){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==i){var o=a.listener,h=a.La||a.src;a.Ia&&iS(e.J,a),r=!1!==o.call(h,n)&&r}}return r&&0!=n.qb}R(iG,ia),iG.prototype[ib]=!0,iG.prototype.Za=function(e){this.Ha=e},iG.prototype.removeEventListener=function(e,t,i,n){iR(this,e,t,i,n)},iG.prototype.o=function(){if(iG.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var i=t.a[e],n=0;n<i.length;n++)iw(i[n]);delete t.a[e],t.g--}}this.Ha=null};var iY={},iH=0;function iz(e,t){if(!e)throw Error("Event target element must be provided!");if(iY[e=iX(e)]&&iY[e].length)for(var i=0;i<iY[e].length;i++)ij(iY[e][i],t)}function iX(e){return void 0===e.a&&(e.a=iH,iH++),e.a}function iK(e){if(!e)throw Error("Event target element must be provided!");iG.call(this),this.a=e}function iq(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function iJ(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function i$(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function iQ(){this.g=this.a=null}a(iK,iG),iK.prototype.N=function(){return this.a},iK.prototype.register=function(){var e=iX(this.N());iY[e]?G(iY[e],this)||iY[e].push(this):iY[e]=[this]},iJ.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var iZ=new iJ(function(){return new i0},function(e){e.reset()});function i0(){this.next=this.g=this.a=null}function i1(e){u.setTimeout(function(){throw e},0)}function i2(e,t){rt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);rt=function(){e.then(i4)}}else rt=function(){!E(u.setImmediate)||u.Window&&u.Window.prototype&&!ej("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(re||(re=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ej("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var i="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_(function(e){("*"==n||e.origin==n)&&e.data==i&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(i,n)}}}),void 0!==e&&!ej("Trident")&&!ej("MSIE")){var t=new e,i={},n=i;return t.port1.onmessage=function(){if(d(i.next)){var e=(i=i.next).gb;i.gb=null,e()}},function(e){n.next={gb:e},n=n.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}()),re(i4)):u.setImmediate(i4)}}(),i3||(rt(),i3=!0),i5.add(e,t)}iQ.prototype.add=function(e,t){var i=iZ.get();i.set(e,t),this.g?this.g.next=i:this.a=i,this.g=i},i0.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},i0.prototype.reset=function(){this.next=this.g=this.a=null};var i3=!1,i5=new iQ;function i4(){for(var e,t;e=null,i5.a&&(e=i5.a,i5.a=i5.a.next,i5.a||(i5.g=null),e.next=null),t=e;){try{t.a.call(t.g)}catch(e){i1(e)}i$(iZ,t)}i3=!1}function i9(e){if(this.a=i6,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=m)try{var t=this;e.call(void 0,function(e){no(t,i7,e)},function(e){if(!(e instanceof nf))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}no(t,i8,e)})}catch(e){no(this,i8,e)}}var i6=0,i7=2,i8=3;function ne(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ne.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var nt=new iJ(function(){return new ne},function(e){e.reset()});function ni(e,t,i){var n=nt.get();return n.s=e,n.g=t,n.j=i,n}function nn(e){if(e instanceof i9)return e;var t=new i9(m);return no(t,i7,e),t}function nr(e){return new i9(function(t,i){i(e)})}function ns(e,t){e.g||e.a!=i7&&e.a!=i8||nh(e),e.j?e.j.next=t:e.g=t,e.j=t}function na(e,t,i,n){var r=ni(null,null,null);return r.a=new i9(function(e,s){r.s=t?function(i){try{var r=t.call(n,i);e(r)}catch(e){s(e)}}:e,r.g=i?function(t){try{var r=i.call(n,t);!d(r)&&t instanceof nf?s(t):e(r)}catch(e){s(e)}}:s}),r.a.h=e,ns(e,r),r.a}function no(e,t,i){if(e.a==i6){e===i&&(t=i8,i=TypeError("Promise cannot resolve to itself")),e.a=1;t:{var n,r=i,s=e.hc,a=e.ic;if(r instanceof i9){ns(r,ni(s||m,a||null,e));var o=!0}else if(iq(r))r.then(s,a,e),o=!0;else{if(w(r))try{var h=r.then;if(E(h)){(function(e,t,i,n,r){function s(e){a||(a=!0,n.call(r,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,i.call(r,e))},s)}catch(e){s(e)}})(r,h,s,a,e),o=!0;break t}}catch(t){a.call(e,t),o=!0;break t}o=!1}}o||(e.A=i,e.a=t,e.h=null,nh(e),t!=i8||i instanceof nf||(n=i,e.s=!0,i2(function(){e.s&&nd.call(null,n)})))}}function nh(e){e.i||(e.i=!0,i2(e.Hb,e))}function nc(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function nl(e,t,i,n){if(i==i8&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,nu(t,i,n);else try{t.h?t.s.call(t.j):nu(t,i,n)}catch(e){nd.call(null,e)}i$(nt,t)}function nu(e,t,i){t==i7?e.s.call(e.j,i):e.g&&e.g.call(e.j,i)}i9.prototype.then=function(e,t,i){return na(this,E(e)?e:null,E(t)?t:null,i)},i9.prototype.$goog_Thenable=!0,(e=i9.prototype).fc=function(e,t){return(e=ni(e,e,t)).h=!0,ns(this,e),this},e.Ca=function(e,t){return na(this,null,e,t)},e.cancel=function(e){this.a==i6&&i2(function(){(function e(t,i){if(t.a==i6){if(t.h){var n=t.h;if(n.g){for(var r=0,s=null,a=null,o=n.g;o&&(o.h||(r++,o.a==t&&(s=o),!(s&&1<r)));o=o.next)s||(a=o);s&&(n.a==i6&&1==r?e(n,i):(a?((r=a).next==n.j&&(n.j=r),r.next=r.next.next):nc(n),nl(n,s,i8,i)))}t.h=null}else no(t,i8,i)}})(this,new nf(e))},this)},e.hc=function(e){this.a=i6,no(this,i7,e)},e.ic=function(e){this.a=i6,no(this,i8,e)},e.Hb=function(){for(var e;e=nc(this);)nl(this,e,this.a,this.A);this.i=!1};var nd=i1;function nf(e){L.call(this,e)}function np(e,t,i){t||(t={}),i=i||window;var n=e instanceof tn?e:ta(void 0!==e.href?e.href:String(e));e=t.target||e.target;var r=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");return(ej("iPhone")&&!ej("iPod")&&!ej("iPad")||ej("iPad")||ej("iPod"))&&i.navigator&&i.navigator.standalone&&e&&"_self"!=e?(s=i.document.createElement("A"),n=n instanceof tn?n:to(n),s.href=tr(n),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),i={}):t.noreferrer?(i=i.open("",e,s),t=tr(n).toString(),i&&(eK&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),i.opener=null,t=tg('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+et(t)+'">',null),i.document.write(tf(t)),i.document.close())):(i=i.open(tr(n).toString(),e,s))&&t.noopener&&(i.opener=null),i}function ng(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function nm(e){np(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function nv(e,t){if(null==(e=w(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function ny(){return window.location.href}function nb(e){this.s=[],this.T=nO,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function nx(e,t,i){e.a=!0,e.h=i,e.j=!t,nS(e)}function nE(e){if(e.a){if(!e.J)throw new nA(e);e.J=!1}}function nw(e,t,i){e.s.push([t,i,void 0]),e.a&&nS(e)}function nT(e){return V(e.s,function(e){return E(e[1])})}function nS(e){if(e.i&&e.a&&nT(e)){var t=e.i,i=nI[t];i&&(u.clearTimeout(i.a),delete nI[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var n=i=!1;e.s.length&&!e.A;){var r=e.s.shift(),s=r[0],a=r[1];if(r=r[2],s=e.j?a:s)try{var o=s.call(r||e.O,t);d(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(iq(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(n=!0,e.A=!0)}catch(n){t=n,e.j=!0,nT(e)||(i=!0)}}e.h=t,n&&(o=_(e.L,e,!0),n=_(e.L,e,!1),t instanceof nb?(nw(t,o,n),t.l=!0):t.then(o,n)),i&&(nI[(t=new n_(t)).a]=t,e.i=t.a)}function nA(){L.call(this)}function nC(){L.call(this)}function n_(e){this.a=u.setTimeout(_(this.h,this),0),this.g=e}R(nf,L),nf.prototype.name="cancel",nb.prototype.cancel=function(e){if(this.a)this.h instanceof nb&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new nC(this),nE(this),nx(this,!1,e))}},nb.prototype.L=function(e,t){this.A=!1,nx(this,e,t)},nb.prototype.callback=function(e){nE(this),nx(this,!0,e)},nb.prototype.then=function(e,t,i){var n,r,s=new i9(function(e,t){n=e,r=t});return nw(this,n,function(e){e instanceof nC?s.cancel():r(e)}),s.then(e,t,i)},nb.prototype.$goog_Thenable=!0,R(nA,L),nA.prototype.message="Deferred has already fired",nA.prototype.name="AlreadyCalledError",R(nC,L),nC.prototype.message="Deferred was canceled",nC.prototype.name="CanceledError",n_.prototype.h=function(){throw delete nI[this.a],this.g};var nI={};function nO(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&nP(e,!0,this.sb)}}function nP(e,t,i){null!=i&&u.clearTimeout(i),e.onload=m,e.onerror=m,e.onreadystatechange=m,t&&window.setTimeout(function(){t_(e)},0)}function nM(e,t){var i="Jsloader error (code #"+e+")";t&&(i+=": "+t),L.call(this,i),this.code=e}function nR(){return u.google&&u.google.accounts&&u.google.accounts.id||null}function nL(e){this.a=e||nR(),this.h=!1,this.g=null}R(nM,L),nL.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(nL);var nD=new e6(e8,"https://accounts.google.com/gsi/client");function nk(){this.a=null}function nN(e,t){this.a=e,this.g=t||function(e){throw e}}function nF(e,t,i){this.reset(e,t,i,void 0,void 0)}nk.prototype.load=function(){var e,t,i,n=this;if(this.a)return this.a;var r=((e=nD)instanceof e6&&e.constructor===e6&&e.g===e7?e=e.a:(k("expected object of type Const, got '"+e+"'"),e="type_error:Const"),(t=new te).a=e,t);return nR()?nn():this.a=(i=null,new i9(function(e){"complete"==u.document.readyState?e():iM(window,"load",i=function(){e()})}).Ca(function(e){throw iR(window,"load",i),e})).then(function(){if(!nR())return new i9(function(e,t){var i,s,a,o,h,c,l,d,f,m=setTimeout(function(){n.a=null,t(Error("Network error!"))},1e4);u.onGoogleLibraryLoad=function(){clearTimeout(m),e()},nn((a=(s={}).document||document,o=tt(r).toString(),l=new nb(c={rb:h=document.createElement("SCRIPT"),sb:void 0}),d=null,0<(f=null!=s.timeout?s.timeout:5e3)&&(d=window.setTimeout(function(){nP(h,!0);var e=new nM(1,"Timeout reached for loading script "+o);nE(l),nx(l,!1,e)},f),c.sb=d),h.onload=h.onreadystatechange=function(){h.readyState&&"loaded"!=h.readyState&&"complete"!=h.readyState||(nP(h,s.xc||!1,d),l.callback(null))},h.onerror=function(){nP(h,!0,d);var e=new nM(0,"Error while loading script "+o);nE(l),nx(l,!1,e)},es(c=s.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ei(c,function(e,t){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==t?h.style.cssText=e:"class"==t?h.className=e:"for"==t?h.htmlFor=e:tA.hasOwnProperty(t)?h.setAttribute(tA[t],e):0==t.lastIndexOf("aria-",0)||0==t.lastIndexOf("data-",0)?h.setAttribute(t,e):h[t]=e}),function(e,t){if(e.src=tt(t),null===g)i:{if((t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)){g=t;break i}g=""}(t=g)&&e.setAttribute("nonce",t)}(h,r),((i=(a||document).getElementsByTagName("HEAD"))&&0!=i.length?i[0]:a.documentElement).appendChild(h),l)).then(function(){nR()&&e()}).Ca(function(e){clearTimeout(m),n.a=null,t(e)})})})},v(nk),nN.prototype.confirm=function(e){return nn(this.a.confirm(e)).Ca(this.g)},nF.prototype.a=null;var nB=0;function nU(e){this.s=e,this.a=this.h=this.j=this.g=null}function nV(e,t){this.name=e,this.value=t}nF.prototype.reset=function(e,t,i,n,r){"number"==typeof r||nB++,this.h=n||P(),this.j=e,this.s=t,this.g=i,delete this.a},nV.prototype.toString=function(){return this.name};var nG=new nV("SEVERE",1e3),nj=new nV("WARNING",900),nW=new nV("CONFIG",700);nU.prototype.log=function(e,t,i){if(e.value>=function e(t){return t.j?t.j:t.g?e(t.g):(k("Root logger has no level set."),null)}(this).value)for(E(t)&&(t=t()),e=new nF(e,String(t),this.s),i&&(e.a=i),i=this;i;){var n=i,r=e;if(n.a)for(var s=0;t=n.a[s];s++)t(r);i=i.g}};var nY={},nH=null;function nz(){nH||(nH=new nU(""),nY[""]=nH,nH.j=nW)}function nX(){this.a=P()}var nK=null;function nq(e){this.j=e||"",nK||(nK=new nX),this.s=nK}function nJ(e){return 10>e?"0"+e:String(e)}function n$(e){nq.call(this,e)}function nQ(){this.s=_(this.h,this),this.a=new n$,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}nX.prototype.set=function(e){this.a=e},nX.prototype.reset=function(){this.set(P())},nX.prototype.get=function(){return this.a},nq.prototype.a=!0,nq.prototype.g=!0,nq.prototype.h=!1,R(n$,nq),nQ.prototype.h=function(e){if(!this.j[e.g]){var t,i,n=function(e,t){var i=[];if(i.push(e.j," "),e.g){var n=new Date(t.h);i.push("[",nJ(n.getFullYear()-2e3)+nJ(n.getMonth()+1)+nJ(n.getDate())+" "+nJ(n.getHours())+":"+nJ(n.getMinutes())+":"+nJ(n.getSeconds())+"."+nJ(Math.floor(n.getMilliseconds()/10)),"] ")}return i.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var i=0;if(1>e)i=2;else for(;100>e;)i++,e*=10;for(;0<i--;)t=" "+t;return t}(t,e.s.get()),"s] "),i.push("[",t.g,"] "),i.push(t.s),e.h&&(t=t.a)&&i.push("\n",t instanceof Error?t.message:t.toString()),e.a&&i.push("\n"),i.join("")}(this.a,e);nZ&&(t=function(e){if(e){if(e.value>=nG.value)return"error";if(e.value>=nj.value)return"warn";if(e.value>=nW.value)return"log"}return"debug"}(e.j),i=e.a,nZ[t]?nZ[t](n,i||""):nZ.log(n,i||""))}};var nZ=u.console;function n0(e,t){var i=ri;i&&i.log(nG,e,t)}ri=function e(t){if(nz(),!(i=nY[t])){i=new nU(t);var i,n=t.lastIndexOf("."),r=t.substr(n+1);(n=e(t.substr(0,n))).h||(n.h={}),n.h[r]=i,i.g=n,nY[t]=i}return i}("firebaseui");var n1=new nQ;if(1!=n1.g){nz(),rn=nH;var n2,n3,n5,n4,n9,n6,n7,n8,re,rt,ri,rn,rr=n1.s;rn.a||(rn.a=[]),rn.a.push(rr),n1.g=!0}function rs(e){var t=ri;t&&t.log(nj,e,void 0)}function ra(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function ro(e){e=(e.a.cookie||"").split(";");for(var t,i,n=[],r=[],s=0;s<e.length;s++)-1==(t=(i=z(e[s])).indexOf("="))?(n.push(""),r.push(i)):(n.push(i.substring(0,t)),r.push(i.substring(t+1)));return{keys:n,values:r}}(e=ra.prototype).set=function(e,t,i,n,r,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');d(i)||(i=-1),r=r?";domain="+r:"",n=n?";path="+n:"",s=s?";secure":"",i=0>i?"":0==i?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(P()+1e3*i).toUTCString(),this.a.cookie=e+"="+t+r+n+i+s},e.get=function(e,t){for(var i,n=e+"=",r=(this.a.cookie||"").split(";"),s=0;s<r.length;s++){if(0==(i=z(r[s])).lastIndexOf(n,0))return i.substr(n.length);if(i==e)return""}return t},e.ja=function(){return ro(this).keys},e.la=function(){return ro(this).values},e.clear=function(){for(var e=ro(this).keys,t=e.length-1;0<=t;t--){var i=e[t];this.get(i),this.set(i,"",0,void 0,void 0)}};var rh=new ra;function rc(){}function rl(e,t,i,n){this.h=null!=e?e:-1,this.g=t||null,this.a=i||null,this.j=!!n}function ru(e,t){this.g=e,this.a=t||null}function rd(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function rf(e){if(e&&e.email){var t=e.credential&&(0,s.default).auth.AuthCredential.fromJSON(e.credential);return new ru(e.email,t)}return null}function rp(e){this.a=e||null}function rg(e){for(var t=[],i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);255<r&&(t[i++]=255&r,r>>=8),t[i++]=r}return t}function rm(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(rv*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=[,,,,];for(e=this.g;e<rv*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var i=t[0];t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=i,rS(t),t[0]^=r_[e/this.g][0],t[1]^=r_[e/this.g][1],t[2]^=r_[e/this.g][2],t[3]^=r_[e/this.g][3]}else 6<this.g&&4==e%this.g&&rS(t);this.a[e]=[,,,,],this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}a(rl,rc),rl.prototype.set=function(e,t){rh.set(e,t,this.h,this.g,this.a,this.j)},rl.prototype.get=function(e){return rh.get(e)||null},rl.prototype.ra=function(e){var t=this.g,i=this.a;rh.get(e),rh.set(e,"",0,t,i)},rm.prototype.A=16;var rv=rm.prototype.A/4;function ry(e,t){for(var i,n=0;n<rv;n++)for(var r=0;4>r;r++)i=t[i=4*r+n],e.h[n][r]=i}function rb(e){for(var t=[],i=0;i<rv;i++)for(var n=0;4>n;n++)t[4*n+i]=e.h[i][n];return t}function rx(e,t){for(var i=0;4>i;i++)for(var n=0;4>n;n++)e.h[i][n]^=e.a[4*t+n][i]}function rE(e,t){for(var i=0;4>i;i++)for(var n=0;4>n;n++)e.h[i][n]=t[e.h[i][n]]}function rw(e){for(var t=1;4>t;t++)for(var i=0;4>i;i++)e.s[t][i]=e.h[t][i];for(t=1;4>t;t++)for(i=0;4>i;i++)e.h[t][i]=e.s[t][(i+t)%rv]}function rT(e){for(var t=1;4>t;t++)for(var i=0;4>i;i++)e.s[t][(i+t)%rv]=e.h[t][i];for(t=1;4>t;t++)for(i=0;4>i;i++)e.h[t][i]=e.s[t][i]}function rS(e){e[0]=rA[e[0]],e[1]=rA[e[1]],e[2]=rA[e[2]],e[3]=rA[e[3]]}var rA=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rC=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],r_=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],rI=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],rO=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],rP=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],rM=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],rR=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],rL=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function rD(e,t){e=new rm(rN(e)),t=rg(t);for(var i,n=t.splice(0,16),r="";n.length;){i=16-n.length;for(var s=0;s<i;s++)n.push(0);for(ry(i=e,n),rx(i,0),n=1;n<i.j;++n){rE(i,rA),rw(i),s=i.h;for(var a=i.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=rI[a[0]]^rO[a[1]]^a[2]^a[3],s[1][o]=a[0]^rI[a[1]]^rO[a[2]]^a[3],s[2][o]=a[0]^a[1]^rI[a[2]]^rO[a[3]],s[3][o]=rO[a[0]]^a[1]^a[2]^rI[a[3]];rx(i,n)}rE(i,rA),rw(i),rx(i,i.j),r+=U(rb(i),function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join(""),n=t.splice(0,16)}return r}function rk(e,t){e=new rm(rN(e));for(var i=[],n=0;n<t.length;n+=2)i.push(parseInt(t.substring(n,n+2),16));var r=i.splice(0,16);for(t="";r.length;){for(ry(n=e,r),rx(n,n.j),r=1;r<n.j;++r){rT(n),rE(n,rC),rx(n,n.j-r);for(var s=n.h,a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=rL[a[0]]^rM[a[1]]^rR[a[2]]^rP[a[3]],s[1][o]=rP[a[0]]^rL[a[1]]^rM[a[2]]^rR[a[3]],s[2][o]=rR[a[0]]^rP[a[1]]^rL[a[2]]^rM[a[3]],s[3][o]=rM[a[0]]^rR[a[1]]^rP[a[2]]^rL[a[3]]}if(rT(n),rE(n,rC),rx(n,0),8192>=(n=rb(n)).length)n=String.fromCharCode.apply(null,n);else{for(s=0,r="";s<n.length;s+=8192)r+=String.fromCharCode.apply(null,function(e,t,i){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,i)}(n,s,s+8192));n=r}t+=n,r=i.splice(0,16)}return t.replace(/(\x00)+$/,"")}function rN(e){e=rg(e.substring(0,32));for(var t=32-e.length,i=0;i<t;i++)e.push(0);return e}function rF(e){var t=[];return function e(t,i,n){if(null==i)n.push("null");else{if("object"==typeof i){if(b(i)){var r=i;i=r.length,n.push("[");for(var s="",a=0;a<i;a++)n.push(s),e(t,r[a],n),s=",";n.push("]");return}if(i instanceof String||i instanceof Number||i instanceof Boolean)i=i.valueOf();else{for(r in n.push("{"),s="",i)Object.prototype.hasOwnProperty.call(i,r)&&"function"!=typeof(a=i[r])&&(n.push(s),rG(r,n),n.push(":"),e(t,a,n),s=",");n.push("}");return}}switch(typeof i){case"string":rG(i,n);break;case"number":n.push(isFinite(i)&&!isNaN(i)?String(i):"null");break;case"boolean":n.push(String(i));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof i)}}}(new rB,e,t),t.join("")}function rB(){}var rU={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},rV=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rG(e,t){t.push('"',e.replace(rV,function(e){var t=rU[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rU[e]=t),t}),'"')}function rj(e){this.a=e}function rW(){}function rY(e){this.a=e}function rH(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function rz(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function rX(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function rK(e,t){this.g=e,this.a=t+"::"}rj.prototype.set=function(e,t){d(t)?this.a.set(e,rF(t)):this.a.ra(e)},rj.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},R(rW,rc),rW.prototype.clear=function(){var e=function(e){if(x(e))return H(e);e=eh(e);var t=[];return function(e,t){if(x(e))try{F(e,t,void 0)}catch(e){if(e!==ea)throw e}else{e=eh(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ea)throw e}}}(e,function(e){t.push(e)}),t}(this.ha(!0)),t=this;F(e,function(e){t.ra(e)})},R(rY,rW),(e=rY.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!f(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,i=this.a,n=new eo;return n.next=function(){if(t>=i.length)throw ea;var n=i.key(t++);if(e)return n;if(!f(n=i.getItem(n)))throw"Storage mechanism: Invalid value was encountered";return n},n},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},R(rz,rY),R(rX,rY),R(rK,rW),rK.prototype.set=function(e,t){this.g.set(this.a+e,t)},rK.prototype.get=function(e){return this.g.get(this.a+e)},rK.prototype.ra=function(e){this.g.ra(this.a+e)},rK.prototype.ha=function(e){var t=this.g.ha(!0),i=this,n=new eo;return n.next=function(){for(var n=t.next();n.substr(0,i.a.length)!=i.a;)n=t.next();return e?n.substr(i.a.length):i.g.get(n)},n},rH(new rz);var rq=new rX,rJ=new rj(rH(rq)?new rK(rq,"firebaseui"):null),r$={name:"pendingEmailCredential",storage:rJ},rQ={name:"redirectStatus",storage:rJ},rZ={name:"redirectUrl",storage:rJ},r0={name:"emailForSignIn",storage:new rj(new rl(3600,"/"))},r1={name:"pendingEncryptedCredential",storage:new rj(new rl(3600,"/"))};function r2(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function r3(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function r5(e,t,i){e.storage.set(i?e.name+":"+i:e.name,t)}function r4(e){return r2(rZ,e)||null}function r9(e){return rf(e=r2(r$,e)||null)}function r6(e){r3(r$,e)}function r7(e){return(e=r2(rQ,e)||null)&&void 0!==e.tenantId?new rp(e.tenantId):null}function r8(){this.W={}}function se(e,t,i){if(t.toLowerCase() in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=i}function st(e,t,i){if(!(t.toLowerCase() in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=i}function si(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function sn(){this.g=void 0,this.a={}}function sr(e,t,i,n){for(var r=0;r<t.length;r++){var s=t.charAt(r);e.a[s]||(e.a[s]=new sn),e=e.a[s]}if(n&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=i}function ss(e){for(this.a=e,this.g=new sn,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function sa(e,t){e=e.g;var i={},n=0;for(void 0!==e.g&&(i[n]=e.g);n<t.length;n++){var r=t.charAt(n);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(i[n]=e.g)}for(var s in i)if(i.hasOwnProperty(s))return i[s];return[]}function so(e){for(var t=0;t<su.length;t++)if(su[t].c===e)return su[t];return null}function sh(e){e=e.toUpperCase();for(var t=[],i=0;i<su.length;i++)su[i].f===e&&t.push(su[i]);return t}function sc(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],i=0;i<su.length;i++)su[i].b==e&&t.push(su[i]);e=t}else e=sh(e);return e}function sl(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"en")})}r8.prototype.get=function(e){if(!(e.toLowerCase() in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=sn.prototype).set=function(e,t){sr(this,e,t,!1)},e.add=function(e,t){sr(this,e,t,!0)},e.get=function(e){t:{for(var t=this,i=0;i<e.length;i++)if(!(t=t.a[e.charAt(i)])){e=void 0;break t}e=t}return e?e.g:void 0},e.la=function(){var e=[];return function e(t,i){for(var n in void 0!==t.g&&i.push(t.g),t.a)e(t.a[n],i)}(this,e),e},e.ja=function(){var e=[];return function e(t,i,n){for(var r in void 0!==t.g&&n.push(i),t.a)e(t.a[r],i+r,n)}(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var su=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];sl(su);var sd=new ss(su);function sf(e,t){this.a=e,this.Aa=t}function sp(e){var t=sa(sd,e=z(e));return 0<t.length?new sf("1"==t[0].b?"1-US-0":t[0].c,z(e.substr(t[0].b.length+1))):null}function sg(e){var t=so(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function sm(e,t){for(var i=0;i<e.length;i++)if(!G(sv,e[i])&&(null!==sy&&e[i]in sy||G(t,e[i])))return e[i];return null}var sv=["emailLink","password","phone"],sy={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function sb(){this.a=new r8,se(this.a,"autoUpgradeAnonymousUsers"),se(this.a,"callbacks"),se(this.a,"credentialHelper",sK),se(this.a,"immediateFederatedRedirect",!1),se(this.a,"popupMode",!1),se(this.a,"privacyPolicyUrl"),se(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),se(this.a,"queryParameterForWidgetMode","mode"),se(this.a,"signInFlow"),se(this.a,"signInOptions"),se(this.a,"signInSuccessUrl"),se(this.a,"siteName"),se(this.a,"tosUrl"),se(this.a,"widgetUrl"),se(this.a,"adminRestrictedOperation")}function sx(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!sG(e)&&n0('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function sE(e){e=e.a.get("signInOptions")||[];for(var t=[],i=0;i<e.length;i++){var n=e[i];(n=w(n)?n:{provider:n}).provider&&t.push(n)}return t}function sw(e,t){e=sE(e);for(var i=0;i<e.length;i++)if(e[i].provider===t)return e[i];return null}function sT(e){return sE(e).map(function(e){return e.provider})}function sS(e,t){e=sA(e);for(var i=0;i<e.length;i++)if(e[i].providerId===t)return e[i];return null}function sA(e){return sE(e).map(function(e){if(sy[e.provider]||G(sZ,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?tr(ta(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?tr(ta(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}})}function sC(e){var t,i=sw(e,s.default.auth.GoogleAuthProvider.PROVIDER_ID);if(t=i&&i.clientId){t:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol)){for(n in e=e.a.get("credentialHelper"),sq)if(sq[n]===e){var n=sq[n];break t}}n=sK}t=n===sX}return t&&i.clientId||null}function s_(e){return!!((e=sw(e,s.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function sI(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function sO(e,t){return Array.isArray(e=(e=sw(e,t))&&e.scopes)?e:[]}function sP(e,t){return w(e=(e=sw(e,t))&&e.customParameters)?(e=en(e),t===s.default.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===s.default.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function sM(e){if(!(e=sw(e,s.default.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,i=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==i&&!Array.isArray(i))throw Error("BlacklistedCountries must be an array.");if(t&&i)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!i)return su;if(e=[],t){i={};for(var n=0;n<t.length;n++)for(var r=sc(t[n]),a=0;a<r.length;a++)i[r[a].c]=r[a];for(var o in i)i.hasOwnProperty(o)&&e.push(i[o])}else{for(t=0,o={};t<i.length;t++)for(r=sc(i[t]),n=0;n<r.length;n++)o[r[n].c]=r[n];for(r=0;r<su.length;r++)null!==o&&su[r].c in o||e.push(su[r])}return e}function sR(e){return si(e.a,"queryParameterForWidgetMode")}function sL(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&rs("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nm(t)}}return null}function sD(e){var t=e.a.get("tosUrl")||null,i=e.a.get("privacyPolicyUrl")||null;if(i&&!t&&rs("Term of Service URL is missing, the link will not be displayed."),t&&i){if("function"==typeof i)return i;if("string"==typeof i)return function(){nm(i)}}return null}function sk(e){return!(e=sw(e,s.default.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function sN(e){return!(!(e=sw(e,s.default.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==s.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function sF(e){var t=!!e.a.get("immediateFederatedRedirect"),i=sT(e);return e=sB(e),t&&1==i.length&&!G(sv,i[0])&&e==sJ}function sB(e){for(var t in e=e.a.get("signInFlow"),s$)if(s$[t]==e)return s$[t];return sJ}function sU(e){return sj(e).signInSuccess||null}function sV(e){return sj(e).signInSuccessWithAuthResult||null}function sG(e){return sj(e).signInFailure||null}function sj(e){return e.a.get("callbacks")||{}}var sW,sY,sH,sz,sX="googleyolo",sK="none",sq={nc:sX,NONE:sK},sJ="redirect",s$={qc:"popup",rc:sJ},sQ={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},sZ=["anonymous"],s0=["sitekey","tabindex","callback","expired-callback"],s1={};function s2(e,t,i,n){s1[e].apply(null,Array.prototype.slice.call(arguments,1))}function s3(e){return e.classList?e.classList:f(e=e.className)&&e.match(/\S+/g)||[]}function s5(e,t){return e.classList?e.classList.contains(t):G(s3(e),t)}function s4(e,t){e.classList?e.classList.add(t):s5(e,t)||(e.className+=0<e.className.length?" "+t:t)}function s9(e,t){e.classList?e.classList.remove(t):s5(e,t)&&(e.className=B(s3(e),function(e){return e!=t}).join(" "))}function s6(e){var t=e.type;switch(f(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var i,n=0;i=e.options[n];n++)i.selected&&t.push(i.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function s7(e,t){var i=e.type;switch(f(i)&&i.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,f(t)){for(var n=0;i=e.options[n];n++)if(i.value==t){i.selected=!0;break}}break;case"select-multiple":for(f(t)&&(t=[t]),n=0;i=e.options[n];n++)if(i.selected=!1,t)for(var r,s=0;r=t[s];s++)i.value==r&&(i.selected=!0);break;default:e.value=null!=t?t:""}}function s8(e,t,i,n,r,s){if(eJ&&!e4("525"))return!0;if(eQ&&r)return ae(e);if(r&&!n)return!1;if(!eq){"number"==typeof t&&(t=at(t));var a=17==t||18==t||eQ&&91==t;if((!i||eQ)&&a||eQ&&16==t&&(n||s))return!1}if((eJ||eX)&&n&&i)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(ez&&n&&t==e)return!1;switch(e){case 13:return!eq||!s&&!r&&!(i&&n);case 27:return!(eJ||eX||eq)}return(!eq||!n&&!r&&!s)&&ae(e)}function ae(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(eJ||eX)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return eq;default:return!1}}function at(e){return eq?e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e):eQ&&eJ&&93===e&&(e=91),e}function ai(e){iG.call(this),this.a=e,iO(e,"keydown",this.g,!1,this),iO(e,"click",this.h,!1,this)}function an(e,t){var i=new as(t);if(ij(e,i)){i=new ar(t);try{ij(e,i)}finally{t.stopPropagation()}}}function ar(e){iv.call(this,e.a),this.type="action"}function as(e){iv.call(this,e.a),this.type="beforeaction"}function aa(e){iG.call(this),this.a=e,e=ez?"focusout":"blur",this.g=iO(this.a,ez?"focusin":"focus",this,!ez),this.h=iO(this.a,e,this,!ez)}function ao(e,t){iG.call(this),this.g=e||1,this.a=t||u,this.h=_(this.gc,this),this.j=P()}function ah(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function ac(e){ia.call(this),this.g=e,this.a={}}R(ai,iG),ai.prototype.g=function(e){(13==e.keyCode||eJ&&3==e.keyCode)&&an(this,e)},ai.prototype.h=function(e){an(this,e)},ai.prototype.o=function(){ai.K.o.call(this),iR(this.a,"keydown",this.g,!1,this),iR(this.a,"click",this.h,!1,this),delete this.a},R(ar,iv),R(as,iv),R(aa,iG),aa.prototype.handleEvent=function(e){var t=new iv(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",ij(this,t)},aa.prototype.o=function(){aa.K.o.call(this),iL(this.g),iL(this.h),delete this.a},R(ao,iG),(e=ao.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=P()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),ij(this,"tick"),this.Ka&&(ah(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=P())},e.o=function(){ao.K.o.call(this),ah(this),delete this.a},R(ac,ia);var al=[];function au(e,t,i,n){b(i)||(i&&(al[0]=i.toString()),i=al);for(var r=0;r<i.length;r++){var s=iO(t,i[r],n||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function ad(e){ei(e.a,function(e,t){this.a.hasOwnProperty(t)&&iL(e)},e),e.a={}}function af(e){iG.call(this),this.a=null,this.g=e,e=ez||eX||eJ&&!e4("531")&&"TEXTAREA"==e.tagName,this.h=new ac(this),au(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function ap(e){null!=e.a&&(u.clearTimeout(e.a),e.a=null)}function ag(e){return(e=new iv(e.a)).type="input",e}function am(e,t){iG.call(this),e&&(this.Oa&&aE(this),this.qa=e,this.Na=iO(this.qa,"keypress",this,t),this.Ya=iO(this.qa,"keydown",this.Jb,t,this),this.Oa=iO(this.qa,"keyup",this.Kb,t,this))}ac.prototype.o=function(){ac.K.o.call(this),ad(this)},ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R(af,iG),af.prototype.handleEvent=function(e){if("input"==e.type)ez&&e4(10)&&0==e.keyCode&&0==e.j||(ap(this),ij(this,ag(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(ae(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!eq;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;ez&&229==e.keyCode&&(t=null);var i=ag(e);ap(this),this.a=function(e,t){if(E(e))t&&(e=_(e,t));else if(e&&"function"==typeof e.handleEvent)e=_(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(0)?-1:u.setTimeout(e,0)}(function(){this.a=null,this.g.value!=t&&ij(this,i)},this)}},af.prototype.o=function(){af.K.o.call(this),this.h.m(),ap(this),delete this.g},R(am,iG),(e=am.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var av={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ay={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ab=!eJ||e4("525"),ax=eQ&&eq;function aE(e){e.Na&&(iL(e.Na),iL(e.Ya),iL(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function aw(e,t,i,n){iv.call(this,n),this.type="key",this.keyCode=e,this.j=t,this.repeat=i}function aT(e,t,i,n){this.top=e,this.right=t,this.bottom=i,this.left=n}function aS(e,t){var i=tI(e);return i.defaultView&&i.defaultView.getComputedStyle&&(e=i.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function aA(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return ez&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function aC(e){var t=tI(e),i=new tb(0,0),n=t?tI(t):document;return e==(n=!ez||9<=Number(n8)||"CSS1Compat"==tE(n).a.compatMode?n.documentElement:n.body)||(e=aA(e),t=tC(n=tE(t).a),n=n.parentWindow||n.defaultView,t=ez&&e4("10")&&n.pageYOffset!=t.scrollTop?new tb(t.scrollLeft,t.scrollTop):new tb(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop),i.a=e.left+t.a,i.g=e.top+t.g),i}(e=am.prototype).Jb=function(e){(eJ||eX)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||eQ&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),ab&&!s8(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=at(e.keyCode),ax&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,i=t.altKey;if(ez&&"keypress"==e.type)var n=this.X,r=13!=n&&27!=n?t.keyCode:0;else(eJ||eX)&&"keypress"==e.type?(n=this.X,r=0<=t.charCode&&63232>t.charCode&&ae(n)?t.charCode:0):eH&&!eJ?r=ae(n=this.X)?t.keyCode:0:("keypress"==e.type?(ax&&(i=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(n=t.keyCode,r=0):(n=this.X,r=t.charCode):(n=t.keyCode||this.X,r=t.charCode||0)):(n=t.keyCode||this.X,r=t.charCode||0),eQ&&63==r&&224==n&&(n=191));var s=n=at(n);n?63232<=n&&n in av?s=av[n]:25==n&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in ay&&(s=ay[t.keyIdentifier]),eq&&ab&&"keypress"==e.type&&!s8(s,this.R,e.shiftKey,e.ctrlKey,i,e.metaKey)||(e=s==this.R,this.R=s,(t=new aw(s,r,e,t)).altKey=i,ij(this,t))},e.N=function(){return this.qa},e.o=function(){am.K.o.call(this),aE(this)},R(aw,iv),aT.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},aT.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},aT.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},aT.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var a_={thin:2,medium:4,thick:6};function aI(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var i=e.currentStyle?e.currentStyle[t+"Width"]:null;if(i in a_)e=a_[i];else if(/^\d+px?$/.test(i))e=parseInt(i,10);else{t=e.style.left;var n=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=i,i=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=n,e=+i}return e}function aO(){}function aP(e){iG.call(this),this.s=e||tE(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function aM(e,t){return e.g?tT(t,e.g||e.s.a):null}function aR(e){return e.L||(e.L=new ac(e)),e.L}function aL(e,t){e.Ea&&F(e.Ea,t,void 0)}function aD(e,t){var i=tP(e,"firebaseui-textfield");t?(s9(e,"firebaseui-input-invalid"),s4(e,"firebaseui-input"),i&&s9(i,"firebaseui-textfield-invalid")):(s9(e,"firebaseui-input"),s4(e,"firebaseui-input-invalid"),i&&s4(i,"firebaseui-textfield-invalid"))}function ak(e,t,i){ic(e,I(il,t=new af(t))),au(aR(e),t,"input",i)}function aN(e,t,i){ic(e,I(il,t=new am(t))),au(aR(e),t,"key",function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),i(e))})}function aF(e,t,i){ic(e,I(il,t=new ai(t))),au(aR(e),t,"action",function(e){e.stopPropagation(),e.preventDefault(),i(e)})}function aB(e){s4(e,"firebaseui-hidden")}function aU(e,t){t&&tO(e,t),s9(e,"firebaseui-hidden")}function aV(e){return!s5(e,"firebaseui-hidden")&&"none"!=e.style.display}function aG(e){var t=(e=e||{}).email,i=e.disabled,n='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return tH(n=(e.wc?n+"Enter new email address":n+"Email")+('</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+tq(null!=t?t:"")+'"')+(i?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>')}function aj(e){e=(e=e||{}).label;var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return tH((t=e?t+tG(e):t+"Next")+"</button>")}function aW(){return tH(""+aj({label:tX("Sign In")}))}function aY(){return tH(""+aj({label:tX("Save")}))}function aH(){return tH(""+aj({label:tX("Continue")}))}function az(e){e=(e=e||{}).label;var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return tH((t=e?t+tG(e):t+"Choose password")+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function aX(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return tH((e+="Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function aK(){return tH('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function aq(e){e=(e=e||{}).label;var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return tH((t=e?t+tG(e):t+"Cancel")+"</button>")}function aJ(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),tH(t)}function a$(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),tH(t)}function aQ(e){return tH(e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+tG(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>')}function aZ(e){var t=e.content;return tH('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((e=e.Ab)?" "+tq(e):"")+'">'+tG(t)+"</dialog>")}function a0(e){var t=e.message;return tH(aZ({content:tK('<div class="firebaseui-dialog-icon-wrapper"><div class="'+tq(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+tG(t)+"</div>")}))}function a1(e){var t='<div class="firebaseui-list-box-actions">';e=e.items;for(var i=e.length,n=0;n<i;n++){var r=e[n];t+='<button type="button" data-listboxid="'+tq(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+tq(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+tG(r.label)+"</div></button>"}return tH(t=""+aZ({Ab:tX("firebaseui-list-box-dialog"),content:tK(t+"</div>")}))}function a2(e){return tH((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function a3(e,t){return tY((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")?e.providerId.substring(5):e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function a5(e){a6(e,"upgradeElement")}function a4(e){a6(e,"downgradeElements")}v(aO),aO.prototype.a=0,R(aP,iG),(e=aP.prototype).Lb=aO.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");aP.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,aL(this,function(e){!e.na&&e.N()&&e.v()})},e.ya=function(){aL(this,function(e){e.na&&e.ya()}),this.L&&ad(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),aL(this,function(e){e.m()}),this.g&&t_(this.g),this.Y=this.g=this.oa=this.Ea=null,aP.K.o.call(this)},e.removeChild=function(e,t){if(e){var i=f(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(e=this.oa&&i&&(null!==(e=this.oa)&&i in e?e[i]:void 0)||null,i&&e){var n=this.oa;if(i in n&&delete n[i],j(this.Ea,e),t&&(e.ya(),e.g&&t_(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,aP.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},aQ.a="firebaseui.auth.soy2.element.infoBar",a0.a="firebaseui.auth.soy2.element.progressDialog",a1.a="firebaseui.auth.soy2.element.listBoxDialog",a2.a="firebaseui.auth.soy2.element.busyIndicator";var a9=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function a6(e,t){e&&window.componentHandler&&window.componentHandler[t]&&a9.forEach(function(i){s5(e,i)&&window.componentHandler[t](e),F(tw(i,e),function(e){window.componentHandler[t](e)})})}function a7(e,t,i){if(a8.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),a5(e),t&&aF(this,e,function(t){var i=e.getBoundingClientRect();(t.clientX<i.left||i.left+i.width<t.clientX||t.clientY<i.top||i.top+i.height<t.clientY)&&a8.call(this)}),!i){var n=this.N().parentElement||this.N().parentNode;if(n){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,i=n.getBoundingClientRect().height,s=n.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=n.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,h=n.getBoundingClientRect().width;e.style.top=(s+(i-t)/2).toString()+"px",t=a+(h-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function a8(){var e=oe.call(this);e&&(a4(e),e.open&&e.close(),t_(e),this.da&&window.removeEventListener("resize",this.da))}function oe(){return tT("firebaseui-id-dialog")}function ot(){t_(oi.call(this))}function oi(){return aM(this,"firebaseui-id-info-bar")}function on(){return aM(this,"firebaseui-id-dismiss-info-bar")}var or={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function os(e,t,i){for(var n in im.call(this,e,t),i)this[n]=i[n]}function oa(e,t,i,n,r){aP.call(this,i),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=n||null,this.A=this.ca=null,this.Z=en(or),es(this.Z,r||{})}function oo(e){return e.N().parentElement||e.N().parentNode}function oh(e,t,i){aN(e,t,function(){i.focus()})}function oc(e,t,i){aN(e,t,function(){i()})}function ol(e,t,i){t=(e=e||{}).Va;var n=e.ia;return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+aG(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aq(null):"")+aj(null)+'</div></div><div class="firebaseui-card-footer">'+(n?a$(i):aJ(i))+"</div></form></div>")}function ou(e,t,i){return t=(e=e||{}).ia,tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+aG(e)+aX()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+aK()+'</div><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+(t?a$(i):aJ(i))+"</div></form></div>")}function od(e,t,i){var n=(e=e||{}).Tb;t=e.Ta;var r=e.ia;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+aG(e)+(e=n?tH(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+tq(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>'):"")+az(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aq(null):"")+aY()+'</div></div><div class="firebaseui-card-footer">'+(r?a$(i):aJ(i))+"</div></form></div>",tH(i)}function of(e,t,i){return t=(e=e||{}).Ta,tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+aG(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?aq(null):"")+aj({label:tX("Send")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function op(e,t,i){t=e.G;var n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+tG(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(n+='<div class="firebaseui-form-actions">'+aj({label:tX("Done")})+"</div>"),tH(n+='</div><div class="firebaseui-card-footer">'+aJ(i)+"</div></div>")}function og(e,t,i){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+a2(null,null,i)+"</div></div>")}function om(e,t,i){return tH('<div class="firebaseui-container firebaseui-id-page-spinner">'+a2({tb:!0},null,i)+"</div>")}function ov(){return tH('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function oy(e,t,i){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+tG(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tH('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+aq({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>",tH(t)}function ob(e,t,i){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+tH('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+aq({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>",tH(e)}function ox(e,t,i){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+aG(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq(null)+aj(null)+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oE(){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq({label:tX("Dismiss")})+"</div></div></div>")}function ow(){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq({label:tX("Dismiss")})+"</div></div></div>")}function oT(e,t,i){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You’ve already used <strong>"+tG(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+aX()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+aK()+'</div><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oS(e,t,i){var n=e.email;return t="",e=tX(e=""+a3(e,i)),tH(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(n="You’ve already used <strong>"+(tG(n)+("</strong>. You can connect your <strong>"+tG(e)))+"</strong> account with <strong>"+tG(n)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+tG(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aW()+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oA(e,t,i){t="";var n=""+a3(e,i);return tH(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+tG(n=tX(n))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(n="If you still want to connect your <strong>"+tG(n)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aH()+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oC(e,t,i){var n=e.email;return t="",e=tX(e=""+a3(e,i)),tH(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(n="You’ve already used <strong>"+tG(n)+"</strong>. Sign in with "+tG(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aj({label:tX("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function o_(e,t,i){var n=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return n?r+=n="<strong>"+tG(n)+"</strong> is not authorized to view the requested page.":r+="User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+tG(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),tH(r+='</div><div class="firebaseui-form-actions">'+aq({label:tX("Back")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oI(e,t,i){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+tG(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq(null)+aj({label:tX("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oO(e){var t="";return tH(t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+tG(e.email)+"</strong></p>"+az(function(e){function t(){}var i={label:tX("New password")};for(var n in t.prototype=e,e=new t,i)e[n]=i[n];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aY()+"</div></div></form></div>")}function oP(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oM(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oR(e){var t=e.G,i="";return tH(i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+tG(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></form></div>")}function oL(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oD(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function ok(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oN(e){var t=e.G,i="";return tH(i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+tG(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oF(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oB(e){var t=e.factorId,i=e.phoneNumber;e=e.G;var n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return"phone"===t?n+=t="The <strong>"+tG(t)+" "+tG(i)+"</strong> was removed as a second authentication step.":n+="The device or app was removed as a second authentication step.",tH(n+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></form></div>")}function oU(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+aH()+"</div>":"")+"</div></div>")}function oV(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tG(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=aj({label:tX("Retry")})),tH(e+"</div></div></div>")}function oG(e){return tH(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+tG(e.errorMessage)+"</p></div></div>")}function oj(e,t,i){var n=e.Qb;return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+tG(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(n="You originally wanted to sign in with "+tG(n))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq(null)+aj({label:tX("Continue")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form></div>")}function oW(e,t,i){var n='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var s={ga:e[r]},a=(s=s||{}).ga,o=s,h="";switch((o=o||{}).ga.providerId){case"google.com":h+="firebaseui-idp-google";break;case"github.com":h+="firebaseui-idp-github";break;case"facebook.com":h+="firebaseui-idp-facebook";break;case"twitter.com":h+="firebaseui-idp-twitter";break;case"phone":h+="firebaseui-idp-phone";break;case"anonymous":h+="firebaseui-idp-anonymous";break;case"password":h+="firebaseui-idp-password";break;default:h+="firebaseui-idp-generic"}o=(o='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+tq(tY(h))+' firebaseui-id-idp-button" data-provider-id="'+tq(a.providerId)+'" style="background-color:')+tq(t$(tY((h=(h=(h=s)||{}).ga).ta?h.ta:i.wa[h.providerId]?""+i.wa[h.providerId]:0==h.providerId.indexOf("saml.")?""+i.wa.saml:0==h.providerId.indexOf("oidc.")?""+i.wa.oidc:""+i.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var c=s;h=i,h=tz((c=(c=c||{}).ga).za?tJ(c.za):h.xa[c.providerId]?tJ(h.xa[c.providerId]):0==c.providerId.indexOf("saml.")?tJ(h.xa.saml):0==c.providerId.indexOf("oidc.")?tJ(h.xa.oidc):tJ(h.xa.password)),o=o+tq(tJ(h))+'"></span>',"password"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tG(a.V):a.S?o+=s="Sign in with "+tG(a3(s,i)):o+="Sign in with email",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tG(a.S):o+"Email")+"</span>"):"phone"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tG(a.V):a.S?o+=s="Sign in with "+tG(a3(s,i)):o+="Sign in with phone",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tG(a.S):o+"Phone")+"</span>"):"anonymous"==a.providerId?(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tG(a.V):a.S?o+=s="Sign in with "+tG(a3(s,i)):o+="Continue as guest",o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',o=(a.S?o+tG(a.S):o+"Guest")+"</span>"):(o+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?o+=tG(a.V):o+=h="Sign in with "+tG(a3(s,i)),o+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(a.S?tG(a.S):tG(a3(s,i)))+"</span>"),n+='<li class="firebaseui-list-item">'+(a=tH(o+"</button>"))+"</li>"}return tH(n+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+a$(i)+"</div></div>")}function oY(e,t,i){var n,r=(e=e||{}).Gb,s=e.Va;return t=e.ia,n=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+tH(e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+tq(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>'))+(n=r?tH('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?aq(null):"")+aj({label:tX("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',i=tH((t=i.F&&i.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):i=tH('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+aJ(i),tH(n+i+"</div></form></div>")}function oH(e,t,i){t=(e=e||{}).phoneNumber;var n="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+tG(t)+"</a>",tG(t),t=n,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(n=tH('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aq(null)+aj({label:tX("Continue")})+'</div></div><div class="firebaseui-card-footer">'+aJ(i)+"</div></form>",e=tH('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),tH(t+(i+e+"</div>"))}function oz(){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function oX(e,t,i){var n='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var s=e[r],a="",o=tG(s.displayName),h=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+tq(h=tX(h))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+tq(s.tenantId)+'"':"")+'style="background-color:'+tq(t$(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+tq(tJ(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=tG(s.V):a+=s="Sign in to "+tG(s.displayName),n+='<li class="firebaseui-list-item">'+(a=tH(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return tH(n+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+a$(i)+"</div></div>")}function oK(e,t,i){return tH('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+aG(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+aj(null)+'</div></div><div class="firebaseui-card-footer">'+a$(i)+"</div></form></div>")}function oq(){return aM(this,"firebaseui-id-submit")}function oJ(){return aM(this,"firebaseui-id-secondary-link")}function o$(e,t){aF(this,oq.call(this),function(t){e(t)});var i=oJ.call(this);i&&t&&aF(this,i,function(e){t(e)})}function oQ(){return aM(this,"firebaseui-id-password")}function oZ(){return aM(this,"firebaseui-id-password-error")}function o0(){var e=oQ.call(this),t=oZ.call(this);ak(this,e,function(){aV(t)&&(aD(e,!0),aB(t))})}function o1(){var e=oQ.call(this),t=oZ.call(this);return s6(e)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tY("Enter your password").toString()),t=!1),t?s6(e):null}function o2(e,t,i,n,r,s){oa.call(this,oT,{email:e},s,"passwordLinking",{F:n,D:r}),this.w=t,this.H=i}R(os,im),R(oa,aP),(e=oa.prototype).kb=function(){var e=tF(this.fb,this.eb,this.Z,this.s);a5(e),this.g=e},e.v=function(){if(oa.K.v.call(this),iz(oo(this),new os("pageEnter",oo(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;aF(this,this.bb(),function(){e()})}if(this.ab()&&this.Z.D){var t=this.Z.D;aF(this,this.ab(),function(){t()})}},e.ya=function(){iz(oo(this),new os("pageExit",oo(this),{pageId:this.Ga})),oa.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,a4(this.N()),oa.K.o.call(this)},e.I=function(e,t,i,n){function r(){if(a.T)return null;a.Fa=!1,window.clearTimeout(a.ca),a.ca=null,a.A&&(a4(a.A),t_(a.A),a.A=null)}var s,a=this;return a.Fa?null:(a.Fa=!0,s=s5(a.N(),"firebaseui-use-spinner"),a.ca=window.setTimeout(function(){a.N()&&null===a.A&&(a.A=tF(a2,{tb:s},null,a.s),a.N().appendChild(a.A),a5(a.A))},500),e.apply(null,t).then(i,n).then(r,r))},O(oa.prototype,{a:function(e){ot.call(this);var t=tF(aQ,{message:e},null,this.s);this.N().appendChild(t),aF(this,on.call(this),function(){t_(t)})},yc:ot,Ac:oi,zc:on,$:function(e,t){e=tF(a0,{Ma:e,message:t},null,this.s),a7.call(this,e)},h:a8,Cb:oe,Cc:function(){return aM(this,"firebaseui-tos")},bb:function(){return aM(this,"firebaseui-tos-link")},ab:function(){return aM(this,"firebaseui-pp-link")},Dc:function(){return aM(this,"firebaseui-tos-list")}}),ol.a="firebaseui.auth.soy2.page.signIn",ou.a="firebaseui.auth.soy2.page.passwordSignIn",od.a="firebaseui.auth.soy2.page.passwordSignUp",of.a="firebaseui.auth.soy2.page.passwordRecovery",op.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",og.a="firebaseui.auth.soy2.page.callback",om.a="firebaseui.auth.soy2.page.spinner",ov.a="firebaseui.auth.soy2.page.blank",oy.a="firebaseui.auth.soy2.page.emailLinkSignInSent",ob.a="firebaseui.auth.soy2.page.emailNotReceived",ox.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",oE.a="firebaseui.auth.soy2.page.differentDeviceError",ow.a="firebaseui.auth.soy2.page.anonymousUserMismatch",oT.a="firebaseui.auth.soy2.page.passwordLinking",oS.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",oA.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",oC.a="firebaseui.auth.soy2.page.federatedLinking",o_.a="firebaseui.auth.soy2.page.unauthorizedUser",oI.a="firebaseui.auth.soy2.page.unsupportedProvider",oO.a="firebaseui.auth.soy2.page.passwordReset",oP.a="firebaseui.auth.soy2.page.passwordResetSuccess",oM.a="firebaseui.auth.soy2.page.passwordResetFailure",oR.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",oL.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",oD.a="firebaseui.auth.soy2.page.emailVerificationSuccess",ok.a="firebaseui.auth.soy2.page.emailVerificationFailure",oN.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",oF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",oB.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",oU.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",oV.a="firebaseui.auth.soy2.page.recoverableError",oG.a="firebaseui.auth.soy2.page.unrecoverableError",oj.a="firebaseui.auth.soy2.page.emailMismatch",oW.a="firebaseui.auth.soy2.page.providerSignIn",oY.a="firebaseui.auth.soy2.page.phoneSignInStart",oH.a="firebaseui.auth.soy2.page.phoneSignInFinish",oz.a="firebaseui.auth.soy2.page.signOut",oX.a="firebaseui.auth.soy2.page.selectTenant",oK.a="firebaseui.auth.soy2.page.providerMatchByEmail",a(o2,oa),o2.prototype.v=function(){this.P(),this.M(this.w,this.H),oc(this,this.i(),this.w),this.i().focus(),oa.prototype.v.call(this)},o2.prototype.o=function(){this.w=null,oa.prototype.o.call(this)},o2.prototype.j=function(){return s6(aM(this,"firebaseui-id-email"))},O(o2.prototype,{i:oQ,B:oZ,P:o0,u:o1,ea:oq,ba:oJ,M:o$});var o3=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function o5(){return aM(this,"firebaseui-id-email")}function o4(){return aM(this,"firebaseui-id-email-error")}function o9(e){var t=o5.call(this),i=o4.call(this);ak(this,t,function(){aV(i)&&(aD(t,!0),aB(i))}),e&&aN(this,t,function(){e()})}function o6(){return z(s6(o5.call(this))||"")}function o7(){var e=o5.call(this),t=o4.call(this),i=s6(e)||"";return i?o3.test(i)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tY("That email address isn't correct").toString()),t=!1):(aD(e,!1),aU(t,tY("Enter your email address to continue").toString()),t=!1),t?z(s6(e)):null}function o8(e,t,i,n,r,s,a){oa.call(this,ou,{email:i,ia:!!s},a,"passwordSignIn",{F:n,D:r}),this.w=e,this.H=t}function he(e,t,i,n,r,s){oa.call(this,e,t,n,r||"notice",s),this.i=i||null}function ht(e,t,i,n,r){he.call(this,op,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:i,D:n})}function hi(e,t){he.call(this,oD,{G:!!e},e,t,"emailVerificationSuccess")}function hn(e,t){he.call(this,ok,{G:!!e},e,t,"emailVerificationFailure")}function hr(e,t,i){he.call(this,oN,{email:e,G:!!t},t,i,"verifyAndChangeEmailSuccess")}function hs(e,t){he.call(this,oF,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function ha(e,t){he.call(this,oU,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function ho(e){he.call(this,oz,void 0,void 0,e,"signOut")}function hh(e,t){he.call(this,oP,{G:!!e},e,t,"passwordResetSuccess")}function hc(e,t){he.call(this,oM,{G:!!e},e,t,"passwordResetFailure")}function hl(e,t){he.call(this,oL,{G:!!e},e,t,"emailChangeRevokeFailure")}function hu(e,t,i){he.call(this,oV,{errorMessage:e,zb:!!t},t,i,"recoverableError")}function hd(e,t){he.call(this,oG,{errorMessage:e},void 0,t,"unrecoverableError")}function hf(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function hp(e,t,i,n){function r(i){if(!i.name||"cancel"!=i.name){t:{var n=i.message;try{var r=((JSON.parse(n).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var s=!0;break t}}catch(e){}s=!1}if(s)i=oo(t),t.m(),hE(e,i,void 0,tY("Your sign-in session has expired. Please try again.").toString());else{if(s=i&&i.message||"",i.code){if("auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code)return;s=hv(i)}t.a(s)}}}if(cN(e),n)return hg(e,i),nn();if(!i.credential)throw Error("No credential found!");if(!cC(e).currentUser&&!i.user)throw Error("User not logged in.");try{var s,a=(s=i,cU(e),cL(e,function(t){if(e.j&&!e.j.isAnonymous&&sx(cB(e))&&!cC(e).currentUser)return cG(e).then(function(){return"password"==s.credential.providerId&&(s.credential=null),s});if(t)return cG(e).then(function(){return t.linkWithCredential(s.credential)}).then(function(e){return s.user=e.user,s.credential=e.credential,s.operationType=e.operationType,s.additionalUserInfo=e.additionalUserInfo,s},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return cj(e,t,s.credential)});if(!s.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return cG(e).then(function(){return c_(e).updateCurrentUser(s.user)}).then(function(){return s.user=c_(e).currentUser,s.operationType="signIn",s.credential&&s.credential.providerId&&"password"==s.credential.providerId&&(s.credential=null),s})}))}catch(e){return n0(e.code||e.message,e),t.a(e.code||e.message),nn()}return i=a.then(function(t){hg(e,t)},r).then(void 0,r),ck(e,a),nn(i)}function hg(e,t){if(!t.user)throw Error("No user found");var i=sV(cB(e));if(sU(cB(e))&&i&&rs("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),i){i=sV(cB(e));var n=r4(cI(e))||void 0;r3(rZ,cI(e));var r=!1;ng()?((!i||i(t,n))&&(r=!0,ty(window.opener.location,hm(e,n))),i||window.close()):(!i||i(t,n))&&(r=!0,ty(window.location,hm(e,n))),r||e.reset()}else{i=t.user,t=t.credential,n=sU(cB(e)),r=r4(cI(e))||void 0,r3(rZ,cI(e));var s=!1;ng()?((!n||n(i,t,r))&&(s=!0,ty(window.opener.location,hm(e,r))),n||window.close()):(!n||n(i,t,r))&&(s=!0,ty(window.location,hm(e,r))),s||e.reset()}}function hm(e,t){if(!(e=t||cB(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function hv(e){var t={code:e.code},i="";switch((t=t||{}).code){case"auth/email-already-in-use":i+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":i+=tY("Please login again to perform this operation");break;case"auth/too-many-requests":i+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":i+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":i+="That email address doesn't match an existing account";break;case"auth/weak-password":i+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":i+="The email and password you entered don't match";break;case"auth/network-request-failed":i+="A network error has occurred";break;case"auth/invalid-phone-number":i+=t7();break;case"auth/invalid-verification-code":i+=tY("Wrong code. Try again.");break;case"auth/code-expired":i+="This code is no longer valid";break;case"auth/expired-action-code":i+="This code has expired.";break;case"auth/invalid-action-code":i+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=tY(i).toString())return t;try{return JSON.parse(e.message),n0("Internal error: "+e.message,void 0),ie().toString()}catch(t){return e.message}}function hy(e,t,i,n){function r(){var i,n;i=new rp(e.h.tenantId||null),n=cI(e),r5(rQ,{tenantId:i.a},n),ck(e,t.I(_(e.dc,e),[c],function(){if("file:"===(window.location&&window.location.protocol))return ck(e,cT(e).then(function(i){t.m(),r3(rQ,cI(e)),s2("callback",e,h,nn(i))},a))},o))}function a(n){if(r3(rQ,cI(e)),!n.name||"cancel"!=n.name)switch((n=hf(n)).code){case"auth/popup-blocked":r();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(hv(n));break;case"auth/admin-restricted-operation":t.m(),sI(cB(e))?s2("handleUnauthorizedUser",e,h,null,i):s2("callback",e,h,nr(n));break;default:t.m(),s2("callback",e,h,nr(n))}}function o(i){r3(rQ,cI(e)),i.name&&"cancel"==i.name||(n0("signInWithRedirect: "+i.code,void 0),i=hv(i),"blank"==t.Ga&&sF(cB(e))?(t.m(),s2("providerSignIn",e,h,i)):t.a(i))}var h=oo(t),c=function(e,t,i){var n=sy[t]&&s.default.auth[sy[t]]?new s.default.auth[sy[t]]:0==t.indexOf("saml.")?new s.default.auth.SAMLAuthProvider(t):new s.default.auth.OAuthProvider(t);if(!n)throw Error("Invalid Firebase Auth provider!");var r=sO(cB(e),t);if(n.addScope)for(var a=0;a<r.length;a++)n.addScope(r[a]);return r=sP(cB(e),t)||{},i&&(e=t==s.default.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==s.default.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=sS(cB(e),t))&&e.Ob)&&(r[e]=i),n.setCustomParameters&&n.setCustomParameters(r),n}(e,i,n);sB(cB(e))==sJ?r():ck(e,(cU(e),cL(e,function(t){return t&&!r9(cI(e))?t.linkWithPopup(c).then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return cj(e,t)}):cC(e).signInWithPopup(c)})).then(function(i){t.m(),s2("callback",e,h,nn(i))},a))}function hb(e){return 1==(e=sT(cB(e))).length&&e[0]==s.default.auth.EmailAuthProvider.PROVIDER_ID}function hx(e){return 1==(e=sT(cB(e))).length&&e[0]==s.default.auth.PhoneAuthProvider.PROVIDER_ID}function hE(e,t,i,n){hb(e)?n?s2("signIn",e,t,i,n):hA(e,t,i):e&&hx(e)&&!n?s2("phoneSignInStart",e,t):e&&sF(cB(e))&&!n?s2("federatedRedirect",e,t,i):s2("providerSignIn",e,t,n,i)}function hw(e,t,i,n){var r=oo(t);ck(e,t.I(_(cC(e).fetchSignInMethodsForEmail,cC(e)),[i],function(s){t.m(),hT(e,r,s,i,n)},function(e){e=hv(e),t.a(e)}))}function hT(e,t,i,n,r,a){var o,h;i.length||sN(cB(e))&&!sN(cB(e))?G(i,s.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?s2("passwordSignIn",e,t,n,a):1==i.length&&i[0]===s.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?sN(cB(e))?s2("sendEmailLinkForSignIn",e,t,n,function(){s2("signIn",e,t)}):s2("unsupportedProvider",e,t,n):(i=sm(i,sT(cB(e))))?(o=new ru(n),h=cI(e),r5(r$,rd(o),h),s2("federatedSignIn",e,t,n,i,r)):s2("unsupportedProvider",e,t,n):s_(cB(e))?s2("handleUnauthorizedUser",e,t,n,s.default.auth.EmailAuthProvider.PROVIDER_ID):sN(cB(e))?s2("sendEmailLinkForSignIn",e,t,n,function(){s2("signIn",e,t)}):s2("passwordSignUp",e,t,n,void 0,void 0,a)}function hS(e,t,i,n,r,s){var a=oo(t);ck(e,t.I(_(e.Ib,e),[i,s],function(){t.m(),s2("emailLinkSignInSent",e,a,i,n,s)},r))}function hA(e,t,i){i?s2("prefilledEmailSignIn",e,t,i):s2("signIn",e,t)}function hC(){return eg(ny(),"oobCode")}function h_(){var e=eg(ny(),"continueUrl");return e?function(){ty(window.location,e)}:null}function hI(e,t){oa.call(this,ow,void 0,t,"anonymousUserMismatch"),this.i=e}function hO(e){oa.call(this,og,void 0,e,"callback")}function hP(e,t,i){if(i.user){var n,r,s={user:i.user,credential:i.credential,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo},a=r9(cI(e)),o=a&&a.g;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData){for(var i=0;i<e.providerData.length;i++)if(t==e.providerData[i].email)return!0}return!1}(i.user,o))n=s,r=oo(t),ck(e,cG(e).then(function(){t.m(),s2("emailMismatch",e,r,n)},function(e){e.name&&"cancel"==e.name||(e=hv(e.code),t.a(e))}));else{var h=a&&a.a;h?ck(e,i.user.linkWithCredential(h).then(function(i){hM(e,t,s={user:i.user,credential:h,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo})},function(i){hR(e,t,i)})):hM(e,t,s)}}else i=oo(t),t.m(),r6(cI(e)),hE(e,i)}function hM(e,t,i){r6(cI(e)),hp(e,t,i)}function hR(e,t,i){var n=oo(t);r6(cI(e)),i=hv(i),t.m(),hE(e,n,void 0,i)}function hL(e,t,i,n){var r=oo(t);ck(e,cC(e).fetchSignInMethodsForEmail(i).then(function(a){t.m(),a.length?G(a,s.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?s2("passwordLinking",e,r,i):1==a.length&&a[0]===s.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?s2("emailLinkSignInLinking",e,r,i):(a=sm(a,sT(cB(e))))?s2("federatedLinking",e,r,i,a,n):(r6(cI(e)),s2("unsupportedProvider",e,r,i)):(r6(cI(e)),s2("passwordRecovery",e,r,i,!1,it().toString()))},function(i){hR(e,t,i)}))}function hD(e,t){oa.call(this,oE,void 0,t,"differentDeviceError"),this.i=e}function hk(e,t,i,n){oa.call(this,oR,{email:e,G:!!i},n,"emailChangeRevoke"),this.l=t,this.i=i||null}function hN(){return aM(this,"firebaseui-id-new-password")}function hF(){return aM(this,"firebaseui-id-password-toggle")}function hB(){this.Ra=!this.Ra;var e=hF.call(this),t=hN.call(this);this.Ra?(t.type="text",s4(e,"firebaseui-input-toggle-off"),s9(e,"firebaseui-input-toggle-on")):(t.type="password",s4(e,"firebaseui-input-toggle-on"),s9(e,"firebaseui-input-toggle-off")),t.focus()}function hU(){return aM(this,"firebaseui-id-new-password-error")}function hV(){this.Ra=!1;var e,t,i,n,r=hN.call(this);r.type="password";var s=hU.call(this);ak(this,r,function(){aV(s)&&(aD(r,!0),aB(s))});var a=hF.call(this);s4(a,"firebaseui-input-toggle-on"),s9(a,"firebaseui-input-toggle-off"),e=r,t=function(){s4(a,"firebaseui-input-toggle-focus"),s9(a,"firebaseui-input-toggle-blur")},ic(this,I(il,e=new aa(e))),au(aR(this),e,"focusin",t),i=r,n=function(){s4(a,"firebaseui-input-toggle-blur"),s9(a,"firebaseui-input-toggle-focus")},ic(this,I(il,i=new aa(i))),au(aR(this),i,"focusout",n),aF(this,a,_(hB,this))}function hG(){var e=hN.call(this),t=hU.call(this);return s6(e)?(aD(e,!0),aB(t),t=!0):(aD(e,!1),aU(t,tY("Enter your password").toString()),t=!1),t?s6(e):null}function hj(e,t,i){oa.call(this,oO,{email:e},i,"passwordReset"),this.l=t}function hW(e,t,i,n,r){oa.call(this,oB,{factorId:e,phoneNumber:i||null,G:!!n},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=n||null}function hY(e,t,i,n){"auth/weak-password"==(n&&n.code)?(e=hv(n),aD(i.i(),!1),aU(i.w(),e),i.i().focus()):(i&&i.m(),(i=new hc).render(t),cS(e,i))}function hH(e,t){try{var i="number"==typeof e.selectionStart}catch(e){i=!1}i?(e.selectionStart=t,e.selectionEnd=t):ez&&!e4("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function hz(e,t,i,n,r,s){oa.call(this,ox,{email:i},s,"emailLinkSignInConfirmation",{F:n,D:r}),this.l=e,this.u=t}function hX(e,t,i,n,r){oa.call(this,oA,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:i,D:n}),this.i=t}function hK(e){oa.call(this,ov,void 0,e,"blank")}function hq(e,t,i,n,r){var a=new hK,o=new eN(i),h=o.a.a.get(eU.$a)||"",c=o.a.a.get(eU.Sa)||"",l="1"===o.a.a.get(eU.Qa),u=eF(o),d=o.a.a.get(eU.PROVIDER_ID)||null;cF(e,o=o.a.a.get(eU.vb)||null);var f=!r2(r0,cI(e)),p=n||function(e,t){t=r2(r0,t);var i=null;if(t)try{var n=rk(e,t),r=JSON.parse(n);i=r&&r.email||null}catch(e){}return i}(c,cI(e)),g=(n=function(e,t){t=r2(r1,t);var i=null;if(t)try{var n=rk(e,t);i=JSON.parse(n)}catch(e){}return rf(i||null)}(c,cI(e)))&&n.a;d&&g&&g.providerId!==d&&(g=null),a.render(t),cS(e,a),ck(e,a.I(function(){var t,n,s=nn(null);s=u&&f||f&&l?nr(Error("anonymous-user-not-found")):((n=eF(new eN(t=i)))?(t=new i9(function(t,i){var r=c_(e).onAuthStateChanged(function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))});ck(e,r)}),ck(e,t),t):nn(null)).then(function(e){if(d&&!g)throw Error("pending-credential-not-found");return e});var a=null;return s.then(function(t){return a=t,r?null:cC(e).checkActionCode(h)}).then(function(){return a})},[],function(n){p?function(e,t,i,n,r,a){var o,h,c,l,u,d,f,p,g=oo(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tY("Signing in...").toString());var m=null;r=(a?(o=i,h=r,cU(e),c=h||null,l=(0,s.default).auth.EmailAuthProvider.credentialWithLink(o,n),o=c?cC(e).signInWithEmailLink(o,n).then(function(e){return e.user.linkWithCredential(c)}).then(function(){return cG(e)}).then(function(){return cj(e,{code:"auth/email-already-in-use"},c)}):cC(e).fetchSignInMethodsForEmail(o).then(function(t){return t.length?cj(e,{code:"auth/email-already-in-use"},l):a.linkWithCredential(l)}),ck(e,o),o):(u=i,d=r,cU(e),p=d||null,u=cC(e).signInWithEmailLink(u,n).then(function(e){if(f={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},p)return e.user.linkWithCredential(p).then(function(e){f={user:e.user,credential:p,operationType:f.operationType,additionalUserInfo:e.additionalUserInfo}})}).then(function(){cG(e)}).then(function(){return c_(e).updateCurrentUser(f.user)}).then(function(){return f.user=c_(e).currentUser,f}),ck(e,u),u)).then(function(i){r3(r1,cI(e)),r3(r0,cI(e)),t.h(),t.$("firebaseui-icon-done",tY("Signed in!").toString()),m=setTimeout(function(){t.h(),hp(e,t,i,!0)},1e3),ck(e,function(){t&&(t.h(),t.m()),clearTimeout(m)})},function(r){if(t.h(),t.m(),!r.name||"cancel"!=r.name){var s=hv(r=hf(r));"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(r3(r1,cI(e)),r3(r0,cI(e))):"auth/invalid-email"==r.code?s2("emailLinkConfirmation",e,g,n,hJ,null,s=tY("The email provided does not match the current sign-in session.").toString()):hE(e,g,i,s)}}),ck(e,r)}(e,a,p,i,g,n):l?(a.m(),s2("differentDeviceError",e,t)):(a.m(),s2("emailLinkConfirmation",e,t,i,hJ))},function(n){var r=void 0;if(!n||!n.name||"cancel"!=n.name)switch(a.m(),n&&n.message){case"anonymous-user-not-found":s2("differentDeviceError",e,t);break;case"anonymous-user-mismatch":s2("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":s2("emailLinkNewDeviceLinking",e,t,i,h$);break;default:n&&(r=hv(n)),hE(e,t,void 0,r)}}))}function hJ(e,t,i,n){hq(e,t,n,i,!0)}function h$(e,t,i){hq(e,t,i)}function hQ(e,t,i,n,r,s){oa.call(this,oS,{email:e,ga:t},s,"emailLinkSignInLinking",{F:n,D:r}),this.i=i}function hZ(e,t,i,n,r,s){oa.call(this,oy,{email:e},s,"emailLinkSignInSent",{F:n,D:r}),this.u=t,this.i=i}function h0(e,t,i,n,r,s,a){oa.call(this,oj,{jc:e,Qb:t},a,"emailMismatch",{F:r,D:s}),this.l=i,this.i=n}function h1(e,t,i,n,r){oa.call(this,ob,void 0,r,"emailNotReceived",{F:i,D:n}),this.l=e,this.i=t}function h2(e,t,i,n,r,s){oa.call(this,oC,{email:e,ga:t},s,"federatedLinking",{F:n,D:r}),this.i=i}function h3(e,t,i,n,r,s){oa.call(this,of,{email:i,Ta:!!t},s,"passwordRecovery",{F:n,D:r}),this.l=e,this.u=t}function h5(){return aM(this,"firebaseui-id-name")}function h4(){return aM(this,"firebaseui-id-name-error")}function h9(e,t,i,n,r,s,a,o,h){oa.call(this,od,{email:n,Tb:e,name:r,Ta:!!i,ia:!!o},h,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=i,this.B=e}function h6(){return aM(this,"firebaseui-id-phone-confirmation-code")}function h7(){return aM(this,"firebaseui-id-phone-confirmation-code-error")}function h8(){return aM(this,"firebaseui-id-resend-countdown")}function ce(e,t,i,n,r,s,a,o,h){oa.call(this,oH,{phoneNumber:r},h,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new ao(1e3),this.B=s,this.P=e,this.l=t,this.H=i,this.M=n}a(o8,oa),o8.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),oh(this,this.l(),this.i()),oc(this,this.i(),this.w),s6(this.l())?this.i().focus():this.l().focus(),oa.prototype.v.call(this)},o8.prototype.o=function(){this.H=this.w=null,oa.prototype.o.call(this)},O(o8.prototype,{l:o5,U:o4,P:o9,M:o6,j:o7,i:oQ,B:oZ,ea:o0,u:o1,ua:oq,pa:oJ,ba:o$}),R(he,oa),he.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),he.K.v.call(this)},he.prototype.o=function(){this.i=null,he.K.o.call(this)},O(he.prototype,{l:oq,w:oJ,u:o$}),R(ht,he),R(hi,he),R(hn,he),R(hr,he),R(hs,he),R(ha,he),R(ho,he),R(hh,he),R(hc,he),R(hl,he),R(hu,he),R(hd,he),a(hI,oa),hI.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),this.l().focus(),oa.prototype.v.call(this)},hI.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(hI.prototype,{l:oJ}),s1.anonymousUserMismatch=function(e,t){var i=new hI(function(){i.m(),hE(e,t)});i.render(t),cS(e,i)},a(hO,oa),hO.prototype.I=function(e,t,i,n){return e.apply(null,t).then(i,n)},s1.callback=function(e,t,i){var n=new hO;n.render(t),cS(e,n),i=i||cT(e),ck(e,i.then(function(t){hP(e,n,t)},function(i){if((i=hf(i))&&("auth/account-exists-with-different-credential"==i.code||"auth/email-already-in-use"==i.code)&&i.email&&i.credential){var r,s;r=new ru(i.email,i.credential),s=cI(e),r5(r$,rd(r),s),hL(e,n,i.email)}else if(i&&"auth/user-cancelled"==i.code){var a=r9(cI(e)),o=hv(i);a&&a.a?hL(e,n,a.g,o):a?hw(e,n,a.g,o):hR(e,n,i)}else i&&"auth/credential-already-in-use"==i.code||(i&&"auth/operation-not-supported-in-this-environment"==i.code&&hb(e)?hP(e,n,{user:null,credential:null}):i&&"auth/admin-restricted-operation"==i.code&&sI(cB(e))?(n.m(),r6(cI(e)),s2("handleUnauthorizedUser",e,t,null,null)):hR(e,n,i))}))},a(hD,oa),hD.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),this.l().focus(),oa.prototype.v.call(this)},hD.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(hD.prototype,{l:oJ}),s1.differentDeviceError=function(e,t){var i=new hD(function(){i.m(),hE(e,t)});i.render(t),cS(e,i)},a(hk,oa),hk.prototype.v=function(){var e=this;aF(this,aM(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),oa.prototype.v.call(this)},hk.prototype.o=function(){this.l=this.i=null,oa.prototype.o.call(this)},O(hk.prototype,{u:oq,B:oJ,w:o$}),a(hj,oa),hj.prototype.v=function(){this.H(),this.B(this.l),oc(this,this.i(),this.l),this.i().focus(),oa.prototype.v.call(this)},hj.prototype.o=function(){this.l=null,oa.prototype.o.call(this)},O(hj.prototype,{i:hN,w:hU,M:hF,H:hV,u:hG,U:oq,P:oJ,B:o$}),a(hW,oa),hW.prototype.v=function(){var e=this;aF(this,aM(this,"firebaseui-id-reset-password-link"),function(){e.l()}),this.i&&(this.w(this.i),this.u().focus()),oa.prototype.v.call(this)},hW.prototype.o=function(){this.l=this.i=null,oa.prototype.o.call(this)},O(hW.prototype,{u:oq,B:oJ,w:o$}),s1.passwordReset=function(e,t,i,n){ck(e,cC(e).verifyPasswordResetCode(i).then(function(r){var s=new hj(r,function(){var r;(r=s.u())&&ck(e,s.I(_(cC(e).confirmPasswordReset,cC(e)),[i,r],function(){s.m();var i=new hh(n);i.render(t),cS(e,i)},function(i){hY(e,t,s,i)}))});s.render(t),cS(e,s)},function(){hY(e,t)}))},s1.emailChangeRevocation=function(e,t,i){var n=null;ck(e,cC(e).checkActionCode(i).then(function(t){return n=t.data.email,cC(e).applyActionCode(i)}).then(function(){var i,r;(r=new hk(i=n,function(){ck(e,r.I(_(cC(e).sendPasswordResetEmail,cC(e)),[i],function(){r.m(),(r=new ht(i,void 0,sL(cB(e)),sD(cB(e)))).render(t),cS(e,r)},function(){r.a(t8().toString())}))})).render(t),cS(e,r)},function(){var i=new hl;i.render(t),cS(e,i)}))},s1.emailVerification=function(e,t,i,n){ck(e,cC(e).applyActionCode(i).then(function(){var i=new hi(n);i.render(t),cS(e,i)},function(){var i=new hn;i.render(t),cS(e,i)}))},s1.revertSecondFactorAddition=function(e,t,i){var n=null,r=null;ck(e,cC(e).checkActionCode(i).then(function(t){return n=t.data.email,r=t.data.multiFactorInfo,cC(e).applyActionCode(i)}).then(function(){var i,s,a;i=n,(a=new hW((s=r).factorId,function(){a.I(_(cC(e).sendPasswordResetEmail,cC(e)),[i],function(){a.m(),(a=new ht(i,void 0,sL(cB(e)),sD(cB(e)))).render(t),cS(e,a)},function(){a.a(t8().toString())})},s.phoneNumber)).render(t),cS(e,a)},function(){var i=new ha;i.render(t),cS(e,i)}))},s1.verifyAndChangeEmail=function(e,t,i,n){var r=null;ck(e,cC(e).checkActionCode(i).then(function(t){return r=t.data.email,cC(e).applyActionCode(i)}).then(function(){var i=new hr(r,n);i.render(t),cS(e,i)},function(){var i=new hs;i.render(t),cS(e,i)}))},a(hz,oa),hz.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),hH(this.i(),(this.i().value||"").length),oa.prototype.v.call(this)},hz.prototype.o=function(){this.u=this.l=null,oa.prototype.o.call(this)},O(hz.prototype,{i:o5,M:o4,w:o9,H:o6,j:o7,U:oq,P:oJ,B:o$}),s1.emailLinkConfirmation=function(e,t,i,n,r,s){var a=new hz(function(){var r=a.j();r?(a.m(),n(e,t,r,i)):a.i().focus()},function(){a.m(),hE(e,t,r||void 0)},r||void 0,sL(cB(e)),sD(cB(e)));a.render(t),cS(e,a),s&&a.a(s)},a(hX,oa),hX.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},hX.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(hX.prototype,{l:oq,u:o$}),s1.emailLinkNewDeviceLinking=function(e,t,i,n){var r=new eN(i);if(i=r.a.a.get(eU.PROVIDER_ID)||null,eB(r,null),i){var s=new hX(sS(cB(e),i),function(){s.m(),n(e,t,r.toString())},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s)}else hE(e,t)},a(hK,oa),s1.emailLinkSignInCallback=hq,a(hQ,oa),hQ.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},hQ.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(hQ.prototype,{l:oq,u:o$}),s1.emailLinkSignInLinking=function(e,t,i){var n=r9(cI(e));if(r6(cI(e)),n){var r=n.a.providerId,s=new hQ(i,sS(cB(e),r),function(){var t;t=oo(s),hS(e,s,i,function(){hE(e,t,i)},function(n){if(!n.name||"cancel"!=n.name){var r=hv(n);n&&"auth/network-request-failed"==n.code?s.a(r):(s.m(),hE(e,t,i,r))}},n)},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s)}else hE(e,t)},a(hZ,oa),hZ.prototype.v=function(){var e=this;aF(this,this.l(),function(){e.i()}),aF(this,aM(this,"firebaseui-id-trouble-getting-email-link"),function(){e.u()}),this.l().focus(),oa.prototype.v.call(this)},hZ.prototype.o=function(){this.i=this.u=null,oa.prototype.o.call(this)},O(hZ.prototype,{l:oJ}),s1.emailLinkSignInSent=function(e,t,i,n,r){var s=new hZ(i,function(){s.m(),s2("emailNotReceived",e,t,i,n,r)},function(){s.m(),n()},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s)},a(h0,oa),h0.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),oa.prototype.v.call(this)},h0.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(h0.prototype,{u:oq,B:oJ,w:o$}),s1.emailMismatch=function(e,t,i){var n=r9(cI(e));if(n){var r=new h0(i.user.email,n.g,function(){r6(cI(e)),hp(e,r,i)},function(){var t=i.credential.providerId,s=oo(r);r.m(),n.a?s2("federatedLinking",e,s,n.g,t):s2("federatedSignIn",e,s,n.g,t)},sL(cB(e)),sD(cB(e)));r.render(t),cS(e,r)}else hE(e,t)},a(h1,oa),h1.prototype.v=function(){var e=this;aF(this,this.u(),function(){e.i()}),aF(this,this.Da(),function(){e.l()}),this.u().focus(),oa.prototype.v.call(this)},h1.prototype.Da=function(){return aM(this,"firebaseui-id-resend-email-link")},h1.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},O(h1.prototype,{u:oJ}),s1.emailNotReceived=function(e,t,i,n,r){var s=new h1(function(){hS(e,s,i,n,function(e){e=hv(e),s.a(e)},r)},function(){s.m(),hE(e,t,i)},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s)},a(h2,oa),h2.prototype.v=function(){this.u(this.i),this.l().focus(),oa.prototype.v.call(this)},h2.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(h2.prototype,{l:oq,u:o$}),s1.federatedLinking=function(e,t,i,n,r){var s=r9(cI(e));if(s&&s.a){var a=new h2(i,sS(cB(e),n),function(){hy(e,a,n,i)},sL(cB(e)),sD(cB(e)));a.render(t),cS(e,a),r&&a.a(r)}else hE(e,t)},s1.federatedRedirect=function(e,t,i){var n=new hK;n.render(t),cS(e,n),t=sT(cB(e))[0],hy(e,n,t,i)},s1.federatedSignIn=function(e,t,i,n,r){var s=new h2(i,sS(cB(e),n),function(){hy(e,s,n,i)},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s),r&&s.a(r)},s1.passwordLinking=function(e,t,i){var n=r9(cI(e));r6(cI(e));var r=n&&n.a;if(r){var s=new o2(i,function(){var t;(t=s.u())?ck(e,s.I(_(e.Xb,e),[i,t],function(t){return t=t.user.linkWithCredential(r).then(function(t){return hp(e,s,{user:t.user,credential:r,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo})}),ck(e,t),t},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":aD(s.i(),!1),aU(s.B(),hv(e));break;case"auth/too-many-requests":s.a(hv(e));break;default:n0("signInWithEmailAndPassword: "+e.message,void 0),s.a(hv(e))}})):s.i().focus()},function(){s.m(),s2("passwordRecovery",e,t,i)},sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s)}else hE(e,t)},a(h3,oa),h3.prototype.v=function(){this.B(),this.H(this.l,this.u),s6(this.i())||this.i().focus(),oc(this,this.i(),this.l),oa.prototype.v.call(this)},h3.prototype.o=function(){this.u=this.l=null,oa.prototype.o.call(this)},O(h3.prototype,{i:o5,w:o4,B:o9,M:o6,j:o7,U:oq,P:oJ,H:o$}),s1.passwordRecovery=function(e,t,i,n,r){var s=new h3(function(){!function(e,t){var i=t.j();if(i){var n=oo(t);ck(e,t.I(_(cC(e).sendPasswordResetEmail,cC(e)),[i],function(){t.m();var r=new ht(i,function(){r.m(),hE(e,n)},sL(cB(e)),sD(cB(e)));r.render(n),cS(e,r)},function(e){aD(t.i(),!1),aU(t.w(),hv(e))}))}else t.i().focus()}(e,s)},n?void 0:function(){s.m(),hE(e,t)},i,sL(cB(e)),sD(cB(e)));s.render(t),cS(e,s),r&&s.a(r)},s1.passwordSignIn=function(e,t,i,n){var r=new o8(function(){!function(e,t){var i=t.j(),n=t.u();if(i){if(n){var r=(0,s.default).auth.EmailAuthProvider.credential(i,n);ck(e,t.I(_(e.bc,e),[i,n],function(i){return hp(e,t,{user:i.user,credential:r,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo})},function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":aD(t.l(),!1),aU(t.U(),hv(e));break;case"auth/too-many-requests":case"auth/wrong-password":aD(t.i(),!1),aU(t.B(),hv(e));break;default:n0("verifyPassword: "+e.message,void 0),t.a(hv(e))}}))}else t.i().focus()}else t.l().focus()}(e,r)},function(){var i=r.M();r.m(),s2("passwordRecovery",e,t,i)},i,sL(cB(e)),sD(cB(e)),n);r.render(t),cS(e,r)},a(h9,oa),h9.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(oh(this,this.i(),this.u()),oh(this,this.u(),this.l())):oh(this,this.i(),this.l()),this.w&&oc(this,this.l(),this.w),s6(this.i())?this.B&&!s6(this.u())?this.u().focus():this.l().focus():this.i().focus(),oa.prototype.v.call(this)},h9.prototype.o=function(){this.H=this.w=null,oa.prototype.o.call(this)},O(h9.prototype,{i:o5,U:o4,ea:o9,jb:o6,j:o7,u:h5,Bc:h4,Ja:function(){var e=h5.call(this),t=h4.call(this);ak(this,e,function(){aV(t)&&(aD(e,!0),aB(t))})},M:function(){var e=h5.call(this),t=h4.call(this),i=s6(e);return aD(e,i=!/^[\s\xa0]*$/.test(null==i?"":String(i))),i?(aB(t),t=!0):(aU(t,tY("Enter your account name").toString()),t=!1),t?z(s6(e)):null},l:hN,ba:hU,lb:hF,ua:hV,P:hG,Nb:oq,Mb:oJ,pa:o$}),s1.passwordSignUp=function(e,t,i,n,r,a){var o=new h9(sk(cB(e)),function(){!function(e,t){var i=sk(cB(e)),n=t.j(),r=null;i&&(r=t.M());var a=t.P();if(n){if(i){if(r)r=et(r);else{t.u().focus();return}}if(a){var o=(0,s.default).auth.EmailAuthProvider.credential(n,a);ck(e,t.I(_(e.Yb,e),[n,a],function(n){var s={user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};return i?(n=n.user.updateProfile({displayName:r}).then(function(){return hp(e,t,s)}),ck(e,n),n):hp(e,t,s)},function(i){if(!i.name||"cancel"!=i.name){var r=hf(i);switch(i=hv(r),r.code){case"auth/email-already-in-use":return function(e,t,i,n){function r(){var e=hv(n);aD(t.i(),!1),aU(t.U(),e),t.i().focus()}var s=cC(e).fetchSignInMethodsForEmail(i).then(function(n){n.length?r():(n=oo(t),t.m(),s2("passwordRecovery",e,n,i,!1,it().toString()))},function(){r()});return ck(e,s),s}(e,t,n,r);case"auth/too-many-requests":i=tY("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":aD(t.l(),!1),aU(t.ba(),i);break;case"auth/admin-restricted-operation":sI(cB(e))?(i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,n,s.default.auth.EmailAuthProvider.PROVIDER_ID)):t.a(i);break;default:n0(r="setAccountInfo: "+rF(r),void 0),t.a(i)}}}))}else t.l().focus()}else t.i().focus()}(e,o)},r?void 0:function(){o.m(),hE(e,t)},i,n,sL(cB(e)),sD(cB(e)),a);o.render(t),cS(e,o)},a(ce,oa),ce.prototype.v=function(){var e=this;this.U(this.jb),iO(this.i,"tick",this.w,!1,this),this.i.start(),aF(this,aM(this,"firebaseui-id-change-phone-number-link"),function(){e.P()}),aF(this,this.Da(),function(){e.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),oa.prototype.v.call(this)},ce.prototype.o=function(){this.M=this.H=this.l=this.P=null,ah(this.i),iR(this.i,"tick",this.w),this.i=null,oa.prototype.o.call(this)},ce.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(ah(this.i),iR(this.i,"tick",this.w),this.ua(),this.lb())},O(ce.prototype,{u:h6,pa:h7,Ja:function(e){var t=h6.call(this),i=h7.call(this);ak(this,t,function(){aV(i)&&(aD(t,!0),aB(i))}),e&&aN(this,t,function(){e()})},ba:function(){var e=z(s6(h6.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:h8,U:function(e){tO(h8.call(this),tY("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){aB(this.Fb())},Da:function(){return aM(this,"firebaseui-id-resend-link")},lb:function(){aU(this.Da())},Nb:oq,Mb:oJ,ea:o$}),s1.phoneSignInFinish=function(e,t,i,n,r,s){var a=new ce(function(){a.m(),s2("phoneSignInStart",e,t,i)},function(){!function(e,t,i,n){function r(e){t.u().focus(),aD(t.u(),!1),aU(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tY("Verifying...").toString()),ck(e,t.I(_(n.confirm,n),[s],function(i){t.h(),t.$("firebaseui-icon-done",tY("Verified!").toString());var n=setTimeout(function(){t.h(),t.m();var n={user:c_(e).currentUser,credential:null,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};hp(e,t,n,!0)},1e3);ck(e,function(){t&&t.h(),clearTimeout(n)})},function(n){if(n.name&&"cancel"==n.name)t.h();else{var s=hf(n);switch(n=hv(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=oo(t),t.h(),t.m(),s2("phoneSignInStart",e,s,i,n);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(n);break;default:t.h(),t.a(n)}}}))):r(tY("Wrong code. Try again.").toString())}(e,a,i,r)},function(){a.m(),hE(e,t)},function(){a.m(),s2("phoneSignInStart",e,t,i)},sg(i),n,sL(cB(e)),sD(cB(e)));a.render(t),cS(e,a),s&&a.a(s)};var ct=!ez&&!(ej("Safari")&&!(eW()||ej("Coast")||ej("Opera")||ej("Edge")||ej("Firefox")||ej("FxiOS")||ej("Silk")||ej("Android")));function ci(e,t){return/-[a-z]/.test(t)?null:ct&&e.dataset?!ej("Android")||eW()||ej("Firefox")||ej("FxiOS")||ej("Opera")||ej("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function cn(e,t,i){var n=this;e=tF(a1,{items:e},null,this.s),a7.call(this,e,!0,!0),i&&(i=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var i=0;i<e.length;i++)if(ci(e[i],"listboxid")===t)return e[i];return null}(e,i))&&(i.focus(),function(e,t){var i=(t=t||tC(document))||tC(document),n=aC(e),r=aC(i);if(!ez||9<=Number(n8)){a=aS(i,"borderLeftWidth");var s=aS(i,"borderRightWidth");o=aS(i,"borderTopWidth"),h=aS(i,"borderBottomWidth"),s=new aT(parseFloat(o),parseFloat(s),parseFloat(h),parseFloat(a))}else{var a=aI(i,"borderLeft");s=aI(i,"borderRight");var o=aI(i,"borderTop"),h=aI(i,"borderBottom");s=new aT(o,s,h,a)}i==tC(document)?(a=n.a-i.scrollLeft,n=n.g-i.scrollTop,!ez||10<=Number(n8)||(a+=s.left,n+=s.top)):(a=n.a-r.a-s.left,n=n.g-r.g-s.top),r=e.offsetWidth,s=e.offsetHeight,o=eJ&&!r&&!s,e=(!d(r)||o)&&e.getBoundingClientRect?new tx((e=aA(e)).right-e.left,e.bottom-e.top):new tx(r,s),r=i.clientHeight-e.height,s=i.scrollLeft,o=i.scrollTop,s+=Math.min(a,Math.max(a-(i.clientWidth-e.width),0)),o+=Math.min(n,Math.max(n-r,0)),i=new tb(s,o),t.scrollLeft=i.a,t.scrollTop=i.g}(i,e)),aF(this,e,function(e){(e=(e=tP(e.target,"firebaseui-id-list-box-dialog-button"))&&ci(e,"listboxid"))&&(a8.call(n),t(e))})}function cr(){return aM(this,"firebaseui-id-phone-number")}function cs(){return aM(this,"firebaseui-id-country-selector")}function ca(){return aM(this,"firebaseui-id-phone-number-error")}function co(e,t){var i=e.a,n=ch("1-US-0",i),r=null;if(!(r=t&&ch(t,i)?t:n?"1-US-0":0<i.length?i[0].c:null))throw Error("No available default country");cd.call(this,r,e)}function ch(e,t){return!(!(e=so(e))||!G(t,e))}function cl(e){return"firebaseui-flag-"+e.f}function cu(e){var t=this;cn.call(this,e.a.map(function(e){return{id:e.c,Ma:"firebaseui-flag "+cl(e),label:e.name+" ‎+"+e.b}}),function(i){cd.call(t,i,e,!0),t.O().focus()},this.Ba)}function cd(e,t,i){var n=so(e);n&&(i&&(t=sa(t,i=z(s6(cr.call(this))||""))).length&&t[0].b!=n.b&&(i="+"+n.b+i.substr(t[0].b.length+1),s7(cr.call(this),i)),t=so(this.Ba),this.Ba=e,e=aM(this,"firebaseui-id-country-selector-flag"),t&&s9(e,cl(t)),s4(e,cl(n)),tO(aM(this,"firebaseui-id-country-selector-code"),"‎+"+n.b))}function cf(e,t,i,n,r,s,a,o,h,c){oa.call(this,oY,{Gb:t,Aa:h||null,Va:!!i,ia:!!s},c,"phoneSignInStart",{F:n,D:r}),this.H=o||null,this.M=t,this.l=e,this.w=i||null,this.pa=a||null}function cp(e,t,i,n){try{var r=t.U(sH)}catch(e){return}r?sW?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",tY("Verifying...").toString()),ck(e,t.I(_(e.cc,e),[sg(r),i],function(i){var n=oo(t);t.$("firebaseui-icon-done",tY("Code sent!").toString());var s=setTimeout(function(){t.h(),t.m(),s2("phoneSignInFinish",e,n,r,15,i)},1e3);ck(e,function(){t&&t.h(),clearTimeout(s)})},function(i){if(t.h(),!i.name||"cancel"!=i.name){grecaptcha.reset(sz),sW=null;var n=i&&i.message||"";if(i.code)switch(i.code){case"auth/too-many-requests":n=tY("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":t.O().focus(),aU(t.B(),t7().toString());return;case"auth/admin-restricted-operation":if(sI(cB(e))){i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,sg(r),s.default.auth.PhoneAuthProvider.PROVIDER_ID);return}n=hv(i);break;default:n=hv(i)}t.a(n)}}))):sY?aU(t.u(),tY("Solve the reCAPTCHA").toString()):!sY&&n&&t.i().click():(t.O().focus(),aU(t.B(),t7().toString()))}function cg(e,t,i,n,r){oa.call(this,oW,{Sb:t},r,"providerSignIn",{F:i,D:n}),this.i=e}function cm(e,t,i,n,r,s,a){oa.call(this,ol,{email:i,Va:!!t,ia:!!s},a,"signIn",{F:n,D:r}),this.i=e,this.u=t}function cv(e,t,i,n,r,s,a){oa.call(this,o_,{kc:e,yb:i,Eb:!!n},a,"unauthorizedUser",{F:r,D:s}),this.l=t,this.i=n}function cy(e,t,i,n,r,s){oa.call(this,oI,{email:e},s,"unsupportedProvider",{F:n,D:r}),this.l=t,this.i=i}function cb(e,t){this.$=!1;var i=cw(t);if(cE[i])throw Error('An AuthUI instance already exists for the key "'+i+'"');cE[i]=this,this.a=e,this.u=null,this.Y=!1,cx(this.a),this.h=(0,s.default).initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(i=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===i?"":":"+i),e.options)),cx(this.h),this.h.setPersistence&&this.h.setPersistence(s.default.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new sb,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=nL.Xa(),this.j=this.C=null,this.da=this.A=!1}function cx(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}a(cf,oa),cf.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||oh(this,this.O(),this.i()),oc(this,this.i(),this.l),this.O().focus(),hH(this.O(),(this.O().value||"").length),oa.prototype.v.call(this)},cf.prototype.o=function(){this.w=this.l=null,oa.prototype.o.call(this)},O(cf.prototype,{Cb:oe,O:cr,B:ca,ea:function(e,t,i){var n=this,r=cr.call(this),s=cs.call(this),a=ca.call(this),o=e||sd,h=o.a;if(0==h.length)throw Error("No available countries provided.");co.call(n,o,t),aF(this,s,function(){cu.call(n,o)}),ak(this,r,function(){aV(a)&&(aD(r,!0),aB(a));var e=z(s6(r)||""),t=so(this.Ba),i=sa(o,e);e=ch("1-US-0",h),i.length&&i[0].b!=t.b&&(t=i[0],cd.call(n,"1"==t.b&&e?"1-US-0":t.c,o))}),i&&aN(this,r,function(){i()})},U:function(e){var t=z(s6(cr.call(this))||""),i=(e=e||sd).a,n=sa(sd,t);if(n.length&&!G(i,n[0]))throw s7(cr.call(this)),cr.call(this).focus(),aU(ca.call(this),tY("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return i=so(this.Ba),n.length&&n[0].b!=i.b&&cd.call(this,n[0].c,e),n.length&&(t=t.substr(n[0].b.length+1)),t?new sf(this.Ba,t):null},Ja:cs,ba:function(){return aM(this,"firebaseui-recaptcha-container")},u:function(){return aM(this,"firebaseui-id-recaptcha-error")},i:oq,ua:oJ,P:o$}),s1.phoneSignInStart=function(e,t,i,n){var r,a,o,h,c,l=function(e){var t=null;if(sE(e).forEach(function(e){e.provider==s.default.auth.PhoneAuthProvider.PROVIDER_ID&&w(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=en(e.recaptchaParameters))}),t){var i=[];s0.forEach(function(e){void 0!==t[e]&&(i.push(e),delete t[e])}),i.length&&rs('The following provided "recaptchaParameters" keys are not allowed: '+i.join(", "))}return t}(cB(e))||{};sW=null,sY=!(l&&"invisible"===l.size);var u=hx(e),d=(a=(a=(r=sw(r=cB(e),s.default.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null)&&sh(a),o=null,r&&"string"==typeof r.loginHint&&(o=sp(r.loginHint)),a&&a[0]||o&&so(o.a)||null),f=u?(h=sw(h=cB(e),s.default.auth.PhoneAuthProvider.PROVIDER_ID),c=null,h&&"string"==typeof h.loginHint&&(c=sp(h.loginHint)),h&&h.defaultNationalNumber||c&&c.Aa||null):null;d=i&&i.a||d&&d.c||null,i=i&&i.Aa||f,(f=sM(cB(e)))&&sl(f),sH=f?new ss(sM(cB(e))):sd;var p=new cf(function(t){cp(e,p,g,!(!t||!t.keyCode))},sY,u?null:function(){g.clear(),p.m(),hE(e,t)},sL(cB(e)),sD(cB(e)),u,sH,d,i);p.render(t),cS(e,p),n&&p.a(n),l.callback=function(t){p.u()&&aB(p.u()),sW=t,sY||cp(e,p,g)},l["expired-callback"]=function(){sW=null};var g=new s.default.auth.RecaptchaVerifier(sY?p.ba():p.i(),l,c_(e).app);ck(e,p.I(_(g.render,g),[],function(e){sz=e},function(i){i.name&&"cancel"==i.name||(i=hv(i),p.m(),hE(e,t,void 0,i))}))},s1.prefilledEmailSignIn=function(e,t,i){var n=new hK;n.render(t),cS(e,n),ck(e,n.I(_(cC(e).fetchSignInMethodsForEmail,cC(e)),[i],function(r){n.m();var s=!(!hb(e)||!cO(e));hT(e,t,r,i,void 0,s)},function(r){r=hv(r),n.m(),s2("signIn",e,t,i,r)}))},a(cg,oa),cg.prototype.v=function(){this.l(this.i),oa.prototype.v.call(this)},cg.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(cg.prototype,{l:function(e){function t(t){e(t)}for(var i=this.g?tw("firebaseui-id-idp-button",this.g||this.s.a):[],n=0;n<i.length;n++){var r=i[n],s=ci(r,"providerId");aF(this,r,I(t,s))}}}),s1.providerSignIn=function(e,t,i,n){var r=new cg(function(i){i==s.default.auth.EmailAuthProvider.PROVIDER_ID?(r.m(),hA(e,t,n)):i==s.default.auth.PhoneAuthProvider.PROVIDER_ID?(r.m(),s2("phoneSignInStart",e,t)):"anonymous"==i?ck(e,r.I(_(e.$b,e),[],function(t){return r.m(),hp(e,r,t,!0)},function(e){e.name&&"cancel"==e.name||(n0("ContinueAsGuest: "+e.code,void 0),e=hv(e),r.a(e))})):hy(e,r,i,n),cU(e),e.l.cancel()},sA(cB(e)),sL(cB(e)),sD(cB(e)));r.render(t),cS(e,r),i&&r.a(i),function(e){cU(e);try{var t,i;(function e(t,i,n){return t.a&&i?(t.h=!0,new i9(function(e){t.g=e,t.a.initialize({client_id:i,callback:e,auto_select:!n}),t.a.prompt()})):i?nn(nk.Xa().load().then(function(){return t.a=nR(),e(t,i,n)}).Ca(function(){return null})):nn(null)})(e.l,sC(cB(e)),(t=e,cU(t),(i=t.Z)||(i=!(!(t=sP(t=cB(t),s.default.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),i)).then(function(t){return!!e.g&&function(e,t,i){if(i&&i.credential&&i.clientId===sC(cB(e))){if(sO(cB(e),s.default.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var n,r,a=JSON.parse(atob(i.credential.split(".")[1])).email}catch(e){}return hy(e,t,s.default.auth.GoogleAuthProvider.PROVIDER_ID,a),nn(!0)}return n=(0,s.default).auth.GoogleAuthProvider.credential(i.credential),r=!1,n=t.I(_(e.ac,e),[n],function(i){var n=oo(t);t.m(),s2("callback",e,n,nn(i)),r=!0},function(i){if((!i.name||"cancel"!=i.name)&&(!i||"auth/credential-already-in-use"!=i.code)){if(i&&"auth/email-already-in-use"==i.code&&i.email&&i.credential){var n=oo(t);t.m(),s2("callback",e,n,nr(i))}else i&&"auth/admin-restricted-operation"==i.code&&sI(cB(e))?(i=oo(t),t.m(),s2("handleUnauthorizedUser",e,i,null,s.default.auth.GoogleAuthProvider.PROVIDER_ID)):(i=hv(i),t.a(i))}}),ck(e,n),n.then(function(){return r},function(){return!1})}return i&&t.a(tY("The selected credential for the authentication provider is not supported!").toString()),nn(!1)}(e,e.g,t)})}catch(e){}}(e)},s1.sendEmailLinkForSignIn=function(e,t,i,n){var r=new hO;r.render(t),cS(e,r),hS(e,r,i,n,function(n){r.m(),n&&"auth/admin-restricted-operation"==n.code&&sI(cB(e))?s2("handleUnauthorizedUser",e,t,i,s.default.auth.EmailAuthProvider.PROVIDER_ID):s2("signIn",e,t,i,n=hv(n))})},a(cm,oa),cm.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),hH(this.l(),(this.l().value||"").length),oa.prototype.v.call(this)},cm.prototype.o=function(){this.u=this.i=null,oa.prototype.o.call(this)},O(cm.prototype,{l:o5,M:o4,w:o9,H:o6,j:o7,U:oq,P:oJ,B:o$}),s1.signIn=function(e,t,i,n){var r=hb(e),s=new cm(function(){var t=s.j()||"";t&&hw(e,s,t)},r?null:function(){s.m(),hE(e,t,i)},i,sL(cB(e)),sD(cB(e)),r);s.render(t),cS(e,s),n&&s.a(n)},a(cv,oa),cv.prototype.v=function(){var e=this,t=aM(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&aF(this,t,function(){e.i()}),aF(this,this.u(),function(){e.l()}),this.u().focus(),oa.prototype.v.call(this)},cv.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},O(cv.prototype,{u:oJ}),s1.handleUnauthorizedUser=function(e,t,i,n){function r(){hE(e,t)}n===s.default.auth.EmailAuthProvider.PROVIDER_ID?r=function(){hA(e,t)}:n===s.default.auth.PhoneAuthProvider.PROVIDER_ID&&(r=function(){s2("phoneSignInStart",e,t)});var a,o,h=null,c=null;n===s.default.auth.EmailAuthProvider.PROVIDER_ID&&s_(cB(e))?(h=(a=sw(a=cB(e),s.default.auth.EmailAuthProvider.PROVIDER_ID))&&a.disableSignUp&&a.disableSignUp.adminEmail||null,c=function(e){if((e=sw(e,s.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){nm(t)}}return null}(cB(e))):sI(cB(e))&&(h=(o=(o=cB(e)).a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null,c=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){nm(t)}}return null}(cB(e)));var l=new cv(i,function(){l.m(),r()},h,c,sL(cB(e)),sD(cB(e)));l.render(t),cS(e,l)},a(cy,oa),cy.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),oa.prototype.v.call(this)},cy.prototype.o=function(){this.i=this.l=null,oa.prototype.o.call(this)},O(cy.prototype,{u:oq,B:oJ,w:o$}),s1.unsupportedProvider=function(e,t,i){var n=new cy(i,function(){n.m(),s2("passwordRecovery",e,t,i)},function(){n.m(),hE(e,t,i)},sL(cB(e)),sD(cB(e)));n.render(t),cS(e,n)};var cE={};function cw(e){return e||"[DEFAULT]"}function cT(e){return cU(e),e.i||(e.i=cL(e,function(t){return t&&!r9(cI(e))?nn(c_(e).getRedirectResult().then(function(e){return e},function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return cj(e,t)})):nn(cC(e).getRedirectResult().then(function(t){return sx(cB(e))&&!t.user&&e.j&&!e.j.isAnonymous?c_(e).getRedirectResult():t}))})),e.i}function cS(e,t){cU(e),e.g=t}var cA=null;function cC(e){return cU(e),e.h}function c_(e){return cU(e),e.a}function cI(e){return cU(e),e.oa}function cO(e){return cU(e),e.O?e.O.emailHint:void 0}function cP(e){return"signIn"===((e=new eN(e)).a.a.get(eU.ub)||null)&&!!e.a.a.get(eU.$a)}function cM(e,t,i,n){cU(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(i),e.O=n||null;var s=u.document;e.C?e.C.then(function(){"complete"==s.readyState?cR(e,t):iM(window,"load",function(){cR(e,t)})}):"complete"==s.readyState?cR(e,t):iM(window,"load",function(){cR(e,t)})}function cR(e,t){var i,n=nv(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),cA){var r=cA;cU(r),r9(cI(r))&&rs("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),cA.reset()}if(cA=e,e.T=n,i=n,e.L=null,e.J=new iK(i),e.J.register(),iO(e.J,"pageEnter",function(t){if(t=t&&t.pageId,e.L!=t){var i=cB(e);(i=sj(i).uiChanged||null)&&i(e.L,t),e.L=t}}),rH(new rz)&&rH(new rX)){t=nv(t,"Could not find the FirebaseUI widget element on the page."),n=(n=eg(n=ny(),r=si(cB(e).a,"queryParameterForSignInSuccessUrl")))?tr(ta(n)).toString():null;t:{for(s in r=eg(r=ny(),sR(cB(e)))||"",sQ)if(sQ[s].toLowerCase()==r.toLowerCase()){var s=sQ[s];break t}s="callback"}switch(s){case"callback":n&&r5(rZ,n,s=cI(e)),e.nb()?s2("callback",e,t):hE(e,t,cO(e));break;case"resetPassword":s2("passwordReset",e,t,hC(),h_());break;case"recoverEmail":s2("emailChangeRevocation",e,t,hC());break;case"revertSecondFactorAddition":s2("revertSecondFactorAddition",e,t,hC());break;case"verifyEmail":s2("emailVerification",e,t,hC(),h_());break;case"verifyAndChangeEmail":s2("verifyAndChangeEmail",e,t,hC(),h_());break;case"signIn":s2("emailLinkSignInCallback",e,t,ny()),cV();break;case"select":n&&r5(rZ,n,s=cI(e)),hE(e,t);break;default:throw Error("Unhandled widget operation.")}(t=sj(t=cB(e)).uiShown||null)&&t()}else t=nv(t,"Could not find the FirebaseUI widget element on the page."),(s=new hd(tY("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),cS(e,s);t=e.g&&"blank"==e.g.Ga&&sF(cB(e)),r7(cI(e))&&!t&&(t=r7(cI(e)),cF(e,t.a),r3(rQ,cI(e)))}function cL(e,t){if(e.A)return t(cD(e));if(ck(e,function(){e.A=!1}),sx(cB(e))){var i=new i9(function(i){ck(e,e.a.onAuthStateChanged(function(n){e.j=n,e.A||(e.A=!0,i(t(cD(e))))}))});return ck(e,i),i}return e.A=!0,t(null)}function cD(e){return cU(e),sx(cB(e))&&e.j&&e.j.isAnonymous?e.j:null}function ck(e,t){if(cU(e),t){e.s.push(t);var i=function(){var i,n,r;i=e.s,n=function(e){return e==t},r=0,function(e,t){for(var i=f(e)?e.split(""):e,n=e.length-1;0<=n;--n)n in i&&t.call(void 0,i[n],n,e)}(i,function(e,t){n.call(void 0,e,t,i)&&W(i,t)&&r++})};"function"!=typeof t&&t.then(i,i)}}function cN(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function cF(e,t){e.a.tenantId=t,e.h.tenantId=t}function cB(e){return cU(e),e.ca}function cU(e){if(e.$)throw Error("AuthUI instance is deleted!")}function cV(){var e=ny();if(cP(e)){for(var t in e=new eN(e),eU)eU.hasOwnProperty(t)&&eR(e.a.a,eU[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var i=u.document.title;u.history&&u.history.replaceState&&u.history.replaceState(t,i,e.toString())}}function cG(e){return cU(e),cC(e).signOut()}function cj(e,t,i){if(cU(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var n=sG(cB(e));return nn().then(function(){return n(new ir("anonymous-upgrade-merge-conflict",null,i||t.credential))}).then(function(){throw e.g&&(e.g.m(),e.g=null),t})}return nr(t)}function cW(e,t,i,n){oa.call(this,oK,void 0,n,"providerMatchByEmail",{F:t,D:i}),this.i=e}function cY(e,t,i,n,r){oa.call(this,oX,{ec:t},r,"selectTenant",{F:i,D:n}),this.i=e}function cH(e){oa.call(this,om,void 0,e,"spinner")}function cz(e){for(var t in this.a=new r8,se(this.a,"authDomain"),se(this.a,"displayMode",cZ),se(this.a,"tenants"),se(this.a,"callbacks"),se(this.a,"tosUrl"),se(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{st(this.a,t,e[t])}catch(e){n0('Invalid config: "'+t+'"',void 0)}}function cX(e){return e.a.get("callbacks")||{}}function cK(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&rs("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nm(t)}}return null}function cq(e){var t=e.a.get("tosUrl")||null,i=e.a.get("privacyPolicyUrl")||null;if(i&&!t&&rs("Terms of Service URL is missing, the link will not be displayed."),t&&i){if("function"==typeof i)return i;if("string"==typeof i)return function(){nm(i)}}return null}function cJ(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(c1))throw Error("Invalid tenant configuration!")}function c$(e,t,i){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var n=[];if(!(e=e[t]||e[c1]))return n0("Invalid tenant configuration: "+t+" is not configured!",void 0),n;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach(function(e){if("string"==typeof e)n.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&i?(t instanceof RegExp?t:RegExp("@"+t.replace(".","\\.")+"$")).test(i)&&n.push(e.provider):n.push(e.provider)}else n0(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)}),n}(e=cb.prototype).nb=function(){return cU(this),!!r7(cI(this))||cP(ny())},e.start=function(e,t){cM(this,e,t)},e.Db=function(){cU(this),this.Z=!0},e.reset=function(){cU(this);var e,t,i=this;this.T&&this.T.removeAttribute("lang"),this.J&&iY[t=iX((e=this.J).N())]&&iY[t].length&&(function(e,t){t:{for(var i=e.length,n=f(e)?e.split(""):e,r=0;r<i;r++)if(r in n&&t.call(void 0,n[r],r,e)){t=r;break t}t=-1}0<=t&&W(e,t)}(iY[t],function(t){return t==e}),iY[t].length||delete iY[t]),cN(this),this.O=null,cV(),r3(rQ,cI(this)),cU(this),this.l.cancel(),this.i=nn({user:null,credential:null}),cA==this&&(cA=null),this.T=null;for(var n=0;n<this.s.length;n++)"function"==typeof this.s[n]?this.s[n]():this.s[n].cancel&&this.s[n].cancel();this.s=[],r6(cI(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=cG(this).then(function(){i.C=null},function(){i.C=null}))},e.ib=function(e){cU(this);var t,i=this.ca;for(t in e)try{st(i.a,t,e[t])}catch(e){n0('Invalid config: "'+t+'"',void 0)}e$&&st(i.a,"popupMode",!1),sM(i),!this.da&&sU(cB(this))&&(rs("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){cU(this);var e=cB(this),t=si(e.a,"widgetUrl");e=sR(e);for(var i,n=t.search(ep),r=0,s=[];0<=(i=ef(t,r,e,n));)s.push(t.substring(r,i)),r=Math.min(t.indexOf("&",i)+1||n,n);s.push(t.substr(r)),t=s.join("").replace(em,"$1"),(e+=n="="+encodeURIComponent("select"))?(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n?(r=n,i=""):i=t.substring(r+1,n),n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,n=t[0]+(t[1]?"?"+t[1]:"")+t[2]):n=t,cB(this).a.get("popupMode")?(e=(window.screen.availHeight-600)/2,t=(window.screen.availWidth-500)/2,n=n||"about:blank",(e={width:500,height:600,top:0<e?e:0,left:0<t?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||n.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=np(n,e))&&e.focus()):ty(window.location,n)},e.Wa=function(){var e=this;return cU(this),this.h.app.delete().then(function(){var t=cw(cI(e));delete cE[t],e.reset(),e.$=!0})},e.Ib=function(e,t){cU(this);var i,n,r,a=this,o=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!sN(cB(this)))return nr(Error("Email link sign-in should be enabled to trigger email sending."));var h=function(e){if(sN(e)){var t={url:ny(),handleCodeInApp:!0};(e=sw(e,s.default.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&es(t,e.emailLinkSignIn()),e=t.url;var i=ny();i instanceof ev||(i=eE(i)),e instanceof ev||(e=eE(e));var n=i;i=new ev(n);var r=!!e.j;r?ey(i,e.j):r=!!e.A,r?i.A=e.A:r=!!e.h,r?i.h=e.h:r=null!=e.C;var a=e.g;if(r)eb(i,e.C);else if(r=!!e.g){if("/"!=a.charAt(0)&&(n.h&&!n.g?a="/"+a:-1!=(n=i.g.lastIndexOf("/"))&&(a=i.g.substr(0,n+1)+a)),".."==a||"."==a)a="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){n=0==a.lastIndexOf("/",0),a=a.split("/");for(var o=[],h=0;h<a.length;){var c=a[h++];"."==c?n&&h==a.length&&o.push(""):".."==c?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),n&&h==a.length&&o.push("")):(o.push(c),n=!0)}a=o.join("/")}}return r?i.g=a:r=""!==e.a.toString(),r?ex(i,eD(e.a)):r=!!e.s,r&&(i.s=e.s),t.url=i.toString(),t}return null}(cB(this)),c=new eN(h.url);return o?c.a.a.set(eU.Sa,o):eR(c.a.a,eU.Sa),t&&t.a&&(i=cI(this),r5(r1,rD(o,JSON.stringify(rd(t))),i),eB(c,t.a.providerId)),r=!(!(n=sw(n=cB(this),s.default.auth.EmailAuthProvider.PROVIDER_ID))||!n.forceSameDevice),c.a.a.set(eU.Qa,r?"1":"0"),cL(this,function(t){return t&&((t=t.uid)?c.a.a.set(eU.Pa,t):eR(c.a.a,eU.Pa)),h.url=c.toString(),cC(a).sendSignInLinkToEmail(e,h)}).then(function(){var t=cI(a),i={};i.email=e,r5(r0,rD(o,JSON.stringify(i)),t)},function(e){throw r3(r1,cI(a)),r3(r0,cI(a)),e})},e.bc=function(e,t){cU(this);var i=this;return cC(this).signInWithEmailAndPassword(e,t).then(function(n){return cL(i,function(r){return r?cG(i).then(function(){return cj(i,{code:"auth/email-already-in-use"},(0,s.default).auth.EmailAuthProvider.credential(e,t))}):n})})},e.Yb=function(e,t){cU(this);var i=this;return cL(this,function(n){if(n){var r=(0,s.default).auth.EmailAuthProvider.credential(e,t);return n.linkWithCredential(r)}return cC(i).createUserWithEmailAndPassword(e,t)})},e.ac=function(e){cU(this);var t=this;return cL(this,function(i){return i?i.linkWithCredential(e).then(function(e){return e},function(i){if(i&&"auth/email-already-in-use"==i.code&&i.email&&i.credential)throw i;return cj(t,i,e)}):cC(t).signInWithCredential(e)})},e.dc=function(e){cU(this);var t=this,i=this.i;return this.i=null,cL(this,function(i){return i&&!r9(cI(t))?i.linkWithRedirect(e):cC(t).signInWithRedirect(e)}).then(function(){},function(e){throw t.i=i,e})},e.cc=function(e,t){cU(this);var i=this;return cL(this,function(n){return n?n.linkWithPhoneNumber(e,t).then(function(e){return new nN(e,function(e){if("auth/credential-already-in-use"==e.code)return cj(i,e);throw e})}):c_(i).signInWithPhoneNumber(e,t).then(function(e){return new nN(e)})})},e.$b=function(){return cU(this),c_(this).signInAnonymously()},e.Xb=function(e,t){return cU(this),cC(this).signInWithEmailAndPassword(e,t)},a(cW,oa),cW.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),hH(this.l(),(this.l().value||"").length),oa.prototype.v.call(this)},cW.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},O(cW.prototype,{l:o5,H:o4,u:o9,B:o6,j:o7,M:oq,w:o$}),a(cY,oa),cY.prototype.v=function(){(function(e,t){function i(e){t(e)}for(var n=e.g?tw("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<n.length;r++){var s=n[r],a=ci(s,"tenantId");aF(e,s,I(i,a))}})(this,this.i),oa.prototype.v.call(this)},cY.prototype.o=function(){this.i=null,oa.prototype.o.call(this)},a(cH,oa);var cQ=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],cZ="optionFirst",c0={pc:cZ,oc:"identifierFirst"},c1="*";function c2(e,t){var i=this;this.s=nv(e),this.a={},Object.keys(t).forEach(function(e){i.a[e]=new cz(t[e])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function c3(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=c2.prototype).Ub=function(e,t){var i=this;c3(this);var n=e.apiKey;return new i9(function(e,r){if(i.a.hasOwnProperty(n)){var s=cX(i.a[n]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),c0)if(c0[t]===e)return c0[t];return cZ}(i.a[n])===cZ){var a=[];t.forEach(function(e){e=e||"_";var t=i.a[n].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[c1])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(n0("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)});var o=function(t){e(t={tenantId:t,providerIds:c$(i.a[n],t||"_")})};if(1===a.length){o(a[0].tenantId);return}i.g=new cY(function(e){c3(i),s&&s(),o(e)},a,cK(i.a[n]),cq(i.a[n]))}else i.g=new cW(function(){var r=i.g.j();if(r){for(var a=0;a<t.length;a++){var o=c$(i.a[n],t[a]||"_",r);if(0!==o.length){r={tenantId:t[a],providerIds:o,email:r},c3(i),s&&s(),e(r);return}}i.g.a(ii({code:"no-matching-tenant-for-email"}).toString())}},cK(i.a[n]),cq(i.a[n]));i.g.render(i.s),(r=cX(i.a[n]).selectTenantUiShown||null)&&r()}else{var h=Error("Invalid project configuration: API key is invalid!");h.code="invalid-configuration",i.pb(h),r(h)}})},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var i=t||void 0;cJ(this.a[e],t||"_");try{this.i=(0,s.default).app(i).auth()}catch(r){var n=this.a[e].a.get("authDomain");if(!n)throw Error("Invalid project configuration: authDomain is required!");(e=(0,s.default).initializeApp({apiKey:e,authDomain:n},i)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var i=this;return new i9(function(n,r){function s(t,n){i.j=new cb(e),cM(i.j,i.s,t,n)}var a,o,h,c,l,u,d,f,p,g=e.app.options.apiKey;i.a.hasOwnProperty(g)||r(Error("Invalid project configuration: API key is invalid!"));var m=(u=i.a[g],d=e.tenantId||"_",f=t&&t.providerIds,(d=(l=void 0===l?{}:l,cJ(a=u,o=d),h=(a=a.a.get("tenants"))[o]||a[c1],c=void 0===(c=l)?{}:c,u=Object.keys(h).filter(function(e){return cQ.includes(e)}).reduce(function(e,t){return e[t]=h[t],e},c)).signInOptions)&&f&&(d=d.filter(function(e){return"string"==typeof e?f.includes(e):f.includes(e.provider)}),u.signInOptions=d),u);c3(i),r={signInSuccessWithAuthResult:function(e){return n(e),!1}};var v=cX(i.a[g]).signInUiShown||null,y=!1;r.uiChanged=function(t,n){null===t&&"callback"===n?((t=tT("firebaseui-id-page-callback",i.s))&&aB(t),i.h=new cH,i.h.render(i.s)):y||null===t&&"spinner"===n||"blank"===n||(i.h&&(i.h.m(),i.h=null),y=!0,v&&v(e.tenantId))},m.callbacks=r,m.credentialHelper="none",t&&t.email&&(p={emailHint:t.email}),i.j?i.j.Wa().then(function(){s(m,p)}):s(m,p)})},e.reset=function(){var e=this;return nn().then(function(){e.j&&e.j.Wa()}).then(function(){e.j=null,c3(e)})},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout(function(){c3(e),e.h=new cH,e.g=e.h,e.h.render(e.s),e.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return c3(this),this.g=new ho,this.g.render(this.s),nn()},e.pb=function(e){var t,i=this,n=ii({code:e.code}).toString()||e.message;c3(this),e.retry&&"function"==typeof e.retry&&(t=function(){i.reset(),e.retry()}),this.g=new hu(n,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return nn().then(function(){var i=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(i))throw Error("Invalid project configuration: API key is invalid!");if(cJ(t.a[i],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(i=cX(t.a[i]).beforeSignInSuccess||null)?i(e):e}).then(function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t})},M("firebaseui.auth.FirebaseUiHandler",c2),M("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",c2.prototype.Ub),M("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",c2.prototype.Pb),M("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",c2.prototype.Zb),M("firebaseui.auth.FirebaseUiHandler.prototype.reset",c2.prototype.reset),M("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",c2.prototype.Vb),M("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",c2.prototype.mb),M("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",c2.prototype.Bb),M("firebaseui.auth.FirebaseUiHandler.prototype.handleError",c2.prototype.pb),M("firebaseui.auth.FirebaseUiHandler.prototype.processUser",c2.prototype.Rb),M("firebaseui.auth.AuthUI",cb),M("firebaseui.auth.AuthUI.getInstance",function(e){return cE[e=cw(e)]?cE[e]:null}),M("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",cb.prototype.Db),M("firebaseui.auth.AuthUI.prototype.start",cb.prototype.start),M("firebaseui.auth.AuthUI.prototype.setConfig",cb.prototype.ib),M("firebaseui.auth.AuthUI.prototype.signIn",cb.prototype.Wb),M("firebaseui.auth.AuthUI.prototype.reset",cb.prototype.reset),M("firebaseui.auth.AuthUI.prototype.delete",cb.prototype.Wa),M("firebaseui.auth.AuthUI.prototype.isPendingRedirect",cb.prototype.nb),M("firebaseui.auth.AuthUIError",ir),M("firebaseui.auth.AuthUIError.prototype.toJSON",ir.prototype.toJSON),M("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",sX),M("firebaseui.auth.CredentialHelper.NONE",sK),M("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),i9.prototype.catch=i9.prototype.Ca,i9.prototype.finally=i9.prototype.fc}).apply(void 0!==h?h:"undefined"!=typeof self?self:window)}).apply(void 0!==h?h:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=o.default);var c=firebaseui.auth},{"firebase/compat/app":"llQKY","firebase/compat/auth":"3ZnGS","dialog-polyfill":"a0qnr","material-design-lite/src/mdlComponentHandler":"fenpL","material-design-lite/src/button/button":"5EQJC","material-design-lite/src/progress/progress":"k5ZeA","material-design-lite/src/spinner/spinner":"8dhF5","material-design-lite/src/textfield/textfield":"kNxcX","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],"3ZnGS":[function(e,t,i){e("@firebase/auth-compat")},{"@firebase/auth-compat":"iuJLk"}],iuJLk:[function(e,t,i){var n,r=e("@parcel/transformer-js/src/esmodule-helpers.js"),s=e("@firebase/app-compat"),a=r.interopDefault(s),o=e("@firebase/auth/internal"),h=e("@firebase/component"),c=e("@firebase/util"),l=arguments[3];function u(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function d(e=(0,c.getUA)()){return!!(("file:"===u()||"ionic:"===u()||"capacitor:"===u())&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function f(){try{let e=self.localStorage,t=o._generateEventId();if(e){if(e.setItem(t,"1"),e.removeItem(t),function(e=(0,c.getUA)()){return(0,c.isIE)()&&(null==document?void 0:document.documentMode)===11||function(e=(0,c.getUA)()){return/Edge\/\d+/.test(e)}(e)}())return(0,c.isIndexedDBAvailable)();return!0}}catch(e){return p()&&(0,c.isIndexedDBAvailable)()}return!1}function p(){return void 0!==l&&"WorkerGlobalScope"in l&&"importScripts"in l}function g(){return("http:"===u()||"https:"===u()||(0,c.isBrowserExtension)()||d())&&!((0,c.isReactNative)()||(0,c.isNode)())&&f()&&!p()}function m(){return d()&&"undefined"!=typeof document}async function v(){return!!m()&&new Promise(e=>{let t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y={LOCAL:"local",NONE:"none",SESSION:"session"},b=o._assert,x="persistence";async function E(e){await e._initializationPromise;let t=w(),i=o._persistenceKeyName(x,e.config.apiKey,e.name);t&&t.setItem(i,e._getPersistence())}function w(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T=o._assert;class S{constructor(){this.browserResolver=o._getInstance(o.browserPopupRedirectResolver),this.cordovaResolver=o._getInstance(o.cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=o.browserSessionPersistence,this._completeRedirectFn=o._getRedirectResult,this._overrideRedirectResult=o._overrideRedirectResult}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,n)}async _openRedirect(e,t,i,n){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,n)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return m()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return T(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await v();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function A(e){let t;let{_tokenResponse:i}=e instanceof c.FirebaseError?e.customData:e;if(!i)return null;if(!(e instanceof c.FirebaseError)&&"temporaryProof"in i&&"phoneNumber"in i)return o.PhoneAuthProvider.credentialFromResult(e);let n=i.providerId;if(!n||n===o.ProviderId.PASSWORD)return null;switch(n){case o.ProviderId.GOOGLE:t=o.GoogleAuthProvider;break;case o.ProviderId.FACEBOOK:t=o.FacebookAuthProvider;break;case o.ProviderId.GITHUB:t=o.GithubAuthProvider;break;case o.ProviderId.TWITTER:t=o.TwitterAuthProvider;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:h,nonce:l}=i;if(!s&&!a&&!r&&!h)return null;if(h){if(n.startsWith("saml."))return o.SAMLAuthCredential._create(n,h);return o.OAuthCredential._fromParams({providerId:n,signInMethod:n,pendingToken:h,idToken:r,accessToken:s})}return new o.OAuthProvider(n).credential({idToken:r,accessToken:s,rawNonce:l})}return e instanceof c.FirebaseError?t.credentialFromError(e):t.credentialFromResult(e)}function C(e,t){return t.catch(t=>{throw t instanceof c.FirebaseError&&function(e,t){var i;let n=null===(i=t.customData)||void 0===i?void 0:i._tokenResponse;if((null==t?void 0:t.code)==="auth/multi-factor-auth-required")t.resolver=new I(e,o.getMultiFactorResolver(e,t));else if(n){let e=A(t);e&&(t.credential=e,t.tenantId=n.tenantId||void 0,t.email=n.email||void 0,t.phoneNumber=n.phoneNumber||void 0)}}(e,t),t}).then(e=>{let t=e.operationType,i=e.user;return{operationType:t,credential:A(e),additionalUserInfo:o.getAdditionalUserInfo(e),user:O.getOrCreate(i)}})}async function _(e,t){let i=await t;return{verificationId:i.verificationId,confirm:t=>C(e,i.confirm(t))}}class I{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return C(this.auth.unwrap(),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this._delegate=e,this.multiFactor=o.multiFactor(e)}static getOrCreate(e){return O.USER_MAP.has(e)||O.USER_MAP.set(e,new O(e)),O.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return C(this.auth,o.linkWithCredential(this._delegate,e))}async linkWithPhoneNumber(e,t){return _(this.auth,o.linkWithPhoneNumber(this._delegate,e,t))}async linkWithPopup(e){return C(this.auth,o.linkWithPopup(this._delegate,e,S))}async linkWithRedirect(e){return await E(o._castAuth(this.auth)),o.linkWithRedirect(this._delegate,e,S)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return C(this.auth,o.reauthenticateWithCredential(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return _(this.auth,o.reauthenticateWithPhoneNumber(this._delegate,e,t))}reauthenticateWithPopup(e){return C(this.auth,o.reauthenticateWithPopup(this._delegate,e,S))}async reauthenticateWithRedirect(e){return await E(o._castAuth(this.auth)),o.reauthenticateWithRedirect(this._delegate,e,S)}sendEmailVerification(e){return o.sendEmailVerification(this._delegate,e)}async unlink(e){return await o.unlink(this._delegate,e),this}updateEmail(e){return o.updateEmail(this._delegate,e)}updatePassword(e){return o.updatePassword(this._delegate,e)}updatePhoneNumber(e){return o.updatePhoneNumber(this._delegate,e)}updateProfile(e){return o.updateProfile(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return o.verifyBeforeUpdateEmail(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}O.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P=o._assert;class M{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=e.options;P(i,"invalid-api-key",{appName:e.name}),P(i,"invalid-api-key",{appName:e.name});let n="undefined"!=typeof window?S:void 0;this._delegate=t.initialize({options:{persistence:function(e,t){let i=function(e,t){let i=w();if(!i)return[];let n=o._persistenceKeyName(x,e,t);switch(i.getItem(n)){case y.NONE:return[o.inMemoryPersistence];case y.LOCAL:return[o.indexedDBLocalPersistence,o.browserSessionPersistence];case y.SESSION:return[o.browserSessionPersistence];default:return[]}}(e,t);if("undefined"==typeof self||i.includes(o.indexedDBLocalPersistence)||i.push(o.indexedDBLocalPersistence),"undefined"!=typeof window)for(let e of[o.browserLocalPersistence,o.browserSessionPersistence])i.includes(e)||i.push(e);return i.includes(o.inMemoryPersistence)||i.push(o.inMemoryPersistence),i}(i,e.name),popupRedirectResolver:n}}),this._delegate._updateErrorMap(o.debugErrorMap),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?O.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){o.connectAuthEmulator(this._delegate,e,t)}applyActionCode(e){return o.applyActionCode(this._delegate,e)}checkActionCode(e){return o.checkActionCode(this._delegate,e)}confirmPasswordReset(e,t){return o.confirmPasswordReset(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return C(this._delegate,o.createUserWithEmailAndPassword(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return o.fetchSignInMethodsForEmail(this._delegate,e)}isSignInWithEmailLink(e){return o.isSignInWithEmailLink(this._delegate,e)}async getRedirectResult(){P(g(),this._delegate,"operation-not-supported-in-this-environment");let e=await o.getRedirectResult(this._delegate,S);return e?C(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){o.addFrameworkForLogging(this._delegate,e)}onAuthStateChanged(e,t,i){let{next:n,error:r,complete:s}=R(e,t,i);return this._delegate.onAuthStateChanged(n,r,s)}onIdTokenChanged(e,t,i){let{next:n,error:r,complete:s}=R(e,t,i);return this._delegate.onIdTokenChanged(n,r,s)}sendSignInLinkToEmail(e,t){return o.sendSignInLinkToEmail(this._delegate,e,t)}sendPasswordResetEmail(e,t){return o.sendPasswordResetEmail(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(!function(e,t){if(b(Object.values(y).includes(t),e,"invalid-persistence-type"),(0,c.isReactNative)()){b(t!==y.SESSION,e,"unsupported-persistence-type");return}if((0,c.isNode)()){b(t===y.NONE,e,"unsupported-persistence-type");return}if(p()){b(t===y.NONE||t===y.LOCAL&&(0,c.isIndexedDBAvailable)(),e,"unsupported-persistence-type");return}b(t===y.NONE||f(),e,"unsupported-persistence-type")}(this._delegate,e),e){case y.SESSION:t=o.browserSessionPersistence;break;case y.LOCAL:t=await o._getInstance(o.indexedDBLocalPersistence)._isAvailable()?o.indexedDBLocalPersistence:o.browserLocalPersistence;break;case y.NONE:t=o.inMemoryPersistence;break;default:return o._fail("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return C(this._delegate,o.signInAnonymously(this._delegate))}signInWithCredential(e){return C(this._delegate,o.signInWithCredential(this._delegate,e))}signInWithCustomToken(e){return C(this._delegate,o.signInWithCustomToken(this._delegate,e))}signInWithEmailAndPassword(e,t){return C(this._delegate,o.signInWithEmailAndPassword(this._delegate,e,t))}signInWithEmailLink(e,t){return C(this._delegate,o.signInWithEmailLink(this._delegate,e,t))}signInWithPhoneNumber(e,t){return _(this._delegate,o.signInWithPhoneNumber(this._delegate,e,t))}async signInWithPopup(e){return P(g(),this._delegate,"operation-not-supported-in-this-environment"),C(this._delegate,o.signInWithPopup(this._delegate,e,S))}async signInWithRedirect(e){return P(g(),this._delegate,"operation-not-supported-in-this-environment"),await E(this._delegate),o.signInWithRedirect(this._delegate,e,S)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return o.verifyPasswordResetCode(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function R(e,t,i){let n=e;"function"!=typeof e&&({next:n,error:t,complete:i}=e);let r=n;return{next:e=>r(e&&O.getOrCreate(e)),error:t,complete:i}}M.Persistence=y;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(){this.providerId="phone",this._delegate=new o.PhoneAuthProvider((0,a.default).auth().unwrap())}static credential(e,t){return o.PhoneAuthProvider.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}L.PHONE_SIGN_IN_METHOD=o.PhoneAuthProvider.PHONE_SIGN_IN_METHOD,L.PROVIDER_ID=o.PhoneAuthProvider.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D=o._assert;(n=a.default).INTERNAL.registerComponent(new(0,h.Component)("auth-compat",e=>new M(e.getProvider("app-compat").getImmediate(),e.getProvider("auth")),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:o.ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:o.ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider:o.EmailAuthProvider,FacebookAuthProvider:o.FacebookAuthProvider,GithubAuthProvider:o.GithubAuthProvider,GoogleAuthProvider:o.GoogleAuthProvider,OAuthProvider:o.OAuthProvider,SAMLAuthProvider:o.SAMLAuthProvider,PhoneAuthProvider:L,PhoneMultiFactorGenerator:o.PhoneMultiFactorGenerator,RecaptchaVerifier:class{constructor(e,t,i=(0,a.default).app()){var n;D(null===(n=i.options)||void 0===n?void 0:n.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new o.RecaptchaVerifier(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:o.TwitterAuthProvider,Auth:M,AuthCredential:o.AuthCredential,Error:c.FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.5.14")},{"@firebase/app-compat":"9Npvu","@firebase/auth/internal":"geiDV","@firebase/component":"dVjVM","@firebase/util":"j1gcd","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],geiDV:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i),n.export(i,"ActionCodeOperation",()=>r.A),n.export(i,"ActionCodeURL",()=>r.ai),n.export(i,"AuthCredential",()=>r.L),n.export(i,"AuthErrorCodes",()=>r.I),n.export(i,"AuthImpl",()=>r.aL),n.export(i,"AuthPopup",()=>r.aO),n.export(i,"EmailAuthCredential",()=>r.M),n.export(i,"EmailAuthProvider",()=>r.V),n.export(i,"FacebookAuthProvider",()=>r.W),n.export(i,"FactorId",()=>r.F),n.export(i,"FetchProvider",()=>r.aP),n.export(i,"GithubAuthProvider",()=>r.Y),n.export(i,"GoogleAuthProvider",()=>r.X),n.export(i,"OAuthCredential",()=>r.N),n.export(i,"OAuthProvider",()=>r.Z),n.export(i,"OperationType",()=>r.O),n.export(i,"PhoneAuthCredential",()=>r.Q),n.export(i,"PhoneAuthProvider",()=>r.P),n.export(i,"PhoneMultiFactorGenerator",()=>r.m),n.export(i,"ProviderId",()=>r.p),n.export(i,"RecaptchaVerifier",()=>r.R),n.export(i,"SAMLAuthCredential",()=>r.aQ),n.export(i,"SAMLAuthProvider",()=>r._),n.export(i,"SignInMethod",()=>r.S),n.export(i,"TotpMultiFactorGenerator",()=>r.T),n.export(i,"TotpSecret",()=>r.n),n.export(i,"TwitterAuthProvider",()=>r.$),n.export(i,"UserImpl",()=>r.aK),n.export(i,"_assert",()=>r.aC),n.export(i,"_castAuth",()=>r.aJ),n.export(i,"_fail",()=>r.ax),n.export(i,"_generateEventId",()=>r.aN),n.export(i,"_getClientVersion",()=>r.aM),n.export(i,"_getInstance",()=>r.aE),n.export(i,"_getRedirectResult",()=>r.aG),n.export(i,"_overrideRedirectResult",()=>r.aH),n.export(i,"_persistenceKeyName",()=>r.aF),n.export(i,"applyActionCode",()=>r.a7),n.export(i,"beforeAuthStateChanged",()=>r.x),n.export(i,"browserLocalPersistence",()=>r.b),n.export(i,"browserPopupRedirectResolver",()=>r.k),n.export(i,"browserSessionPersistence",()=>r.a),n.export(i,"checkActionCode",()=>r.a8),n.export(i,"confirmPasswordReset",()=>r.a6),n.export(i,"connectAuthEmulator",()=>r.K),n.export(i,"createUserWithEmailAndPassword",()=>r.aa),n.export(i,"debugErrorMap",()=>r.G),n.export(i,"deleteUser",()=>r.E),n.export(i,"fetchSignInMethodsForEmail",()=>r.af),n.export(i,"getAdditionalUserInfo",()=>r.aq),n.export(i,"getAuth",()=>r.o),n.export(i,"getIdToken",()=>r.an),n.export(i,"getIdTokenResult",()=>r.ao),n.export(i,"getMultiFactorResolver",()=>r.as),n.export(i,"getRedirectResult",()=>r.j),n.export(i,"inMemoryPersistence",()=>r.U),n.export(i,"indexedDBLocalPersistence",()=>r.i),n.export(i,"initializeAuth",()=>r.J),n.export(i,"initializeRecaptchaConfig",()=>r.t),n.export(i,"isSignInWithEmailLink",()=>r.ad),n.export(i,"linkWithCredential",()=>r.a2),n.export(i,"linkWithPhoneNumber",()=>r.l),n.export(i,"linkWithPopup",()=>r.d),n.export(i,"linkWithRedirect",()=>r.g),n.export(i,"multiFactor",()=>r.at),n.export(i,"onAuthStateChanged",()=>r.y),n.export(i,"onIdTokenChanged",()=>r.w),n.export(i,"parseActionCodeURL",()=>r.aj),n.export(i,"prodErrorMap",()=>r.H),n.export(i,"reauthenticateWithCredential",()=>r.a3),n.export(i,"reauthenticateWithPhoneNumber",()=>r.r),n.export(i,"reauthenticateWithPopup",()=>r.e),n.export(i,"reauthenticateWithRedirect",()=>r.h),n.export(i,"reload",()=>r.ar),n.export(i,"revokeAccessToken",()=>r.D),n.export(i,"sendEmailVerification",()=>r.ag),n.export(i,"sendPasswordResetEmail",()=>r.a5),n.export(i,"sendSignInLinkToEmail",()=>r.ac),n.export(i,"setPersistence",()=>r.q),n.export(i,"signInAnonymously",()=>r.a0),n.export(i,"signInWithCredential",()=>r.a1),n.export(i,"signInWithCustomToken",()=>r.a4),n.export(i,"signInWithEmailAndPassword",()=>r.ab),n.export(i,"signInWithEmailLink",()=>r.ae),n.export(i,"signInWithPhoneNumber",()=>r.s),n.export(i,"signInWithPopup",()=>r.c),n.export(i,"signInWithRedirect",()=>r.f),n.export(i,"signOut",()=>r.C),n.export(i,"unlink",()=>r.ap),n.export(i,"updateCurrentUser",()=>r.B),n.export(i,"updateEmail",()=>r.al),n.export(i,"updatePassword",()=>r.am),n.export(i,"updatePhoneNumber",()=>r.u),n.export(i,"updateProfile",()=>r.ak),n.export(i,"useDeviceLanguage",()=>r.z),n.export(i,"validatePassword",()=>r.v),n.export(i,"verifyBeforeUpdateEmail",()=>r.ah),n.export(i,"verifyPasswordResetCode",()=>r.a9),n.export(i,"addFrameworkForLogging",()=>y),n.export(i,"cordovaPopupRedirectResolver",()=>m);var r=e("./index-68602d24.js"),s=e("@firebase/util");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a(){return window}async function o(e,t,i){var n;let{BuildInfo:s}=a();(0,r.au)(t.sessionId,"AuthEvent did not contain a session ID");let o=await l(t.sessionId),h={};return(0,r.av)()?h.ibi=s.packageName:(0,r.aw)()?h.apn=s.packageName:(0,r.ax)(e,"operation-not-supported-in-this-environment"),s.displayName&&(h.appDisplayName=s.displayName),h.sessionId=o,(0,r.ay)(e,i,t.type,void 0,null!==(n=t.eventId)&&void 0!==n?n:void 0,h)}async function h(e){let{BuildInfo:t}=a(),i={};(0,r.av)()?i.iosBundleId=t.packageName:(0,r.aw)()?i.androidPackageName=t.packageName:(0,r.ax)(e,"operation-not-supported-in-this-environment"),await (0,r.az)(e,i)}async function c(e,t,i){let{cordova:n}=a(),s=()=>{};try{await new Promise((a,o)=>{let h=null;function c(){var e;a();let t=null===(e=n.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==i?void 0:i.close)&&i.close()}function l(){h||(h=window.setTimeout(()=>{o((0,r.aB)(e,"redirect-cancelled-by-user"))},2e3))}function u(){(null==document?void 0:document.visibilityState)==="visible"&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",u,!1),s=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),h&&window.clearTimeout(h)}})}finally{s()}}async function l(e){let t=function(e){if((0,r.au)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);let t=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}e("@firebase/app"),e("@firebase/logger"),e("tslib"),e("@firebase/component");class u extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function d(e){let t=await f()._get(p(e));return t&&await f()._remove(p(e)),t}function f(){return(0,r.aE)(r.b)}function p(e){return(0,r.aF)("authEvent",e.config.apiKey,e.name)}function g(e){if(!(null==e?void 0:e.includes("?")))return{};let[t,...i]=e.split("?");return(0,s.querystringDecode)(i.join("?"))}let m=class{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}async _initialize(e){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new u(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){(0,r.ax)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,n){!function(e){var t,i,n,s,o,h,c,l,u,d;let f=a();(0,r.aC)("function"==typeof(null===(t=null==f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(void 0!==(null===(i=null==f?void 0:f.BuildInfo)||void 0===i?void 0:i.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(o=null===(s=null===(n=null==f?void 0:f.cordova)||void 0===n?void 0:n.plugins)||void 0===s?void 0:s.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(l=null===(c=null===(h=null==f?void 0:f.cordova)||void 0===h?void 0:h.plugins)||void 0===c?void 0:c.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(d=null===(u=null==f?void 0:f.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);let s=await this._initialize(e);await s.initialized(),s.resetRedirect(),(0,r.aI)(),await this._originValidation(e);let h=function(e,t,i=null){return{type:t,eventId:i,urlResponse:null,sessionId:function(){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){let i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}(),postBody:null,tenantId:e.tenantId,error:(0,r.aB)(e,"no-auth-event")}}(e,i,n);await f()._set(p(e),h);let l=await o(e,h,t);return c(e,s,await function(e){let{cordova:t}=a();return new Promise(i=>{t.plugins.browsertab.isAvailable(n=>{let s=null;n?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,(0,r.aA)()?"_blank":"_system","location=yes"),i(s)})})}(l))}_isIframeWebStorageSupported(e,t){throw Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:n,BuildInfo:s}=a(),o=setTimeout(async()=>{await d(e),t.onEvent(v())},500),h=async i=>{clearTimeout(o);let n=await d(e),s=null;n&&(null==i?void 0:i.url)&&(s=function(e,t){var i,n;let s=function(e){let t=g(e),i=t.link?decodeURIComponent(t.link):void 0,n=g(i).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return g(r).link||r||n||i||e}(t);if(s.includes("/__/auth/callback")){let t=g(s),a=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(n=null===(i=null==a?void 0:a.code)||void 0===i?void 0:i.split("auth/"))||void 0===n?void 0:n[1],h=o?(0,r.aB)(o):null;return h?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}(n,i.url)),t.onEvent(s||v())};void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,h);let c=`${s.packageName.toLowerCase()}://`;a().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&h({url:e}),"function"==typeof n)try{n(e)}catch(e){console.error(e)}}}};function v(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e,t){(0,r.aJ)(e)._logFramework(t)}},{"./index-68602d24.js":"gWuQ9","@firebase/util":"j1gcd","@firebase/app":"hZODh","@firebase/logger":"7RF90",tslib:"3aD9C","@firebase/component":"dVjVM","@parcel/transformer-js/src/esmodule-helpers.js":"2SoND"}],a0qnr:[function(e,t,i){!function(){var e=window.CustomEvent;function i(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function r(e){return!!(e&&e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,i=!1,n=(function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}).bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";i|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(n,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}e&&"object"!=typeof e||((e=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)};if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var i=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(i)}};var a={};if(a.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"},a.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],n=null;try{n=i.cssRules}catch(e){}if(n)for(var r=0;r<n.length;++r){var s=n[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(a&&function(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1}(a,e)){var o=s.style.getPropertyValue("top"),h=s.style.getPropertyValue("bottom");if(o&&"auto"!==o||h&&"auto"!==h)return!0}}}return!1},a.needsCentering=function(e){return"absolute"===window.getComputedStyle(e).position&&("auto"===e.style.top||""===e.style.top)&&("auto"===e.style.bottom||""===e.style.bottom)&&!a.isInlinePositionSetByStylesheet(e)},a.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw Error("Failed to register dialog: The element is not a dialog.");new s(e)},a.registerDialog=function(e){e.showModal||a.forceRegisterDialog(e)},a.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var i=[];t.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n)t instanceof Element&&("dialog"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll("dialog")))}),i.length&&e(i)}))},a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t);var n=this.pendingDialogStack[0];n?(n.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=i(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var i=new e("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(i)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var o=document.createElement("form");if(o.setAttribute("method","dialog"),"dialog"!==o.method){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var c=h.get;h.get=function(){return r(this)?"dialog":c.call(this)};var l=h.set;h.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):l.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",function(e){if(a.formSubmitter=null,a.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&r(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if(!("input"===t.localName&&"image"===t.type))return;a.useValue=e.offsetX+","+e.offsetY}i(t)&&(a.formSubmitter=t)}}},!1);var u=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!r(this))return u.call(this);var e=i(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(r(t)){e.preventDefault();var n=i(t);if(n){var s=a.formSubmitter;s&&s.form===t?n.close(a.useValue||s.value):n.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"==typeof t.exports?t.exports=a:window.dialogPolyfill=a}()},{}],fenpL:[function(e,t,i){/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(n=function(){var e=[],t=[],i="mdlComponentConfigInternal_";function n(t,i){for(var n=0;n<e.length;n++)if(e[n].className===t)return void 0!==i&&(e[n]=i),e[n];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return -1!==r(e).indexOf(t)}function a(e,t,i){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:i});var n=document.createEvent("Events");return n.initEvent(e,t,i),n}function o(t,i){if(void 0===t&&void 0===i)for(var r=0;r<e.length;r++)o(e[r].className,e[r].cssClass);else{if(void 0===i){var s=n(t);s&&(i=s.cssClass)}for(var a=document.querySelectorAll("."+i),c=0;c<a.length;c++)h(a[c],t)}}function h(o,h){if(!("object"==typeof o&&o instanceof Element))throw Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(c),!c.defaultPrevented){var l=r(o),u=[];if(h)s(o,h)||u.push(n(h));else{var d=o.classList;e.forEach(function(e){d.contains(e.cssClass)&&-1===u.indexOf(e)&&!s(o,e.className)&&u.push(e)})}for(var f,p=0,g=u.length;p<g;p++){if(f=u[p]){l.push(f.className),o.setAttribute("data-upgraded",l.join(","));var m=new f.classConstructor(o);m[i]=f,t.push(m);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=m)}else throw Error("Unable to find a registered component for the given class.");var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function c(e){if(e){var n=t.indexOf(e);t.splice(n,1);var r=e.element_.getAttribute("data-upgraded").split(","),s=r.indexOf(e[i].classAsString);r.splice(s,1),e.element_.setAttribute("data-upgraded",r.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:h,upgradeElements:function e(t){Array.isArray(t)||(t instanceof Element?t=[t]:t=Array.prototype.slice.call(t));for(var i,n=0,r=t.length;n<r;n++)(i=t[n])instanceof HTMLElement&&(h(i),i.children.length>0&&e(i.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var i=n(e);i&&i.callbacks.push(t)},register:function(t){var r=void 0===t.widget&&void 0===t.widget,s=!0;r||(s=t.widget||t.widget);var a={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:s,callbacks:[]};if(e.forEach(function(e){if(e.cssClass===a.cssClass)throw Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===a.className)throw Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(i))throw Error("MDL component classes must not have "+i+" defined as a property.");n(t.classAsString,a)||e.push(a)},downgradeElements:function(e){var i=function(e){t.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var n=0;n<e.length;n++)i(e[n]);else if(e instanceof Node)i(e);else throw Error("Invalid argument provided to downgrade MDL nodes.")}}}()).ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})})},{}],"5EQJC":[function(e,t,i){var n;n=function(e){this.element_=e,this.init()},window.MaterialButton=n,n.prototype.Constant_={},n.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},n.prototype.blurHandler_=function(e){e&&this.element_.blur()},n.prototype.disable=function(){this.element_.disabled=!0},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.element_.disabled=!1},n.prototype.enable=n.prototype.enable,n.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:n,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})},{}],k5ZeA:[function(e,t,i){var n;n=function(e){this.element_=e,this.init()},window.MaterialProgress=n,n.prototype.Constant_={},n.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},n.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},n.prototype.setProgress=n.prototype.setProgress,n.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},n.prototype.setBuffer=n.prototype.setBuffer,n.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})},{}],"8dhF5":[function(e,t,i){var n;n=function(e){this.element_=e,this.init()},window.MaterialSpinner=n,n.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},n.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},n.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[i,n,r],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(i),t.appendChild(n),t.appendChild(r),this.element_.appendChild(t)},n.prototype.createLayer=n.prototype.createLayer,n.prototype.stop=function(){this.element_.classList.remove("is-active")},n.prototype.stop=n.prototype.stop,n.prototype.start=function(){this.element_.classList.add("is-active")},n.prototype.start=n.prototype.start,n.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:n,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})},{}],kNxcX:[function(e,t,i){var n;n=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()},window.MaterialTextfield=n,n.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},n.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},n.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},n.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},n.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.onReset_=function(e){this.updateClasses_()},n.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},n.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},n.prototype.checkDisabled=n.prototype.checkDisabled,n.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},n.prototype.checkFocus=n.prototype.checkFocus,n.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},n.prototype.checkValidity=n.prototype.checkValidity,n.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},n.prototype.checkDirty=n.prototype.checkDirty,n.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},n.prototype.disable=n.prototype.disable,n.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},n.prototype.enable=n.prototype.enable,n.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},n.prototype.change=n.prototype.change,n.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:n,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})},{}],"6v2bg":[function(e,t,i){let{ConfigProcessor:n}=e("1b38e883cd2322cc");t.exports.ConfigManager=class extends n{constructor(){super(),this.client={customClasses:{message:{listeners:{}}},message:{listeners:{}}}}}},{"1b38e883cd2322cc":"k5oag"}],k5oag:[function(e,t,i){let{Logger:n,sc:r}=e("15f3555561ca9b15");t.exports.ConfigProcessor=class{constructor(){this.avoidLog=!1}get(e,t){let i=void 0!==t&&t,s=e.split("/");if(2>s.length)return this.avoidLog||n.error("Path level is too low:",e),i;let a=this[s[0]]||{};for(let t=1;t<s.length;t++){if(!r.hasOwn(a,s[t])){this.avoidLog||n.error("Configuration level "+t+' > "'+s[t]+'" not defined: '+e),a=i;break}a=a[s[t]]}return a}getWithoutLogs(e,t=!1){this.avoidLog=!0;let i=this.get(e,t);return this.avoidLog=!1,i}}},{"15f3555561ca9b15":"3lwy5"}],CtFH5:[function(e,t,i){t.exports={game:{passwordConfirmationNotMatch:"Password and confirmation does not match.",pleaseReadTermsAndConditions:"Please read and accept the terms and conditions and continue.",sessionEnded:"Your session ended, please login again.",errors:{missingClasses:"None configured classes available.",missingPlayerData:"Missing player data.",joiningRoom:'There was an error while joining the room "%joinRoomName", please try again later.',joiningFeatureRoom:'There was an error while joining the feature room "%joinRoomName".',reconnectClient:"Reconnect Game Client error.",sessionEnded:"Your session ended, please login again.",connectionLost:"Connection lost, please login again.",serverDown:"Server is offline."},pleaseSelectScene:"Please select a Scene"}}},{}],bqEy7:[function(e,t,i){let{sc:n}=e("a70c9540271e3b88");t.exports.GameDom=new class{constructor(){this.styleSuffix={width:"px",height:"px",top:"px",bottom:"px",left:"px",right:"px"}}getWindow(){return window}getDocument(){return window.document}getElement(e,t=!1){return(t||document).querySelector(e)}getElements(e,t){return(t||document).querySelectorAll(e)}emptyElement(e,t=!1){let i=this.getElement(e,t);i&&(i.innerHTML="")}appendToElement(e,t){let i=this.getElement(e);if(!i||!t)return!1;let n=document.createElement("template");n.innerHTML=t;for(let e=0;e<n.content.childNodes.length;e++)i.appendChild(n.content.childNodes[e]);return i}updateContent(e,t){let i=this.getElement(e);return!!i&&(i.innerHTML=t,i)}removeElement(e){this.getElement(e).remove()}createElement(e,t=""){let i=document.createElement(e);return""!==t&&(i.id=t),i}setElementStyles(e,t){if(!e||!t)return!1;for(let i of Object.keys(t)){let r=t[i],s=n.get(this.styleSuffix,i,"");""!==s&&(r+=s),e.style[i]=r}}createElementWithStyles(e,t="",i={}){let n=this.createElement(e,t);return this.setElementStyles(n,i),n}activeElement(){return document.activeElement}insideInput(){return"input"===this.activeElement().tagName.toLowerCase()}getJSON(e,t){let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.onload=()=>{let e=i.status;200===e?t(null,i.response):t(e)},i.send()}alertReload(e){return alert(e),this.getWindow().location.reload(),!1}}},{a70c9540271e3b88:"3lwy5"}],"7ASKi":[function(e,t,i){let{PluginInterface:n}=e("8f2a44c89127a9b3"),{Npc1:r}=e("66950fed6ab0bf91");t.exports.ClientPlugin=class extends n{setup(e){this.events=e.events,this.events.on("reldens.beforeJoinGame",e=>{this.defineCustomClasses(e)})}defineCustomClasses(e){let t=e.gameManager.config.client.customClasses;t.objects||(t.objects={}),t.objects.people_town_1=r}}},{"8f2a44c89127a9b3":"fC3To","66950fed6ab0bf91":"gVHJK"}],gVHJK:[function(e,t,i){let{AnimationEngine:n}=e("f305cb70a71f8491");t.exports.Npc1=class extends n{constructor(e,t,i){super(e,t,i)}}},{f305cb70a71f8491:"55aYT"}]},["bHWOE"],"bHWOE","parcelRequire0bd7");